(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var uy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F_={exports:{}},Fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pD;function vU(){if(pD)return Fd;pD=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:o,ref:i!==void 0?i:null,props:s}}return Fd.Fragment=e,Fd.jsx=t,Fd.jsxs=t,Fd}var mD;function wU(){return mD||(mD=1,F_.exports=vU()),F_.exports}var le=wU(),V_={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD;function _U(){if(gD)return xt;gD=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(ee){return ee===null||typeof ee!="object"?null:(ee=p&&ee[p]||ee["@@iterator"],typeof ee=="function"?ee:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function E(ee,J,K){this.props=ee,this.context=J,this.refs=_,this.updater=K||y}E.prototype.isReactComponent={},E.prototype.setState=function(ee,J){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,J,"setState")},E.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function b(){}b.prototype=E.prototype;function A(ee,J,K){this.props=ee,this.context=J,this.refs=_,this.updater=K||y}var T=A.prototype=new b;T.constructor=A,w(T,E.prototype),T.isPureReactComponent=!0;var x=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function O(ee,J,K,re,he,ve){return K=ve.ref,{$$typeof:r,type:ee,key:J,ref:K!==void 0?K:null,props:ve}}function P(ee,J){return O(ee.type,J,void 0,void 0,void 0,ee.props)}function C(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function W(ee){var J={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(K){return J[K]})}var $=/\/+/g;function N(ee,J){return typeof ee=="object"&&ee!==null&&ee.key!=null?W(""+ee.key):J.toString(36)}function F(){}function B(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(F,F):(ee.status="pending",ee.then(function(J){ee.status==="pending"&&(ee.status="fulfilled",ee.value=J)},function(J){ee.status==="pending"&&(ee.status="rejected",ee.reason=J)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function ae(ee,J,K,re,he){var ve=typeof ee;(ve==="undefined"||ve==="boolean")&&(ee=null);var ce=!1;if(ee===null)ce=!0;else switch(ve){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(ee.$$typeof){case r:case e:ce=!0;break;case f:return ce=ee._init,ae(ce(ee._payload),J,K,re,he)}}if(ce)return he=he(ee),ce=re===""?"."+N(ee,0):re,x(he)?(K="",ce!=null&&(K=ce.replace($,"$&/")+"/"),ae(he,J,K,"",function(se){return se})):he!=null&&(C(he)&&(he=P(he,K+(he.key==null||ee&&ee.key===he.key?"":(""+he.key).replace($,"$&/")+"/")+ce)),J.push(he)),1;ce=0;var j=re===""?".":re+":";if(x(ee))for(var z=0;z<ee.length;z++)re=ee[z],ve=j+N(re,z),ce+=ae(re,J,K,ve,he);else if(z=g(ee),typeof z=="function")for(ee=z.call(ee),z=0;!(re=ee.next()).done;)re=re.value,ve=j+N(re,z++),ce+=ae(re,J,K,ve,he);else if(ve==="object"){if(typeof ee.then=="function")return ae(B(ee),J,K,re,he);throw J=String(ee),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ce}function Q(ee,J,K){if(ee==null)return ee;var re=[],he=0;return ae(ee,re,"","",function(ve){return J.call(K,ve,he++)}),re}function Y(ee){if(ee._status===-1){var J=ee._result;J=J(),J.then(function(K){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=K)},function(K){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=K)}),ee._status===-1&&(ee._status=0,ee._result=J)}if(ee._status===1)return ee._result.default;throw ee._result}var pe=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function fe(){}return xt.Children={map:Q,forEach:function(ee,J,K){Q(ee,function(){J.apply(this,arguments)},K)},count:function(ee){var J=0;return Q(ee,function(){J++}),J},toArray:function(ee){return Q(ee,function(J){return J})||[]},only:function(ee){if(!C(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},xt.Component=E,xt.Fragment=t,xt.Profiler=i,xt.PureComponent=A,xt.StrictMode=n,xt.Suspense=u,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xt.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return D.H.useMemoCache(ee)}},xt.cache=function(ee){return function(){return ee.apply(null,arguments)}},xt.cloneElement=function(ee,J,K){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var re=w({},ee.props),he=ee.key,ve=void 0;if(J!=null)for(ce in J.ref!==void 0&&(ve=void 0),J.key!==void 0&&(he=""+J.key),J)!M.call(J,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&J.ref===void 0||(re[ce]=J[ce]);var ce=arguments.length-2;if(ce===1)re.children=K;else if(1<ce){for(var j=Array(ce),z=0;z<ce;z++)j[z]=arguments[z+2];re.children=j}return O(ee.type,he,void 0,void 0,ve,re)},xt.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:s,_context:ee},ee},xt.createElement=function(ee,J,K){var re,he={},ve=null;if(J!=null)for(re in J.key!==void 0&&(ve=""+J.key),J)M.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=J[re]);var ce=arguments.length-2;if(ce===1)he.children=K;else if(1<ce){for(var j=Array(ce),z=0;z<ce;z++)j[z]=arguments[z+2];he.children=j}if(ee&&ee.defaultProps)for(re in ce=ee.defaultProps,ce)he[re]===void 0&&(he[re]=ce[re]);return O(ee,ve,void 0,void 0,null,he)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(ee){return{$$typeof:l,render:ee}},xt.isValidElement=C,xt.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:Y}},xt.memo=function(ee,J){return{$$typeof:h,type:ee,compare:J===void 0?null:J}},xt.startTransition=function(ee){var J=D.T,K={};D.T=K;try{var re=ee(),he=D.S;he!==null&&he(K,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(fe,pe)}catch(ve){pe(ve)}finally{D.T=J}},xt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xt.use=function(ee){return D.H.use(ee)},xt.useActionState=function(ee,J,K){return D.H.useActionState(ee,J,K)},xt.useCallback=function(ee,J){return D.H.useCallback(ee,J)},xt.useContext=function(ee){return D.H.useContext(ee)},xt.useDebugValue=function(){},xt.useDeferredValue=function(ee,J){return D.H.useDeferredValue(ee,J)},xt.useEffect=function(ee,J,K){var re=D.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(ee,J)},xt.useId=function(){return D.H.useId()},xt.useImperativeHandle=function(ee,J,K){return D.H.useImperativeHandle(ee,J,K)},xt.useInsertionEffect=function(ee,J){return D.H.useInsertionEffect(ee,J)},xt.useLayoutEffect=function(ee,J){return D.H.useLayoutEffect(ee,J)},xt.useMemo=function(ee,J){return D.H.useMemo(ee,J)},xt.useOptimistic=function(ee,J){return D.H.useOptimistic(ee,J)},xt.useReducer=function(ee,J,K){return D.H.useReducer(ee,J,K)},xt.useRef=function(ee){return D.H.useRef(ee)},xt.useState=function(ee){return D.H.useState(ee)},xt.useSyncExternalStore=function(ee,J,K){return D.H.useSyncExternalStore(ee,J,K)},xt.useTransition=function(){return D.H.useTransition()},xt.version="19.1.0",xt}var yD;function jv(){return yD||(yD=1,V_.exports=_U()),V_.exports}var ge=jv();function Cr(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var bU=typeof Symbol=="function"&&Symbol.observable||"@@observable",vD=bU,U_=()=>Math.random().toString(36).substring(7).split("").join("."),SU={INIT:`@@redux/INIT${U_()}`,REPLACE:`@@redux/REPLACE${U_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${U_()}`},N0=SU;function qT(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function J4(r,e,t){if(typeof r!="function")throw new Error(Cr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Cr(1));return t(J4)(r,e)}let n=r,i=e,s=new Map,o=s,l=0,u=!1;function h(){o===s&&(o=new Map,s.forEach((E,b)=>{o.set(b,E)}))}function f(){if(u)throw new Error(Cr(3));return i}function p(E){if(typeof E!="function")throw new Error(Cr(4));if(u)throw new Error(Cr(5));let b=!0;h();const A=l++;return o.set(A,E),function(){if(b){if(u)throw new Error(Cr(6));b=!1,h(),o.delete(A),s=null}}}function g(E){if(!qT(E))throw new Error(Cr(7));if(typeof E.type>"u")throw new Error(Cr(8));if(typeof E.type!="string")throw new Error(Cr(17));if(u)throw new Error(Cr(9));try{u=!0,i=n(i,E)}finally{u=!1}return(s=o).forEach(A=>{A()}),E}function y(E){if(typeof E!="function")throw new Error(Cr(10));n=E,g({type:N0.REPLACE})}function w(){const E=p;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Cr(11));function A(){const x=b;x.next&&x.next(f())}return A(),{unsubscribe:E(A)}},[vD](){return this}}}return g({type:N0.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:y,[vD]:w}}function EU(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:N0.INIT})>"u")throw new Error(Cr(12));if(typeof t(void 0,{type:N0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function xU(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof r[o]=="function"&&(t[o]=r[o])}const n=Object.keys(t);let i;try{EU(t)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const h={};for(let f=0;f<n.length;f++){const p=n[f],g=t[p],y=o[p],w=g(y,l);if(typeof w>"u")throw l&&l.type,new Error(Cr(14));h[p]=w,u=u||w!==y}return u=u||n.length!==Object.keys(o).length,u?h:o}}function M0(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function TU(...r){return e=>(t,n)=>{const i=e(t,n);let s=()=>{throw new Error(Cr(15))};const o={getState:i.getState,dispatch:(u,...h)=>s(u,...h)},l=r.map(u=>u(o));return s=M0(...l)(i.dispatch),{...i,dispatch:s}}}function AU(r){return qT(r)&&"type"in r&&typeof r.type=="string"}var e6=Symbol.for("immer-nothing"),wD=Symbol.for("immer-draftable"),Yi=Symbol.for("immer-state");function Ps(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Zh=Object.getPrototypeOf;function oc(r){return!!r&&!!r[Yi]}function Ta(r){return r?t6(r)||Array.isArray(r)||!!r[wD]||!!r.constructor?.[wD]||qv(r)||Wv(r):!1}var CU=Object.prototype.constructor.toString();function t6(r){if(!r||typeof r!="object")return!1;const e=Zh(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===CU}function P0(r,e){Hv(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function Hv(r){const e=r[Yi];return e?e.type_:Array.isArray(r)?1:qv(r)?2:Wv(r)?3:0}function BE(r,e){return Hv(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function n6(r,e,t){const n=Hv(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function RU(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function qv(r){return r instanceof Map}function Wv(r){return r instanceof Set}function Uu(r){return r.copy_||r.base_}function FE(r,e){if(qv(r))return new Map(r);if(Wv(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=t6(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Yi];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[o]})}return Object.create(Zh(r),n)}else{const n=Zh(r);if(n!==null&&t)return{...r};const i=Object.create(n);return Object.assign(i,r)}}function WT(r,e=!1){return Gv(r)||oc(r)||!Ta(r)||(Hv(r)>1&&(r.set=r.add=r.clear=r.delete=kU),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>WT(n,!0))),r}function kU(){Ps(2)}function Gv(r){return Object.isFrozen(r)}var DU={};function ac(r){const e=DU[r];return e||Ps(0,r),e}var Lp;function r6(){return Lp}function IU(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _D(r,e){e&&(ac("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function VE(r){UE(r),r.drafts_.forEach(OU),r.drafts_=null}function UE(r){r===Lp&&(Lp=r.parent_)}function bD(r){return Lp=IU(Lp,r)}function OU(r){const e=r[Yi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function SD(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Yi].modified_&&(VE(e),Ps(4)),Ta(r)&&(r=L0(e,r),e.parent_||B0(e,r)),e.patches_&&ac("Patches").generateReplacementPatches_(t[Yi].base_,r,e.patches_,e.inversePatches_)):r=L0(e,t,[]),VE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==e6?r:void 0}function L0(r,e,t){if(Gv(e))return e;const n=e[Yi];if(!n)return P0(e,(i,s)=>ED(r,n,e,i,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return B0(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),P0(s,(l,u)=>ED(r,n,i,l,u,t,o)),B0(r,i,!1),t&&r.patches_&&ac("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function ED(r,e,t,n,i,s,o){if(oc(i)){const l=s&&e&&e.type_!==3&&!BE(e.assigned_,n)?s.concat(n):void 0,u=L0(r,i,l);if(n6(t,n,u),oc(u))r.canAutoFreeze_=!1;else return}else o&&t.add(i);if(Ta(i)&&!Gv(i)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;L0(r,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&B0(r,i)}}function B0(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&WT(e,t)}function NU(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:r6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=GT;t&&(i=[n],s=Bp);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=o,l}var GT={get(r,e){if(e===Yi)return r;const t=Uu(r);if(!BE(t,e))return MU(r,t,e);const n=t[e];return r.finalized_||!Ta(n)?n:n===z_(r.base_,e)?(j_(r),r.copy_[e]=jE(n,r)):n},has(r,e){return e in Uu(r)},ownKeys(r){return Reflect.ownKeys(Uu(r))},set(r,e,t){const n=i6(Uu(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=z_(Uu(r),e),s=i?.[Yi];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(RU(t,i)&&(t!==void 0||BE(r.base_,e)))return!0;j_(r),zE(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return z_(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,j_(r),zE(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Uu(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Ps(11)},getPrototypeOf(r){return Zh(r.base_)},setPrototypeOf(){Ps(12)}},Bp={};P0(GT,(r,e)=>{Bp[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bp.deleteProperty=function(r,e){return Bp.set.call(this,r,e,void 0)};Bp.set=function(r,e,t){return GT.set.call(this,r[0],e,t,r[0])};function z_(r,e){const t=r[Yi];return(t?Uu(t):r)[e]}function MU(r,e,t){const n=i6(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function i6(r,e){if(!(e in r))return;let t=Zh(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Zh(t)}}function zE(r){r.modified_||(r.modified_=!0,r.parent_&&zE(r.parent_))}function j_(r){r.copy_||(r.copy_=FE(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var PU=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(u=s,...h){return o.produce(u,f=>t.call(this,f,...h))}}typeof t!="function"&&Ps(6),n!==void 0&&typeof n!="function"&&Ps(7);let i;if(Ta(e)){const s=bD(this),o=jE(e,void 0);let l=!0;try{i=t(o),l=!1}finally{l?VE(s):UE(s)}return _D(s,n),SD(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===e6&&(i=void 0),this.autoFreeze_&&WT(i,!0),n){const s=[],o=[];ac("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else Ps(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let n,i;return[this.produce(e,t,(o,l)=>{n=o,i=l}),n,i]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Ta(r)||Ps(8),oc(r)&&(r=LU(r));const e=bD(this),t=jE(r,void 0);return t[Yi].isManual_=!0,UE(e),t}finishDraft(r,e){const t=r&&r[Yi];(!t||!t.isManual_)&&Ps(9);const{scope_:n}=t;return _D(n,e),SD(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=ac("Patches").applyPatches_;return oc(r)?n(r,e):this.produce(r,i=>n(i,e))}};function jE(r,e){const t=qv(r)?ac("MapSet").proxyMap_(r,e):Wv(r)?ac("MapSet").proxySet_(r,e):NU(r,e);return(e?e.scope_:r6()).drafts_.push(t),t}function LU(r){return oc(r)||Ps(10,r),s6(r)}function s6(r){if(!Ta(r)||Gv(r))return r;const e=r[Yi];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=FE(r,e.scope_.immer_.useStrictShallowCopy_)}else t=FE(r,!0);return P0(t,(n,i)=>{n6(t,n,s6(i))}),e&&(e.finalized_=!1),t}var Xi=new PU,o6=Xi.produce;Xi.produceWithPatches.bind(Xi);Xi.setAutoFreeze.bind(Xi);Xi.setUseStrictShallowCopy.bind(Xi);Xi.applyPatches.bind(Xi);Xi.createDraft.bind(Xi);Xi.finishDraft.bind(Xi);function a6(r){return({dispatch:t,getState:n})=>i=>s=>typeof s=="function"?s(t,n,r):i(s)}var BU=a6(),FU=a6,VU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?M0:M0.apply(null,arguments)};function xD(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(Sa(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>AU(n)&&n.type===r,t}var l6=class np extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,np.prototype)}static get[Symbol.species](){return np}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new np(...e[0].concat(this)):new np(...e.concat(this))}};function TD(r){return Ta(r)?o6(r,()=>{}):r}function cy(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function UU(r){return typeof r=="boolean"}var zU=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new l6;return t&&(UU(t)?o.push(BU):o.push(FU(t.extraArgument))),o},jU="RTK_autoBatch",AD=r=>e=>{setTimeout(e,r)},HU=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,s=!1,o=!1;const l=new Set,u=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:AD(10):r.type==="callback"?r.queueNotification:AD(r.timeout),h=()=>{o=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),g=n.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[jU],s=!i,s&&(o||(o=!0,u(h))),n.dispatch(f)}finally{i=!0}}})},qU=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new l6(r);return n&&i.push(HU(typeof n=="object"?n:void 0)),i};function WU(r){const e=zU(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=r||{};let l;if(typeof t=="function")l=t;else if(qT(t))l=xU(t);else throw new Error(Sa(1));let u;typeof n=="function"?u=n(e):u=e();let h=M0;i&&(h=VU({trace:!1,...typeof i=="object"&&i}));const f=TU(...u),p=qU(f);let g=typeof o=="function"?o(p):p();const y=h(...g);return J4(l,s,y)}function u6(r){const e={},t=[];let n;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Sa(28));if(l in e)throw new Error(Sa(29));return e[l]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return r(i),[e,t,n]}function GU(r){return typeof r=="function"}function KU(r,e){let[t,n,i]=u6(e),s;if(GU(r))s=()=>TD(r());else{const l=TD(r);s=()=>l}function o(l=s(),u){let h=[t[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,p)=>{if(p)if(oc(f)){const y=p(f,u);return y===void 0?f:y}else{if(Ta(f))return o6(f,g=>p(g,u));{const g=p(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return o.getInitialState=s,o}var $U="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CD=(r=21)=>{let e="",t=r;for(;t--;)e+=$U[Math.random()*64|0];return e},YU=Symbol.for("rtk-slice-createasyncthunk");function XU(r,e){return`${r}/${e}`}function QU({creators:r}={}){const e=r?.asyncThunk?.[YU];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(Sa(11));const o=(typeof n.reducers=="function"?n.reducers(e7()):n.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,x){const D=typeof T=="string"?T:T.type;if(!D)throw new Error(Sa(12));if(D in u.sliceCaseReducersByType)throw new Error(Sa(13));return u.sliceCaseReducersByType[D]=x,h},addMatcher(T,x){return u.sliceMatchers.push({matcher:T,reducer:x}),h},exposeAction(T,x){return u.actionCreators[T]=x,h},exposeCaseReducer(T,x){return u.sliceCaseReducersByName[T]=x,h}};l.forEach(T=>{const x=o[T],D={reducerName:T,type:XU(i,T),createNotation:typeof n.reducers=="function"};n7(x)?i7(D,x,h,e):t7(D,x,h)});function f(){const[T={},x=[],D=void 0]=typeof n.extraReducers=="function"?u6(n.extraReducers):[n.extraReducers],M={...T,...u.sliceCaseReducersByType};return KU(n.initialState,O=>{for(let P in M)O.addCase(P,M[P]);for(let P of u.sliceMatchers)O.addMatcher(P.matcher,P.reducer);for(let P of x)O.addMatcher(P.matcher,P.reducer);D&&O.addDefaultCase(D)})}const p=T=>T,g=new Map,y=new WeakMap;let w;function _(T,x){return w||(w=f()),w(T,x)}function E(){return w||(w=f()),w.getInitialState()}function b(T,x=!1){function D(O){let P=O[T];return typeof P>"u"&&x&&(P=cy(y,D,E)),P}function M(O=p){const P=cy(g,x,()=>new WeakMap);return cy(P,O,()=>{const C={};for(const[W,$]of Object.entries(n.selectors??{}))C[W]=ZU($,O,()=>cy(y,O,E),x);return C})}return{reducerPath:T,getSelectors:M,get selectors(){return M(D)},selectSlice:D}}const A={name:i,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...b(s),injectInto(T,{reducerPath:x,...D}={}){const M=x??s;return T.inject({reducerPath:M,reducer:_},D),{...A,...b(M,!0)}}};return A}}function ZU(r,e,t,n){function i(s,...o){let l=e(s);return typeof l>"u"&&n&&(l=t()),r(l,...o)}return i.unwrapped=r,i}var JU=QU();function e7(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function t7({type:r,reducerName:e,createNotation:t},n,i){let s,o;if("reducer"in n){if(t&&!r7(n))throw new Error(Sa(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,o?xD(r,o):xD(r))}function n7(r){return r._reducerDefinitionType==="asyncThunk"}function r7(r){return r._reducerDefinitionType==="reducerWithPrepare"}function i7({type:r,reducerName:e},t,n,i){if(!i)throw new Error(Sa(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:h,options:f}=t,p=i(r,s,f);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),l&&n.addCase(p.pending,l),u&&n.addCase(p.rejected,u),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(e,{fulfilled:o||hy,pending:l||hy,rejected:u||hy,settled:h||hy})}function hy(){}function Sa(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const s7=()=>{};var RD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c6=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},o7=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],o=r[t++],l=r[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=r[t++],o=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},h6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],o=i+1<r.length,l=o?r[i+1]:0,u=i+2<r.length,h=u?r[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;u||(y=64,o||(g=64)),n.push(t[f],t[p],t[g],t[y])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(c6(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):o7(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],l=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const p=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new a7;const g=s<<2|l>>4;if(n.push(g),h!==64){const y=l<<4&240|h>>2;if(n.push(y),p!==64){const w=h<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class a7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l7=function(r){const e=c6(r);return h6.encodeByteArray(e,!0)},F0=function(r){return l7(r).replace(/\./g,"")},f6=function(r){try{return h6.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c7=()=>u7().__FIREBASE_DEFAULTS__,h7=()=>{if(typeof process>"u"||typeof RD>"u")return;const r=RD.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},f7=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&f6(r[1]);return e&&JSON.parse(e)},Kv=()=>{try{return s7()||c7()||h7()||f7()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},d6=r=>Kv()?.emulatorHosts?.[r],d7=r=>{const e=d6(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},p6=()=>Kv()?.config,m6=r=>Kv()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p7=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g6(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m7(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...r};return[F0(JSON.stringify(t)),F0(JSON.stringify(o)),""].join(".")}const wp={};function g7(){const r={prod:[],emulator:[]};for(const e of Object.keys(wp))wp[e]?r.emulator.push(e):r.prod.push(e);return r}function y7(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let kD=!1;function y6(r,e){if(typeof window>"u"||typeof document>"u"||!Rf(window.location.host)||wp[r]===e||wp[r]||kD)return;wp[r]=e;function t(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=g7().prod.length>0;function o(){const g=document.getElementById(n);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{kD=!0,o()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=y7(n),y=t("text"),w=document.getElementById(y)||document.createElement("span"),_=t("learnmore"),E=document.getElementById(_)||document.createElement("a"),b=t("preprendIcon"),A=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;l(T),f(E,_);const x=h();u(A,b),T.append(A,w,E,x),document.body.appendChild(T)}s?(w.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yr())}function w7(){const r=Kv()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b7(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function S7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function E7(){const r=Yr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function x7(){return!w7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T7(){try{return typeof indexedDB=="object"}catch{return!1}}function A7(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C7="FirebaseError";class Pa extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=C7,Object.setPrototypeOf(this,Pa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vm.prototype.create)}}class vm{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?R7(s,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Pa(i,l,n)}}function R7(r,e){return r.replace(k7,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const k7=/\{\$([^}]+)}/g;function D7(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function lc(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],o=e[i];if(DD(s)&&DD(o)){if(!lc(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function DD(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function rp(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ip(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function I7(r,e){const t=new O7(r,e);return t.subscribe.bind(t)}class O7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");N7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=H_),i.error===void 0&&(i.error=H_),i.complete===void 0&&(i.complete=H_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function N7(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function H_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r){return r&&r._delegate?r._delegate:r}class uc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let M7=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new p7;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(L7(e))try{this.getOrInitializeService({instanceIdentifier:zu})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=zu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zu){return this.instances.has(e)}getOptions(e=zu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:P7(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=zu){return this.component?this.component.multipleInstances?e:zu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function P7(r){return r===zu?void 0:r}function L7(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new M7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const F7={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},V7=Mt.INFO,U7={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},z7=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=U7[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class KT{constructor(e){this.name=e,this._logLevel=V7,this._logHandler=z7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?F7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const j7=(r,e)=>e.some(t=>r instanceof t);let ID,OD;function H7(){return ID||(ID=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q7(){return OD||(OD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v6=new WeakMap,HE=new WeakMap,w6=new WeakMap,q_=new WeakMap,$T=new WeakMap;function W7(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",o)},s=()=>{t(Rl(r.result)),i()},o=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&v6.set(t,r)}).catch(()=>{}),$T.set(e,r),e}function G7(r){if(HE.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",o),r.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",o),r.addEventListener("abort",o)});HE.set(r,e)}let qE={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return HE.get(r);if(e==="objectStoreNames")return r.objectStoreNames||w6.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Rl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function K7(r){qE=r(qE)}function $7(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(W_(this),e,...t);return w6.set(n,e.sort?e.sort():[e]),Rl(n)}:q7().includes(r)?function(...e){return r.apply(W_(this),e),Rl(v6.get(this))}:function(...e){return Rl(r.apply(W_(this),e))}}function Y7(r){return typeof r=="function"?$7(r):(r instanceof IDBTransaction&&G7(r),j7(r,H7())?new Proxy(r,qE):r)}function Rl(r){if(r instanceof IDBRequest)return W7(r);if(q_.has(r))return q_.get(r);const e=Y7(r);return e!==r&&(q_.set(r,e),$T.set(e,r)),e}const W_=r=>$T.get(r);function X7(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(r,e),l=Rl(o);return n&&o.addEventListener("upgradeneeded",u=>{n(Rl(o.result),u.oldVersion,u.newVersion,Rl(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const Q7=["get","getKey","getAll","getAllKeys","count"],Z7=["put","add","delete","clear"],G_=new Map;function ND(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(G_.get(e))return G_.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=Z7.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Q7.includes(t)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&u.done]))[0]};return G_.set(e,s),s}K7(r=>({...r,get:(e,t,n)=>ND(e,t)||r.get(e,t,n),has:(e,t)=>!!ND(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ez(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function ez(r){return r.getComponent()?.type==="VERSION"}const WE="@firebase/app",MD="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new KT("@firebase/app"),tz="@firebase/app-compat",nz="@firebase/analytics-compat",rz="@firebase/analytics",iz="@firebase/app-check-compat",sz="@firebase/app-check",oz="@firebase/auth",az="@firebase/auth-compat",lz="@firebase/database",uz="@firebase/data-connect",cz="@firebase/database-compat",hz="@firebase/functions",fz="@firebase/functions-compat",dz="@firebase/installations",pz="@firebase/installations-compat",mz="@firebase/messaging",gz="@firebase/messaging-compat",yz="@firebase/performance",vz="@firebase/performance-compat",wz="@firebase/remote-config",_z="@firebase/remote-config-compat",bz="@firebase/storage",Sz="@firebase/storage-compat",Ez="@firebase/firestore",xz="@firebase/ai",Tz="@firebase/firestore-compat",Az="firebase",Cz="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="[DEFAULT]",Rz={[WE]:"fire-core",[tz]:"fire-core-compat",[rz]:"fire-analytics",[nz]:"fire-analytics-compat",[sz]:"fire-app-check",[iz]:"fire-app-check-compat",[oz]:"fire-auth",[az]:"fire-auth-compat",[lz]:"fire-rtdb",[uz]:"fire-data-connect",[cz]:"fire-rtdb-compat",[hz]:"fire-fn",[fz]:"fire-fn-compat",[dz]:"fire-iid",[pz]:"fire-iid-compat",[mz]:"fire-fcm",[gz]:"fire-fcm-compat",[yz]:"fire-perf",[vz]:"fire-perf-compat",[wz]:"fire-rc",[_z]:"fire-rc-compat",[bz]:"fire-gcs",[Sz]:"fire-gcs-compat",[Ez]:"fire-fst",[Tz]:"fire-fst-compat",[xz]:"fire-vertex","fire-js":"fire-js",[Az]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new Map,kz=new Map,KE=new Map;function PD(r,e){try{r.container.addComponent(e)}catch(t){Aa.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Jh(r){const e=r.name;if(KE.has(e))return Aa.debug(`There were multiple attempts to register component ${e}.`),!1;KE.set(e,r);for(const t of V0.values())PD(t,r);for(const t of kz.values())PD(t,r);return!0}function YT(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function gs(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},kl=new vm("app","Firebase",Dz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new uc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=Cz;function _6(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:GE,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw kl.create("bad-app-name",{appName:String(i)});if(t||(t=p6()),!t)throw kl.create("no-options");const s=V0.get(i);if(s){if(lc(t,s.options)&&lc(n,s.config))return s;throw kl.create("duplicate-app",{appName:i})}const o=new B7(i);for(const u of KE.values())o.addComponent(u);const l=new Iz(t,n,o);return V0.set(i,l),l}function b6(r=GE){const e=V0.get(r);if(!e&&r===GE&&p6())return _6();if(!e)throw kl.create("no-app",{appName:r});return e}function Dl(r,e,t){let n=Rz[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Aa.warn(o.join(" "));return}Jh(new uc(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz="firebase-heartbeat-database",Nz=1,Fp="firebase-heartbeat-store";let K_=null;function S6(){return K_||(K_=X7(Oz,Nz,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fp)}catch(t){console.warn(t)}}}}).catch(r=>{throw kl.create("idb-open",{originalErrorMessage:r.message})})),K_}async function Mz(r){try{const t=(await S6()).transaction(Fp),n=await t.objectStore(Fp).get(E6(r));return await t.done,n}catch(e){if(e instanceof Pa)Aa.warn(e.message);else{const t=kl.create("idb-get",{originalErrorMessage:e?.message});Aa.warn(t.message)}}}async function LD(r,e){try{const n=(await S6()).transaction(Fp,"readwrite");await n.objectStore(Fp).put(e,E6(r)),await n.done}catch(t){if(t instanceof Pa)Aa.warn(t.message);else{const n=kl.create("idb-set",{originalErrorMessage:t?.message});Aa.warn(n.message)}}}function E6(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=1024,Lz=30;class Bz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Vz(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=BD();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>Lz){const i=Uz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Aa.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=BD(),{heartbeatsToSend:t,unsentEntries:n}=Fz(this._heartbeatsCache.heartbeats),i=F0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Aa.warn(e),""}}}function BD(){return new Date().toISOString().substring(0,10)}function Fz(r,e=Pz){const t=[];let n=r.slice();for(const i of r){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),FD(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),FD(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Vz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T7()?A7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Mz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return LD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return LD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function FD(r){return F0(JSON.stringify({version:2,heartbeats:r})).length}function Uz(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zz(r){Jh(new uc("platform-logger",e=>new J7(e),"PRIVATE")),Jh(new uc("heartbeat",e=>new Bz(e),"PRIVATE")),Dl(WE,MD,r),Dl(WE,MD,"esm2020"),Dl("fire-js","")}zz("");var jz="firebase",Hz="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dl(jz,Hz,"app");function x6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qz=x6,T6=new vm("auth","Firebase",x6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=new KT("@firebase/auth");function Wz(r,...e){U0.logLevel<=Mt.WARN&&U0.warn(`Auth (${kf}): ${r}`,...e)}function r0(r,...e){U0.logLevel<=Mt.ERROR&&U0.error(`Auth (${kf}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(r,...e){throw XT(r,...e)}function Co(r,...e){return XT(r,...e)}function A6(r,e,t){const n={...qz(),[e]:t};return new vm("auth","Firebase",n).create(e,{appName:r.name})}function Ea(r){return A6(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function XT(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return T6.create(r,...e)}function mt(r,e,...t){if(!r)throw XT(e,...t)}function wa(r){const e="INTERNAL ASSERTION FAILED: "+r;throw r0(e),new Error(e)}function Ca(r,e){r||wa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(){return typeof self<"u"&&self.location?.href||""}function Gz(){return VD()==="http:"||VD()==="https:"}function VD(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gz()||b7()||"connection"in navigator)?navigator.onLine:!0}function $z(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ca(t>e,"Short delay should be less than long delay!"),this.isMobile=v7()||S7()}get(){return Kz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(r,e){Ca(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qz=new _m(3e4,6e4);function Zl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Jl(r,e,t,n,i={}){return R6(r,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const l=wm({key:r.config.apiKey,...o}).slice(1),u=await r._getAdditionalHeaders();u["Content-Type"]="application/json",r.languageCode&&(u["X-Firebase-Locale"]=r.languageCode);const h={method:e,headers:u,...s};return _7()||(h.referrerPolicy="no-referrer"),r.emulatorConfig&&Rf(r.emulatorConfig.host)&&(h.credentials="include"),C6.fetch()(await k6(r,r.config.apiHost,t,l),h)})}async function R6(r,e,t){r._canInitEmulator=!1;const n={...Yz,...e};try{const i=new Jz(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw fy(r,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw fy(r,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw fy(r,"email-already-in-use",o);if(u==="USER_DISABLED")throw fy(r,"user-disabled",o);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw A6(r,f,h);Vs(r,f)}}catch(i){if(i instanceof Pa)throw i;Vs(r,"network-request-failed",{message:String(i)})}}async function bm(r,e,t,n,i={}){const s=await Jl(r,e,t,n,i);return"mfaPendingCredential"in s&&Vs(r,"multi-factor-auth-required",{_serverResponse:s}),s}async function k6(r,e,t,n){const i=`${e}${t}?${n}`,s=r,o=s.config.emulator?QT(r.config,i):`${r.config.apiScheme}://${i}`;return Xz.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Zz(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jz{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Co(this.auth,"network-request-failed")),Qz.get())})}}function fy(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Co(r,e,n);return i.customData._tokenResponse=t,i}function UD(r){return r!==void 0&&r.enterprise!==void 0}class ej{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Zz(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tj(r,e){return Jl(r,"GET","/v2/recaptchaConfig",Zl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nj(r,e){return Jl(r,"POST","/v1/accounts:delete",e)}async function z0(r,e){return Jl(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rj(r,e=!1){const t=yr(r),n=await t.getIdToken(e),i=ZT(n);mt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:n,authTime:_p($_(i.auth_time)),issuedAtTime:_p($_(i.iat)),expirationTime:_p($_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function $_(r){return Number(r)*1e3}function ZT(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return r0("JWT malformed, contained fewer than 3 sections"),null;try{const i=f6(t);return i?JSON.parse(i):(r0("Failed to decode base64 JWT payload"),null)}catch(i){return r0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zD(r){const e=ZT(r);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Pa&&ij(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function ij({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=_p(this.lastLoginAt),this.creationTime=_p(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(r){const e=r.auth,t=await r.getIdToken(),n=await Vp(r,z0(e,{idToken:t}));mt(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const s=i.providerUserInfo?.length?D6(i.providerUserInfo):[],o=aj(r.providerData,s),l=r.isAnonymous,u=!(r.email&&i.passwordHash)&&!o?.length,h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new YE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(r,f)}async function oj(r){const e=yr(r);await j0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aj(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function D6(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(r,e){const t=await R6(r,{},async()=>{const n=wm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,o=await k6(r,i,"/v1/token",`key=${s}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:n};return r.emulatorConfig&&Rf(r.emulatorConfig.host)&&(u.credentials="include"),C6.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function uj(r,e){return Jl(r,"POST","/v2/accounts:revokeToken",Zl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const t=zD(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await lj(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,o=new Nh;return n&&(mt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(mt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(mt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nh,this.toJSON())}_performRefresh(){return wa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(r,e){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fs{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new sj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new YE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vp(this,this.stsTokenManager.getToken(this.auth,e));return mt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return rj(this,e)}reload(){return oj(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await j0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(Ea(this.auth));const e=await this.getIdToken();return await Vp(this,nj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,l=t.tenantId??void 0,u=t._redirectEventId??void 0,h=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:w,stsTokenManager:_}=t;mt(p&&_,e,"internal-error");const E=Nh.fromJSON(this.name,_);mt(typeof p=="string",e,"internal-error"),ul(n,e.name),ul(i,e.name),mt(typeof g=="boolean",e,"internal-error"),mt(typeof y=="boolean",e,"internal-error"),ul(s,e.name),ul(o,e.name),ul(l,e.name),ul(u,e.name),ul(h,e.name),ul(f,e.name);const b=new Fs({uid:p,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:E,createdAt:h,lastLoginAt:f});return w&&Array.isArray(w)&&(b.providerData=w.map(A=>({...A}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(e,t,n=!1){const i=new Nh;i.updateFromServerResponse(t);const s=new Fs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await j0(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];mt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?D6(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new Nh;l.updateFromIdToken(n);const u=new Fs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new YE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=new Map;function _a(r){Ca(r instanceof Function,"Expected a class definition");let e=jD.get(r);return e?(Ca(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,jD.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}I6.type="NONE";const HD=I6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(r,e,t){return`firebase:${r}:${e}:${t}`}class Mh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=i0(this.userKey,i.apiKey,s),this.fullPersistenceKey=i0("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await z0(this.auth,{idToken:e}).catch(()=>{});return t?Fs._fromGetAccountInfoResponse(this.auth,t,e):null}return Fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Mh(_a(HD),e,n);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||_a(HD);const o=i0(n,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const g=await z0(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Fs._fromGetAccountInfoResponse(e,g,f)}else p=Fs._fromJSON(e,f);h!==s&&(l=p),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Mh(s,e,n):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Mh(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(B6(e))return"Blackberry";if(F6(e))return"Webos";if(N6(e))return"Safari";if((e.includes("chrome/")||M6(e))&&!e.includes("edge/"))return"Chrome";if(L6(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function O6(r=Yr()){return/firefox\//i.test(r)}function N6(r=Yr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M6(r=Yr()){return/crios\//i.test(r)}function P6(r=Yr()){return/iemobile/i.test(r)}function L6(r=Yr()){return/android/i.test(r)}function B6(r=Yr()){return/blackberry/i.test(r)}function F6(r=Yr()){return/webos/i.test(r)}function JT(r=Yr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function cj(r=Yr()){return JT(r)&&!!window.navigator?.standalone}function hj(){return E7()&&document.documentMode===10}function V6(r=Yr()){return JT(r)||L6(r)||F6(r)||B6(r)||/windows phone/i.test(r)||P6(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(r,e=[]){let t;switch(r){case"Browser":t=qD(Yr());break;case"Worker":t=`${qD(Yr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${kf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(r,e={}){return Jl(r,"GET","/v2/passwordPolicy",Zl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=6;class mj{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??pj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new WD(this),this.idTokenSubscription=new WD(this),this.beforeStateQueue=new fj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_a(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mh.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await z0(this,{idToken:e}),n=await Fs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await j0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$z()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject(Ea(this));const t=e?yr(e):null;return t&&mt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dj(this),t=new mj(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vm("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await uj(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_a(e)||this._popupRedirectResolver;mt(t,this,"argument-error"),this.redirectPersistenceManager=await Mh.create(this,[_a(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=U6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Wz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function _c(r){return yr(r)}class WD{constructor(e){this.auth=e,this.observer=null,this.addObserver=I7(t=>this.observer=t)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $v={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yj(r){$v=r}function z6(r){return $v.loadJS(r)}function vj(){return $v.recaptchaEnterpriseScript}function wj(){return $v.gapiScript}function _j(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class bj{constructor(){this.enterprise=new Sj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Sj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Ej="recaptcha-enterprise",j6="NO_RECAPTCHA";class xj{constructor(e){this.type=Ej,this.auth=_c(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{tj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new ej(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;UD(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(j6)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new bj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(l=>{if(!t&&UD(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=vj();u.length!==0&&(u+=l),z6(u).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function GD(r,e,t,n=!1,i=!1){const s=new xj(r);let o;if(i)o=j6;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const l={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function XE(r,e,t,n,i){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await GD(r,e,t,t==="getOobCode");return n(r,s)}else return n(r,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await GD(r,e,t,t==="getOobCode");return n(r,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tj(r,e){const t=YT(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(lc(s,e??{}))return i;Vs(i,"already-initialized")}return t.initialize({options:e})}function Aj(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(_a);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function Cj(r,e,t){const n=_c(r);mt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=H6(e),{host:o,port:l}=Rj(e),u=l===null?"":`:${l}`,h={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){mt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),mt(lc(h,n.config.emulator)&&lc(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Rf(o)?(g6(`${s}//${o}${u}`),y6("Auth",!0)):kj()}function H6(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Rj(r){const e=H6(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:KD(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:KD(o)}}}function KD(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function kj(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,t){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}async function Dj(r,e){return Jl(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ij(r,e){return bm(r,"POST","/v1/accounts:signInWithPassword",Zl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oj(r,e){return bm(r,"POST","/v1/accounts:signInWithEmailLink",Zl(r,e))}async function Nj(r,e){return bm(r,"POST","/v1/accounts:signInWithEmailLink",Zl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends eA{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Up(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Up(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return XE(e,t,"signInWithPassword",Ij);case"emailLink":return Oj(e,{email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return XE(e,n,"signUpPassword",Dj);case"emailLink":return Nj(e,{idToken:t,email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(r,e){return bm(r,"POST","/v1/accounts:signInWithIdp",Zl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj="http://localhost";class cc extends eA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new cc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=t;if(!n||!i)return null;const o=new cc(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Ph(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ph(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ph(e,t)}buildRequest(){const e={requestUri:Mj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wm(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Lj(r){const e=rp(ip(r)).link,t=e?rp(ip(e)).deep_link_id:null,n=rp(ip(r)).deep_link_id;return(n?rp(ip(n)).link:null)||n||t||e||r}class tA{constructor(e){const t=rp(ip(e)),n=t.apiKey??null,i=t.oobCode??null,s=Pj(t.mode??null);mt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=Lj(e);try{return new tA(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.providerId=Df.PROVIDER_ID}static credential(e,t){return Up._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=tA.parseLink(t);return mt(n,"argument-error"),Up._fromEmailAndCode(e,n.code,n.tenantId)}}Df.PROVIDER_ID="password";Df.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Df.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends q6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Sm{constructor(){super("facebook.com")}static credential(e){return cc._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dl.credential(e.oauthAccessToken)}catch{return null}}}dl.FACEBOOK_SIGN_IN_METHOD="facebook.com";dl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Sm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return cc._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return pl.credential(t,n)}catch{return null}}}pl.GOOGLE_SIGN_IN_METHOD="google.com";pl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Sm{constructor(){super("github.com")}static credential(e){return cc._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ml.credential(e.oauthAccessToken)}catch{return null}}}ml.GITHUB_SIGN_IN_METHOD="github.com";ml.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Sm{constructor(){super("twitter.com")}static credential(e,t){return cc._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return gl.credential(t,n)}catch{return null}}}gl.TWITTER_SIGN_IN_METHOD="twitter.com";gl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(r,e){return bm(r,"POST","/v1/accounts:signUp",Zl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await Fs._fromIdTokenResponse(e,n,i),o=$D(n);return new hc({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=$D(n);return new hc({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function $D(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0 extends Pa{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,H0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new H0(e,t,n,i)}}function W6(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?H0._fromErrorAndOperation(r,s,e,n):s})}async function Fj(r,e,t=!1){const n=await Vp(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return hc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(r,e,t=!1){const{auth:n}=r;if(gs(n.app))return Promise.reject(Ea(n));const i="reauthenticate";try{const s=await Vp(r,W6(n,i,e,r),t);mt(s.idToken,n,"internal-error");const o=ZT(s.idToken);mt(o,n,"internal-error");const{sub:l}=o;return mt(r.uid===l,n,"user-mismatch"),hc._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vs(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(r,e,t=!1){if(gs(r.app))return Promise.reject(Ea(r));const n="signIn",i=await W6(r,n,e),s=await hc._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}async function Uj(r,e){return G6(_c(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(r){const e=_c(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zj(r,e,t){if(gs(r.app))return Promise.reject(Ea(r));const n=_c(r),o=await XE(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&K6(r),u}),l=await hc._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function jj(r,e,t){return gs(r.app)?Promise.reject(Ea(r)):Uj(yr(r),Df.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&K6(r),n})}function Hj(r,e,t,n){return yr(r).onIdTokenChanged(e,t,n)}function qj(r,e,t){return yr(r).beforeAuthStateChanged(e,t)}function Wj(r,e,t,n){return yr(r).onAuthStateChanged(e,t,n)}function Gj(r){return yr(r).signOut()}const q0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(q0,"1"),this.storage.removeItem(q0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=1e3,$j=10;class Y6 extends $6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=V6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);hj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,$j):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Kj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Y6.type="LOCAL";const Yj=Y6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6 extends $6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}X6.type="SESSION";const Q6=X6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Yv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async h=>h(t.origin,s)),u=await Xj(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=nA("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(){return window}function Zj(r){Ro().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(){return typeof Ro().WorkerGlobalScope<"u"&&typeof Ro().importScripts=="function"}async function Jj(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eH(){return navigator?.serviceWorker?.controller||null}function tH(){return Z6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J6="firebaseLocalStorageDb",nH=1,W0="firebaseLocalStorage",e3="fbase_key";class Em{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Xv(r,e){return r.transaction([W0],e?"readwrite":"readonly").objectStore(W0)}function rH(){const r=indexedDB.deleteDatabase(J6);return new Em(r).toPromise()}function QE(){const r=indexedDB.open(J6,nH);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(W0,{keyPath:e3})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(W0)?e(n):(n.close(),await rH(),e(await QE()))})})}async function YD(r,e,t){const n=Xv(r,!0).put({[e3]:e,value:t});return new Em(n).toPromise()}async function iH(r,e){const t=Xv(r,!1).get(e),n=await new Em(t).toPromise();return n===void 0?null:n.value}function XD(r,e){const t=Xv(r,!0).delete(e);return new Em(t).toPromise()}const sH=800,oH=3;class t3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await QE(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>oH)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Z6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yv._getInstance(tH()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Jj(),!this.activeServiceWorker)return;this.sender=new Qj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await QE();return await YD(e,q0,"1"),await XD(e,q0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>YD(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>iH(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>XD(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Xv(i,!1).getAll();return new Em(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t3.type="LOCAL";const aH=t3;new _m(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(r,e){return e?_a(e):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA extends eA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ph(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ph(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ph(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uH(r){return G6(r.auth,new rA(r),r.bypassAuthState)}function cH(r){const{auth:e,user:t}=r;return mt(t,e,"internal-error"),Vj(t,new rA(r),r.bypassAuthState)}async function hH(r){const{auth:e,user:t}=r;return mt(t,e,"internal-error"),Fj(t,new rA(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uH;case"linkViaPopup":case"linkViaRedirect":return hH;case"reauthViaPopup":case"reauthViaRedirect":return cH;default:Vs(this.auth,"internal-error")}}resolve(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ca(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fH=new _m(2e3,1e4);class Ch extends n3{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Ch.currentPopupAction&&Ch.currentPopupAction.cancel(),Ch.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){Ca(this.filter.length===1,"Popup operations only handle one event");const e=nA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ch.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fH.get())};e()}}Ch.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dH="pendingRedirect",s0=new Map;class pH extends n3{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=s0.get(this.auth._key());if(!e){try{const n=await mH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}s0.set(this.auth._key(),e)}return this.bypassAuthState||s0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mH(r,e){const t=vH(e),n=yH(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function gH(r,e){s0.set(r._key(),e)}function yH(r){return _a(r._redirectPersistence)}function vH(r){return i0(dH,r.config.apiKey,r.name)}async function wH(r,e,t=!1){if(gs(r.app))return Promise.reject(Ea(r));const n=_c(r),i=lH(n,e),o=await new pH(n,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _H=10*60*1e3;class bH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!r3(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Co(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_H&&this.cachedEventUids.clear(),this.cachedEventUids.has(QD(e))}saveEventToCache(e){this.cachedEventUids.add(QD(e)),this.lastProcessedEventTime=Date.now()}}function QD(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function r3({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function SH(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r3(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(r,e={}){return Jl(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TH=/^https?/;async function AH(r){if(r.config.emulator)return;const{authorizedDomains:e}=await EH(r);for(const t of e)try{if(CH(t))return}catch{}Vs(r,"unauthorized-domain")}function CH(r){const e=$E(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!TH.test(t))return!1;if(xH.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH=new _m(3e4,6e4);function ZD(){const r=Ro().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function kH(r){return new Promise((e,t)=>{function n(){ZD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZD(),t(Co(r,"network-request-failed"))},timeout:RH.get()})}if(Ro().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ro().gapi?.load)n();else{const i=_j("iframefcb");return Ro()[i]=()=>{gapi.load?n():t(Co(r,"network-request-failed"))},z6(`${wj()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw o0=null,e})}let o0=null;function DH(r){return o0=o0||kH(r),o0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new _m(5e3,15e3),OH="__/auth/iframe",NH="emulator/auth/iframe",MH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LH(r){const e=r.config;mt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?QT(e,NH):`https://${r.config.authDomain}/${OH}`,n={apiKey:e.apiKey,appName:r.name,v:kf},i=PH.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${wm(n).slice(1)}`}async function BH(r){const e=await DH(r),t=Ro().gapi;return mt(t,r,"internal-error"),e.open({where:document.body,url:LH(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MH,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=Co(r,"network-request-failed"),l=Ro().setTimeout(()=>{s(o)},IH.get());function u(){Ro().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VH=500,UH=600,zH="_blank",jH="http://localhost";class JD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HH(r,e,t,n=VH,i=UH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u={...FH,width:n.toString(),height:i.toString(),top:s,left:o},h=Yr().toLowerCase();t&&(l=M6(h)?zH:t),O6(h)&&(e=e||jH,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,w])=>`${g}${y}=${w},`,"");if(cj(h)&&l!=="_self")return qH(e||"",l),new JD(null);const p=window.open(e||"",l,f);mt(p,r,"popup-blocked");try{p.focus()}catch{}return new JD(p)}function qH(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH="__/auth/handler",GH="emulator/auth/handler",KH=encodeURIComponent("fac");async function eI(r,e,t,n,i,s){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:kf,eventId:i};if(e instanceof q6){e.setDefaultLanguage(r.languageCode),o.providerId=e.providerId||"",D7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Sm){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}r.tenantId&&(o.tid=r.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await r._getAppCheckToken(),h=u?`#${KH}=${encodeURIComponent(u)}`:"";return`${$H(r)}?${wm(l).slice(1)}${h}`}function $H({config:r}){return r.emulator?QT(r,GH):`https://${r.authDomain}/${WH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="webStorageSupport";class YH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q6,this._completeRedirectFn=wH,this._overrideRedirectResult=gH}async _openPopup(e,t,n,i){Ca(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await eI(e,t,n,$E(),i);return HH(e,s,nA())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await eI(e,t,n,$E(),i);return Zj(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ca(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await BH(e),n=new bH(e);return t.register("authEvent",i=>(mt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Y_,{type:Y_},i=>{const s=i?.[0]?.[Y_];s!==void 0&&t(!!s),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return V6()||N6()||JT()}}const XH=YH;var tI="@firebase/auth",nI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JH(r){Jh(new uc("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;mt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:U6(r)},h=new gj(n,i,s,u);return Aj(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Jh(new uc("auth-internal",e=>{const t=_c(e.getProvider("auth").getImmediate());return(n=>new QH(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dl(tI,nI,ZH(r)),Dl(tI,nI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq=5*60,tq=m6("authIdTokenMaxAge")||eq;let rI=null;const nq=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>tq)return;const i=t?.token;rI!==i&&(rI=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function rq(r=b6()){const e=YT(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Tj(r,{popupRedirectResolver:XH,persistence:[aH,Yj,Q6]}),n=m6("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=nq(s.toString());qj(t,o,()=>o(t.currentUser)),Hj(t,l=>o(l))}}const i=d6("auth");return i&&Cj(t,`http://${i}`),t}function iq(){return document.getElementsByTagName("head")?.[0]??document}yj({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=Co("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",iq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JH("Browser");var iI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Il,i3;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,P){function C(){}C.prototype=P.prototype,O.D=P.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(W,$,N){for(var F=Array(arguments.length-2),B=2;B<arguments.length;B++)F[B-2]=arguments[B];return P.prototype[$].apply(W,F)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(O,P,C){C||(C=0);var W=Array(16);if(typeof P=="string")for(var $=0;16>$;++$)W[$]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for($=0;16>$;++$)W[$]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=O.g[0],C=O.g[1],$=O.g[2];var N=O.g[3],F=P+(N^C&($^N))+W[0]+3614090360&4294967295;P=C+(F<<7&4294967295|F>>>25),F=N+($^P&(C^$))+W[1]+3905402710&4294967295,N=P+(F<<12&4294967295|F>>>20),F=$+(C^N&(P^C))+W[2]+606105819&4294967295,$=N+(F<<17&4294967295|F>>>15),F=C+(P^$&(N^P))+W[3]+3250441966&4294967295,C=$+(F<<22&4294967295|F>>>10),F=P+(N^C&($^N))+W[4]+4118548399&4294967295,P=C+(F<<7&4294967295|F>>>25),F=N+($^P&(C^$))+W[5]+1200080426&4294967295,N=P+(F<<12&4294967295|F>>>20),F=$+(C^N&(P^C))+W[6]+2821735955&4294967295,$=N+(F<<17&4294967295|F>>>15),F=C+(P^$&(N^P))+W[7]+4249261313&4294967295,C=$+(F<<22&4294967295|F>>>10),F=P+(N^C&($^N))+W[8]+1770035416&4294967295,P=C+(F<<7&4294967295|F>>>25),F=N+($^P&(C^$))+W[9]+2336552879&4294967295,N=P+(F<<12&4294967295|F>>>20),F=$+(C^N&(P^C))+W[10]+4294925233&4294967295,$=N+(F<<17&4294967295|F>>>15),F=C+(P^$&(N^P))+W[11]+2304563134&4294967295,C=$+(F<<22&4294967295|F>>>10),F=P+(N^C&($^N))+W[12]+1804603682&4294967295,P=C+(F<<7&4294967295|F>>>25),F=N+($^P&(C^$))+W[13]+4254626195&4294967295,N=P+(F<<12&4294967295|F>>>20),F=$+(C^N&(P^C))+W[14]+2792965006&4294967295,$=N+(F<<17&4294967295|F>>>15),F=C+(P^$&(N^P))+W[15]+1236535329&4294967295,C=$+(F<<22&4294967295|F>>>10),F=P+($^N&(C^$))+W[1]+4129170786&4294967295,P=C+(F<<5&4294967295|F>>>27),F=N+(C^$&(P^C))+W[6]+3225465664&4294967295,N=P+(F<<9&4294967295|F>>>23),F=$+(P^C&(N^P))+W[11]+643717713&4294967295,$=N+(F<<14&4294967295|F>>>18),F=C+(N^P&($^N))+W[0]+3921069994&4294967295,C=$+(F<<20&4294967295|F>>>12),F=P+($^N&(C^$))+W[5]+3593408605&4294967295,P=C+(F<<5&4294967295|F>>>27),F=N+(C^$&(P^C))+W[10]+38016083&4294967295,N=P+(F<<9&4294967295|F>>>23),F=$+(P^C&(N^P))+W[15]+3634488961&4294967295,$=N+(F<<14&4294967295|F>>>18),F=C+(N^P&($^N))+W[4]+3889429448&4294967295,C=$+(F<<20&4294967295|F>>>12),F=P+($^N&(C^$))+W[9]+568446438&4294967295,P=C+(F<<5&4294967295|F>>>27),F=N+(C^$&(P^C))+W[14]+3275163606&4294967295,N=P+(F<<9&4294967295|F>>>23),F=$+(P^C&(N^P))+W[3]+4107603335&4294967295,$=N+(F<<14&4294967295|F>>>18),F=C+(N^P&($^N))+W[8]+1163531501&4294967295,C=$+(F<<20&4294967295|F>>>12),F=P+($^N&(C^$))+W[13]+2850285829&4294967295,P=C+(F<<5&4294967295|F>>>27),F=N+(C^$&(P^C))+W[2]+4243563512&4294967295,N=P+(F<<9&4294967295|F>>>23),F=$+(P^C&(N^P))+W[7]+1735328473&4294967295,$=N+(F<<14&4294967295|F>>>18),F=C+(N^P&($^N))+W[12]+2368359562&4294967295,C=$+(F<<20&4294967295|F>>>12),F=P+(C^$^N)+W[5]+4294588738&4294967295,P=C+(F<<4&4294967295|F>>>28),F=N+(P^C^$)+W[8]+2272392833&4294967295,N=P+(F<<11&4294967295|F>>>21),F=$+(N^P^C)+W[11]+1839030562&4294967295,$=N+(F<<16&4294967295|F>>>16),F=C+($^N^P)+W[14]+4259657740&4294967295,C=$+(F<<23&4294967295|F>>>9),F=P+(C^$^N)+W[1]+2763975236&4294967295,P=C+(F<<4&4294967295|F>>>28),F=N+(P^C^$)+W[4]+1272893353&4294967295,N=P+(F<<11&4294967295|F>>>21),F=$+(N^P^C)+W[7]+4139469664&4294967295,$=N+(F<<16&4294967295|F>>>16),F=C+($^N^P)+W[10]+3200236656&4294967295,C=$+(F<<23&4294967295|F>>>9),F=P+(C^$^N)+W[13]+681279174&4294967295,P=C+(F<<4&4294967295|F>>>28),F=N+(P^C^$)+W[0]+3936430074&4294967295,N=P+(F<<11&4294967295|F>>>21),F=$+(N^P^C)+W[3]+3572445317&4294967295,$=N+(F<<16&4294967295|F>>>16),F=C+($^N^P)+W[6]+76029189&4294967295,C=$+(F<<23&4294967295|F>>>9),F=P+(C^$^N)+W[9]+3654602809&4294967295,P=C+(F<<4&4294967295|F>>>28),F=N+(P^C^$)+W[12]+3873151461&4294967295,N=P+(F<<11&4294967295|F>>>21),F=$+(N^P^C)+W[15]+530742520&4294967295,$=N+(F<<16&4294967295|F>>>16),F=C+($^N^P)+W[2]+3299628645&4294967295,C=$+(F<<23&4294967295|F>>>9),F=P+($^(C|~N))+W[0]+4096336452&4294967295,P=C+(F<<6&4294967295|F>>>26),F=N+(C^(P|~$))+W[7]+1126891415&4294967295,N=P+(F<<10&4294967295|F>>>22),F=$+(P^(N|~C))+W[14]+2878612391&4294967295,$=N+(F<<15&4294967295|F>>>17),F=C+(N^($|~P))+W[5]+4237533241&4294967295,C=$+(F<<21&4294967295|F>>>11),F=P+($^(C|~N))+W[12]+1700485571&4294967295,P=C+(F<<6&4294967295|F>>>26),F=N+(C^(P|~$))+W[3]+2399980690&4294967295,N=P+(F<<10&4294967295|F>>>22),F=$+(P^(N|~C))+W[10]+4293915773&4294967295,$=N+(F<<15&4294967295|F>>>17),F=C+(N^($|~P))+W[1]+2240044497&4294967295,C=$+(F<<21&4294967295|F>>>11),F=P+($^(C|~N))+W[8]+1873313359&4294967295,P=C+(F<<6&4294967295|F>>>26),F=N+(C^(P|~$))+W[15]+4264355552&4294967295,N=P+(F<<10&4294967295|F>>>22),F=$+(P^(N|~C))+W[6]+2734768916&4294967295,$=N+(F<<15&4294967295|F>>>17),F=C+(N^($|~P))+W[13]+1309151649&4294967295,C=$+(F<<21&4294967295|F>>>11),F=P+($^(C|~N))+W[4]+4149444226&4294967295,P=C+(F<<6&4294967295|F>>>26),F=N+(C^(P|~$))+W[11]+3174756917&4294967295,N=P+(F<<10&4294967295|F>>>22),F=$+(P^(N|~C))+W[2]+718787259&4294967295,$=N+(F<<15&4294967295|F>>>17),F=C+(N^($|~P))+W[9]+3951481745&4294967295,O.g[0]=O.g[0]+P&4294967295,O.g[1]=O.g[1]+($+(F<<21&4294967295|F>>>11))&4294967295,O.g[2]=O.g[2]+$&4294967295,O.g[3]=O.g[3]+N&4294967295}n.prototype.u=function(O,P){P===void 0&&(P=O.length);for(var C=P-this.blockSize,W=this.B,$=this.h,N=0;N<P;){if($==0)for(;N<=C;)i(this,O,N),N+=this.blockSize;if(typeof O=="string"){for(;N<P;)if(W[$++]=O.charCodeAt(N++),$==this.blockSize){i(this,W),$=0;break}}else for(;N<P;)if(W[$++]=O[N++],$==this.blockSize){i(this,W),$=0;break}}this.h=$,this.o+=P},n.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var P=1;P<O.length-8;++P)O[P]=0;var C=8*this.o;for(P=O.length-8;P<O.length;++P)O[P]=C&255,C/=256;for(this.u(O),O=Array(16),P=C=0;4>P;++P)for(var W=0;32>W;W+=8)O[C++]=this.g[P]>>>W&255;return O};function s(O,P){var C=l;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=P(O)}function o(O,P){this.h=P;for(var C=[],W=!0,$=O.length-1;0<=$;$--){var N=O[$]|0;W&&N==P||(C[$]=N,W=!1)}this.g=C}var l={};function u(O){return-128<=O&&128>O?s(O,function(P){return new o([P|0],0>P?-1:0)}):new o([O|0],0>O?-1:0)}function h(O){if(isNaN(O)||!isFinite(O))return p;if(0>O)return E(h(-O));for(var P=[],C=1,W=0;O>=C;W++)P[W]=O/C|0,C*=4294967296;return new o(P,0)}function f(O,P){if(O.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(O.charAt(0)=="-")return E(f(O.substring(1),P));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(P,8)),W=p,$=0;$<O.length;$+=8){var N=Math.min(8,O.length-$),F=parseInt(O.substring($,$+N),P);8>N?(N=h(Math.pow(P,N)),W=W.j(N).add(h(F))):(W=W.j(C),W=W.add(h(F)))}return W}var p=u(0),g=u(1),y=u(16777216);r=o.prototype,r.m=function(){if(_(this))return-E(this).m();for(var O=0,P=1,C=0;C<this.g.length;C++){var W=this.i(C);O+=(0<=W?W:4294967296+W)*P,P*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(w(this))return"0";if(_(this))return"-"+E(this).toString(O);for(var P=h(Math.pow(O,6)),C=this,W="";;){var $=x(C,P).g;C=b(C,$.j(P));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=$,w(C))return N+W;for(;6>N.length;)N="0"+N;W=N+W}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function w(O){if(O.h!=0)return!1;for(var P=0;P<O.g.length;P++)if(O.g[P]!=0)return!1;return!0}function _(O){return O.h==-1}r.l=function(O){return O=b(this,O),_(O)?-1:w(O)?0:1};function E(O){for(var P=O.g.length,C=[],W=0;W<P;W++)C[W]=~O.g[W];return new o(C,~O.h).add(g)}r.abs=function(){return _(this)?E(this):this},r.add=function(O){for(var P=Math.max(this.g.length,O.g.length),C=[],W=0,$=0;$<=P;$++){var N=W+(this.i($)&65535)+(O.i($)&65535),F=(N>>>16)+(this.i($)>>>16)+(O.i($)>>>16);W=F>>>16,N&=65535,F&=65535,C[$]=F<<16|N}return new o(C,C[C.length-1]&-2147483648?-1:0)};function b(O,P){return O.add(E(P))}r.j=function(O){if(w(this)||w(O))return p;if(_(this))return _(O)?E(this).j(E(O)):E(E(this).j(O));if(_(O))return E(this.j(E(O)));if(0>this.l(y)&&0>O.l(y))return h(this.m()*O.m());for(var P=this.g.length+O.g.length,C=[],W=0;W<2*P;W++)C[W]=0;for(W=0;W<this.g.length;W++)for(var $=0;$<O.g.length;$++){var N=this.i(W)>>>16,F=this.i(W)&65535,B=O.i($)>>>16,ae=O.i($)&65535;C[2*W+2*$]+=F*ae,A(C,2*W+2*$),C[2*W+2*$+1]+=N*ae,A(C,2*W+2*$+1),C[2*W+2*$+1]+=F*B,A(C,2*W+2*$+1),C[2*W+2*$+2]+=N*B,A(C,2*W+2*$+2)}for(W=0;W<P;W++)C[W]=C[2*W+1]<<16|C[2*W];for(W=P;W<2*P;W++)C[W]=0;return new o(C,0)};function A(O,P){for(;(O[P]&65535)!=O[P];)O[P+1]+=O[P]>>>16,O[P]&=65535,P++}function T(O,P){this.g=O,this.h=P}function x(O,P){if(w(P))throw Error("division by zero");if(w(O))return new T(p,p);if(_(O))return P=x(E(O),P),new T(E(P.g),E(P.h));if(_(P))return P=x(O,E(P)),new T(E(P.g),P.h);if(30<O.g.length){if(_(O)||_(P))throw Error("slowDivide_ only works with positive integers.");for(var C=g,W=P;0>=W.l(O);)C=D(C),W=D(W);var $=M(C,1),N=M(W,1);for(W=M(W,2),C=M(C,2);!w(W);){var F=N.add(W);0>=F.l(O)&&($=$.add(C),N=F),W=M(W,1),C=M(C,1)}return P=b(O,$.j(P)),new T($,P)}for($=p;0<=O.l(P);){for(C=Math.max(1,Math.floor(O.m()/P.m())),W=Math.ceil(Math.log(C)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),N=h(C),F=N.j(P);_(F)||0<F.l(O);)C-=W,N=h(C),F=N.j(P);w(N)&&(N=g),$=$.add(N),O=b(O,F)}return new T($,O)}r.A=function(O){return x(this,O).h},r.and=function(O){for(var P=Math.max(this.g.length,O.g.length),C=[],W=0;W<P;W++)C[W]=this.i(W)&O.i(W);return new o(C,this.h&O.h)},r.or=function(O){for(var P=Math.max(this.g.length,O.g.length),C=[],W=0;W<P;W++)C[W]=this.i(W)|O.i(W);return new o(C,this.h|O.h)},r.xor=function(O){for(var P=Math.max(this.g.length,O.g.length),C=[],W=0;W<P;W++)C[W]=this.i(W)^O.i(W);return new o(C,this.h^O.h)};function D(O){for(var P=O.g.length+1,C=[],W=0;W<P;W++)C[W]=O.i(W)<<1|O.i(W-1)>>>31;return new o(C,O.h)}function M(O,P){var C=P>>5;P%=32;for(var W=O.g.length-C,$=[],N=0;N<W;N++)$[N]=0<P?O.i(N+C)>>>P|O.i(N+C+1)<<32-P:O.i(N+C);return new o($,O.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,i3=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Il=o}).apply(typeof iI<"u"?iI:typeof self<"u"?self:typeof window<"u"?window:{});var dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var s3,sp,o3,a0,ZE,a3,l3,u3;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,L,q){return v==Array.prototype||v==Object.prototype||(v[L]=q.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof dy=="object"&&dy];for(var L=0;L<v.length;++L){var q=v[L];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var n=t(this);function i(v,L){if(L)e:{var q=n;v=v.split(".");for(var ne=0;ne<v.length-1;ne++){var xe=v[ne];if(!(xe in q))break e;q=q[xe]}v=v[v.length-1],ne=q[v],L=L(ne),L!=ne&&L!=null&&e(q,v,{configurable:!0,writable:!0,value:L})}}function s(v,L){v instanceof String&&(v+="");var q=0,ne=!1,xe={next:function(){if(!ne&&q<v.length){var Ie=q++;return{value:L(Ie,v[Ie]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(v){return v||function(){return s(this,function(L,q){return q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(v){var L=typeof v;return L=L!="object"?L:v?Array.isArray(v)?"array":L:"null",L=="array"||L=="object"&&typeof v.length=="number"}function h(v){var L=typeof v;return L=="object"&&v!=null||L=="function"}function f(v,L,q){return v.call.apply(v.bind,arguments)}function p(v,L,q){if(!v)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,ne),v.apply(L,xe)}}return function(){return v.apply(L,arguments)}}function g(v,L,q){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(v,L){var q=Array.prototype.slice.call(arguments,1);return function(){var ne=q.slice();return ne.push.apply(ne,arguments),v.apply(this,ne)}}function w(v,L){function q(){}q.prototype=L.prototype,v.aa=L.prototype,v.prototype=new q,v.prototype.constructor=v,v.Qb=function(ne,xe,Ie){for(var $e=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)$e[zt-2]=arguments[zt];return L.prototype[xe].apply(ne,$e)}}function _(v){const L=v.length;if(0<L){const q=Array(L);for(let ne=0;ne<L;ne++)q[ne]=v[ne];return q}return[]}function E(v,L){for(let q=1;q<arguments.length;q++){const ne=arguments[q];if(u(ne)){const xe=v.length||0,Ie=ne.length||0;v.length=xe+Ie;for(let $e=0;$e<Ie;$e++)v[xe+$e]=ne[$e]}else v.push(ne)}}class b{constructor(L,q){this.i=L,this.j=q,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function A(v){return/^[\s\xa0]*$/.test(v)}function T(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function x(v){return x[" "](v),v}x[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(v,L,q){for(const ne in v)L.call(q,v[ne],ne,v)}function O(v,L){for(const q in v)L.call(void 0,v[q],q,v)}function P(v){const L={};for(const q in v)L[q]=v[q];return L}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(v,L){let q,ne;for(let xe=1;xe<arguments.length;xe++){ne=arguments[xe];for(q in ne)v[q]=ne[q];for(let Ie=0;Ie<C.length;Ie++)q=C[Ie],Object.prototype.hasOwnProperty.call(ne,q)&&(v[q]=ne[q])}}function $(v){var L=1;v=v.split(":");const q=[];for(;0<L&&v.length;)q.push(v.shift()),L--;return v.length&&q.push(v.join(":")),q}function N(v){l.setTimeout(()=>{throw v},0)}function F(){var v=fe;let L=null;return v.g&&(L=v.g,v.g=v.g.next,v.g||(v.h=null),L.next=null),L}class B{constructor(){this.h=this.g=null}add(L,q){const ne=ae.get();ne.set(L,q),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var ae=new b(()=>new Q,v=>v.reset());class Q{constructor(){this.next=this.g=this.h=null}set(L,q){this.h=L,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,pe=!1,fe=new B,ee=()=>{const v=l.Promise.resolve(void 0);Y=()=>{v.then(J)}};var J=()=>{for(var v;v=F();){try{v.h.call(v.g)}catch(q){N(q)}var L=ae;L.j(v),100>L.h&&(L.h++,v.next=L.g,L.g=v)}pe=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(v,L){this.type=v,this.g=this.target=L,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,L=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};l.addEventListener("test",q,L),l.removeEventListener("test",q,L)}catch{}return v}();function ve(v,L){if(re.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var q=this.type=v.type,ne=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=L,L=v.relatedTarget){if(D){e:{try{x(L.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(L=null)}}else q=="mouseover"?L=v.fromElement:q=="mouseout"&&(L=v.toElement);this.relatedTarget=L,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:ce[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ve.aa.h.call(this)}}w(ve,re);var ce={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),z=0;function se(v,L,q,ne,xe){this.listener=v,this.proxy=null,this.src=L,this.type=q,this.capture=!!ne,this.ha=xe,this.key=++z,this.da=this.fa=!1}function ie(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function X(v){this.src=v,this.g={},this.h=0}X.prototype.add=function(v,L,q,ne,xe){var Ie=v.toString();v=this.g[Ie],v||(v=this.g[Ie]=[],this.h++);var $e=be(v,L,ne,xe);return-1<$e?(L=v[$e],q||(L.fa=!1)):(L=new se(L,this.src,Ie,!!ne,xe),L.fa=q,v.push(L)),L};function te(v,L){var q=L.type;if(q in v.g){var ne=v.g[q],xe=Array.prototype.indexOf.call(ne,L,void 0),Ie;(Ie=0<=xe)&&Array.prototype.splice.call(ne,xe,1),Ie&&(ie(L),v.g[q].length==0&&(delete v.g[q],v.h--))}}function be(v,L,q,ne){for(var xe=0;xe<v.length;++xe){var Ie=v[xe];if(!Ie.da&&Ie.listener==L&&Ie.capture==!!q&&Ie.ha==ne)return xe}return-1}var V="closure_lm_"+(1e6*Math.random()|0),_e={};function H(v,L,q,ne,xe){if(Array.isArray(L)){for(var Ie=0;Ie<L.length;Ie++)H(v,L[Ie],q,ne,xe);return null}return q=Oe(q),v&&v[j]?v.K(L,q,h(ne)?!!ne.capture:!1,xe):k(v,L,q,!1,ne,xe)}function k(v,L,q,ne,xe,Ie){if(!L)throw Error("Invalid event type");var $e=h(xe)?!!xe.capture:!!xe,zt=De(v);if(zt||(v[V]=zt=new X(v)),q=zt.add(L,q,ne,$e,Ie),q.proxy)return q;if(ne=I(),q.proxy=ne,ne.src=v,ne.listener=q,v.addEventListener)he||(xe=$e),xe===void 0&&(xe=!1),v.addEventListener(L.toString(),ne,xe);else if(v.attachEvent)v.attachEvent(me(L.toString()),ne);else if(v.addListener&&v.removeListener)v.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return q}function I(){function v(q){return L.call(v.src,v.listener,q)}const L=ue;return v}function U(v,L,q,ne,xe){if(Array.isArray(L))for(var Ie=0;Ie<L.length;Ie++)U(v,L[Ie],q,ne,xe);else ne=h(ne)?!!ne.capture:!!ne,q=Oe(q),v&&v[j]?(v=v.i,L=String(L).toString(),L in v.g&&(Ie=v.g[L],q=be(Ie,q,ne,xe),-1<q&&(ie(Ie[q]),Array.prototype.splice.call(Ie,q,1),Ie.length==0&&(delete v.g[L],v.h--)))):v&&(v=De(v))&&(L=v.g[L.toString()],v=-1,L&&(v=be(L,q,ne,xe)),(q=-1<v?L[v]:null)&&oe(q))}function oe(v){if(typeof v!="number"&&v&&!v.da){var L=v.src;if(L&&L[j])te(L.i,v);else{var q=v.type,ne=v.proxy;L.removeEventListener?L.removeEventListener(q,ne,v.capture):L.detachEvent?L.detachEvent(me(q),ne):L.addListener&&L.removeListener&&L.removeListener(ne),(q=De(L))?(te(q,v),q.h==0&&(q.src=null,L[V]=null)):ie(v)}}}function me(v){return v in _e?_e[v]:_e[v]="on"+v}function ue(v,L){if(v.da)v=!0;else{L=new ve(L,this);var q=v.listener,ne=v.ha||v.src;v.fa&&oe(v),v=q.call(ne,L)}return v}function De(v){return v=v[V],v instanceof X?v:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(v){return typeof v=="function"?v:(v[Pe]||(v[Pe]=function(L){return v.handleEvent(L)}),v[Pe])}function He(){K.call(this),this.i=new X(this),this.M=this,this.F=null}w(He,K),He.prototype[j]=!0,He.prototype.removeEventListener=function(v,L,q,ne){U(this,v,L,q,ne)};function Ge(v,L){var q,ne=v.F;if(ne)for(q=[];ne;ne=ne.F)q.push(ne);if(v=v.M,ne=L.type||L,typeof L=="string")L=new re(L,v);else if(L instanceof re)L.target=L.target||v;else{var xe=L;L=new re(ne,v),W(L,xe)}if(xe=!0,q)for(var Ie=q.length-1;0<=Ie;Ie--){var $e=L.g=q[Ie];xe=it($e,ne,!0,L)&&xe}if($e=L.g=v,xe=it($e,ne,!0,L)&&xe,xe=it($e,ne,!1,L)&&xe,q)for(Ie=0;Ie<q.length;Ie++)$e=L.g=q[Ie],xe=it($e,ne,!1,L)&&xe}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var v=this.i,L;for(L in v.g){for(var q=v.g[L],ne=0;ne<q.length;ne++)ie(q[ne]);delete v.g[L],v.h--}}this.F=null},He.prototype.K=function(v,L,q,ne){return this.i.add(String(v),L,!1,q,ne)},He.prototype.L=function(v,L,q,ne){return this.i.add(String(v),L,!0,q,ne)};function it(v,L,q,ne){if(L=v.i.g[String(L)],!L)return!0;L=L.concat();for(var xe=!0,Ie=0;Ie<L.length;++Ie){var $e=L[Ie];if($e&&!$e.da&&$e.capture==q){var zt=$e.listener,tr=$e.ha||$e.src;$e.fa&&te(v.i,$e),xe=zt.call(tr,ne)!==!1&&xe}}return xe&&!ne.defaultPrevented}function Nt(v,L,q){if(typeof v=="function")q&&(v=g(v,q));else if(v&&typeof v.handleEvent=="function")v=g(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:l.setTimeout(v,L||0)}function Zr(v){v.g=Nt(()=>{v.g=null,v.i&&(v.i=!1,Zr(v))},v.l);const L=v.h;v.h=null,v.m.apply(null,L)}class xn extends K{constructor(L,q){super(),this.m=L,this.l=q,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(v){K.call(this),this.h=v,this.g={}}w(Br,K);var Kt=[];function Jr(v){M(v.g,function(L,q){this.g.hasOwnProperty(q)&&oe(L)},v),v.g={}}Br.prototype.N=function(){Br.aa.N.call(this),Jr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=l.JSON.stringify,Jn=l.JSON.parse,ei=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function qs(){}qs.prototype.h=null;function ks(v){return v.h||(v.h=v.i())}function Go(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){re.call(this,"d")}w(_r,re);function Ri(){re.call(this,"c")}w(Ri,re);var ni={},Ws=null;function Gs(){return Ws=Ws||new He}ni.La="serverreachability";function Fa(v){re.call(this,ni.La,v)}w(Fa,re);function ye(v){const L=Gs();Ge(L,new Fa(L))}ni.STAT_EVENT="statevent";function Ee(v,L){re.call(this,ni.STAT_EVENT,v),this.stat=L}w(Ee,re);function Ae(v){const L=Gs();Ge(L,new Ee(L,v))}ni.Ma="timingevent";function ze(v,L){re.call(this,ni.Ma,v),this.size=L}w(ze,re);function Ke(v,L){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},L)}function Je(){this.g=!0}Je.prototype.xa=function(){this.g=!1};function ut(v,L,q,ne,xe,Ie){v.info(function(){if(v.g)if(Ie)for(var $e="",zt=Ie.split("&"),tr=0;tr<zt.length;tr++){var jt=zt[tr].split("=");if(1<jt.length){var cr=jt[0];jt=jt[1];var nr=cr.split("_");$e=2<=nr.length&&nr[1]=="type"?$e+(cr+"="+jt+"&"):$e+(cr+"=redacted&")}}else $e=null;else $e=Ie;return"XMLHTTP REQ ("+ne+") [attempt "+xe+"]: "+L+`
`+q+`
`+$e})}function nt(v,L,q,ne,xe,Ie,$e){v.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+xe+"]: "+L+`
`+q+`
`+Ie+" "+$e})}function ot(v,L,q,ne){v.info(function(){return"XMLHTTP TEXT ("+L+"): "+dt(v,q)+(ne?" "+ne:"")})}function st(v,L){v.info(function(){return"TIMEOUT: "+L})}Je.prototype.info=function(){};function dt(v,L){if(!v.g)return L;if(!L)return null;try{var q=JSON.parse(L);if(q){for(v=0;v<q.length;v++)if(Array.isArray(q[v])){var ne=q[v];if(!(2>ne.length)){var xe=ne[1];if(Array.isArray(xe)&&!(1>xe.length)){var Ie=xe[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var $e=1;$e<xe.length;$e++)xe[$e]=""}}}}return wr(q)}catch{return L}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dt;function Zt(){}w(Zt,qs),Zt.prototype.g=function(){return new XMLHttpRequest},Zt.prototype.i=function(){return{}},Dt=new Zt;function $t(v,L,q,ne){this.j=v,this.i=L,this.l=q,this.R=ne||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var Rt={},Ji={};function er(v,L,q){v.L=1,v.v=uu(Ii(L)),v.m=q,v.P=!0,ri(v,null)}function ri(v,L){v.F=Date.now(),ki(v),v.A=Ii(v.v);var q=v.A,ne=v.R;Array.isArray(ne)||(ne=[String(ne)]),Wf(q.i,"t",ne),v.C=0,q=v.j.J,v.h=new Bt,v.g=sg(v.j,q?L:null,!v.m),0<v.O&&(v.M=new xn(g(v.Y,v,v.g),v.O)),L=v.U,q=v.g,ne=v.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(Kt[0]=xe.toString()),xe=Kt);for(var Ie=0;Ie<xe.length;Ie++){var $e=H(q,xe[Ie],ne||L.handleEvent,!1,L.h||L);if(!$e)break;L.g[$e.key]=$e}L=v.H?P(v.H):{},v.m?(v.u||(v.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,L)):(v.u="GET",v.g.ea(v.A,v.u,null,L)),ye(),ut(v.i,v.u,v.A,v.l,v.R,v.m)}$t.prototype.ca=function(v){v=v.target;const L=this.M;L&&is(v)==3?L.j():this.Y(v)},$t.prototype.Y=function(v){try{if(v==this.g)e:{const nr=is(this.g);var L=this.g.Ba();const ea=this.g.Z();if(!(3>nr)&&(nr!=3||this.g&&(this.h.h||this.g.oa()||Qm(this.g)))){this.J||nr!=4||L==7||(L==8||0>=ea?ye(3):ye(2)),Fr(this);var q=this.g.Z();this.X=q;t:if(br(this)){var ne=Qm(this.g);v="";var xe=ne.length,Ie=is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_t(this),ii(this);var $e="";break t}this.h.i=new l.TextDecoder}for(L=0;L<xe;L++)this.h.h=!0,v+=this.h.i.decode(ne[L],{stream:!(Ie&&L==xe-1)});ne.length=0,this.h.g+=v,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=q==200,nt(this.i,this.u,this.A,this.l,this.R,nr,q),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,tr=this.g;if((zt=tr.g?tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(zt)){var jt=zt;break t}}jt=null}if(q=jt)ot(this.i,this.l,q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jn(this,q);else{this.o=!1,this.s=3,Ae(12),_t(this),ii(this);break e}}if(this.P){q=!0;let Er;for(;!this.J&&this.C<$e.length;)if(Er=Ks(this,$e),Er==Ji){nr==4&&(this.s=4,Ae(14),q=!1),ot(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==Rt){this.s=4,Ae(15),ot(this.i,this.l,$e,"[Invalid Chunk]"),q=!1;break}else ot(this.i,this.l,Er,null),jn(this,Er);if(br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nr!=4||$e.length!=0||this.h.h||(this.s=1,Ae(16),q=!1),this.o=this.o&&q,!q)ot(this.i,this.l,$e,"[Invalid Chunked Response]"),_t(this),ii(this);else if(0<$e.length&&!this.W){this.W=!0;var cr=this.j;cr.g==this&&cr.ba&&!cr.M&&(cr.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),yu(cr),cr.M=!0,Ae(11))}}else ot(this.i,this.l,$e,null),jn(this,$e);nr==4&&_t(this),this.o&&!this.J&&(nr==4?ng(this.j,this):(this.o=!1,ki(this)))}else Gw(this.g),q==400&&0<$e.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),_t(this),ii(this)}}}catch{}finally{}};function br(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Ks(v,L){var q=v.C,ne=L.indexOf(`
`,q);return ne==-1?Ji:(q=Number(L.substring(q,ne)),isNaN(q)?Rt:(ne+=1,ne+q>L.length?Ji:(L=L.slice(ne,ne+q),v.C=ne+q,L)))}$t.prototype.cancel=function(){this.J=!0,_t(this)};function ki(v){v.S=Date.now()+v.I,Va(v,v.I)}function Va(v,L){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Ke(g(v.ba,v),L)}function Fr(v){v.B&&(l.clearTimeout(v.B),v.B=null)}$t.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(st(this.i,this.A),this.L!=2&&(ye(),Ae(17)),_t(this),this.s=2,ii(this)):Va(this,this.S-v)};function ii(v){v.j.G==0||v.J||ng(v.j,v)}function _t(v){Fr(v);var L=v.M;L&&typeof L.ma=="function"&&L.ma(),v.M=null,Jr(v.U),v.g&&(L=v.g,v.g=null,L.abort(),L.ma())}function jn(v,L){try{var q=v.j;if(q.G!=0&&(q.g==v||es(q.h,v))){if(!v.K&&es(q.h,v)&&q.G==3){try{var ne=q.Da.g.parse(L)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var xe=ne;if(xe[0]==0){e:if(!q.u){if(q.g)if(q.g.F+3e3<v.F)Fc(q),Lc(q);else break e;Xf(q),Ae(18)}}else q.za=xe[1],0<q.za-q.T&&37500>xe[2]&&q.F&&q.v==0&&!q.C&&(q.C=Ke(g(q.Za,q),6e3));if(1>=un(q.h)&&q.ca){try{q.ca()}catch{}q.ca=void 0}}else Jo(q,11)}else if((v.K||q.g==v)&&Fc(q),!A(L))for(xe=q.Da.g.parse(L),L=0;L<xe.length;L++){let jt=xe[L];if(q.T=jt[0],jt=jt[1],q.G==2)if(jt[0]=="c"){q.K=jt[1],q.ia=jt[2];const cr=jt[3];cr!=null&&(q.la=cr,q.j.info("VER="+q.la));const nr=jt[4];nr!=null&&(q.Aa=nr,q.j.info("SVER="+q.Aa));const ea=jt[5];ea!=null&&typeof ea=="number"&&0<ea&&(ne=1.5*ea,q.L=ne,q.j.info("backChannelRequestTimeoutMs_="+ne)),ne=q;const Er=v.g;if(Er){const to=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var Ie=ne.h;Ie.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(Ko(Ie,Ie.h),Ie.h=null))}if(ne.D){const Zf=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Zf&&(ne.ya=Zf,rn(ne.I,ne.D,Zf))}}q.G=3,q.l&&q.l.ua(),q.ba&&(q.R=Date.now()-v.F,q.j.info("Handshake RTT: "+q.R+"ms")),ne=q;var $e=v;if(ne.qa=ig(ne,ne.J?ne.ia:null,ne.W),$e.K){Sr(ne.h,$e);var zt=$e,tr=ne.L;tr&&(zt.I=tr),zt.B&&(Fr(zt),ki(zt)),ne.g=$e}else eg(ne);0<q.i.length&&Bc(q)}else jt[0]!="stop"&&jt[0]!="close"||Jo(q,7);else q.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Jo(q,7):$f(q):jt[0]!="noop"&&q.l&&q.l.ta(jt),q.v=0)}}ye(4)}catch{}}var Di=class{constructor(v,L){this.g=v,this.map=L}};function hi(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function un(v){return v.h?1:v.g?v.g.size:0}function es(v,L){return v.h?v.h==L:v.g?v.g.has(L):!1}function Ko(v,L){v.g?v.g.add(L):v.h=L}function Sr(v,L){v.h&&v.h==L?v.h=null:v.g&&v.g.has(L)&&v.g.delete(L)}hi.prototype.cancel=function(){if(this.i=zf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function zf(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let L=v.i;for(const q of v.g.values())L=L.concat(q.D);return L}return _(v.i)}function jw(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var L=[],q=v.length,ne=0;ne<q;ne++)L.push(v[ne]);return L}L=[],q=0;for(ne in v)L[q++]=v[ne];return L}function Dc(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var L=[];v=v.length;for(var q=0;q<v;q++)L.push(q);return L}L=[],q=0;for(const ne in v)L[q++]=ne;return L}}}function jf(v,L){if(v.forEach&&typeof v.forEach=="function")v.forEach(L,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,L,void 0);else for(var q=Dc(v),ne=jw(v),xe=ne.length,Ie=0;Ie<xe;Ie++)L.call(void 0,ne[Ie],q&&q[Ie],v)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hw(v,L){if(v){v=v.split("&");for(var q=0;q<v.length;q++){var ne=v[q].indexOf("="),xe=null;if(0<=ne){var Ie=v[q].substring(0,ne);xe=v[q].substring(ne+1)}else Ie=v[q];L(Ie,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Hn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Hn){this.h=v.h,lu(this,v.j),this.o=v.o,this.g=v.g,Ua(this,v.s),this.l=v.l;var L=v.i,q=new Yo;q.i=L.i,L.g&&(q.g=new Map(L.g),q.h=L.h),$o(this,q),this.m=v.m}else v&&(L=String(v).match(au))?(this.h=!1,lu(this,L[1]||"",!0),this.o=ts(L[2]||""),this.g=ts(L[3]||"",!0),Ua(this,L[4]),this.l=ts(L[5]||"",!0),$o(this,L[6]||"",!0),this.m=ts(L[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Hn.prototype.toString=function(){var v=[],L=this.j;L&&v.push(cu(L,Hf,!0),":");var q=this.g;return(q||L=="file")&&(v.push("//"),(L=this.o)&&v.push(cu(L,Hf,!0),"@"),v.push(encodeURIComponent(String(q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.s,q!=null&&v.push(":",String(q))),(q=this.l)&&(this.g&&q.charAt(0)!="/"&&v.push("/"),v.push(cu(q,q.charAt(0)=="/"?qw:qf,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",cu(q,Ic)),v.join("")};function Ii(v){return new Hn(v)}function lu(v,L,q){v.j=q?ts(L,!0):L,v.j&&(v.j=v.j.replace(/:$/,""))}function Ua(v,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);v.s=L}else v.s=null}function $o(v,L,q){L instanceof Yo?(v.i=L,Ym(v.i,v.h)):(q||(L=cu(L,Ww)),v.i=new Yo(L,v.h))}function rn(v,L,q){v.i.set(L,q)}function uu(v){return rn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function ts(v,L){return v?L?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function cu(v,L,q){return typeof v=="string"?(v=encodeURI(v).replace(L,$m),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function $m(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Hf=/[#\/\?@]/g,qf=/[#\?:]/g,qw=/[#\?]/g,Ww=/[#\?@]/g,Ic=/#/g;function Yo(v,L){this.h=this.g=null,this.i=v||null,this.j=!!L}function ns(v){v.g||(v.g=new Map,v.h=0,v.i&&Hw(v.i,function(L,q){v.add(decodeURIComponent(L.replace(/\+/g," ")),q)}))}r=Yo.prototype,r.add=function(v,L){ns(this),this.i=null,v=Ys(this,v);var q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(L),this.h+=1,this};function Xo(v,L){ns(v),L=Ys(v,L),v.g.has(L)&&(v.i=null,v.h-=v.g.get(L).length,v.g.delete(L))}function Qo(v,L){return ns(v),L=Ys(v,L),v.g.has(L)}r.forEach=function(v,L){ns(this),this.g.forEach(function(q,ne){q.forEach(function(xe){v.call(L,xe,ne,this)},this)},this)},r.na=function(){ns(this);const v=Array.from(this.g.values()),L=Array.from(this.g.keys()),q=[];for(let ne=0;ne<L.length;ne++){const xe=v[ne];for(let Ie=0;Ie<xe.length;Ie++)q.push(L[ne])}return q},r.V=function(v){ns(this);let L=[];if(typeof v=="string")Qo(this,v)&&(L=L.concat(this.g.get(Ys(this,v))));else{v=Array.from(this.g.values());for(let q=0;q<v.length;q++)L=L.concat(v[q])}return L},r.set=function(v,L){return ns(this),this.i=null,v=Ys(this,v),Qo(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[L]),this.h+=1,this},r.get=function(v,L){return v?(v=this.V(v),0<v.length?String(v[0]):L):L};function Wf(v,L,q){Xo(v,L),0<q.length&&(v.i=null,v.g.set(Ys(v,L),_(q)),v.h+=q.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],L=Array.from(this.g.keys());for(var q=0;q<L.length;q++){var ne=L[q];const Ie=encodeURIComponent(String(ne)),$e=this.V(ne);for(ne=0;ne<$e.length;ne++){var xe=Ie;$e[ne]!==""&&(xe+="="+encodeURIComponent(String($e[ne]))),v.push(xe)}}return this.i=v.join("&")};function Ys(v,L){return L=String(L),v.j&&(L=L.toLowerCase()),L}function Ym(v,L){L&&!v.j&&(ns(v),v.i=null,v.g.forEach(function(q,ne){var xe=ne.toLowerCase();ne!=xe&&(Xo(this,ne),Wf(this,xe,q))},v)),v.j=L}function hu(v,L){const q=new Je;if(l.Image){const ne=new Image;ne.onload=y(rs,q,"TestLoadImage: loaded",!0,L,ne),ne.onerror=y(rs,q,"TestLoadImage: error",!1,L,ne),ne.onabort=y(rs,q,"TestLoadImage: abort",!1,L,ne),ne.ontimeout=y(rs,q,"TestLoadImage: timeout",!1,L,ne),l.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=v}else L(!1)}function Ds(v,L){const q=new Je,ne=new AbortController,xe=setTimeout(()=>{ne.abort(),rs(q,"TestPingServer: timeout",!1,L)},1e4);fetch(v,{signal:ne.signal}).then(Ie=>{clearTimeout(xe),Ie.ok?rs(q,"TestPingServer: ok",!0,L):rs(q,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(xe),rs(q,"TestPingServer: error",!1,L)})}function rs(v,L,q,ne,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),ne(q)}catch{}}function fu(){this.g=new ei}function Xs(v,L,q){const ne=q||"";try{jf(v,function(xe,Ie){let $e=xe;h(xe)&&($e=wr(xe)),L.push(ne+Ie+"="+encodeURIComponent($e))})}catch(xe){throw L.push(ne+"type="+encodeURIComponent("_badmap")),xe}}function za(v){this.l=v.Ub||null,this.j=v.eb||!1}w(za,qs),za.prototype.g=function(){return new Zo(this.l,this.j)},za.prototype.i=function(v){return function(){return v}}({});function Zo(v,L){He.call(this),this.D=v,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Zo,He),r=Zo.prototype,r.open=function(v,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=L,this.readyState=1,Zs(this)},r.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(L.body=v),(this.D||l).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},r.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gf(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gf(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}r.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var L=v.value?v.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!v.done}))&&(this.response=this.responseText+=L)}v.done?Qs(this):Zs(this),this.readyState==3&&Gf(this)}},r.Ra=function(v){this.g&&(this.response=this.responseText=v,Qs(this))},r.Qa=function(v){this.g&&(this.response=v,Qs(this))},r.ga=function(){this.g&&Qs(this)};function Qs(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Zs(v)}r.setRequestHeader=function(v,L){this.u.append(v,L)},r.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],L=this.h.entries();for(var q=L.next();!q.done;)q=q.value,v.push(q[0]+": "+q[1]),q=L.next();return v.join(`\r
`)};function Zs(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Kf(v){let L="";return M(v,function(q,ne){L+=ne,L+=":",L+=q,L+=`\r
`}),L}function ur(v,L,q){e:{for(ne in q){var ne=!1;break e}ne=!0}ne||(q=Kf(q),typeof v=="string"?q!=null&&encodeURIComponent(String(q)):rn(v,L,q))}function Jt(v){He.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(Jt,He);var Oc=/^https?$/i,du=["POST","PUT"];r=Jt.prototype,r.Ha=function(v){this.J=v},r.ea=function(v,L,q,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);L=L?L.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dt.g(),this.v=this.o?ks(this.o):ks(Dt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(L,String(v),!0),this.B=!1}catch(Ie){Xm(this,Ie);return}if(v=q||"",q=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var xe in ne)q.set(xe,ne[xe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Ie of ne.keys())q.set(Ie,ne.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(q.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),xe=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(du,L,void 0))||ne||xe||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,$e]of q)this.g.setRequestHeader(Ie,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pu(this),this.u=!0,this.g.send(v),this.u=!1}catch(Ie){Xm(this,Ie)}};function Xm(v,L){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=L,v.m=5,Nc(v),Js(v)}function Nc(v){v.A||(v.A=!0,Ge(v,"complete"),Ge(v,"error"))}r.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ge(this,"complete"),Ge(this,"abort"),Js(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Js(this,!0)),Jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Mc(this):this.bb())},r.bb=function(){Mc(this)};function Mc(v){if(v.h&&typeof o<"u"&&(!v.v[1]||is(v)!=4||v.Z()!=2)){if(v.u&&is(v)==4)Nt(v.Ea,0,v);else if(Ge(v,"readystatechange"),is(v)==4){v.h=!1;try{const $e=v.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var q;if(!(q=L)){var ne;if(ne=$e===0){var xe=String(v.D).match(au)[1]||null;!xe&&l.self&&l.self.location&&(xe=l.self.location.protocol.slice(0,-1)),ne=!Oc.test(xe?xe.toLowerCase():"")}q=ne}if(q)Ge(v,"complete"),Ge(v,"success");else{v.m=6;try{var Ie=2<is(v)?v.g.statusText:""}catch{Ie=""}v.l=Ie+" ["+v.Z()+"]",Nc(v)}}finally{Js(v)}}}}function Js(v,L){if(v.g){pu(v);const q=v.g,ne=v.v[0]?()=>{}:null;v.g=null,v.v=null,L||Ge(v,"ready");try{q.onreadystatechange=ne}catch{}}}function pu(v){v.I&&(l.clearTimeout(v.I),v.I=null)}r.isActive=function(){return!!this.g};function is(v){return v.g?v.g.readyState:0}r.Z=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(v){if(this.g){var L=this.g.responseText;return v&&L.indexOf(v)==0&&(L=L.substring(v.length)),Jn(L)}};function Qm(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Gw(v){const L={};v=(v.g&&2<=is(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<v.length;ne++){if(A(v[ne]))continue;var q=$(v[ne]);const xe=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const Ie=L[xe]||[];L[xe]=Ie,Ie.push(q)}O(L,function(ne){return ne.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mu(v,L,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||L}function Pc(v){this.Aa=0,this.i=[],this.j=new Je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mu("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mu("baseRetryDelayMs",5e3,v),this.cb=mu("retryDelaySeedMs",1e4,v),this.Wa=mu("forwardChannelMaxRetries",2,v),this.wa=mu("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(v&&v.concurrentRequestLimit),this.Da=new fu,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Pc.prototype,r.la=8,r.G=1,r.connect=function(v,L,q,ne){Ae(0),this.W=v,this.H=L||{},q&&ne!==void 0&&(this.H.OSID=q,this.H.OAID=ne),this.F=this.X,this.I=ig(this,null,this.W),Bc(this)};function $f(v){if(Zm(v),v.G==3){var L=v.U++,q=Ii(v.I);if(rn(q,"SID",v.K),rn(q,"RID",L),rn(q,"TYPE","terminate"),gu(v,q),L=new $t(v,v.j,L),L.L=2,L.v=uu(Ii(q)),q=!1,l.navigator&&l.navigator.sendBeacon)try{q=l.navigator.sendBeacon(L.v.toString(),"")}catch{}!q&&l.Image&&(new Image().src=L.v,q=!0),q||(L.g=sg(L.j,null),L.g.ea(L.v)),L.F=Date.now(),ki(L)}rg(v)}function Lc(v){v.g&&(yu(v),v.g.cancel(),v.g=null)}function Zm(v){Lc(v),v.u&&(l.clearTimeout(v.u),v.u=null),Fc(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function Bc(v){if(!$s(v.h)&&!v.s){v.s=!0;var L=v.Ga;Y||ee(),pe||(Y(),pe=!0),fe.add(L,v),v.B=0}}function Kw(v,L){return un(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=L.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Ke(g(v.Ga,v,L),Qf(v,v.B)),v.B++,!0)}r.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const xe=new $t(this,this.j,v);let Ie=this.o;if(this.S&&(Ie?(Ie=P(Ie),W(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(xe.H=Ie,Ie=null),this.P)e:{for(var L=0,q=0;q<this.i.length;q++){t:{var ne=this.i[q];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(L+=ne,4096<L){L=q;break e}if(L===4096||q===this.i.length-1){L=q+1;break e}}L=1e3}else L=1e3;L=Jm(this,xe,L),q=Ii(this.I),rn(q,"RID",v),rn(q,"CVER",22),this.D&&rn(q,"X-HTTP-Session-Id",this.D),gu(this,q),Ie&&(this.O?L="headers="+encodeURIComponent(String(Kf(Ie)))+"&"+L:this.m&&ur(q,this.m,Ie)),Ko(this.h,xe),this.Ua&&rn(q,"TYPE","init"),this.P?(rn(q,"$req",L),rn(q,"SID","null"),xe.T=!0,er(xe,q,null)):er(xe,q,L),this.G=2}}else this.G==3&&(v?Yf(this,v):this.i.length==0||$s(this.h)||Yf(this))};function Yf(v,L){var q;L?q=L.l:q=v.U++;const ne=Ii(v.I);rn(ne,"SID",v.K),rn(ne,"RID",q),rn(ne,"AID",v.T),gu(v,ne),v.m&&v.o&&ur(ne,v.m,v.o),q=new $t(v,v.j,q,v.B+1),v.m===null&&(q.H=v.o),L&&(v.i=L.D.concat(v.i)),L=Jm(v,q,1e3),q.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Ko(v.h,q),er(q,ne,L)}function gu(v,L){v.H&&M(v.H,function(q,ne){rn(L,ne,q)}),v.l&&jf({},function(q,ne){rn(L,ne,q)})}function Jm(v,L,q){q=Math.min(v.i.length,q);var ne=v.l?g(v.l.Na,v.l,v):null;e:{var xe=v.i;let Ie=-1;for(;;){const $e=["count="+q];Ie==-1?0<q?(Ie=xe[0].g,$e.push("ofs="+Ie)):Ie=0:$e.push("ofs="+Ie);let zt=!0;for(let tr=0;tr<q;tr++){let jt=xe[tr].g;const cr=xe[tr].map;if(jt-=Ie,0>jt)Ie=Math.max(0,xe[tr].g-100),zt=!1;else try{Xs(cr,$e,"req"+jt+"_")}catch{ne&&ne(cr)}}if(zt){ne=$e.join("&");break e}}}return v=v.i.splice(0,q),L.D=v,ne}function eg(v){if(!v.g&&!v.u){v.Y=1;var L=v.Fa;Y||ee(),pe||(Y(),pe=!0),fe.add(L,v),v.v=0}}function Xf(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Ke(g(v.Fa,v),Qf(v,v.v)),v.v++,!0)}r.Fa=function(){if(this.u=null,tg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ke(g(this.ab,this),v)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),Lc(this),tg(this))};function yu(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function tg(v){v.g=new $t(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var L=Ii(v.qa);rn(L,"RID","rpc"),rn(L,"SID",v.K),rn(L,"AID",v.T),rn(L,"CI",v.F?"0":"1"),!v.F&&v.ja&&rn(L,"TO",v.ja),rn(L,"TYPE","xmlhttp"),gu(v,L),v.m&&v.o&&ur(L,v.m,v.o),v.L&&(v.g.I=v.L);var q=v.g;v=v.ia,q.L=1,q.v=uu(Ii(L)),q.m=null,q.P=!0,ri(q,v)}r.Za=function(){this.C!=null&&(this.C=null,Lc(this),Xf(this),Ae(19))};function Fc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function ng(v,L){var q=null;if(v.g==L){Fc(v),yu(v),v.g=null;var ne=2}else if(es(v.h,L))q=L.D,Sr(v.h,L),ne=1;else return;if(v.G!=0){if(L.o)if(ne==1){q=L.m?L.m.length:0,L=Date.now()-L.F;var xe=v.B;ne=Gs(),Ge(ne,new ze(ne,q)),Bc(v)}else eg(v);else if(xe=L.s,xe==3||xe==0&&0<L.X||!(ne==1&&Kw(v,L)||ne==2&&Xf(v)))switch(q&&0<q.length&&(L=v.h,L.i=L.i.concat(q)),xe){case 1:Jo(v,5);break;case 4:Jo(v,10);break;case 3:Jo(v,6);break;default:Jo(v,2)}}}function Qf(v,L){let q=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(q*=2),q*L}function Jo(v,L){if(v.j.info("Error code "+L),L==2){var q=g(v.fb,v),ne=v.Xa;const xe=!ne;ne=new Hn(ne||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||lu(ne,"https"),uu(ne),xe?hu(ne.toString(),q):Ds(ne.toString(),q)}else Ae(2);v.G=0,v.l&&v.l.sa(L),rg(v),Zm(v)}r.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function rg(v){if(v.G=0,v.ka=[],v.l){const L=zf(v.h);(L.length!=0||v.i.length!=0)&&(E(v.ka,L),E(v.ka,v.i),v.h.i.length=0,_(v.i),v.i.length=0),v.l.ra()}}function ig(v,L,q){var ne=q instanceof Hn?Ii(q):new Hn(q);if(ne.g!="")L&&(ne.g=L+"."+ne.g),Ua(ne,ne.s);else{var xe=l.location;ne=xe.protocol,L=L?L+"."+xe.hostname:xe.hostname,xe=+xe.port;var Ie=new Hn(null);ne&&lu(Ie,ne),L&&(Ie.g=L),xe&&Ua(Ie,xe),q&&(Ie.l=q),ne=Ie}return q=v.D,L=v.ya,q&&L&&rn(ne,q,L),rn(ne,"VER",v.la),gu(v,ne),ne}function sg(v,L,q){if(L&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=v.Ca&&!v.pa?new Jt(new za({eb:q})):new Jt(v.pa),L.Ha(v.J),L}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function og(){}r=og.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Vc(){}Vc.prototype.g=function(v,L){return new si(v,L)};function si(v,L){He.call(this),this.g=new Pc(L),this.l=v,this.h=L&&L.messageUrlParams||null,v=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(v?v["X-WebChannel-Content-Type"]=L.messageContentType:v={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(v?v["X-WebChannel-Client-Profile"]=L.va:v={"X-WebChannel-Client-Profile":L.va}),this.g.S=v,(v=L&&L.Sb)&&!A(v)&&(this.g.m=v),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!A(L)&&(this.g.D=L,v=this.h,v!==null&&L in v&&(v=this.h,L in v&&delete v[L])),this.j=new eo(this)}w(si,He),si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){$f(this.g)},si.prototype.o=function(v){var L=this.g;if(typeof v=="string"){var q={};q.__data__=v,v=q}else this.u&&(q={},q.__data__=wr(v),v=q);L.i.push(new Di(L.Ya++,v)),L.G==3&&Bc(L)},si.prototype.N=function(){this.g.l=null,delete this.j,$f(this.g),delete this.g,si.aa.N.call(this)};function ag(v){_r.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var L=v.__sm__;if(L){e:{for(const q in L){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,L=L!==null&&v in L?L[v]:void 0),this.data=L}else this.data=v}w(ag,_r);function lg(){Ri.call(this),this.status=1}w(lg,Ri);function eo(v){this.g=v}w(eo,og),eo.prototype.ua=function(){Ge(this.g,"a")},eo.prototype.ta=function(v){Ge(this.g,new ag(v))},eo.prototype.sa=function(v){Ge(this.g,new lg)},eo.prototype.ra=function(){Ge(this.g,"b")},Vc.prototype.createWebChannel=Vc.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,u3=function(){return new Vc},l3=function(){return Gs()},a3=ni,ZE={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,a0=ct,yt.COMPLETE="complete",o3=yt,Go.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",He.prototype.listen=He.prototype.K,sp=Go,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,s3=Jt}).apply(typeof dy<"u"?dy:typeof self<"u"?self:typeof window<"u"?window:{});const sI="@firebase/firestore",oI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new KT("@firebase/firestore");function vh(){return fc.logLevel}function et(r,...e){if(fc.logLevel<=Mt.DEBUG){const t=e.map(iA);fc.debug(`Firestore (${If}): ${r}`,...t)}}function Ra(r,...e){if(fc.logLevel<=Mt.ERROR){const t=e.map(iA);fc.error(`Firestore (${If}): ${r}`,...t)}}function ef(r,...e){if(fc.logLevel<=Mt.WARN){const t=e.map(iA);fc.warn(`Firestore (${If}): ${r}`,...t)}}function iA(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,c3(r,n,t)}function c3(r,e,t){let n=`FIRESTORE (${If}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Ra(n),new Error(n)}function en(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||c3(e,i,n)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends Pa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class oq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class aq{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){en(this.o===void 0,42304);let n=this.i;const i=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new Ol;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ol,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ol)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(en(typeof n.accessToken=="string",31837,{l:n}),new h3(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return en(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class lq{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uq{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new lq(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cq{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){en(this.o===void 0,3512);const n=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new aI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(en(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new aI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=hq(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%62))}return n}}function Pt(r,e){return r<e?-1:r>e?1:0}function JE(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),s=e.charAt(n);if(i!==s)return X_(i)===X_(s)?Pt(i,s):X_(i)?1:-1}return Pt(r.length,e.length)}const fq=55296,dq=57343;function X_(r){const e=r.charCodeAt(0);return e>=fq&&e<=dq}function tf(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="__name__";class po{constructor(e,t,n){t===void 0?t=0:t>e.length&&gt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&gt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return po.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof po?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=po.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Pt(e.length,t.length)}static compareSegments(e,t){const n=po.isNumericId(e),i=po.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?po.extractNumericId(e).compare(po.extractNumericId(t)):JE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Il.fromString(e.substring(4,e.length-2))}}class yn extends po{construct(e,t,n){return new yn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const pq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends po{construct(e,t,n){return new Or(e,t,n)}static isValidIdentifier(e){return pq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lI}static keyField(){return new Or([lI])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ze(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ze(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(s(),i++)}if(s(),o)throw new Ze(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(yn.fromString(e))}static fromName(e){return new lt(yn.fromString(e).popFirst(5))}static empty(){return new lt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new yn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3(r,e,t){if(!t)throw new Ze(Fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function mq(r,e,t,n){if(e===!0&&n===!0)throw new Ze(Fe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function uI(r){if(!lt.isDocumentKey(r))throw new Ze(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cI(r){if(lt.isDocumentKey(r))throw new Ze(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d3(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Qv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function nf(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ze(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qv(r);throw new Ze(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,e){const t={typeString:r};return e&&(t.value=e),t}function xm(r,e){if(!d3(r))throw new Ze(Fe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const o=r[n];if(i&&typeof o!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new Ze(Fe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=-62135596800,fI=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*fI);return new wn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<hI)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fI}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(xm(e,wn._jsonSchema))return new wn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-hI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wn._jsonSchemaVersion="firestore/timestamp/1.0",wn._jsonSchema={type:Qn("string",wn._jsonSchemaVersion),seconds:Qn("number"),nanoseconds:Qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new wn(0,0))}static max(){return new bt(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function gq(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(n===1e9?new wn(t+1,0):new wn(t,n));return new Bl(i,lt.empty(),e)}function yq(r){return new Bl(r.readTime,r.key,zp)}class Bl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Bl(bt.min(),lt.empty(),zp)}static max(){return new Bl(bt.max(),lt.empty(),zp)}}function vq(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=lt.comparator(r.documentKey,e.documentKey),t!==0?t:Pt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _q{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(r){if(r.code!==Fe.FAILED_PRECONDITION||r.message!==wq)throw r;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new je((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof je?t:je.resolve(t)}catch(t){return je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):je.reject(t)}static resolve(e){return new je((t,n)=>{t(e)})}static reject(e){return new je((t,n)=>{n(e)})}static waitFor(e){return new je((t,n)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&t()},u=>n(u))}),o=!0,s===i&&t()})}static or(e){let t=je.resolve(!1);for(const n of e)t=t.next(i=>i?je.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,s)=>{n.push(t.call(this,i,s))}),this.waitFor(n)}static mapArray(e,t){return new je((n,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next(f=>{o[h]=f,++l,l===s&&n(o)},f=>i(f))}})}static doWhile(e,t){return new je((n,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):n()};s()})}}function bq(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nf(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zv.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=-1;function Jv(r){return r==null}function G0(r){return r===0&&1/r==-1/0}function Sq(r){return typeof r=="number"&&Number.isInteger(r)&&!G0(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="";function Eq(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=dI(e)),e=xq(r.get(t),e);return dI(e)}function xq(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":t+="";break;case p3:t+="";break;default:t+=s}}return t}function dI(r){return r+p3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function eu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function m3(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new py(this.root,e,this.comparator,!1)}getReverseIterator(){return new py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new py(this.root,e,this.comparator,!0)}}class py{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??kr.RED,this.left=i??kr.EMPTY,this.right=s??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new kr(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return kr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,t,n,i,s){return this}insert(e,t,n){return new kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mI(this.data.getIterator())}getIteratorFrom(e){return new mI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class mI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new Wi([])}unionWith(e){let t=new lr(Or.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new g3("Invalid base64 string: "+s):s}}(e);return new Pr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const Tq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fl(r){if(en(!!r,39018),typeof r=="string"){let e=0;const t=Tq.exec(r);if(en(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Bn(r.seconds),nanos:Bn(r.nanos)}}function Bn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vl(r){return typeof r=="string"?Pr.fromBase64String(r):Pr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3="server_timestamp",v3="__type__",w3="__previous_value__",_3="__local_write_time__";function aA(r){return(r?.mapValue?.fields||{})[v3]?.stringValue===y3}function ew(r){const e=r.mapValue.fields[w3];return aA(e)?ew(e):e}function jp(r){const e=Fl(r.mapValue.fields[_3].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(e,t,n,i,s,o,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const K0="(default)";class Hp{constructor(e,t){this.projectId=e,this.database=t||K0}static empty(){return new Hp("","")}get isDefaultDatabase(){return this.database===K0}isEqual(e){return e instanceof Hp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="__type__",Cq="__max__",my={mapValue:{}},S3="__vector__",$0="value";function Ul(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?aA(r)?4:kq(r)?9007199254740991:Rq(r)?10:11:gt(28295,{value:r})}function Lo(r,e){if(r===e)return!0;const t=Ul(r);if(t!==Ul(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jp(r).isEqual(jp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Fl(i.timestampValue),l=Fl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,s){return Vl(i.bytesValue).isEqual(Vl(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,s){return Bn(i.geoPointValue.latitude)===Bn(s.geoPointValue.latitude)&&Bn(i.geoPointValue.longitude)===Bn(s.geoPointValue.longitude)}(r,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Bn(i.integerValue)===Bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Bn(i.doubleValue),l=Bn(s.doubleValue);return o===l?G0(o)===G0(l):isNaN(o)&&isNaN(l)}return!1}(r,e);case 9:return tf(r.arrayValue.values||[],e.arrayValue.values||[],Lo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(pI(o)!==pI(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Lo(o[u],l[u])))return!1;return!0}(r,e);default:return gt(52216,{left:r})}}function qp(r,e){return(r.values||[]).find(t=>Lo(t,e))!==void 0}function rf(r,e){if(r===e)return 0;const t=Ul(r),n=Ul(e);if(t!==n)return Pt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Bn(s.integerValue||s.doubleValue),u=Bn(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(r,e);case 3:return gI(r.timestampValue,e.timestampValue);case 4:return gI(jp(r),jp(e));case 5:return JE(r.stringValue,e.stringValue);case 6:return function(s,o){const l=Vl(s),u=Vl(o);return l.compareTo(u)}(r.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Pt(l[h],u[h]);if(f!==0)return f}return Pt(l.length,u.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Pt(Bn(s.latitude),Bn(o.latitude));return l!==0?l:Pt(Bn(s.longitude),Bn(o.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return yI(r.arrayValue,e.arrayValue);case 10:return function(s,o){const l=s.fields||{},u=o.fields||{},h=l[$0]?.arrayValue,f=u[$0]?.arrayValue,p=Pt(h?.values?.length||0,f?.values?.length||0);return p!==0?p:yI(h,f)}(r.mapValue,e.mapValue);case 11:return function(s,o){if(s===my.mapValue&&o===my.mapValue)return 0;if(s===my.mapValue)return 1;if(o===my.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=JE(u[p],f[p]);if(g!==0)return g;const y=rf(l[u[p]],h[f[p]]);if(y!==0)return y}return Pt(u.length,f.length)}(r.mapValue,e.mapValue);default:throw gt(23264,{he:t})}}function gI(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pt(r,e);const t=Fl(r),n=Fl(e),i=Pt(t.seconds,n.seconds);return i!==0?i:Pt(t.nanos,n.nanos)}function yI(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=rf(t[i],n[i]);if(s)return s}return Pt(t.length,n.length)}function sf(r){return ex(r)}function ex(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Fl(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Vl(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return lt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=ex(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${ex(t.fields[o])}`;return i+"}"}(r.mapValue):gt(61005,{value:r})}function l0(r){switch(Ul(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ew(r);return e?16+l0(e):16;case 5:return 2*r.stringValue.length;case 6:return Vl(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+l0(s),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return eu(n.fields,(s,o)=>{i+=s.length+l0(o)}),i}(r.mapValue);default:throw gt(13486,{value:r})}}function vI(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tx(r){return!!r&&"integerValue"in r}function lA(r){return!!r&&"arrayValue"in r}function wI(r){return!!r&&"nullValue"in r}function _I(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function u0(r){return!!r&&"mapValue"in r}function Rq(r){return(r?.mapValue?.fields||{})[b3]?.stringValue===S3}function bp(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return eu(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=bp(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bp(r.arrayValue.values[t]);return e}return{...r}}function kq(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Cq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!u0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bp(t)}setAll(e){let t=Or.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,n,i),n={},i=[],t=l.popLast()}o?n[l.lastSegment()]=bp(o):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());u0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];u0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){eu(t,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new wi(bp(this.value))}}function E3(r){const e=[];return eu(r.fields,(t,n)=>{const i=new Or([t]);if(u0(n)){const s=E3(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t,n,i,s,o,l){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new qr(e,0,bt.min(),bt.min(),bt.min(),wi.empty(),0)}static newFoundDocument(e,t,n,i){return new qr(e,1,t,bt.min(),n,i,0)}static newNoDocument(e,t){return new qr(e,2,t,bt.min(),bt.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new qr(e,3,t,bt.min(),bt.min(),wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,t){this.position=e,this.inclusive=t}}function bI(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],o=r.position[i];if(s.field.isKeyField()?n=lt.comparator(lt.fromName(o.referenceValue),t.key):n=rf(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function SI(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Lo(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,t="asc"){this.field=e,this.dir=t}}function Dq(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{}class Xn extends x3{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Oq(e,t,n):t==="array-contains"?new Pq(e,n):t==="in"?new Lq(e,n):t==="not-in"?new Bq(e,n):t==="array-contains-any"?new Fq(e,n):new Xn(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Nq(e,n):new Mq(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rf(t,this.value)):t!==null&&Ul(this.value)===Ul(t)&&this.matchesComparison(rf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Us extends x3{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Us(e,t)}matches(e){return T3(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function T3(r){return r.op==="and"}function A3(r){return Iq(r)&&T3(r)}function Iq(r){for(const e of r.filters)if(e instanceof Us)return!1;return!0}function nx(r){if(r instanceof Xn)return r.field.canonicalString()+r.op.toString()+sf(r.value);if(A3(r))return r.filters.map(e=>nx(e)).join(",");{const e=r.filters.map(t=>nx(t)).join(",");return`${r.op}(${e})`}}function C3(r,e){return r instanceof Xn?function(n,i){return i instanceof Xn&&n.op===i.op&&n.field.isEqual(i.field)&&Lo(n.value,i.value)}(r,e):r instanceof Us?function(n,i){return i instanceof Us&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,l)=>s&&C3(o,i.filters[l]),!0):!1}(r,e):void gt(19439)}function R3(r){return r instanceof Xn?function(t){return`${t.field.canonicalString()} ${t.op} ${sf(t.value)}`}(r):r instanceof Us?function(t){return t.op.toString()+" {"+t.getFilters().map(R3).join(" ,")+"}"}(r):"Filter"}class Oq extends Xn{constructor(e,t,n){super(e,t,n),this.key=lt.fromName(n.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Nq extends Xn{constructor(e,t){super(e,"in",t),this.keys=k3("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Mq extends Xn{constructor(e,t){super(e,"not-in",t),this.keys=k3("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function k3(r,e){return(e.arrayValue?.values||[]).map(t=>lt.fromName(t.referenceValue))}class Pq extends Xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lA(t)&&qp(t.arrayValue,this.value)}}class Lq extends Xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qp(this.value.arrayValue,t)}}class Bq extends Xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qp(this.value.arrayValue,t)}}class Fq extends Xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>qp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq{constructor(e,t=null,n=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function EI(r,e=null,t=[],n=[],i=null,s=null,o=null){return new Vq(r,e,t,n,i,s,o)}function uA(r){const e=St(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>nx(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Jv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>sf(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>sf(n)).join(",")),e.Te=t}return e.Te}function cA(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Dq(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!C3(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!SI(r.startAt,e.startAt)&&SI(r.endAt,e.endAt)}function rx(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t=null,n=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Uq(r,e,t,n,i,s,o,l){return new Tm(r,e,t,n,i,s,o,l)}function D3(r){return new Tm(r)}function xI(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function I3(r){return r.collectionGroup!==null}function Sp(r){const e=St(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lr(Or.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new X0(s,n))}),t.has(Or.keyField().canonicalString())||e.Ie.push(new X0(Or.keyField(),n))}return e.Ie}function ko(r){const e=St(r);return e.Ee||(e.Ee=zq(e,Sp(r))),e.Ee}function zq(r,e){if(r.limitType==="F")return EI(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new X0(i.field,s)});const t=r.endAt?new Y0(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Y0(r.startAt.position,r.startAt.inclusive):null;return EI(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function ix(r,e){const t=r.filters.concat([e]);return new Tm(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function sx(r,e,t){return new Tm(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function tw(r,e){return cA(ko(r),ko(e))&&r.limitType===e.limitType}function O3(r){return`${uA(ko(r))}|lt:${r.limitType}`}function wh(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>R3(i)).join(", ")}]`),Jv(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>sf(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>sf(i)).join(",")),`Target(${n})`}(ko(r))}; limitType=${r.limitType})`}function nw(r,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):lt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,e)&&function(n,i){for(const s of Sp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(o,l,u){const h=bI(o,l,u);return o.inclusive?h<=0:h<0}(n.startAt,Sp(n),i)||n.endAt&&!function(o,l,u){const h=bI(o,l,u);return o.inclusive?h>=0:h>0}(n.endAt,Sp(n),i))}(r,e)}function jq(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function N3(r){return(e,t)=>{let n=!1;for(const i of Sp(r)){const s=Hq(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Hq(r,e,t){const n=r.field.isKeyField()?lt.comparator(e.key,t.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?rf(u,h):gt(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){eu(this.inner,(t,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return m3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qq=new Rn(lt.comparator);function ka(){return qq}const M3=new Rn(lt.comparator);function op(...r){let e=M3;for(const t of r)e=e.insert(t.key,t);return e}function P3(r){let e=M3;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Gu(){return Ep()}function L3(){return Ep()}function Ep(){return new bc(r=>r.toString(),(r,e)=>r.isEqual(e))}const Wq=new Rn(lt.comparator),Gq=new lr(lt.comparator);function Lt(...r){let e=Gq;for(const t of r)e=e.add(t);return e}const Kq=new lr(Pt);function $q(){return Kq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:G0(e)?"-0":e}}function B3(r){return{integerValue:""+r}}function Yq(r,e){return Sq(e)?B3(e):hA(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(){this._=void 0}}function Xq(r,e,t){return r instanceof Q0?function(i,s){const o={fields:{[v3]:{stringValue:y3},[_3]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&aA(s)&&(s=ew(s)),s&&(o.fields[w3]=s),{mapValue:o}}(t,e):r instanceof Wp?V3(r,e):r instanceof Gp?U3(r,e):function(i,s){const o=F3(i,s),l=TI(o)+TI(i.Ae);return tx(o)&&tx(i.Ae)?B3(l):hA(i.serializer,l)}(r,e)}function Qq(r,e,t){return r instanceof Wp?V3(r,e):r instanceof Gp?U3(r,e):t}function F3(r,e){return r instanceof Z0?function(n){return tx(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Q0 extends rw{}class Wp extends rw{constructor(e){super(),this.elements=e}}function V3(r,e){const t=z3(e);for(const n of r.elements)t.some(i=>Lo(i,n))||t.push(n);return{arrayValue:{values:t}}}class Gp extends rw{constructor(e){super(),this.elements=e}}function U3(r,e){let t=z3(e);for(const n of r.elements)t=t.filter(i=>!Lo(i,n));return{arrayValue:{values:t}}}class Z0 extends rw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function TI(r){return Bn(r.integerValue||r.doubleValue)}function z3(r){return lA(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Zq(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Wp&&i instanceof Wp||n instanceof Gp&&i instanceof Gp?tf(n.elements,i.elements,Lo):n instanceof Z0&&i instanceof Z0?Lo(n.Ae,i.Ae):n instanceof Q0&&i instanceof Q0}(r.transform,e.transform)}class Jq{constructor(e,t){this.version=e,this.transformResults=t}}class Do{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Do}static exists(e){return new Do(void 0,e)}static updateTime(e){return new Do(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c0(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class iw{}function j3(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new q3(r.key,Do.none()):new Am(r.key,r.data,Do.none());{const t=r.data,n=wi.empty();let i=new lr(Or.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new tu(r.key,n,new Wi(i.toArray()),Do.none())}}function eW(r,e,t){r instanceof Am?function(i,s,o){const l=i.value.clone(),u=CI(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(r,e,t):r instanceof tu?function(i,s,o){if(!c0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=CI(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(H3(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(r,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function xp(r,e,t,n){return r instanceof Am?function(s,o,l,u){if(!c0(s.precondition,o))return l;const h=s.value.clone(),f=RI(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(r,e,t,n):r instanceof tu?function(s,o,l,u){if(!c0(s.precondition,o))return l;const h=RI(s.fieldTransforms,u,o),f=o.data;return f.setAll(H3(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(r,e,t,n):function(s,o,l){return c0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(r,e,t)}function tW(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=F3(n.transform,i||null);s!=null&&(t===null&&(t=wi.empty()),t.set(n.field,s))}return t||null}function AI(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&tf(n,i,(s,o)=>Zq(s,o))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Am extends iw{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class tu extends iw{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function H3(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function CI(r,e,t){const n=new Map;en(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const s=r[i],o=s.transform,l=e.data.field(s.field);n.set(s.field,Qq(o,l,t[i]))}return n}function RI(r,e,t){const n=new Map;for(const i of r){const s=i.transform,o=t.data.field(i.field);n.set(i.field,Xq(s,o,e))}return n}class q3 extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nW extends iw{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&eW(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=xp(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=xp(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=L3();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(i.key)?null:l;const u=j3(o,l);u!==null&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(bt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lt())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(t,n)=>AI(t,n))&&tf(this.baseMutations,e.baseMutations,(t,n)=>AI(t,n))}}class fA{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){en(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return Wq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new fA(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,qt;function oW(r){switch(r){case Fe.OK:return gt(64938);case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function W3(r){if(r===void 0)return Ra("GRPC error has no .code"),Fe.UNKNOWN;switch(r){case Gn.OK:return Fe.OK;case Gn.CANCELLED:return Fe.CANCELLED;case Gn.UNKNOWN:return Fe.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return Fe.INTERNAL;case Gn.UNAVAILABLE:return Fe.UNAVAILABLE;case Gn.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Gn.NOT_FOUND:return Fe.NOT_FOUND;case Gn.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Gn.ABORTED:return Fe.ABORTED;case Gn.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Gn.DATA_LOSS:return Fe.DATA_LOSS;default:return gt(39323,{code:r})}}(qt=Gn||(Gn={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=new Il([4294967295,4294967295],0);function kI(r){const e=aW().encode(r),t=new i3;return t.update(e),new Uint8Array(t.digest())}function DI(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Il([t,n],0),new Il([i,s],0)]}class dA{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ap(`Invalid padding: ${t}`);if(n<0)throw new ap(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ap(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new ap(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Il.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Il.fromNumber(n)));return i.compare(lW)===1&&(i=new Il([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=kI(e),[n,i]=DI(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new dA(s,i,t);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const t=kI(e),[n,i]=DI(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ap extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Cm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sw(bt.min(),i,new Rn(Pt),ka(),Lt())}}class Cm{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Cm(n,t,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class G3{constructor(e,t){this.targetId=e,this.Ce=t}}class K3{constructor(e,t,n=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class II{constructor(){this.ve=0,this.Fe=OI(),this.Me=Pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),t=Lt(),n=Lt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:gt(38017,{changeType:s})}}),new Cm(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=OI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,en(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class uW{constructor(e){this.Ge=e,this.ze=new Map,this.je=ka(),this.Je=gy(),this.He=gy(),this.Ye=new Rn(Pt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(rx(s))if(n===0){const o=new lt(s.path);this.et(t,o,qr.newNoDocument(o,bt.min()))}else en(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let o,l;try{o=Vl(n).toUint8Array()}catch(u){if(u instanceof g3)return ef("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new dA(o,i,s)}catch(u){return ef(u instanceof ap?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(t,s,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&rx(l.target)){const u=new lt(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,qr.newNoDocument(u,e))}s.Be&&(t.set(o,s.ke()),s.qe())}});let n=Lt();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new sw(e,t,this.Ye,this.je,n);return this.je=ka(),this.Je=gy(),this.He=gy(),this.Ye=new Rn(Pt),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new II,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new lr(Pt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new lr(Pt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||et("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new II),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gy(){return new Rn(lt.comparator)}function OI(){return new Rn(lt.comparator)}const cW={asc:"ASCENDING",desc:"DESCENDING"},hW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fW={and:"AND",or:"OR"};class dW{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ox(r,e){return r.useProto3Json||Jv(e)?e:{value:e}}function J0(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $3(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function pW(r,e){return J0(r,e.toTimestamp())}function Io(r){return en(!!r,49232),bt.fromTimestamp(function(t){const n=Fl(t);return new wn(n.seconds,n.nanos)}(r))}function pA(r,e){return ax(r,e).canonicalString()}function ax(r,e){const t=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Y3(r){const e=yn.fromString(r);return en(e5(e),10190,{key:e.toString()}),e}function lx(r,e){return pA(r.databaseId,e.path)}function Q_(r,e){const t=Y3(e);if(t.get(1)!==r.databaseId.projectId)throw new Ze(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ze(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new lt(Q3(t))}function X3(r,e){return pA(r.databaseId,e)}function mW(r){const e=Y3(r);return e.length===4?yn.emptyPath():Q3(e)}function ux(r){return new yn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Q3(r){return en(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function NI(r,e,t){return{name:lx(r,e),fields:t.value.mapValue.fields}}function gW(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:gt(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(en(f===void 0||typeof f=="string",58123),Pr.fromBase64String(f||"")):(en(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Pr.fromUint8Array(f||new Uint8Array))}(r,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?Fe.UNKNOWN:W3(h.code);return new Ze(f,h.message||"")}(o);t=new K3(n,i,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Q_(r,n.document.name),s=Io(n.document.updateTime),o=n.document.createTime?Io(n.document.createTime):bt.min(),l=new wi({mapValue:{fields:n.document.fields}}),u=qr.newFoundDocument(i,s,o,l),h=n.targetIds||[],f=n.removedTargetIds||[];t=new h0(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Q_(r,n.document),s=n.readTime?Io(n.readTime):bt.min(),o=qr.newNoDocument(i,s),l=n.removedTargetIds||[];t=new h0([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Q_(r,n.document),s=n.removedTargetIds||[];t=new h0([],s,i,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new sW(i,s),l=n.targetId;t=new G3(l,o)}}return t}function yW(r,e){let t;if(e instanceof Am)t={update:NI(r,e.key,e.value)};else if(e instanceof q3)t={delete:lx(r,e.key)};else if(e instanceof tu)t={update:NI(r,e.key,e.data),updateMask:AW(e.fieldMask)};else{if(!(e instanceof nW))return gt(16599,{Vt:e.type});t={verify:lx(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof Q0)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Z0)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw gt(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:pW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:gt(27497)}(r,e.precondition)),t}function vW(r,e){return r&&r.length>0?(en(e!==void 0,14353),r.map(t=>function(i,s){let o=i.updateTime?Io(i.updateTime):Io(s);return o.isEqual(bt.min())&&(o=Io(s)),new Jq(o,i.transformResults||[])}(t,e))):[]}function wW(r,e){return{documents:[X3(r,e.path)]}}function _W(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=X3(r,i);const s=function(h){if(h.length!==0)return J3(Us.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:_h(g.field),direction:EW(g.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=ox(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:t,parent:i}}function bW(r){let e=mW(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){en(n===1,65062);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(p){const g=Z3(p);return g instanceof Us&&A3(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(g=>function(w){return new X0(bh(w.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(g))}(t.orderBy));let l=null;t.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,Jv(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new Y0(y,g)}(t.startAt));let h=null;return t.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new Y0(y,g)}(t.endAt)),Uq(e,i,o,s,l,"F",u,h)}function SW(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Z3(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=bh(t.unaryFilter.field);return Xn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=bh(t.unaryFilter.field);return Xn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bh(t.unaryFilter.field);return Xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bh(t.unaryFilter.field);return Xn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(t){return Xn.create(bh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Us.create(t.compositeFilter.filters.map(n=>Z3(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(t.compositeFilter.op))}(r):gt(30097,{filter:r})}function EW(r){return cW[r]}function xW(r){return hW[r]}function TW(r){return fW[r]}function _h(r){return{fieldPath:r.canonicalString()}}function bh(r){return Or.fromServerFormat(r.fieldPath)}function J3(r){return r instanceof Xn?function(t){if(t.op==="=="){if(_I(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NAN"}};if(wI(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_I(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NOT_NAN"}};if(wI(t.value))return{unaryFilter:{field:_h(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_h(t.field),op:xW(t.op),value:t.value}}}(r):r instanceof Us?function(t){const n=t.getFilters().map(i=>J3(i));return n.length===1?n[0]:{compositeFilter:{op:TW(t.op),filters:n}}}(r):gt(54877,{filter:r})}function AW(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function e5(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,t,n,i,s=bt.min(),o=bt.min(),l=Pr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new wl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.yt=e}}function RW(r){const e=bW({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(){this.Cn=new DW}addToCollectionParentIndex(e,t){return this.Cn.add(t),je.resolve()}getCollectionParents(e,t){return je.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return je.resolve()}deleteFieldIndex(e,t){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,t){return je.resolve()}getDocumentsMatchingTarget(e,t){return je.resolve(null)}getIndexType(e,t){return je.resolve(0)}getFieldIndexes(e,t){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,t){return je.resolve(Bl.min())}getMinOffsetFromCollectionGroup(e,t){return je.resolve(Bl.min())}updateCollectionGroup(e,t,n){return je.resolve()}updateIndexEntries(e,t){return je.resolve()}}class DW{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new lr(yn.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new lr(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},t5=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(t5,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new of(0)}static cr(){return new of(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="LruGarbageCollector",IW=1048576;function LI([r,e],[t,n]){const i=Pt(r,t);return i===0?Pt(e,n):i}class OW{constructor(e){this.Ir=e,this.buffer=new lr(LI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();LI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class NW{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){et(PI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nf(t)?et(PI,"Ignoring IndexedDB error during garbage collection: ",t):await Of(t)}await this.Vr(3e5)})}}class MW{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return je.resolve(Zv.ce);const n=new OW(t);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(MI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MI):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,s,o,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(n=p,l=Date.now(),this.removeTargets(e,n,t))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(p=>(h=Date.now(),vh()<=Mt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function PW(r,e){return new MW(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(){this.changes=new bc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?je.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BW{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&xp(n.mutation,i,Wi.empty(),wn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Lt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Lt()){const i=Gu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(s=>{let o=op();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const n=Gu();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Lt()))}populateOverlays(e,t,n){const i=[];return n.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,n,i){let s=ka();const o=Ep(),l=function(){return Ep()}();return t.forEach((u,h)=>{const f=n.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof tu)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),xp(f.mutation,h,f.mutation.getFieldMask(),wn.now())):o.set(h.key,Wi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>l.set(h,new BW(f,o.get(h)??null))),l))}recalculateAndSaveOverlays(e,t){const n=Ep();let i=new Rn((o,l)=>o-l),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=t.get(u);if(h===null)return;let f=n.get(u)||Wi.empty();f=l.applyToLocalView(h,f),n.set(u,f);const p=(i.get(l.batchId)||Lt()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=L3();f.forEach(g=>{if(!s.has(g)){const y=j3(t.get(g),n.get(g));y!==null&&p.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return je.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(o){return lt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I3(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):je.resolve(Gu());let l=zp,u=s;return o.next(h=>je.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?je.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Lt())).next(f=>({batchId:l,changes:P3(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(n=>{let i=op();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let o=op();return this.indexManager.getCollectionParents(e,s).next(l=>je.forEach(l,u=>{const h=function(p,g){return new Tm(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i))).next(o=>{s.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,qr.newInvalidDocument(f)))});let l=op();return o.forEach((u,h)=>{const f=s.get(u);f!==void 0&&xp(f.mutation,h,Wi.empty(),wn.now()),nw(t,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return je.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Io(i.createTime)}}(t)),je.resolve()}getNamedQuery(e,t){return je.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:RW(i.bundledQuery),readTime:Io(i.readTime)}}(t)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(){this.overlays=new Rn(lt.comparator),this.qr=new Map}getOverlay(e,t){return je.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Gu();return je.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,s)=>{this.St(e,t,s)}),je.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),je.resolve()}getOverlaysForCollection(e,t,n){const i=Gu(),s=t.length+1,o=new lt(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return je.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new Rn((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let f=s.get(h.largestBatchId);f===null&&(f=Gu(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Gu(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return je.resolve(l)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new iW(t,n));let s=this.qr.get(t);s===void 0&&(s=Lt(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.Qr=new lr(pr.$r),this.Ur=new lr(pr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new pr(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new pr(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new lt(new yn([])),n=new pr(t,e),i=new pr(t,e+1),s=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new lt(new yn([])),n=new pr(t,e),i=new pr(t,e+1);let s=Lt();return this.Ur.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new pr(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class pr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return lt.comparator(e.key,t.key)||Pt(e.Yr,t.Yr)}static Kr(e,t){return Pt(e.Yr,t.Yr)||lt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new lr(pr.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new rW(s,t,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new pr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,t){return je.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?oA:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pr(t,0),i=new pr(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new lr(Pt);return t.forEach(i=>{const s=new pr(i,0),o=new pr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{n=n.add(l.Yr)})}),je.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;lt.isDocumentKey(s)||(s=s.child(""));const o=new pr(new lt(s),0);let l=new lr(Pt);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Yr)),!0)},o),je.resolve(this.ti(l))}ti(e){const t=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){en(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return je.forEach(t.mutations,i=>{const s=new pr(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new pr(t,0),i=this.Zr.firstAfterOrEqual(n);return je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e){this.ri=e,this.docs=function(){return new Rn(lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return je.resolve(n?n.document.mutableCopy():qr.newInvalidDocument(t))}getEntries(e,t){let n=ka();return t.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():qr.newInvalidDocument(i))}),je.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=ka();const o=t.path,l=new lt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||vq(yq(f),n)<=0||(i.has(f.key)||nw(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(e,t,n,i){gt(9500)}ii(e,t){return je.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new qW(this)}getSize(e){return je.resolve(this.size)}}class qW extends LW{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),je.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e){this.persistence=e,this.si=new bc(t=>uA(t),cA),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new mA,this.targetCount=0,this.ai=of.ur()}forEachTarget(e,t){return this.si.forEach((n,i)=>t(i)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),je.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new of(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,je.resolve()}updateTargetData(e,t){return this.Pr(t),je.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),je.waitFor(s).next(()=>i)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return je.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),je.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),je.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),je.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return je.resolve(n)}containsKey(e,t){return je.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,t){this.ui={},this.overlays={},this.ci=new Zv(0),this.li=!1,this.li=!0,this.hi=new zW,this.referenceDelegate=e(this),this.Pi=new WW(this),this.indexManager=new kW,this.remoteDocumentCache=function(i){return new HW(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new CW(t),this.Ii=new VW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new UW,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new jW(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){et("MemoryPersistence","Starting transaction:",e);const i=new GW(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return je.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class GW extends _q{constructor(e){super(),this.currentSequenceNumber=e}}class gA{constructor(e){this.persistence=e,this.Ri=new mA,this.Vi=null}static mi(e){return new gA(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),je.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),je.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),je.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,n=>{const i=lt.fromPath(n);return this.gi(e,i).next(s=>{s||t.removeEntry(i,bt.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return je.or([()=>je.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class ev{constructor(e,t){this.persistence=e,this.pi=new bc(n=>Eq(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=PW(this,t)}static mi(e,t){return new ev(e,t)}Ei(){}di(e){return je.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return je.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?je.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,t).next(l=>{l||(n++,s.removeEntry(o,bt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=l0(e.data.value)),t}br(e,t,n){return je.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return je.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=Lt(),i=Lt();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new yA(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return x7()?8:bq(Yr())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.ys(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,t,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new KW;return this.Ss(e,t,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,t,o,l.size)})}).next(()=>s.result)}bs(e,t,n,i){return n.documentReadCount<this.fs?(vh()<=Mt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",wh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(vh()<=Mt.DEBUG&&et("QueryEngine","Query:",wh(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(vh()<=Mt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",wh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ko(t))):je.resolve())}ys(e,t){if(xI(t))return je.resolve(null);let n=ko(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=sx(t,null,"F"),n=ko(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Lt(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const h=this.Ds(t,l);return this.Cs(t,h,o,u.readTime)?this.ys(e,sx(t,null,"F")):this.vs(e,h,t,u)}))})))}ws(e,t,n,i){return xI(t)||i.isEqual(bt.min())?je.resolve(null):this.ps.getDocuments(e,n).next(s=>{const o=this.Ds(t,s);return this.Cs(t,o,n,i)?je.resolve(null):(vh()<=Mt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),wh(t)),this.vs(e,o,t,gq(i,zp)).next(l=>l))})}Ds(e,t){let n=new lr(N3(e));return t.forEach((i,s)=>{nw(e,s)&&(n=n.add(s))}),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,n){return vh()<=Mt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",wh(t)),this.ps.getDocumentsMatchingQuery(e,t,Bl.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="LocalStore",YW=3e8;class XW{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Rn(Pt),this.xs=new bc(s=>uA(s),cA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new FW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function QW(r,e,t,n){return new XW(r,e,t,n)}async function r5(r,e){const t=St(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let u=Lt();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(n,u).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:l}))})})}function ZW(r,e){const t=St(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,g=p.keys();let y=je.resolve();return g.forEach(w=>{y=y.next(()=>f.getEntry(u,w)).next(_=>{const E=h.docVersions.get(w);en(E!==null,48541),_.version.compareTo(E)<0&&(p.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),f.addEntry(_)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=Lt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function i5(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function JW(r,e){const t=St(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const l=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;l.push(t.Pi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(s,f.addedDocuments,p)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Pr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,n)),i=i.insert(p,y),function(_,E,b){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=YW?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,y,f)&&l.push(t.Pi.updateTargetData(s,y))});let u=ka(),h=Lt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(eG(s,o,e.documentUpdates).next(f=>{u=f.ks,h=f.qs})),!n.isEqual(bt.min())){const f=t.Pi.getLastRemoteSnapshotVersion(s).next(p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(f)}return je.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(t.Ms=i,s))}function eG(r,e,t){let n=Lt(),i=Lt();return t.forEach(s=>n=n.add(s)),e.getEntries(r,n).next(s=>{let o=ka();return t.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(bt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):et(vA,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:o,qs:i}})}function tG(r,e){const t=St(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=oA),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function nG(r,e){const t=St(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Pi.getTargetData(n,e).next(s=>s?(i=s,je.resolve(i)):t.Pi.allocateTargetId(n).next(o=>(i=new wl(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function cx(r,e,t){const n=St(r),i=n.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nf(o))throw o;et(vA,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function BI(r,e,t){const n=St(r);let i=bt.min(),s=Lt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const p=St(u),g=p.xs.get(f);return g!==void 0?je.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,f)}(n,o,ko(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,t?i:bt.min(),t?s:Lt())).next(l=>(rG(n,jq(e),l),{documents:l,Qs:s})))}function rG(r,e,t){let n=r.Os.get(e)||bt.min();t.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.Os.set(e,n)}class FI{constructor(){this.activeTargetIds=$q()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iG{constructor(){this.Mo=new FI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FI,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="ConnectivityMonitor";class UI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){et(VI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){et(VI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy=null;function hx(){return yy===null?yy=function(){return 268435456+Math.round(2147483648*Math.random())}():yy++,"0x"+yy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="RestConnection",oG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===K0?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,s){const o=hx(),l=this.zo(e,t.toUriEncodedString());et(Z_,`Sending RPC '${e}' ${o}:`,l,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:h}=new URL(l),f=Rf(h);return this.Jo(e,l,u,n,f).then(p=>(et(Z_,`Received RPC '${e}' ${o}: `,p),p),p=>{throw ef(Z_,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",n),p})}Ho(e,t,n,i,s,o){return this.Go(e,t,n,i,s)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+If}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,t){const n=oG[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class uG extends aG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,s){const o=hx();return new Promise((l,u)=>{const h=new s3;h.setWithCredentials(!0),h.listenOnce(o3.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case a0.NO_ERROR:const p=h.getResponseJson();et(Ur,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case a0.TIMEOUT:et(Ur,`RPC '${e}' ${o} timed out`),u(new Ze(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case a0.HTTP_ERROR:const g=h.getStatus();if(et(Ur,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const w=y?.error;if(w&&w.status&&w.message){const _=function(b){const A=b.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(A)>=0?A:Fe.UNKNOWN}(w.status);u(new Ze(_,w.message))}else u(new Ze(Fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ze(Fe.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{et(Ur,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);et(Ur,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",f,n,15)})}T_(e,t,n){const i=hx(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=u3(),l=l3(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const f=s.join("");et(Ur,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let g=!1,y=!1;const w=new lG({Yo:E=>{y?et(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(et(Ur,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),et(Ur,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),_=(E,b,A)=>{E.listen(b,T=>{try{A(T)}catch(x){setTimeout(()=>{throw x},0)}})};return _(p,sp.EventType.OPEN,()=>{y||(et(Ur,`RPC '${e}' stream ${i} transport opened.`),w.o_())}),_(p,sp.EventType.CLOSE,()=>{y||(y=!0,et(Ur,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(p))}),_(p,sp.EventType.ERROR,E=>{y||(y=!0,ef(Ur,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),w.a_(new Ze(Fe.UNAVAILABLE,"The operation could not be completed")))}),_(p,sp.EventType.MESSAGE,E=>{if(!y){const b=E.data[0];en(!!b,16349);const A=b,T=A?.error||A[0]?.error;if(T){et(Ur,`RPC '${e}' stream ${i} received error:`,T);const x=T.status;let D=function(P){const C=Gn[P];if(C!==void 0)return W3(C)}(x),M=T.message;D===void 0&&(D=Fe.INTERNAL,M="Unknown error status: "+x+" with message "+T.message),y=!0,w.a_(new Ze(D,M)),p.close()}else et(Ur,`RPC '${e}' stream ${i} received:`,b),w.u_(b)}}),_(l,a3.STAT_EVENT,E=>{E.stat===ZE.PROXY?et(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ZE.NOPROXY&&et(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.__()},0),w}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function J_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(r){return new dW(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,t,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="PersistentStream";class o5{constructor(e,t,n,i,s,o,l,u){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s5(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Fe.RESOURCE_EXHAUSTED?(Ra(t.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===t&&this.G_(n,i)},n=>{e(()=>{const i=new Ze(Fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return et(zI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(et(zI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cG extends o5{constructor(e,t,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=gW(this.serializer,e),n=function(s){if(!("targetChange"in s))return bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?Io(o.readTime):bt.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=ux(this.serializer),t.addTarget=function(s,o){let l;const u=o.target;if(l=rx(u)?{documents:wW(s,u)}:{query:_W(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=$3(s,o.resumeToken);const h=ox(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(bt.min())>0){l.readTime=J0(s,o.snapshotVersion.toTimestamp());const h=ox(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const n=SW(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=ux(this.serializer),t.removeTarget=e,this.q_(t)}}class hG extends o5{constructor(e,t,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return en(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,en(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){en(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=vW(e.writeResults,e.commitTime),n=Io(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=ux(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>yW(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fG{}class dG extends fG{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ze(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,ax(t,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Fe.UNKNOWN,s.toString())})}Ho(e,t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,ax(t,n),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Fe.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class pG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ra(t),this.aa=!1):et("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc="RemoteStore";class mG{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Sc(this)&&(et(dc,"Restarting streams for network reachability change."),await async function(u){const h=St(u);h.Ea.add(4),await Rm(h),h.Ra.set("Unknown"),h.Ea.delete(4),await aw(h)}(this))})}),this.Ra=new pG(n,i)}}async function aw(r){if(Sc(r))for(const e of r.da)await e(!0)}async function Rm(r){for(const e of r.da)await e(!1)}function a5(r,e){const t=St(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),SA(t)?bA(t):Mf(t).O_()&&_A(t,e))}function wA(r,e){const t=St(r),n=Mf(t);t.Ia.delete(e),n.O_()&&l5(t,e),t.Ia.size===0&&(n.O_()?n.L_():Sc(t)&&t.Ra.set("Unknown"))}function _A(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mf(r).Y_(e)}function l5(r,e){r.Va.Ue(e),Mf(r).Z_(e)}function bA(r){r.Va=new uW({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mf(r).start(),r.Ra.ua()}function SA(r){return Sc(r)&&!Mf(r).x_()&&r.Ia.size>0}function Sc(r){return St(r).Ea.size===0}function u5(r){r.Va=void 0}async function gG(r){r.Ra.set("Online")}async function yG(r){r.Ia.forEach((e,t)=>{_A(r,e)})}async function vG(r,e){u5(r),SA(r)?(r.Ra.ha(e),bA(r)):r.Ra.set("Unknown")}async function wG(r,e,t){if(r.Ra.set("Online"),e instanceof K3&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(r,e)}catch(n){et(dc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await tv(r,n)}else if(e instanceof h0?r.Va.Ze(e):e instanceof G3?r.Va.st(e):r.Va.tt(e),!t.isEqual(bt.min()))try{const n=await i5(r.localStore);t.compareTo(n)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Pr.EMPTY_BYTE_STRING,f.snapshotVersion)),l5(s,u);const p=new wl(f.target,u,h,f.sequenceNumber);_A(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(r,t)}catch(n){et(dc,"Failed to raise snapshot:",n),await tv(r,n)}}async function tv(r,e,t){if(!Nf(e))throw e;r.Ea.add(1),await Rm(r),r.Ra.set("Offline"),t||(t=()=>i5(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{et(dc,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await aw(r)})}function c5(r,e){return e().catch(t=>tv(r,t,e))}async function lw(r){const e=St(r),t=zl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:oA;for(;_G(e);)try{const i=await tG(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,bG(e,i)}catch(i){await tv(e,i)}h5(e)&&f5(e)}function _G(r){return Sc(r)&&r.Ta.length<10}function bG(r,e){r.Ta.push(e);const t=zl(r);t.O_()&&t.X_&&t.ea(e.mutations)}function h5(r){return Sc(r)&&!zl(r).x_()&&r.Ta.length>0}function f5(r){zl(r).start()}async function SG(r){zl(r).ra()}async function EG(r){const e=zl(r);for(const t of r.Ta)e.ea(t.mutations)}async function xG(r,e,t){const n=r.Ta.shift(),i=fA.from(n,e,t);await c5(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await lw(r)}async function TG(r,e){e&&zl(r).X_&&await async function(n,i){if(function(o){return oW(o)&&o!==Fe.ABORTED}(i.code)){const s=n.Ta.shift();zl(n).B_(),await c5(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lw(n)}}(r,e),h5(r)&&f5(r)}async function jI(r,e){const t=St(r);t.asyncQueue.verifyOperationInProgress(),et(dc,"RemoteStore received new credentials");const n=Sc(t);t.Ea.add(3),await Rm(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await aw(t)}async function AG(r,e){const t=St(r);e?(t.Ea.delete(2),await aw(t)):e||(t.Ea.add(2),await Rm(t),t.Ra.set("Unknown"))}function Mf(r){return r.ma||(r.ma=function(t,n,i){const s=St(t);return s.sa(),new cG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Xo:gG.bind(null,r),t_:yG.bind(null,r),r_:vG.bind(null,r),H_:wG.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),SA(r)?bA(r):r.Ra.set("Unknown")):(await r.ma.stop(),u5(r))})),r.ma}function zl(r){return r.fa||(r.fa=function(t,n,i){const s=St(t);return s.sa(),new hG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:SG.bind(null,r),r_:TG.bind(null,r),ta:EG.bind(null,r),na:xG.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await lw(r)):(await r.fa.stop(),r.Ta.length>0&&(et(dc,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ol,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const o=Date.now()+n,l=new EA(e,t,o,i,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xA(r,e){if(Ra("AsyncQueue",`${e}: ${r}`),Nf(r))return new Ze(Fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{static emptySet(e){return new Lh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||lt.comparator(t.key,n.key):(t,n)=>lt.comparator(t.key,n.key),this.keyedMap=op(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Lh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.ga=new Rn(lt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class af{constructor(e,t,n,i,s,o,l,u,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,i,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new af(e,t,Lh.emptySet(t),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class RG{constructor(){this.queries=qI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=St(t),s=i.queries;i.queries=qI(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(n)})})(this,new Ze(Fe.ABORTED,"Firestore shutting down"))}}function qI(){return new bc(r=>O3(r),tw)}async function kG(r,e){const t=St(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new CG,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const l=xA(o,`Initialization of query '${wh(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&TA(t)}async function DG(r,e){const t=St(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function IG(r,e){const t=St(r);let n=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&TA(t)}function OG(r,e,t){const n=St(r),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);n.queries.delete(e)}function TA(r){r.Ca.forEach(e=>{e.next()})}var fx,WI;(WI=fx||(fx={})).Ma="default",WI.Cache="cache";class NG{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new af(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.key=e}}class p5{constructor(e){this.key=e}}class MG{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=N3(e),this.tu=new Lh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new HI,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),y=nw(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;g&&y?g.data.isEqual(y.data)?w!==_&&(n.track({type:3,doc:y}),E=!0):this.su(g,y)||(n.track({type:2,doc:y}),E=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(l=!0)):!g&&y?(n.track({type:0,doc:y}),E=!0):g&&!y&&(n.track({type:1,doc:g}),E=!0,(u||h)&&(l=!0)),E&&(y?(o=o.add(y),s=_?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:l,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(y,w){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:E})}};return _(y)-_(w)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(n),i=i??!1;const l=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new af(this.query,e.tu,s,o,e.mutatedKeys,u===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new HI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new p5(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new d5(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Lt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return af.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AA="SyncEngine";class PG{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class LG{constructor(e){this.key=e,this.hu=!1}}class BG{constructor(e,t,n,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new bc(l=>O3(l),tw),this.Iu=new Map,this.Eu=new Set,this.du=new Rn(lt.comparator),this.Au=new Map,this.Ru=new mA,this.Vu={},this.mu=new Map,this.fu=of.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FG(r,e,t=!0){const n=_5(r);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await m5(n,e,t,!0),i}async function VG(r,e){const t=_5(r);await m5(t,e,!0,!1)}async function m5(r,e,t,n){const i=await nG(r.localStore,ko(e)),s=i.targetId,o=r.sharedClientState.addLocalQueryTarget(s,t);let l;return n&&(l=await UG(r,e,s,o==="current",i.resumeToken)),r.isPrimaryClient&&t&&a5(r.remoteStore,i),l}async function UG(r,e,t,n,i){r.pu=(p,g,y)=>async function(_,E,b,A){let T=E.view.ru(b);T.Cs&&(T=await BI(_.localStore,E.query,!1).then(({documents:O})=>E.view.ru(O,T)));const x=A&&A.targetChanges.get(E.targetId),D=A&&A.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,_.isPrimaryClient,x,D);return KI(_,E.targetId,M.au),M.snapshot}(r,p,g,y);const s=await BI(r.localStore,e,!0),o=new MG(e,s.Qs),l=o.ru(s.documents),u=Cm.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),h=o.applyChanges(l,r.isPrimaryClient,u);KI(r,t,h.au);const f=new PG(e,t,o);return r.Tu.set(e,f),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),h.snapshot}async function zG(r,e,t){const n=St(r),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(o=>!tw(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await cx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&wA(n.remoteStore,i.targetId),dx(n,i.targetId)}).catch(Of)):(dx(n,i.targetId),await cx(n.localStore,i.targetId,!0))}async function jG(r,e){const t=St(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),wA(t.remoteStore,n.targetId))}async function HG(r,e,t){const n=XG(r);try{const i=await function(o,l){const u=St(o),h=wn.now(),f=l.reduce((y,w)=>y.add(w.key),Lt());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let w=ka(),_=Lt();return u.Ns.getEntries(y,f).next(E=>{w=E,w.forEach((b,A)=>{A.isValidDocument()||(_=_.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,w)).next(E=>{p=E;const b=[];for(const A of l){const T=tW(A,p.get(A.key).overlayedDocument);T!=null&&b.push(new tu(A.key,T,E3(T.value.mapValue),Do.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,b,l)}).next(E=>{g=E;const b=E.applyToLocalDocumentSet(p,_);return u.documentOverlayCache.saveOverlays(y,E.batchId,b)})}).then(()=>({batchId:g.batchId,changes:P3(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Rn(Pt)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h}(n,i.batchId,t),await km(n,i.changes),await lw(n.remoteStore)}catch(i){const s=xA(i,"Failed to persist write");t.reject(s)}}async function g5(r,e){const t=St(r);try{const n=await JW(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Au.get(s);o&&(en(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?en(o.hu,14607):i.removedDocuments.size>0&&(en(o.hu,42227),o.hu=!1))}),await km(t,n,e)}catch(n){await Of(n)}}function GI(r,e,t){const n=St(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=St(o);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const g of p.Sa)g.va(l)&&(h=!0)}),h&&TA(u)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function qG(r,e,t){const n=St(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new Rn(lt.comparator);o=o.insert(s,qr.newNoDocument(s,bt.min()));const l=Lt().add(s),u=new sw(bt.min(),new Map,new Rn(Pt),o,l);await g5(n,u),n.du=n.du.remove(s),n.Au.delete(e),CA(n)}else await cx(n.localStore,e,!1).then(()=>dx(n,e,t)).catch(Of)}async function WG(r,e){const t=St(r),n=e.batch.batchId;try{const i=await ZW(t.localStore,e);v5(t,n,null),y5(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await km(t,i)}catch(i){await Of(i)}}async function GG(r,e,t){const n=St(r);try{const i=await function(o,l){const u=St(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(en(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(n.localStore,e);v5(n,e,t),y5(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await km(n,i)}catch(i){await Of(i)}}function y5(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function v5(r,e,t){const n=St(r);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function dx(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(n=>{r.Ru.containsKey(n)||w5(r,n)})}function w5(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(wA(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),CA(r))}function KI(r,e,t){for(const n of t)n instanceof d5?(r.Ru.addReference(n.key,e),KG(r,n)):n instanceof p5?(et(AA,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||w5(r,n.key)):gt(19791,{wu:n})}function KG(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(et(AA,"New document in limbo: "+t),r.Eu.add(n),CA(r))}function CA(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new lt(yn.fromString(e)),n=r.fu.next();r.Au.set(n,new LG(t)),r.du=r.du.insert(t,n),a5(r.remoteStore,new wl(ko(D3(t.path)),n,"TargetPurposeLimboResolution",Zv.ce))}}async function km(r,e,t){const n=St(r),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,u)=>{o.push(n.pu(u,e,t).then(h=>{if((h||t)&&n.isPrimaryClient){const f=h?!h.fromCache:t?.targetChanges.get(u.targetId)?.current;n.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=yA.As(u.targetId,h);s.push(f)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(u,h){const f=St(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>je.forEach(h,g=>je.forEach(g.Es,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>je.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Nf(p))throw p;et(vA,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=f.Ms.get(g),w=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(w);f.Ms=f.Ms.insert(g,_)}}}(n.localStore,s))}async function $G(r,e){const t=St(r);if(!t.currentUser.isEqual(e)){et(AA,"User change. New user:",e.toKey());const n=await r5(t.localStore,e);t.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new Ze(Fe.CANCELLED,o))})}),s.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await km(t,n.Ls)}}function YG(r,e){const t=St(r),n=t.Au.get(e);if(n&&n.hu)return Lt().add(n.key);{let i=Lt();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const l=t.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function _5(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=g5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qG.bind(null,e),e.Pu.H_=IG.bind(null,e.eventManager),e.Pu.yu=OG.bind(null,e.eventManager),e}function XG(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GG.bind(null,e),e}class nv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ow(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return QW(this.persistence,new $W,e.initialUser,this.serializer)}Cu(e){return new n5(gA.mi,this.serializer)}Du(e){return new iG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nv.provider={build:()=>new nv};class QG extends nv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){en(this.persistence.referenceDelegate instanceof ev,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new NW(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new n5(n=>ev.mi(n,t),this.serializer)}}class px{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>GI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=$G.bind(null,this.syncEngine),await AG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RG}()}createDatastore(e){const t=ow(e.databaseInfo.databaseId),n=function(s){return new uG(s)}(e.databaseInfo);return function(s,o,l,u){return new dG(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,s,o,l){return new mG(n,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>GI(this.syncEngine,t,0),function(){return UI.v()?new UI:new sG}())}createSyncEngine(e,t){return function(i,s,o,l,u,h,f){const p=new BG(i,s,o,l,u,h);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const n=St(t);et(dc,"RemoteStore shutting down."),n.Ea.add(5),await Rm(n),n.Aa.shutdown(),n.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}px.provider={build:()=>new px};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ra("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl="FirestoreClient";class JG{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=sA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{et(jl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(et(jl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ol;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=xA(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function eb(r,e){r.asyncQueue.verifyOperationInProgress(),et(jl,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await r5(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function $I(r,e){r.asyncQueue.verifyOperationInProgress();const t=await eK(r);et(jl,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>jI(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>jI(e.remoteStore,i)),r._onlineComponents=e}async function eK(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et(jl,"Using user provided OfflineComponentProvider");try{await eb(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ef("Error using user provided cache. Falling back to memory cache: "+t),await eb(r,new nv)}}else et(jl,"Using default OfflineComponentProvider"),await eb(r,new QG(void 0));return r._offlineComponents}async function b5(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et(jl,"Using user provided OnlineComponentProvider"),await $I(r,r._uninitializedComponentsProvider._online)):(et(jl,"Using default OnlineComponentProvider"),await $I(r,new px))),r._onlineComponents}function tK(r){return b5(r).then(e=>e.syncEngine)}async function nK(r){const e=await b5(r),t=e.eventManager;return t.onListen=FG.bind(null,e.syncEngine),t.onUnlisten=zG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=VG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jG.bind(null,e.syncEngine),t}function rK(r,e,t={}){const n=new Ol;return r.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const f=new ZG({next:g=>{f.Nu(),o.enqueueAndForget(()=>DG(s,p)),g.fromCache&&u.source==="server"?h.reject(new Ze(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new NG(l,f,{includeMetadataChanges:!0,qa:!0});return kG(s,p)}(await nK(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="firestore.googleapis.com",XI=!0;class QI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E5,this.ssl=XI}else this.host=e.host,this.ssl=e.ssl??XI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<IW)throw new Ze(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=S5(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ze(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ze(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ze(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uw{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new QI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new QI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new sq;switch(n.type){case"firstParty":return new uq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ze(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=YI.get(t);n&&(et("ComponentProvider","Removing Datastore"),YI.delete(t),n.terminate())}(this),Promise.resolve()}}function iK(r,e,t,n={}){r=nf(r,uw);const i=Rf(e),s=r._getSettings(),o={...s,emulatorOptions:r._getEmulatorOptions()},l=`${e}:${t}`;i&&(g6(`https://${l}`),y6("Firestore",!0)),s.host!==E5&&s.host!==l&&ef("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:n};if(!lc(u,o)&&(r._setSettings(u),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=jr.MOCK_USER;else{h=m7(n.mockUserToken,r._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Ze(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jr(p)}r._authCredentials=new oq(new h3(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pf(this.firestore,e,this._query)}}class or{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}toJSON(){return{type:or._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(xm(t,or._jsonSchema))return new or(e,n||null,new lt(yn.fromString(t.referencePath)))}}or._jsonSchemaVersion="firestore/documentReference/1.0",or._jsonSchema={type:Qn("string",or._jsonSchemaVersion),referencePath:Qn("string")};class Nl extends Pf{constructor(e,t,n){super(e,t,D3(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new lt(e))}withConverter(e){return new Nl(this.firestore,e,this._path)}}function rv(r,e,...t){if(r=yr(r),f3("collection","path",e),r instanceof uw){const n=yn.fromString(e,...t);return cI(n),new Nl(r,null,n)}{if(!(r instanceof or||r instanceof Nl))throw new Ze(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yn.fromString(e,...t));return cI(n),new Nl(r.firestore,null,n)}}function x5(r,e,...t){if(r=yr(r),arguments.length===1&&(e=sA.newId()),f3("doc","path",e),r instanceof uw){const n=yn.fromString(e,...t);return uI(n),new or(r,null,new lt(n))}{if(!(r instanceof or||r instanceof Nl))throw new Ze(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yn.fromString(e,...t));return uI(n),new or(r.firestore,r instanceof Nl?r.converter:null,new lt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI="AsyncQueue";class JI{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s5(this,"async_queue_retry"),this._c=()=>{const n=J_();n&&et(ZI,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=J_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=J_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ol;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nf(e))throw e;et(ZI,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,Ra("INTERNAL UNHANDLED ERROR: ",eO(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=EA.createAndSchedule(this,e,t,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&gt(47125,{Pc:eO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function eO(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class cw extends uw{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new JI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JI(e),this._firestoreClient=void 0,await e}}}function sK(r,e){const t=typeof r=="object"?r:b6(),n=typeof r=="string"?r:K0,i=YT(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=d7("firestore");s&&iK(i,...s)}return i}function T5(r){if(r._terminated)throw new Ze(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||oK(r),r._firestoreClient}function oK(r){const e=r._freezeSettings(),t=function(i,s,o,l){return new Aq(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,S5(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new JG(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(Pr.fromBase64String(e))}catch(t){throw new Ze(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ys(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(xm(e,ys._jsonSchema))return ys.fromBase64String(e.bytes)}}ys._jsonSchemaVersion="firestore/bytes/1.0",ys._jsonSchema={type:Qn("string",ys._jsonSchemaVersion),bytes:Qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ze(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oo._jsonSchemaVersion}}static fromJSON(e){if(xm(e,Oo._jsonSchema))return new Oo(e.latitude,e.longitude)}}Oo._jsonSchemaVersion="firestore/geoPoint/1.0",Oo._jsonSchema={type:Qn("string",Oo._jsonSchemaVersion),latitude:Qn("number"),longitude:Qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:No._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(xm(e,No._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new No(e.vectorValues);throw new Ze(Fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}No._jsonSchemaVersion="firestore/vectorValue/1.0",No._jsonSchema={type:Qn("string",No._jsonSchemaVersion),vectorValues:Qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=/^__.*__$/;class lK{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new tu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Am(e,this.data,t,this.fieldTransforms)}}class A5{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new tu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function C5(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class kA{constructor(e,t,n,i,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return iv(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C5(this.Ac)&&aK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class uK{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ow(e)}Cc(e,t,n,i=!1){return new kA({Ac:e,methodName:t,Dc:n,path:Or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function DA(r){const e=r._freezeSettings(),t=ow(r._databaseId);return new uK(r._databaseId,!!e.ignoreUndefinedProperties,t)}function cK(r,e,t,n,i,s={}){const o=r.Cc(s.merge||s.mergeFields?2:0,e,t,i);IA("Data must be an object, but it was:",o,n);const l=R5(n,o);let u,h;if(s.merge)u=new Wi(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=mx(e,p,t);if(!o.contains(g))throw new Ze(Fe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);D5(f,g)||f.push(g)}u=new Wi(f),h=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=o.fieldTransforms;return new lK(new wi(l),u,h)}class fw extends RA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fw}}function hK(r,e,t,n){const i=r.Cc(1,e,t);IA("Data must be an object, but it was:",i,n);const s=[],o=wi.empty();eu(n,(u,h)=>{const f=OA(e,u,t);h=yr(h);const p=i.yc(f);if(h instanceof fw)s.push(f);else{const g=Dm(h,p);g!=null&&(s.push(f),o.set(f,g))}});const l=new Wi(s);return new A5(o,l,i.fieldTransforms)}function fK(r,e,t,n,i,s){const o=r.Cc(1,e,t),l=[mx(e,n,t)],u=[i];if(s.length%2!=0)throw new Ze(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(mx(e,s[g])),u.push(s[g+1]);const h=[],f=wi.empty();for(let g=l.length-1;g>=0;--g)if(!D5(h,l[g])){const y=l[g];let w=u[g];w=yr(w);const _=o.yc(y);if(w instanceof fw)h.push(y);else{const E=Dm(w,_);E!=null&&(h.push(y),f.set(y,E))}}const p=new Wi(h);return new A5(f,p,o.fieldTransforms)}function dK(r,e,t,n=!1){return Dm(t,r.Cc(n?4:3,e))}function Dm(r,e){if(k5(r=yr(r)))return IA("Unsupported field value:",e,r),R5(r,e);if(r instanceof RA)return function(n,i){if(!C5(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const l of n){let u=Dm(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(r,e)}return function(n,i){if((n=yr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Yq(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=wn.fromDate(n);return{timestampValue:J0(i.serializer,s)}}if(n instanceof wn){const s=new wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:J0(i.serializer,s)}}if(n instanceof Oo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ys)return{bytesValue:$3(i.serializer,n._byteString)};if(n instanceof or){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:pA(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof No)return function(o,l){return{mapValue:{fields:{[b3]:{stringValue:S3},[$0]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return hA(l.serializer,h)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Qv(n)}`)}(r,e)}function R5(r,e){const t={};return m3(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eu(r,(n,i)=>{const s=Dm(i,e.mc(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function k5(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wn||r instanceof Oo||r instanceof ys||r instanceof or||r instanceof RA||r instanceof No)}function IA(r,e,t){if(!k5(t)||!d3(t)){const n=Qv(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function mx(r,e,t){if((e=yr(e))instanceof hw)return e._internalPath;if(typeof e=="string")return OA(r,e);throw iv("Field path arguments must be of type string or ",r,!1,void 0,t)}const pK=new RegExp("[~\\*/\\[\\]]");function OA(r,e,t){if(e.search(pK)>=0)throw iv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new hw(...e.split("."))._internalPath}catch{throw iv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function iv(r,e,t,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new Ze(Fe.INVALID_ARGUMENT,l+r+u)}function D5(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(NA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class mK extends I5{data(){return super.data()}}function NA(r,e){return typeof e=="string"?OA(r,e):e instanceof hw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gK(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ze(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class MA{}class yK extends MA{}function gx(r,e,...t){let n=[];e instanceof MA&&n.push(e),n=n.concat(t),function(s){const o=s.filter(u=>u instanceof PA).length,l=s.filter(u=>u instanceof dw).length;if(o>1||o>0&&l>0)throw new Ze(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class dw extends yK{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new dw(e,t,n)}_apply(e){const t=this._parse(e);return O5(e._query,t),new Pf(e.firestore,e.converter,ix(e._query,t))}_parse(e){const t=DA(e.firestore);return function(s,o,l,u,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ze(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){nO(p,f);const w=[];for(const _ of p)w.push(tO(u,s,_));g={arrayValue:{values:w}}}else g=tO(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||nO(p,f),g=dK(l,o,p,f==="in"||f==="not-in");return Xn.create(h,f,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function yx(r,e,t){const n=e,i=NA("where",r);return dw._create(i,n,t)}class PA extends MA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new PA(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Us.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)O5(o,u),o=ix(o,u)}(e._query,t),new Pf(e.firestore,e.converter,ix(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tO(r,e,t){if(typeof(t=yr(t))=="string"){if(t==="")throw new Ze(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I3(e)&&t.indexOf("/")!==-1)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(yn.fromString(t));if(!lt.isDocumentKey(n))throw new Ze(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return vI(r,new lt(n))}if(t instanceof or)return vI(r,t._key);throw new Ze(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qv(t)}.`)}function nO(r,e){if(!Array.isArray(r)||r.length===0)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function O5(r,e){const t=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ze(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vK{convertValue(e,t="none"){switch(Ul(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return eu(e,(i,s)=>{n[i]=this.convertValue(s,t)}),n}convertVectorValue(e){const t=e.fields?.[$0].arrayValue?.values?.map(n=>Bn(n.doubleValue));return new No(t)}convertGeoPoint(e){return new Oo(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ew(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jp(e));default:return null}}convertTimestamp(e){const t=Fl(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yn.fromString(e);en(e5(n),9688,{name:e});const i=new Hp(n.get(1),n.get(3)),s=new lt(n.popFirst(5));return i.isEqual(t)||Ra(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wK(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class vy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bh extends I5{constructor(e,t,n,i,s,o){super(e,t,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new f0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(NA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bh._jsonSchema={type:Qn("string",Bh._jsonSchemaVersion),bundleSource:Qn("string","DocumentSnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class f0 extends Bh{data(e={}){return super.data(e)}}class Fh{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new vy(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new f0(this._firestore,this._userDataWriter,n.key,n,new vy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new f0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new f0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new vy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:_K(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Fh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function _K(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Fh._jsonSchemaVersion="firestore/querySnapshot/1.0",Fh._jsonSchema={type:Qn("string",Fh._jsonSchemaVersion),bundleSource:Qn("string","QuerySnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class bK extends vK{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function vx(r){r=nf(r,Pf);const e=nf(r.firestore,cw),t=T5(e),n=new bK(e);return gK(r._query),rK(t,r._query).then(i=>new Fh(e,n,r,i))}function SK(r,e,t,...n){r=nf(r,or);const i=nf(r.firestore,cw),s=DA(i);let o;return o=typeof(e=yr(e))=="string"||e instanceof hw?fK(s,"updateDoc",r._key,e,t,n):hK(s,"updateDoc",r._key,e),N5(i,[o.toMutation(r._key,Do.exists(!0))])}function EK(r,e){const t=nf(r.firestore,cw),n=x5(r),i=wK(r.converter,e);return N5(t,[cK(DA(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Do.exists(!1))]).then(()=>n)}function N5(r,e){return function(n,i){const s=new Ol;return n.asyncQueue.enqueueAndForget(async()=>HG(await tK(n),i,s)),s.promise}(T5(r),e)}(function(e,t=!0){(function(i){If=i})(kf),Jh(new uc("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new cw(new aq(n.getProvider("auth-internal")),new cq(o,n.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ze(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hp(h.options.projectId,f)}(o,i),o);return s={useFetchStreams:t,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Dl(sI,oI,e),Dl(sI,oI,"esm2020")})();const xK={apiKey:"AIzaSyCrA5ze-NPEVzZrs8ICLCNNRA15LSAbFgY",authDomain:"AIzaSyCrA5ze-NPEVzZrs8ICLCNNRA15LSAbFgY",projectId:"mynote-auth-82018",storageBucket:"mynote-auth-82018.firebasestorage.app",messagingSenderId:"117553239591",appId:"1:117553239591:web:e3e46849fa5e6b55052002",measurementId:"G-NDS1P96DE1"},M5=_6(xK),pw=rq(M5),Tp=sK(M5);var tb={exports:{}},nb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function TK(){if(rO)return nb;rO=1;var r=jv();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,i=r.useRef,s=r.useEffect,o=r.useMemo,l=r.useDebugValue;return nb.useSyncExternalStoreWithSelector=function(u,h,f,p,g){var y=i(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=o(function(){function E(D){if(!b){if(b=!0,A=D,D=p(D),g!==void 0&&w.hasValue){var M=w.value;if(g(M,D))return T=M}return T=D}if(M=T,t(A,D))return M;var O=p(D);return g!==void 0&&g(M,O)?(A=D,M):(A=D,T=O)}var b=!1,A,T,x=f===void 0?null:f;return[function(){return E(h())},x===null?void 0:function(){return E(x())}]},[h,f,p,g]);var _=n(u,y[0],y[1]);return s(function(){w.hasValue=!0,w.value=_},[_]),l(_),_},nb}var iO;function AK(){return iO||(iO=1,tb.exports=TK()),tb.exports}var CK=AK();function RK(r){r()}function kK(){let r=null,e=null;return{clear(){r=null,e=null},notify(){RK(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var sO={notify(){},get:()=>[]};function DK(r,e){let t,n=sO,i=0,s=!1;function o(_){f();const E=n.subscribe(_);let b=!1;return()=>{b||(b=!0,E(),p())}}function l(){n.notify()}function u(){w.onStateChange&&w.onStateChange()}function h(){return s}function f(){i++,t||(t=r.subscribe(u),n=kK())}function p(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=sO)}function g(){s||(s=!0,f())}function y(){s&&(s=!1,p())}const w={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>n};return w}var IK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OK=IK(),NK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",MK=NK(),PK=()=>OK||MK?ge.useLayoutEffect:ge.useEffect,LK=PK(),BK=Symbol.for("react-redux-context"),FK=typeof globalThis<"u"?globalThis:{};function VK(){if(!ge.createContext)return{};const r=FK[BK]??=new Map;let e=r.get(ge.createContext);return e||(e=ge.createContext(null),r.set(ge.createContext,e)),e}var Hl=VK();function UK(r){const{children:e,context:t,serverState:n,store:i}=r,s=ge.useMemo(()=>{const u=DK(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),o=ge.useMemo(()=>i.getState(),[i]);LK(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const l=t||Hl;return ge.createElement(l.Provider,{value:s},e)}var zK=UK;function LA(r=Hl){return function(){return ge.useContext(r)}}var P5=LA();function L5(r=Hl){const e=r===Hl?P5:LA(r),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var jK=L5();function HK(r=Hl){const e=r===Hl?jK:L5(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var Ec=HK(),qK=(r,e)=>r===e;function WK(r=Hl){const e=r===Hl?P5:LA(r),t=(n,i={})=>{const{equalityFn:s=qK}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:l,subscription:u,getServerState:h}=o;ge.useRef(!0);const f=ge.useCallback({[n.name](g){return n(g)}}[n.name],[n]),p=CK.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,h||l.getState,f,s);return ge.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var mr=WK();const rb=["january","february","march","april","may","june","july","august","september","october","november","december"],GK={logined:!1,menubar:!1,editbar:!1,currentuser:{username:"User_name",password:"********",email:"notfound@gmail.com",phonenumber:"Notfound",created:"404,404,404",profile_pic:null},Folders:[],selectednote:null,selectedfolderid:null,fetching:!0},KK=async r=>{await EK(rv(Tp,"users"),{...r})},B5=JU({name:"noto",initialState:GK,reducers:{setlogined:(r,e)=>{r.logined=e.payload??!r.logined},setprofilepic:(r,e)=>{r.currentuser.profile_pic=e.payload},setfolders:(r,e)=>{r.Folders=e.payload},setuserdata:(r,e)=>{r.currentuser={...e.payload}},menubartoggle:(r,e)=>{r.menubar=e.payload??!r.menubar,r.menubar&&(r.editbar=!1)},editbartoggle:(r,e)=>{r.editbar=e.payload??!r.editbar,r.editbar&&(r.menubar=!1)},addfolder:(r,e)=>{let t={folname:e.payload.name,id:CD(),notes:[]};r.Folders.push(t),r.currentuser={...r.currentuser,user_folders:r.Folders}},addNote:(r,e)=>{const{id:t,name:n}=e.payload,i=new Date;let s={note_name:n,id:CD(),notetitle:"",notecontent:"",time:`${rb[i.getMonth()]} , ${i.getDate()}, ${i.getFullYear()} | ${i.getHours()}:${`${i.getMinutes()}`.length==1?"0"+i.getMinutes():i.getMinutes()}`};r.Folders=r.Folders.map(o=>o.id==t?{...o,notes:[...o.notes,s]}:o),r.currentuser={...r.currentuser,user_folders:r.Folders}},deletenote:(r,e)=>{const{id:t,folid:n}=e.payload;r.Folders=r.Folders.map(i=>i.id==n?{...i,notes:i.notes=i.notes.filter(s=>s.id!=t)}:i),r.currentuser={...r.currentuser,user_folders:r.Folders}},deletefolder:(r,e)=>{const{id:t}=e.payload;r.Folders=r.Folders.filter(n=>n.id!=t),r.currentuser={...r.currentuser,user_folders:r.Folders}},updatenote:(r,e)=>{const{id:t,folid:n,prop:i}=e.payload;r.Folders=r.Folders.map(s=>s.id==n?{...s,notes:s.notes.map(o=>o.id==t?{...o,...i}:o)}:s),r.currentuser={...r.currentuser,user_folders:r.Folders}},updatefolder:(r,e)=>{const{folid:t,prop:n}=e.payload;r.Folders=r.Folders.map(i=>i.id==t?{...i,...n}:i),r.currentuser={...r.currentuser,user_folders:r.Folders}},setselectednote:(r,e)=>{r.selectednote=e.payload,r.currentuser={...r.currentuser,user_folders:r.Folders}},setselectfolder:(r,e)=>{r.selectedfolderid=e.payload,r.currentuser={...r.currentuser,user_folders:r.Folders}},setcurentuser:(r,e)=>{const t=new Date,n={...e.payload,profile_pic:null,created:`${rb[t.getMonth()]},${t.getDate()},${t.getFullYear()}`,user_folders:[{folname:"default_notes",id:1,notes:[{note_name:"Welcome to MyNote..",id:2,notetitle:"Welcome note",notecontent:`#  Welcome to MyNote

Hey there, and welcome! 

Youve just created your first note. Heres what you can do with MyNote:

 Create folders to organize your notes
 Write in Markdown  format using **bold**, *italic*, \`inline code\`, and more
 Notes are saved automatically
 Access your notes anytime, anywhere

---

##  Try it now

- Type anything below
- Create your first folder
- Explore the editor

---

Made with  just for you.

- Team MyNote

`,time:`${rb[t.getMonth()]} , ${t.getDate()}, ${t.getFullYear()} | ${t.getHours()}:${`${t.getMinutes()}`.length==1?"0"+t.getMinutes():t.getMinutes()}`}]}]};KK(n),r.currentuser={...n}},setuserfolder:(r,e)=>{r.currentuser.user_folders=e.payload,r.currentuser={...r.currentuser,user_folders:r.Folders}},setloginuser:(r,e)=>{r.currentuser={...e.payload}},setfetching:(r,e)=>{r.fetching=e.payload??!r.fetching}}}),{setlogined:Kp,menubartoggle:lp,editbartoggle:F5,deletefolder:$K,deletenote:YK,addfolder:oO,addNote:aO,updatenote:wx,updatefolder:XK,setselectednote:Ls,setselectfolder:Nu,setfolders:V5,setprofilepic:lO,setcurentuser:QK,setuserfolder:ZK,setloginuser:sv,setfetching:U5}=B5.actions,JK=B5.reducer;var Vd={},uO;function e$(){if(uO)return Vd;uO=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=o,Vd.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,y){const w=new s,_=g.length;if(_<2)return w;const E=y?.decode||f;let b=0;do{const A=g.indexOf("=",b);if(A===-1)break;const T=g.indexOf(";",b),x=T===-1?_:T;if(A>x){b=g.lastIndexOf(";",A-1)+1;continue}const D=l(g,b,A),M=u(g,A,D),O=g.slice(D,M);if(w[O]===void 0){let P=l(g,A+1,x),C=u(g,x,P);const W=E(g.slice(P,C));w[O]=W}b=x+1}while(b<_);return w}function l(g,y,w){do{const _=g.charCodeAt(y);if(_!==32&&_!==9)return y}while(++y<w);return w}function u(g,y,w){for(;y>w;){const _=g.charCodeAt(--y);if(_!==32&&_!==9)return y+1}return w}function h(g,y,w){const _=w?.encode||encodeURIComponent;if(!r.test(g))throw new TypeError(`argument name is invalid: ${g}`);const E=_(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let b=g+"="+E;if(!w)return b;if(w.maxAge!==void 0){if(!Number.isInteger(w.maxAge))throw new TypeError(`option maxAge is invalid: ${w.maxAge}`);b+="; Max-Age="+w.maxAge}if(w.domain){if(!t.test(w.domain))throw new TypeError(`option domain is invalid: ${w.domain}`);b+="; Domain="+w.domain}if(w.path){if(!n.test(w.path))throw new TypeError(`option path is invalid: ${w.path}`);b+="; Path="+w.path}if(w.expires){if(!p(w.expires)||!Number.isFinite(w.expires.valueOf()))throw new TypeError(`option expires is invalid: ${w.expires}`);b+="; Expires="+w.expires.toUTCString()}if(w.httpOnly&&(b+="; HttpOnly"),w.secure&&(b+="; Secure"),w.partitioned&&(b+="; Partitioned"),w.priority)switch(typeof w.priority=="string"?w.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${w.priority}`)}if(w.sameSite)switch(typeof w.sameSite=="string"?w.sameSite.toLowerCase():w.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${w.sameSite}`)}return b}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return Vd}e$();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var z5=r=>{throw TypeError(r)},t$=(r,e,t)=>e.has(r)||z5("Cannot "+t),ib=(r,e,t)=>(t$(r,e,"read from private field"),t?t.call(r):e.get(r)),n$=(r,e,t)=>e.has(r)?z5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),cO="popstate";function r$(r={}){function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return $p("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:ql(i)}return s$(e,t,null,r)}function Tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function i$(){return Math.random().toString(36).substring(2,10)}function hO(r,e){return{usr:r.state,key:r.key,idx:e}}function $p(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?nu(e):e,state:t,key:e&&e.key||n||i$()}}function ql({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function nu(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function s$(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){l="POP";let E=f(),b=E==null?null:E-h;h=E,u&&u({action:l,location:_.location,delta:b})}function g(E,b){l="PUSH";let A=$p(_.location,E,b);h=f()+1;let T=hO(A,h),x=_.createHref(A);try{o.pushState(T,"",x)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(x)}s&&u&&u({action:l,location:_.location,delta:1})}function y(E,b){l="REPLACE";let A=$p(_.location,E,b);h=f();let T=hO(A,h),x=_.createHref(A);o.replaceState(T,"",x),s&&u&&u({action:l,location:_.location,delta:0})}function w(E){return j5(E)}let _={get action(){return l},get location(){return r(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(cO,p),u=E,()=>{i.removeEventListener(cO,p),u=null}},createHref(E){return e(i,E)},createURL:w,encodeLocation(E){let b=w(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:y,go(E){return o.go(E)}};return _}function j5(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:ql(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}var up,fO=class{constructor(r){if(n$(this,up,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(ib(this,up).has(r))return ib(this,up).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){ib(this,up).set(r,e)}};up=new WeakMap;var o$=new Set(["lazy","caseSensitive","path","id","index","children"]);function a$(r){return o$.has(r)}var l$=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function u$(r){return l$.has(r)}function c$(r){return r.index===!0}function ov(r,e,t=[],n={}){return r.map((i,s)=>{let o=[...t,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Tt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Tt(!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),c$(i)){let u={...i,...e(i),id:l};return n[l]=u,u}else{let u={...i,...e(i),id:l,children:void 0};return n[l]=u,i.children&&(u.children=ov(i.children,e,o,n)),u}})}function yl(r,e,t="/"){return d0(r,e,t,!1)}function d0(r,e,t,n){let i=typeof e=="string"?nu(e):e,s=Ts(i.pathname||"/",t);if(s==null)return null;let o=H5(r);f$(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=E$(s);l=b$(o[u],h,n)}return l}function h$(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],handle:t.handle}}function H5(r,e=[],t=[],n=""){let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Tt(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let h=Mo([n,u.relativePath]),f=t.concat(u);s.children&&s.children.length>0&&(Tt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),H5(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:w$(h,s.index),routesMeta:f})};return r.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let l of q5(s.path))i(s,o,l)}),e}function q5(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=q5(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function f$(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:_$(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var d$=/^:[\w-]+$/,p$=3,m$=2,g$=1,y$=10,v$=-2,dO=r=>r==="*";function w$(r,e){let t=r.split("/"),n=t.length;return t.some(dO)&&(n+=v$),e&&(n+=m$),t.filter(i=>!dO(i)).reduce((i,s)=>i+(d$.test(s)?p$:s===""?g$:y$),n)}function _$(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function b$(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=av({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&t&&!n[n.length-1].route.index&&(p=av({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Mo([s,p.pathname]),pathnameBase:A$(Mo([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Mo([s,p.pathnameBase]))}return o}function av(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=S$(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=l[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:r}}function S$(r,e=!1,t=!0){Zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function E$(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function x$(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?nu(r):r;return{pathname:t?t.startsWith("/")?t:T$(t,e):e,search:C$(n),hash:R$(i)}}function T$(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function sb(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function W5(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function BA(r){let e=W5(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function FA(r,e,t,n=!1){let i;typeof r=="string"?i=nu(r):(i={...r},Tt(!i.pathname||!i.pathname.includes("?"),sb("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),sb("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),sb("#","search","hash",i)));let s=r===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=x$(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Mo=r=>r.join("/").replace(/\/\/+/g,"/"),A$=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),C$=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,R$=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,lv=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Yp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var G5=["POST","PUT","PATCH","DELETE"],k$=new Set(G5),D$=["GET",...G5],I$=new Set(D$),O$=new Set([301,302,303,307,308]),N$=new Set([307,308]),ob={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},M$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ud={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},VA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P$=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),K5="remix-router-transitions",$5=Symbol("ResetLoaderData");function L$(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Tt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=r.hydrationRouteProperties||[],i=r.mapRouteProperties||P$,s={},o=ov(r.routes,i,void 0,s),l,u=r.basename||"/",h=r.dataStrategy||z$,f={unstable_middleware:!1,...r.future},p=null,g=new Set,y=null,w=null,_=null,E=r.hydrationData!=null,b=yl(o,r.history.location,u),A=!1,T=null,x;if(b==null&&!r.patchRoutesOnNavigation){let ye=ps(404,{pathname:r.history.location.pathname}),{matches:Ee,route:Ae}=TO(o);x=!0,b=Ee,T={[Ae.id]:ye}}else if(b&&!r.hydrationData&&ni(b,o,r.history.location.pathname).active&&(b=null),b)if(b.some(ye=>ye.route.lazy))x=!1;else if(!b.some(ye=>ye.route.loader))x=!0;else{let ye=r.hydrationData?r.hydrationData.loaderData:null,Ee=r.hydrationData?r.hydrationData.errors:null;if(Ee){let Ae=b.findIndex(ze=>Ee[ze.route.id]!==void 0);x=b.slice(0,Ae+1).every(ze=>!bx(ze.route,ye,Ee))}else x=b.every(Ae=>!bx(Ae.route,ye,Ee))}else{x=!1,b=[];let ye=ni(null,o,r.history.location.pathname);ye.active&&ye.matches&&(A=!0,b=ye.matches)}let D,M={historyAction:r.history.action,location:r.history.location,matches:b,initialized:x,navigation:ob,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||T,fetchers:new Map,blockers:new Map},O="POP",P=!1,C,W=!1,$=new Map,N=null,F=!1,B=!1,ae=new Set,Q=new Map,Y=0,pe=-1,fe=new Map,ee=new Set,J=new Map,K=new Map,re=new Set,he=new Map,ve,ce=null;function j(){if(p=r.history.listen(({action:ye,location:Ee,delta:Ae})=>{if(ve){ve(),ve=void 0;return}Zn(he.size===0||Ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ze=qs({currentLocation:M.location,nextLocation:Ee,historyAction:ye});if(ze&&Ae!=null){let Ke=new Promise(Je=>{ve=Je});r.history.go(Ae*-1),ei(ze,{state:"blocked",location:Ee,proceed(){ei(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Ke.then(()=>r.history.go(Ae))},reset(){let Je=new Map(M.blockers);Je.set(ze,Ud),ie({blockers:Je})}});return}return V(ye,Ee)}),t){Z$(e,$);let ye=()=>J$(e,$);e.addEventListener("pagehide",ye),N=()=>e.removeEventListener("pagehide",ye)}return M.initialized||V("POP",M.location,{initialHydration:!0}),D}function z(){p&&p(),N&&N(),g.clear(),C&&C.abort(),M.fetchers.forEach((ye,Ee)=>Nt(Ee)),M.blockers.forEach((ye,Ee)=>Jn(Ee))}function se(ye){return g.add(ye),()=>g.delete(ye)}function ie(ye,Ee={}){M={...M,...ye};let Ae=[],ze=[];M.fetchers.forEach((Ke,Je)=>{Ke.state==="idle"&&(re.has(Je)?Ae.push(Je):ze.push(Je))}),re.forEach(Ke=>{!M.fetchers.has(Ke)&&!Q.has(Ke)&&Ae.push(Ke)}),[...g].forEach(Ke=>Ke(M,{deletedFetchers:Ae,viewTransitionOpts:Ee.viewTransitionOpts,flushSync:Ee.flushSync===!0})),Ae.forEach(Ke=>Nt(Ke)),ze.forEach(Ke=>M.fetchers.delete(Ke))}function X(ye,Ee,{flushSync:Ae}={}){let ze=M.actionData!=null&&M.navigation.formMethod!=null&&ji(M.navigation.formMethod)&&M.navigation.state==="loading"&&ye.state?._isRedirect!==!0,Ke;Ee.actionData?Object.keys(Ee.actionData).length>0?Ke=Ee.actionData:Ke=null:ze?Ke=M.actionData:Ke=null;let Je=Ee.loaderData?EO(M.loaderData,Ee.loaderData,Ee.matches||[],Ee.errors):M.loaderData,ut=M.blockers;ut.size>0&&(ut=new Map(ut),ut.forEach((st,dt)=>ut.set(dt,Ud)));let nt=P===!0||M.navigation.formMethod!=null&&ji(M.navigation.formMethod)&&ye.state?._isRedirect!==!0;l&&(o=l,l=void 0),F||O==="POP"||(O==="PUSH"?r.history.push(ye,ye.state):O==="REPLACE"&&r.history.replace(ye,ye.state));let ot;if(O==="POP"){let st=$.get(M.location.pathname);st&&st.has(ye.pathname)?ot={currentLocation:M.location,nextLocation:ye}:$.has(ye.pathname)&&(ot={currentLocation:ye,nextLocation:M.location})}else if(W){let st=$.get(M.location.pathname);st?st.add(ye.pathname):(st=new Set([ye.pathname]),$.set(M.location.pathname,st)),ot={currentLocation:M.location,nextLocation:ye}}ie({...Ee,actionData:Ke,loaderData:Je,historyAction:O,location:ye,initialized:!0,navigation:ob,revalidation:"idle",restoreScrollPosition:Ri(ye,Ee.matches||M.matches),preventScrollReset:nt,blockers:ut},{viewTransitionOpts:ot,flushSync:Ae===!0}),O="POP",P=!1,W=!1,F=!1,B=!1,ce?.resolve(),ce=null}async function te(ye,Ee){if(typeof ye=="number"){r.history.go(ye);return}let Ae=_x(M.location,M.matches,u,ye,Ee?.fromRouteId,Ee?.relative),{path:ze,submission:Ke,error:Je}=pO(!1,Ae,Ee),ut=M.location,nt=$p(M.location,ze,Ee&&Ee.state);nt={...nt,...r.history.encodeLocation(nt)};let ot=Ee&&Ee.replace!=null?Ee.replace:void 0,st="PUSH";ot===!0?st="REPLACE":ot===!1||Ke!=null&&ji(Ke.formMethod)&&Ke.formAction===M.location.pathname+M.location.search&&(st="REPLACE");let dt=Ee&&"preventScrollReset"in Ee?Ee.preventScrollReset===!0:void 0,ct=(Ee&&Ee.flushSync)===!0,yt=qs({currentLocation:ut,nextLocation:nt,historyAction:st});if(yt){ei(yt,{state:"blocked",location:nt,proceed(){ei(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:nt}),te(ye,Ee)},reset(){let Dt=new Map(M.blockers);Dt.set(yt,Ud),ie({blockers:Dt})}});return}await V(st,nt,{submission:Ke,pendingError:Je,preventScrollReset:dt,replace:Ee&&Ee.replace,enableViewTransition:Ee&&Ee.viewTransition,flushSync:ct})}function be(){ce||(ce=eY()),Oe(),ie({revalidation:"loading"});let ye=ce.promise;return M.navigation.state==="submitting"?ye:M.navigation.state==="idle"?(V(M.historyAction,M.location,{startUninterruptedRevalidation:!0}),ye):(V(O||M.historyAction,M.navigation.location,{overrideNavigation:M.navigation,enableViewTransition:W===!0}),ye)}async function V(ye,Ee,Ae){C&&C.abort(),C=null,O=ye,F=(Ae&&Ae.startUninterruptedRevalidation)===!0,_r(M.location,M.matches),P=(Ae&&Ae.preventScrollReset)===!0,W=(Ae&&Ae.enableViewTransition)===!0;let ze=l||o,Ke=Ae&&Ae.overrideNavigation,Je=Ae?.initialHydration&&M.matches&&M.matches.length>0&&!A?M.matches:yl(ze,Ee,u),ut=(Ae&&Ae.flushSync)===!0;if(Je&&M.initialized&&!B&&K$(M.location,Ee)&&!(Ae&&Ae.submission&&ji(Ae.submission.formMethod))){X(Ee,{matches:Je},{flushSync:ut});return}let nt=ni(Je,ze,Ee.pathname);if(nt.active&&nt.matches&&(Je=nt.matches),!Je){let{error:$t,notFoundMatches:Bt,route:Rt}=ks(Ee.pathname);X(Ee,{matches:Bt,loaderData:{},errors:{[Rt.id]:$t}},{flushSync:ut});return}C=new AbortController;let ot=Sh(r.history,Ee,C.signal,Ae&&Ae.submission),st=new fO(r.unstable_getContext?await r.unstable_getContext():void 0),dt;if(Ae&&Ae.pendingError)dt=[Hu(Je).route.id,{type:"error",error:Ae.pendingError}];else if(Ae&&Ae.submission&&ji(Ae.submission.formMethod)){let $t=await _e(ot,Ee,Ae.submission,Je,st,nt.active,Ae&&Ae.initialHydration===!0,{replace:Ae.replace,flushSync:ut});if($t.shortCircuited)return;if($t.pendingActionResult){let[Bt,Rt]=$t.pendingActionResult;if(zi(Rt)&&Yp(Rt.error)&&Rt.error.status===404){C=null,X(Ee,{matches:$t.matches,loaderData:{},errors:{[Bt]:Rt.error}});return}}Je=$t.matches||Je,dt=$t.pendingActionResult,Ke=ab(Ee,Ae.submission),ut=!1,nt.active=!1,ot=Sh(r.history,ot.url,ot.signal)}let{shortCircuited:ct,matches:yt,loaderData:Dt,errors:Zt}=await H(ot,Ee,Je,st,nt.active,Ke,Ae&&Ae.submission,Ae&&Ae.fetcherSubmission,Ae&&Ae.replace,Ae&&Ae.initialHydration===!0,ut,dt);ct||(C=null,X(Ee,{matches:yt||Je,...xO(dt),loaderData:Dt,errors:Zt}))}async function _e(ye,Ee,Ae,ze,Ke,Je,ut,nt={}){Oe();let ot=X$(Ee,Ae);if(ie({navigation:ot},{flushSync:nt.flushSync===!0}),Je){let ct=await Ws(ze,Ee.pathname,ye.signal);if(ct.type==="aborted")return{shortCircuited:!0};if(ct.type==="error"){let yt=Hu(ct.partialMatches).route.id;return{matches:ct.partialMatches,pendingActionResult:[yt,{type:"error",error:ct.error}]}}else if(ct.matches)ze=ct.matches;else{let{notFoundMatches:yt,error:Dt,route:Zt}=ks(Ee.pathname);return{matches:yt,pendingActionResult:[Zt.id,{type:"error",error:Dt}]}}}let st,dt=cp(ze,Ee);if(!dt.route.action&&!dt.route.lazy)st={type:"error",error:ps(405,{method:ye.method,pathname:Ee.pathname,routeId:dt.route.id})};else{let ct=Vh(i,s,ye,ze,dt,ut?[]:n,Ke),yt=await De(ye,ct,Ke,null);if(st=yt[dt.route.id],!st){for(let Dt of ze)if(yt[Dt.route.id]){st=yt[Dt.route.id];break}}if(ye.signal.aborted)return{shortCircuited:!0}}if(Ku(st)){let ct;return nt&&nt.replace!=null?ct=nt.replace:ct=_O(st.response.headers.get("Location"),new URL(ye.url),u)===M.location.pathname+M.location.search,await ue(ye,st,!0,{submission:Ae,replace:ct}),{shortCircuited:!0}}if(zi(st)){let ct=Hu(ze,dt.route.id);return(nt&&nt.replace)!==!0&&(O="PUSH"),{matches:ze,pendingActionResult:[ct.route.id,st,dt.route.id]}}return{matches:ze,pendingActionResult:[dt.route.id,st]}}async function H(ye,Ee,Ae,ze,Ke,Je,ut,nt,ot,st,dt,ct){let yt=Je||ab(Ee,ut),Dt=ut||nt||CO(yt),Zt=!F&&!st;if(Ke){if(Zt){let jn=k(ct);ie({navigation:yt,...jn!==void 0?{actionData:jn}:{}},{flushSync:dt})}let _t=await Ws(Ae,Ee.pathname,ye.signal);if(_t.type==="aborted")return{shortCircuited:!0};if(_t.type==="error"){let jn=Hu(_t.partialMatches).route.id;return{matches:_t.partialMatches,loaderData:{},errors:{[jn]:_t.error}}}else if(_t.matches)Ae=_t.matches;else{let{error:jn,notFoundMatches:Di,route:hi}=ks(Ee.pathname);return{matches:Di,loaderData:{},errors:{[hi.id]:jn}}}}let $t=l||o,{dsMatches:Bt,revalidatingFetchers:Rt}=mO(ye,ze,i,s,r.history,M,Ae,Dt,Ee,st?[]:n,st===!0,B,ae,re,J,ee,$t,u,r.patchRoutesOnNavigation!=null,ct);if(pe=++Y,!r.dataStrategy&&!Bt.some(_t=>_t.shouldLoad)&&Rt.length===0){let _t=Kt();return X(Ee,{matches:Ae,loaderData:{},errors:ct&&zi(ct[1])?{[ct[0]]:ct[1].error}:null,...xO(ct),..._t?{fetchers:new Map(M.fetchers)}:{}},{flushSync:dt}),{shortCircuited:!0}}if(Zt){let _t={};if(!Ke){_t.navigation=yt;let jn=k(ct);jn!==void 0&&(_t.actionData=jn)}Rt.length>0&&(_t.fetchers=I(Rt)),ie(_t,{flushSync:dt})}Rt.forEach(_t=>{xn(_t.key),_t.controller&&Q.set(_t.key,_t.controller)});let Ji=()=>Rt.forEach(_t=>xn(_t.key));C&&C.signal.addEventListener("abort",Ji);let{loaderResults:er,fetcherResults:ri}=await Pe(Bt,Rt,ye,ze);if(ye.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Ji),Rt.forEach(_t=>Q.delete(_t.key));let br=wy(er);if(br)return await ue(ye,br.result,!0,{replace:ot}),{shortCircuited:!0};if(br=wy(ri),br)return ee.add(br.key),await ue(ye,br.result,!0,{replace:ot}),{shortCircuited:!0};let{loaderData:Ks,errors:ki}=SO(M,Ae,er,ct,Rt,ri);st&&M.errors&&(ki={...M.errors,...ki});let Va=Kt(),Fr=Jr(pe),ii=Va||Fr||Rt.length>0;return{matches:Ae,loaderData:Ks,errors:ki,...ii?{fetchers:new Map(M.fetchers)}:{}}}function k(ye){if(ye&&!zi(ye[1]))return{[ye[0]]:ye[1].data};if(M.actionData)return Object.keys(M.actionData).length===0?null:M.actionData}function I(ye){return ye.forEach(Ee=>{let Ae=M.fetchers.get(Ee.key),ze=zd(void 0,Ae?Ae.data:void 0);M.fetchers.set(Ee.key,ze)}),new Map(M.fetchers)}async function U(ye,Ee,Ae,ze){xn(ye);let Ke=(ze&&ze.flushSync)===!0,Je=l||o,ut=_x(M.location,M.matches,u,Ae,Ee,ze?.relative),nt=yl(Je,ut,u),ot=ni(nt,Je,ut);if(ot.active&&ot.matches&&(nt=ot.matches),!nt){Ge(ye,Ee,ps(404,{pathname:ut}),{flushSync:Ke});return}let{path:st,submission:dt,error:ct}=pO(!0,ut,ze);if(ct){Ge(ye,Ee,ct,{flushSync:Ke});return}let yt=cp(nt,st),Dt=new fO(r.unstable_getContext?await r.unstable_getContext():void 0),Zt=(ze&&ze.preventScrollReset)===!0;if(dt&&ji(dt.formMethod)){await oe(ye,Ee,st,yt,nt,Dt,ot.active,Ke,Zt,dt);return}J.set(ye,{routeId:Ee,path:st}),await me(ye,Ee,st,yt,nt,Dt,ot.active,Ke,Zt,dt)}async function oe(ye,Ee,Ae,ze,Ke,Je,ut,nt,ot,st){Oe(),J.delete(ye);function dt(un){if(!un.route.action&&!un.route.lazy){let es=ps(405,{method:st.formMethod,pathname:Ae,routeId:Ee});return Ge(ye,Ee,es,{flushSync:nt}),!0}return!1}if(!ut&&dt(ze))return;let ct=M.fetchers.get(ye);He(ye,Q$(st,ct),{flushSync:nt});let yt=new AbortController,Dt=Sh(r.history,Ae,yt.signal,st);if(ut){let un=await Ws(Ke,Ae,Dt.signal,ye);if(un.type==="aborted")return;if(un.type==="error"){Ge(ye,Ee,un.error,{flushSync:nt});return}else if(un.matches){if(Ke=un.matches,ze=cp(Ke,Ae),dt(ze))return}else{Ge(ye,Ee,ps(404,{pathname:Ae}),{flushSync:nt});return}}Q.set(ye,yt);let Zt=Y,$t=Vh(i,s,Dt,Ke,ze,n,Je),Rt=(await De(Dt,$t,Je,ye))[ze.route.id];if(Dt.signal.aborted){Q.get(ye)===yt&&Q.delete(ye);return}if(re.has(ye)){if(Ku(Rt)||zi(Rt)){He(ye,cl(void 0));return}}else{if(Ku(Rt))if(Q.delete(ye),pe>Zt){He(ye,cl(void 0));return}else return ee.add(ye),He(ye,zd(st)),ue(Dt,Rt,!1,{fetcherSubmission:st,preventScrollReset:ot});if(zi(Rt)){Ge(ye,Ee,Rt.error);return}}let Ji=M.navigation.location||M.location,er=Sh(r.history,Ji,yt.signal),ri=l||o,br=M.navigation.state!=="idle"?yl(ri,M.navigation.location,u):M.matches;Tt(br,"Didn't find any matches after fetcher action");let Ks=++Y;fe.set(ye,Ks);let ki=zd(st,Rt.data);M.fetchers.set(ye,ki);let{dsMatches:Va,revalidatingFetchers:Fr}=mO(er,Je,i,s,r.history,M,br,st,Ji,n,!1,B,ae,re,J,ee,ri,u,r.patchRoutesOnNavigation!=null,[ze.route.id,Rt]);Fr.filter(un=>un.key!==ye).forEach(un=>{let es=un.key,Ko=M.fetchers.get(es),Sr=zd(void 0,Ko?Ko.data:void 0);M.fetchers.set(es,Sr),xn(es),un.controller&&Q.set(es,un.controller)}),ie({fetchers:new Map(M.fetchers)});let ii=()=>Fr.forEach(un=>xn(un.key));yt.signal.addEventListener("abort",ii);let{loaderResults:_t,fetcherResults:jn}=await Pe(Va,Fr,er,Je);if(yt.signal.aborted)return;if(yt.signal.removeEventListener("abort",ii),fe.delete(ye),Q.delete(ye),Fr.forEach(un=>Q.delete(un.key)),M.fetchers.has(ye)){let un=cl(Rt.data);M.fetchers.set(ye,un)}let Di=wy(_t);if(Di)return ue(er,Di.result,!1,{preventScrollReset:ot});if(Di=wy(jn),Di)return ee.add(Di.key),ue(er,Di.result,!1,{preventScrollReset:ot});let{loaderData:hi,errors:$s}=SO(M,br,_t,void 0,Fr,jn);Jr(Ks),M.navigation.state==="loading"&&Ks>pe?(Tt(O,"Expected pending action"),C&&C.abort(),X(M.navigation.location,{matches:br,loaderData:hi,errors:$s,fetchers:new Map(M.fetchers)})):(ie({errors:$s,loaderData:EO(M.loaderData,hi,br,$s),fetchers:new Map(M.fetchers)}),B=!1)}async function me(ye,Ee,Ae,ze,Ke,Je,ut,nt,ot,st){let dt=M.fetchers.get(ye);He(ye,zd(st,dt?dt.data:void 0),{flushSync:nt});let ct=new AbortController,yt=Sh(r.history,Ae,ct.signal);if(ut){let Rt=await Ws(Ke,Ae,yt.signal,ye);if(Rt.type==="aborted")return;if(Rt.type==="error"){Ge(ye,Ee,Rt.error,{flushSync:nt});return}else if(Rt.matches)Ke=Rt.matches,ze=cp(Ke,Ae);else{Ge(ye,Ee,ps(404,{pathname:Ae}),{flushSync:nt});return}}Q.set(ye,ct);let Dt=Y,Zt=Vh(i,s,yt,Ke,ze,n,Je),Bt=(await De(yt,Zt,Je,ye))[ze.route.id];if(Q.get(ye)===ct&&Q.delete(ye),!yt.signal.aborted){if(re.has(ye)){He(ye,cl(void 0));return}if(Ku(Bt))if(pe>Dt){He(ye,cl(void 0));return}else{ee.add(ye),await ue(yt,Bt,!1,{preventScrollReset:ot});return}if(zi(Bt)){Ge(ye,Ee,Bt.error);return}He(ye,cl(Bt.data))}}async function ue(ye,Ee,Ae,{submission:ze,fetcherSubmission:Ke,preventScrollReset:Je,replace:ut}={}){Ee.response.headers.has("X-Remix-Revalidate")&&(B=!0);let nt=Ee.response.headers.get("Location");Tt(nt,"Expected a Location header on the redirect Response"),nt=_O(nt,new URL(ye.url),u);let ot=$p(M.location,nt,{_isRedirect:!0});if(t){let Zt=!1;if(Ee.response.headers.has("X-Remix-Reload-Document"))Zt=!0;else if(VA.test(nt)){const $t=j5(nt,!0);Zt=$t.origin!==e.location.origin||Ts($t.pathname,u)==null}if(Zt){ut?e.location.replace(nt):e.location.assign(nt);return}}C=null;let st=ut===!0||Ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:dt,formAction:ct,formEncType:yt}=M.navigation;!ze&&!Ke&&dt&&ct&&yt&&(ze=CO(M.navigation));let Dt=ze||Ke;if(N$.has(Ee.response.status)&&Dt&&ji(Dt.formMethod))await V(st,ot,{submission:{...Dt,formAction:nt},preventScrollReset:Je||P,enableViewTransition:Ae?W:void 0});else{let Zt=ab(ot,ze);await V(st,ot,{overrideNavigation:Zt,fetcherSubmission:Ke,preventScrollReset:Je||P,enableViewTransition:Ae?W:void 0})}}async function De(ye,Ee,Ae,ze){let Ke,Je={};try{Ke=await j$(h,ye,Ee,ze,Ae,!1)}catch(ut){return Ee.filter(nt=>nt.shouldLoad).forEach(nt=>{Je[nt.route.id]={type:"error",error:ut}}),Je}if(ye.signal.aborted)return Je;for(let[ut,nt]of Object.entries(Ke))if($$(nt)){let ot=nt.result;Je[ut]={type:"redirect",response:W$(ot,ye,ut,Ee,u)}}else Je[ut]=await q$(nt);return Je}async function Pe(ye,Ee,Ae,ze){let Ke=De(Ae,ye,ze,null),Je=Promise.all(Ee.map(async ot=>{if(ot.matches&&ot.match&&ot.request&&ot.controller){let dt=(await De(ot.request,ot.matches,ze,ot.key))[ot.match.route.id];return{[ot.key]:dt}}else return Promise.resolve({[ot.key]:{type:"error",error:ps(404,{pathname:ot.path})}})})),ut=await Ke,nt=(await Je).reduce((ot,st)=>Object.assign(ot,st),{});return{loaderResults:ut,fetcherResults:nt}}function Oe(){B=!0,J.forEach((ye,Ee)=>{Q.has(Ee)&&ae.add(Ee),xn(Ee)})}function He(ye,Ee,Ae={}){M.fetchers.set(ye,Ee),ie({fetchers:new Map(M.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function Ge(ye,Ee,Ae,ze={}){let Ke=Hu(M.matches,Ee);Nt(ye),ie({errors:{[Ke.route.id]:Ae},fetchers:new Map(M.fetchers)},{flushSync:(ze&&ze.flushSync)===!0})}function it(ye){return K.set(ye,(K.get(ye)||0)+1),re.has(ye)&&re.delete(ye),M.fetchers.get(ye)||M$}function Nt(ye){let Ee=M.fetchers.get(ye);Q.has(ye)&&!(Ee&&Ee.state==="loading"&&fe.has(ye))&&xn(ye),J.delete(ye),fe.delete(ye),ee.delete(ye),re.delete(ye),ae.delete(ye),M.fetchers.delete(ye)}function Zr(ye){let Ee=(K.get(ye)||0)-1;Ee<=0?(K.delete(ye),re.add(ye)):K.set(ye,Ee),ie({fetchers:new Map(M.fetchers)})}function xn(ye){let Ee=Q.get(ye);Ee&&(Ee.abort(),Q.delete(ye))}function Br(ye){for(let Ee of ye){let Ae=it(Ee),ze=cl(Ae.data);M.fetchers.set(Ee,ze)}}function Kt(){let ye=[],Ee=!1;for(let Ae of ee){let ze=M.fetchers.get(Ae);Tt(ze,`Expected fetcher: ${Ae}`),ze.state==="loading"&&(ee.delete(Ae),ye.push(Ae),Ee=!0)}return Br(ye),Ee}function Jr(ye){let Ee=[];for(let[Ae,ze]of fe)if(ze<ye){let Ke=M.fetchers.get(Ae);Tt(Ke,`Expected fetcher: ${Ae}`),Ke.state==="loading"&&(xn(Ae),fe.delete(Ae),Ee.push(Ae))}return Br(Ee),Ee.length>0}function wr(ye,Ee){let Ae=M.blockers.get(ye)||Ud;return he.get(ye)!==Ee&&he.set(ye,Ee),Ae}function Jn(ye){M.blockers.delete(ye),he.delete(ye)}function ei(ye,Ee){let Ae=M.blockers.get(ye)||Ud;Tt(Ae.state==="unblocked"&&Ee.state==="blocked"||Ae.state==="blocked"&&Ee.state==="blocked"||Ae.state==="blocked"&&Ee.state==="proceeding"||Ae.state==="blocked"&&Ee.state==="unblocked"||Ae.state==="proceeding"&&Ee.state==="unblocked",`Invalid blocker state transition: ${Ae.state} -> ${Ee.state}`);let ze=new Map(M.blockers);ze.set(ye,Ee),ie({blockers:ze})}function qs({currentLocation:ye,nextLocation:Ee,historyAction:Ae}){if(he.size===0)return;he.size>1&&Zn(!1,"A router only supports one blocker at a time");let ze=Array.from(he.entries()),[Ke,Je]=ze[ze.length-1],ut=M.blockers.get(Ke);if(!(ut&&ut.state==="proceeding")&&Je({currentLocation:ye,nextLocation:Ee,historyAction:Ae}))return Ke}function ks(ye){let Ee=ps(404,{pathname:ye}),Ae=l||o,{matches:ze,route:Ke}=TO(Ae);return{notFoundMatches:ze,route:Ke,error:Ee}}function Go(ye,Ee,Ae){if(y=ye,_=Ee,w=Ae||null,!E&&M.navigation===ob){E=!0;let ze=Ri(M.location,M.matches);ze!=null&&ie({restoreScrollPosition:ze})}return()=>{y=null,_=null,w=null}}function ti(ye,Ee){return w&&w(ye,Ee.map(ze=>h$(ze,M.loaderData)))||ye.key}function _r(ye,Ee){if(y&&_){let Ae=ti(ye,Ee);y[Ae]=_()}}function Ri(ye,Ee){if(y){let Ae=ti(ye,Ee),ze=y[Ae];if(typeof ze=="number")return ze}return null}function ni(ye,Ee,Ae){if(r.patchRoutesOnNavigation)if(ye){if(Object.keys(ye[0].params).length>0)return{active:!0,matches:d0(Ee,Ae,u,!0)}}else return{active:!0,matches:d0(Ee,Ae,u,!0)||[]};return{active:!1,matches:null}}async function Ws(ye,Ee,Ae,ze){if(!r.patchRoutesOnNavigation)return{type:"success",matches:ye};let Ke=ye;for(;;){let Je=l==null,ut=l||o,nt=s;try{await r.patchRoutesOnNavigation({signal:Ae,path:Ee,matches:Ke,fetcherKey:ze,patch:(dt,ct)=>{Ae.aborted||gO(dt,ct,ut,nt,i)}})}catch(dt){return{type:"error",error:dt,partialMatches:Ke}}finally{Je&&!Ae.aborted&&(o=[...o])}if(Ae.aborted)return{type:"aborted"};let ot=yl(ut,Ee,u);if(ot)return{type:"success",matches:ot};let st=d0(ut,Ee,u,!0);if(!st||Ke.length===st.length&&Ke.every((dt,ct)=>dt.route.id===st[ct].route.id))return{type:"success",matches:null};Ke=st}}function Gs(ye){s={},l=ov(ye,i,void 0,s)}function Fa(ye,Ee){let Ae=l==null;gO(ye,Ee,l||o,s,i),Ae&&(o=[...o],ie({}))}return D={get basename(){return u},get future(){return f},get state(){return M},get routes(){return o},get window(){return e},initialize:j,subscribe:se,enableScrollRestoration:Go,navigate:te,fetch:U,revalidate:be,createHref:ye=>r.history.createHref(ye),encodeLocation:ye=>r.history.encodeLocation(ye),getFetcher:it,deleteFetcher:Zr,dispose:z,getBlocker:wr,deleteBlocker:Jn,patchRoutes:Fa,_internalFetchControllers:Q,_internalSetRoutes:Gs},D}function B$(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function _x(r,e,t,n,i,s){let o,l;if(i){o=[];for(let h of e)if(o.push(h),h.route.id===i){l=h;break}}else o=e,l=e[e.length-1];let u=FA(n||".",BA(o),Ts(r.pathname,t)||r.pathname,s==="path");if(n==null&&(u.search=r.search,u.hash=r.hash),(n==null||n===""||n===".")&&l){let h=UA(u.search);if(l.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&h){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return t!=="/"&&(u.pathname=u.pathname==="/"?t:Mo([t,u.pathname])),ql(u)}function pO(r,e,t){if(!t||!B$(t))return{path:e};if(t.formMethod&&!Y$(t.formMethod))return{path:e,error:ps(405,{method:t.formMethod})};let n=()=>({path:e,error:ps(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),o=eL(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ji(s))return n();let p=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[y,w])=>`${g}${y}=${w}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:p}}}else if(t.formEncType==="application/json"){if(!ji(s))return n();try{let p=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:t.formEncType,formData:void 0,json:p,text:void 0}}}catch{return n()}}}Tt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(t.formData)l=Ex(t.formData),u=t.formData;else if(t.body instanceof FormData)l=Ex(t.body),u=t.body;else if(t.body instanceof URLSearchParams)l=t.body,u=bO(l);else if(t.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(t.body),u=bO(l)}catch{return n()}let h={formMethod:s,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ji(h.formMethod))return{path:e,submission:h};let f=nu(e);return r&&f.search&&UA(f.search)&&l.append("index",""),f.search=`?${l}`,{path:ql(f),submission:h}}function mO(r,e,t,n,i,s,o,l,u,h,f,p,g,y,w,_,E,b,A,T){let x=T?zi(T[1])?T[1].error:T[1].data:void 0,D=i.createURL(s.location),M=i.createURL(u),O;if(f&&s.errors){let F=Object.keys(s.errors)[0];O=o.findIndex(B=>B.route.id===F)}else if(T&&zi(T[1])){let F=T[0];O=o.findIndex(B=>B.route.id===F)-1}let P=T?T[1].statusCode:void 0,C=P&&P>=400,W={currentUrl:D,currentParams:s.matches[0]?.params||{},nextUrl:M,nextParams:o[0].params,...l,actionResult:x,actionStatus:P},$=o.map((F,B)=>{let{route:ae}=F,Q=null;if(O!=null&&B>O?Q=!1:ae.lazy?Q=!0:ae.loader==null?Q=!1:f?Q=bx(ae,s.loaderData,s.errors):F$(s.loaderData,s.matches[B],F)&&(Q=!0),Q!==null)return Sx(t,n,r,F,h,e,Q);let Y=C?!1:p||D.pathname+D.search===M.pathname+M.search||D.search!==M.search||V$(s.matches[B],F),pe={...W,defaultShouldRevalidate:Y},fe=uv(F,pe);return Sx(t,n,r,F,h,e,fe,pe)}),N=[];return w.forEach((F,B)=>{if(f||!o.some(K=>K.route.id===F.routeId)||y.has(B))return;let ae=s.fetchers.get(B),Q=ae&&ae.state!=="idle"&&ae.data===void 0,Y=yl(E,F.path,b);if(!Y){if(A&&Q)return;N.push({key:B,routeId:F.routeId,path:F.path,matches:null,match:null,request:null,controller:null});return}if(_.has(B))return;let pe=cp(Y,F.path),fe=new AbortController,ee=Sh(i,F.path,fe.signal),J=null;if(g.has(B))g.delete(B),J=Vh(t,n,ee,Y,pe,h,e);else if(Q)p&&(J=Vh(t,n,ee,Y,pe,h,e));else{let K={...W,defaultShouldRevalidate:C?!1:p};uv(pe,K)&&(J=Vh(t,n,ee,Y,pe,h,e,K))}J&&N.push({key:B,routeId:F.routeId,path:F.path,matches:J,match:pe,request:ee,controller:fe})}),{dsMatches:$,revalidatingFetchers:N}}function bx(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let n=e!=null&&r.id in e,i=t!=null&&t[r.id]!==void 0;return!n&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!i}function F$(r,e,t){let n=!e||t.route.id!==e.route.id,i=!r.hasOwnProperty(t.route.id);return n||i}function V$(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function uv(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function gO(r,e,t,n,i){let s;if(r){let u=n[r];Tt(u,`No route found to patch children into: routeId = ${r}`),u.children||(u.children=[]),s=u.children}else s=t;let o=e.filter(u=>!s.some(h=>Y5(u,h))),l=ov(o,i,[r||"_","patch",String(s?.length||"0")],n);s.push(...l)}function Y5(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>e.children?.some(i=>Y5(t,i))):!1}var yO=new WeakMap,X5=({key:r,route:e,manifest:t,mapRouteProperties:n})=>{let i=t[e.id];if(Tt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[r];if(!s)return;let o=yO.get(i);o||(o={},yO.set(i,o));let l=o[r];if(l)return l;let u=(async()=>{let h=a$(r),p=i[r]!==void 0&&r!=="hasErrorBoundary";if(h)Zn(!h,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),o[r]=Promise.resolve();else if(p)Zn(!1,`Route "${i.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[r]:g}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[r]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[r]=u,u},vO=new WeakMap;function U$(r,e,t,n,i){let s=t[r.id];if(Tt(s,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let f=vO.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Tt(typeof r.lazy=="function","No lazy route function found");let g=await r.lazy(),y={};for(let w in g){let _=g[w];if(_===void 0)continue;let E=u$(w),A=s[w]!==void 0&&w!=="hasErrorBoundary";E?Zn(!E,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Zn(!A,`Route "${s.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):y[w]=_}Object.assign(s,y),Object.assign(s,{...n(s),lazy:void 0})})();return vO.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(r.lazy),l=[],u;for(let f of o){if(i&&i.includes(f))continue;let p=X5({key:f,route:r,manifest:t,mapRouteProperties:n});p&&(l.push(p),f===e&&(u=p))}let h=l.length>0?Promise.all(l).then(()=>{}):void 0;return h?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:u}}async function wO(r){let e=r.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{t[e[s].route.id]=i}),t}async function z$(r){return r.matches.some(e=>e.route.unstable_middleware)?Q5(r,!1,()=>wO(r),(e,t)=>({[t]:{type:"error",result:e}})):wO(r)}async function Q5(r,e,t,n){let{matches:i,request:s,params:o,context:l}=r,u={handlerResult:void 0};try{let h=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),f=await Z5({request:s,params:o,context:l},h,e,u,t);return e?f:u.handlerResult}catch(h){if(!u.middlewareError)throw h;let f=await n(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,f):f}}async function Z5(r,e,t,n,i,s=0){let{request:o}=r;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let l=e[s];if(!l)return n.handlerResult=await i(),n.handlerResult;let[u,h]=l,f=!1,p,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await Z5(r,e,t,n,i,s+1)};try{let y=await h({request:r.request,params:r.params,context:r.context},g);return f?y===void 0?p:y:g()}catch(y){throw n.middlewareError?n.middlewareError.error!==y&&(n.middlewareError={routeId:u,error:y}):n.middlewareError={routeId:u,error:y},y}}function J5(r,e,t,n,i){let s=X5({key:"unstable_middleware",route:n.route,manifest:e,mapRouteProperties:r}),o=U$(n.route,ji(t.method)?"action":"loader",e,r,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Sx(r,e,t,n,i,s,o,l=null){let u=!1,h=J5(r,e,t,n,i);return{...n,_lazyPromises:h,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(f){return u=!0,l?typeof f=="boolean"?uv(n,{...l,defaultShouldRevalidate:f}):uv(n,l):o},resolve(f){return u||o||f&&t.method==="GET"&&(n.route.lazy||n.route.loader)?H$({request:t,match:n,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Vh(r,e,t,n,i,s,o,l=null){return n.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:J5(r,e,t,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Sx(r,e,t,u,s,o,!0,l))}async function j$(r,e,t,n,i,s){t.some(h=>h._lazyPromises?.middleware)&&await Promise.all(t.map(h=>h._lazyPromises?.middleware));let o={request:e,params:t[0].params,context:i,matches:t},u=await r({...o,fetcherKey:n,unstable_runClientMiddleware:h=>{let f=o;return Q5(f,!1,()=>h({...f,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(t.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return u}async function H$({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:n,handlerOverride:i,scopedContext:s}){let o,l,u=ji(r.method),h=u?"action":"loader",f=p=>{let g,y=new Promise((E,b)=>g=b);l=()=>g(),r.signal.addEventListener("abort",l);let w=E=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:r,params:e.params,context:s},...E!==void 0?[E]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(b=>w(b)):w())}}catch(E){return{type:"error",result:E}}})();return Promise.race([_,y])};try{let p=u?e.route.action:e.route.loader;if(t||n)if(p){let g,[y]=await Promise.all([f(p).catch(w=>{g=w}),t,n]);if(g!==void 0)throw g;o=y}else{await t;let g=u?e.route.action:e.route.loader;if(g)[o]=await Promise.all([f(g),n]);else if(h==="action"){let y=new URL(r.url),w=y.pathname+y.search;throw ps(405,{method:r.method,pathname:w,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let g=new URL(r.url),y=g.pathname+g.search;throw ps(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{l&&r.signal.removeEventListener("abort",l)}return o}async function q$(r){let{result:e,type:t}=r;if(tL(e)){let n;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?n=null:n=await e.json():n=await e.text()}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new lv(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return t==="error"?AO(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new lv(e.init?.status||500,void 0,e.data),statusCode:Yp(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yp(e)?e.status:void 0}:AO(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function W$(r,e,t,n,i){let s=r.headers.get("Location");if(Tt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!VA.test(s)){let o=n.slice(0,n.findIndex(l=>l.route.id===t)+1);s=_x(new URL(e.url),o,i,s),r.headers.set("Location",s)}return r}function _O(r,e,t){if(VA.test(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=Ts(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return r}function Sh(r,e,t,n){let i=r.createURL(eL(e)).toString(),s={signal:t};if(n&&ji(n.formMethod)){let{formMethod:o,formEncType:l}=n;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(n.json)):l==="text/plain"?s.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?s.body=Ex(n.formData):s.body=n.formData}return new Request(i,s)}function Ex(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function bO(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function G$(r,e,t,n=!1,i=!1){let s={},o=null,l,u=!1,h={},f=t&&zi(t[1])?t[1].error:void 0;return r.forEach(p=>{if(!(p.route.id in e))return;let g=p.route.id,y=e[g];if(Tt(!Ku(y),"Cannot handle redirect results in processLoaderData"),zi(y)){let w=y.error;if(f!==void 0&&(w=f,f=void 0),o=o||{},i)o[g]=w;else{let _=Hu(r,g);o[_.route.id]==null&&(o[_.route.id]=w)}n||(s[g]=$5),u||(u=!0,l=Yp(y.error)?y.error.status:500),y.headers&&(h[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(h[g]=y.headers)}),f!==void 0&&t&&(o={[t[0]]:f},t[2]&&(s[t[2]]=void 0)),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function SO(r,e,t,n,i,s){let{loaderData:o,errors:l}=G$(e,t,n);return i.filter(u=>!u.matches||u.matches.some(h=>h.shouldLoad)).forEach(u=>{let{key:h,match:f,controller:p}=u,g=s[h];if(Tt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(zi(g)){let y=Hu(r.matches,f?.route.id);l&&l[y.route.id]||(l={...l,[y.route.id]:g.error}),r.fetchers.delete(h)}else if(Ku(g))Tt(!1,"Unhandled fetcher revalidation redirect");else{let y=cl(g.data);r.fetchers.set(h,y)}}),{loaderData:o,errors:l}}function EO(r,e,t,n){let i=Object.entries(e).filter(([,s])=>s!==$5).reduce((s,[o,l])=>(s[o]=l,s),{});for(let s of t){let o=s.route.id;if(!e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&s.route.loader&&(i[o]=r[o]),n&&n.hasOwnProperty(o))break}return i}function xO(r){return r?zi(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Hu(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function TO(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ps(r,{pathname:e,routeId:t,method:n,type:i,message:s}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return r===400?(o="Bad Request",n&&e&&t?l=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):r===403?(o="Forbidden",l=`Route "${t}" does not match URL "${e}"`):r===404?(o="Not Found",l=`No route matches URL "${e}"`):r===405&&(o="Method Not Allowed",n&&e&&t?l=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new lv(r||500,o,new Error(l),!0)}function wy(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,i]=e[t];if(Ku(i))return{key:n,result:i}}}function eL(r){let e=typeof r=="string"?nu(r):r;return ql({...e,hash:""})}function K$(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function $$(r){return tL(r.result)&&O$.has(r.result.status)}function zi(r){return r.type==="error"}function Ku(r){return(r&&r.type)==="redirect"}function AO(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function tL(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function Y$(r){return I$.has(r.toUpperCase())}function ji(r){return k$.has(r.toUpperCase())}function UA(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function cp(r,e){let t=typeof e=="string"?nu(e).search:e.search;if(r[r.length-1].route.index&&UA(t||""))return r[r.length-1];let n=W5(r);return n[n.length-1]}function CO(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:s,json:o}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:o,text:void 0}}}function ab(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function X$(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zd(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Q$(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function cl(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function Z$(r,e){try{let t=r.sessionStorage.getItem(K5);if(t){let n=JSON.parse(t);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function J$(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(K5,JSON.stringify(t))}catch(n){Zn(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function eY(){let r,e,t=new Promise((n,i)=>{r=async s=>{n(s);try{await t}catch{}},e=async s=>{i(s);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var xc=ge.createContext(null);xc.displayName="DataRouter";var Im=ge.createContext(null);Im.displayName="DataRouterState";var zA=ge.createContext({isTransitioning:!1});zA.displayName="ViewTransition";var nL=ge.createContext(new Map);nL.displayName="Fetchers";var tY=ge.createContext(null);tY.displayName="Await";var Uo=ge.createContext(null);Uo.displayName="Navigation";var mw=ge.createContext(null);mw.displayName="Location";var zo=ge.createContext({outlet:null,matches:[],isDataRoute:!1});zo.displayName="Route";var jA=ge.createContext(null);jA.displayName="RouteError";function nY(r,{relative:e}={}){Tt(Om(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=ge.useContext(Uo),{hash:i,pathname:s,search:o}=Nm(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:Mo([t,s])),n.createHref({pathname:l,search:o,hash:i})}function Om(){return ge.useContext(mw)!=null}function Tc(){return Tt(Om(),"useLocation() may be used only in the context of a <Router> component."),ge.useContext(mw).location}var rL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function iL(r){ge.useContext(Uo).static||ge.useLayoutEffect(r)}function Lf(){let{isDataRoute:r}=ge.useContext(zo);return r?yY():rY()}function rY(){Tt(Om(),"useNavigate() may be used only in the context of a <Router> component.");let r=ge.useContext(xc),{basename:e,navigator:t}=ge.useContext(Uo),{matches:n}=ge.useContext(zo),{pathname:i}=Tc(),s=JSON.stringify(BA(n)),o=ge.useRef(!1);return iL(()=>{o.current=!0}),ge.useCallback((u,h={})=>{if(Zn(o.current,rL),!o.current)return;if(typeof u=="number"){t.go(u);return}let f=FA(u,JSON.parse(s),i,h.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Mo([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,i,r])}var iY=ge.createContext(null);function sY(r){let e=ge.useContext(zo).outlet;return e&&ge.createElement(iY.Provider,{value:r},e)}function Nm(r,{relative:e}={}){let{matches:t}=ge.useContext(zo),{pathname:n}=Tc(),i=JSON.stringify(BA(t));return ge.useMemo(()=>FA(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function oY(r,e,t,n){Tt(Om(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ge.useContext(Uo),{matches:s}=ge.useContext(zo),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let b=f&&f.path||"";sL(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=Tc(),g;g=p;let y=g.pathname||"/",w=y;if(h!=="/"){let b=h.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let _=yl(r,{pathname:w});return Zn(f||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Zn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),hY(_&&_.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Mo([h,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:Mo([h,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,t,n)}function aY(){let r=gY(),e=Yp(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=ge.createElement(ge.Fragment,null,ge.createElement("p",null," Hey developer "),ge.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ge.createElement("code",{style:s},"ErrorBoundary")," or"," ",ge.createElement("code",{style:s},"errorElement")," prop on your route.")),ge.createElement(ge.Fragment,null,ge.createElement("h2",null,"Unexpected Application Error!"),ge.createElement("h3",{style:{fontStyle:"italic"}},e),t?ge.createElement("pre",{style:i},t):null,o)}var lY=ge.createElement(aY,null),uY=class extends ge.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?ge.createElement(zo.Provider,{value:this.props.routeContext},ge.createElement(jA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cY({routeContext:r,match:e,children:t}){let n=ge.useContext(xc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),ge.createElement(zo.Provider,{value:r},t)}function hY(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,s=t?.errors;if(s!=null){let u=i.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);Tt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(t)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:p}=t,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let p,g=!1,y=null,w=null;t&&(p=s&&h.route.id?s[h.route.id]:void 0,y=h.route.errorElement||lY,o&&(l<0&&f===0?(sL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):l===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let _=e.concat(i.slice(0,f+1)),E=()=>{let b;return p?b=y:g?b=w:h.route.Component?b=ge.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,ge.createElement(cY,{match:h,routeContext:{outlet:u,matches:_,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?ge.createElement(uY,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}function HA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fY(r){let e=ge.useContext(xc);return Tt(e,HA(r)),e}function dY(r){let e=ge.useContext(Im);return Tt(e,HA(r)),e}function pY(r){let e=ge.useContext(zo);return Tt(e,HA(r)),e}function qA(r){let e=pY(r),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function mY(){return qA("useRouteId")}function gY(){let r=ge.useContext(jA),e=dY("useRouteError"),t=qA("useRouteError");return r!==void 0?r:e.errors?.[t]}function yY(){let{router:r}=fY("useNavigate"),e=qA("useNavigate"),t=ge.useRef(!1);return iL(()=>{t.current=!0}),ge.useCallback(async(i,s={})=>{Zn(t.current,rL),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var RO={};function sL(r,e,t){!e&&!RO[r]&&(RO[r]=!0,Zn(!1,t))}var kO={};function DO(r,e){!r&&!kO[e]&&(kO[e]=!0,console.warn(e))}function vY(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Zn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ge.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Zn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ge.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Zn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ge.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var wY=["HydrateFallback","hydrateFallbackElement"],_Y=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",r(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function bY({router:r,flushSync:e}){let[t,n]=ge.useState(r.state),[i,s]=ge.useState(),[o,l]=ge.useState({isTransitioning:!1}),[u,h]=ge.useState(),[f,p]=ge.useState(),[g,y]=ge.useState(),w=ge.useRef(new Map),_=ge.useCallback((T,{deletedFetchers:x,flushSync:D,viewTransitionOpts:M})=>{T.fetchers.forEach((P,C)=>{P.data!==void 0&&w.current.set(C,P.data)}),x.forEach(P=>w.current.delete(P)),DO(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(DO(M==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!M||!O){e&&D?e(()=>n(T)):ge.startTransition(()=>n(T));return}if(e&&D){e(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let P=r.window.document.startViewTransition(()=>{e(()=>n(T))});P.finished.finally(()=>{e(()=>{h(void 0),p(void 0),s(void 0),l({isTransitioning:!1})})}),e(()=>p(P));return}f?(u&&u.resolve(),f.skipTransition(),y({state:T,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(s(T),l({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[r.window,e,f,u]);ge.useLayoutEffect(()=>r.subscribe(_),[r,_]),ge.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new _Y)},[o]),ge.useEffect(()=>{if(u&&i&&r.window){let T=i,x=u.promise,D=r.window.document.startViewTransition(async()=>{ge.startTransition(()=>n(T)),await x});D.finished.finally(()=>{h(void 0),p(void 0),s(void 0),l({isTransitioning:!1})}),p(D)}},[i,u,r.window]),ge.useEffect(()=>{u&&i&&t.location.key===i.location.key&&u.resolve()},[u,f,t.location,i]),ge.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[o.isTransitioning,g]);let E=ge.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:T=>r.navigate(T),push:(T,x,D)=>r.navigate(T,{state:x,preventScrollReset:D?.preventScrollReset}),replace:(T,x,D)=>r.navigate(T,{replace:!0,state:x,preventScrollReset:D?.preventScrollReset})}),[r]),b=r.basename||"/",A=ge.useMemo(()=>({router:r,navigator:E,static:!1,basename:b}),[r,E,b]);return ge.createElement(ge.Fragment,null,ge.createElement(xc.Provider,{value:A},ge.createElement(Im.Provider,{value:t},ge.createElement(nL.Provider,{value:w.current},ge.createElement(zA.Provider,{value:o},ge.createElement(TY,{basename:b,location:t.location,navigationType:t.historyAction,navigator:E},ge.createElement(SY,{routes:r.routes,future:r.future,state:t})))))),null)}var SY=ge.memo(EY);function EY({routes:r,future:e,state:t}){return oY(r,void 0,t,e)}function xY(r){return sY(r.context)}function Eh(r){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TY({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){Tt(!Om(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=ge.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=nu(t));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=t,y=ge.useMemo(()=>{let w=Ts(u,o);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:g},navigationType:n}},[o,u,h,f,p,g,n]);return Zn(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:ge.createElement(Uo.Provider,{value:l},ge.createElement(mw.Provider,{children:e,value:y}))}function xx(r,e=[]){let t=[];return ge.Children.forEach(r,(n,i)=>{if(!ge.isValidElement(n))return;let s=[...e,i];if(n.type===ge.Fragment){t.push.apply(t,xx(n.props.children,s));return}Tt(n.type===Eh,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=xx(n.props.children,s)),t.push(o)}),t}var AY=xx,p0="get",m0="application/x-www-form-urlencoded";function gw(r){return r!=null&&typeof r.tagName=="string"}function CY(r){return gw(r)&&r.tagName.toLowerCase()==="button"}function RY(r){return gw(r)&&r.tagName.toLowerCase()==="form"}function kY(r){return gw(r)&&r.tagName.toLowerCase()==="input"}function DY(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function IY(r,e){return r.button===0&&(!e||e==="_self")&&!DY(r)}var _y=null;function OY(){if(_y===null)try{new FormData(document.createElement("form"),0),_y=!1}catch{_y=!0}return _y}var NY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lb(r){return r!=null&&!NY.has(r)?(Zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${m0}"`),null):r}function MY(r,e){let t,n,i,s,o;if(RY(r)){let l=r.getAttribute("action");n=l?Ts(l,e):null,t=r.getAttribute("method")||p0,i=lb(r.getAttribute("enctype"))||m0,s=new FormData(r)}else if(CY(r)||kY(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||l.getAttribute("action");if(n=u?Ts(u,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||p0,i=lb(r.getAttribute("formenctype"))||lb(l.getAttribute("enctype"))||m0,s=new FormData(l,r),!OY()){let{name:h,type:f,value:p}=r;if(f==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,p)}}else{if(gw(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=p0,n=null,i=m0,o=r}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:o}}function WA(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function PY(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LY(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BY(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await PY(s,t);return o.links?o.links():[]}return[]}));return zY(n.flat(1).filter(LY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function IO(r,e,t,n,i,s){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,l=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,h)=>o(u,h)||l(u,h)):s==="data"?e.filter((u,h)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||l(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function FY(r,e,{includeHydrateFallback:t}={}){return VY(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function VY(r){return[...new Set(r)]}function UY(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function zY(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(UY(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var jY=new Set([100,101,204,205]);function HY(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ts(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function oL(){let r=ge.useContext(xc);return WA(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qY(){let r=ge.useContext(Im);return WA(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var GA=ge.createContext(void 0);GA.displayName="FrameworkContext";function aL(){let r=ge.useContext(GA);return WA(r,"You must render this element inside a <HydratedRouter> element"),r}function WY(r,e){let t=ge.useContext(GA),[n,i]=ge.useState(!1),[s,o]=ge.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=ge.useRef(null);ge.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let _=b=>{b.forEach(A=>{o(A.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[r]),ge.useEffect(()=>{if(n){let _=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(_)}}},[n]);let y=()=>{i(!0)},w=()=>{i(!1),o(!1)};return t?r!=="intent"?[s,g,{}]:[s,g,{onFocus:jd(l,y),onBlur:jd(u,w),onMouseEnter:jd(h,y),onMouseLeave:jd(f,w),onTouchStart:jd(p,y)}]:[!1,g,{}]}function jd(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function GY({page:r,...e}){let{router:t}=oL(),n=ge.useMemo(()=>yl(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?ge.createElement($Y,{page:r,matches:n,...e}):null}function KY(r){let{manifest:e,routeModules:t}=aL(),[n,i]=ge.useState([]);return ge.useEffect(()=>{let s=!1;return BY(r,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[r,e,t]),n}function $Y({page:r,matches:e,...t}){let n=Tc(),{manifest:i,routeModules:s}=aL(),{basename:o}=oL(),{loaderData:l,matches:u}=qY(),h=ge.useMemo(()=>IO(r,e,u,i,n,"data"),[r,e,u,i,n]),f=ge.useMemo(()=>IO(r,e,u,i,n,"assets"),[r,e,u,i,n]),p=ge.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(e.forEach(b=>{let A=i.routes[b.route.id];!A||!A.hasLoader||(!h.some(T=>T.route.id===b.route.id)&&b.route.id in l&&s[b.route.id]?.shouldRevalidate||A.hasClientLoader?_=!0:w.add(b.route.id))}),w.size===0)return[];let E=HY(r,o);return _&&w.size>0&&E.searchParams.set("_routes",e.filter(b=>w.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[o,l,n,i,h,e,r,s]),g=ge.useMemo(()=>FY(f,i),[f,i]),y=KY(f);return ge.createElement(ge.Fragment,null,p.map(w=>ge.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),g.map(w=>ge.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),y.map(({key:w,link:_})=>ge.createElement("link",{key:w,..._})))}function YY(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var lL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{lL&&(window.__reactRouterVersion="7.6.3")}catch{}function XY(r,e){return L$({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:r$({window:e?.window}),hydrationData:e?.hydrationData||QY(),routes:r,mapRouteProperties:vY,hydrationRouteProperties:wY,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function QY(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:ZY(r.errors)}),r}function ZY(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new lv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[n]=o}catch{}}if(t[n]==null){let s=new Error(i.message);s.stack="",t[n]=s}}else t[n]=i;return t}var uL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,KA=ge.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f,viewTransition:p,...g},y){let{basename:w}=ge.useContext(Uo),_=typeof h=="string"&&uL.test(h),E,b=!1;if(typeof h=="string"&&_&&(E=h,lL))try{let C=new URL(window.location.href),W=h.startsWith("//")?new URL(C.protocol+h):new URL(h),$=Ts(W.pathname,w);W.origin===C.origin&&$!=null?h=$+W.search+W.hash:b=!0}catch{Zn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=nY(h,{relative:i}),[T,x,D]=WY(n,g),M=tX(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function O(C){e&&e(C),C.defaultPrevented||M(C)}let P=ge.createElement("a",{...g,...D,href:E||A,onClick:b||s?e:O,ref:YY(y,x),target:u,"data-discover":!_&&t==="render"?"true":void 0});return T&&!_?ge.createElement(ge.Fragment,null,P,ge.createElement(GY,{page:A})):P});KA.displayName="Link";var hp=ge.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...h},f){let p=Nm(o,{relative:h.relative}),g=Tc(),y=ge.useContext(Im),{navigator:w,basename:_}=ge.useContext(Uo),E=y!=null&&oX(p)&&l===!0,b=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,A=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(A=A.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&_&&(T=Ts(T,_)||T);const x=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let D=A===b||!i&&A.startsWith(b)&&A.charAt(x)==="/",M=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),O={isActive:D,isPending:M,isTransitioning:E},P=D?e:void 0,C;typeof n=="function"?C=n(O):C=[n,D?"active":null,M?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(O):s;return ge.createElement(KA,{...h,"aria-current":P,className:C,ref:f,style:W,to:o,viewTransition:l},typeof u=="function"?u(O):u)});hp.displayName="NavLink";var JY=ge.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:o=p0,action:l,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...g},y)=>{let w=iX(),_=sX(l,{relative:h}),E=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&uL.test(l),A=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let x=T.nativeEvent.submitter,D=x?.getAttribute("formmethod")||o;w(x||T.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:s,relative:h,preventScrollReset:f,viewTransition:p})};return ge.createElement("form",{ref:y,method:E,action:_,onSubmit:n?u:A,...g,"data-discover":!b&&r==="render"?"true":void 0})});JY.displayName="Form";function eX(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cL(r){let e=ge.useContext(xc);return Tt(e,eX(r)),e}function tX(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Lf(),u=Tc(),h=Nm(r,{relative:s});return ge.useCallback(f=>{if(IY(f,e)){f.preventDefault();let p=t!==void 0?t:ql(u)===ql(h);l(r,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,h,t,n,e,r,i,s,o])}var nX=0,rX=()=>`__${String(++nX)}__`;function iX(){let{router:r}=cL("useSubmit"),{basename:e}=ge.useContext(Uo),t=mY();return ge.useCallback(async(n,i={})=>{let{action:s,method:o,encType:l,formData:u,body:h}=MY(n,e);if(i.navigate===!1){let f=i.fetcherKey||rX();await r.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await r.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function sX(r,{relative:e}={}){let{basename:t}=ge.useContext(Uo),n=ge.useContext(zo);Tt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Nm(r||".",{relative:e})},o=Tc();if(r==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Mo([t,s.pathname])),ql(s)}function oX(r,e={}){let t=ge.useContext(zA);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=cL("useViewTransitionState"),i=Nm(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ts(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Ts(t.nextLocation.pathname,n)||t.nextLocation.pathname;return av(i.pathname,o)!=null||av(i.pathname,s)!=null}[...jY];var ub={exports:{}},zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OO;function aX(){if(OO)return zr;OO=1;var r=jv();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,zr.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},zr.flushSync=function(u){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=h,n.p=f,n.d.f()}},zr.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},zr.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},zr.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):f==="script"&&n.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zr.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},zr.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);n.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zr.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=l(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},zr.requestFormReset=function(u){n.d.r(u)},zr.unstable_batchedUpdates=function(u,h){return u(h)},zr.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},zr.useFormStatus=function(){return o.H.useHostTransitionStatus()},zr.version="19.1.0",zr}var NO;function hL(){if(NO)return ub.exports;NO=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ub.exports=aX(),ub.exports}var lX=hL();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uX(r){return ge.createElement(bY,{flushSync:lX.flushSync,...r})}function ga(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function fL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $i={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},lf={duration:.5,overwrite:!1,delay:0},$A,Mr,Sn,vs=1e8,dn=1/vs,Tx=Math.PI*2,cX=Tx/4,hX=0,dL=Math.sqrt,fX=Math.cos,dX=Math.sin,vr=function(e){return typeof e=="string"},Nn=function(e){return typeof e=="function"},Da=function(e){return typeof e=="number"},YA=function(e){return typeof e>"u"},Bo=function(e){return typeof e=="object"},Si=function(e){return e!==!1},XA=function(){return typeof window<"u"},by=function(e){return Nn(e)||vr(e)},pL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},$r=Array.isArray,Ax=/(?:-?\.?\d|\.)+/gi,mL=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Rh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,cb=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,gL=/[+-]=-?[.\d]+/,yL=/[^,'"\[\]\s]+/gi,pX=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,An,mo,Cx,QA,Qi={},cv={},vL,wL=function(e){return(cv=uf(e,Qi))&&Ai},ZA=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Xp=function(e,t){return!t&&console.warn(e)},_L=function(e,t){return e&&(Qi[e]=t)&&cv&&(cv[e]=t)||Qi},Qp=function(){return 0},mX={suppressEvents:!0,isStart:!0,kill:!1},g0={suppressEvents:!0,kill:!1},gX={suppressEvents:!0},JA={},Ml=[],Rx={},bL,Hi={},hb={},MO=30,y0=[],eC="",tC=function(e){var t=e[0],n,i;if(Bo(t)||Nn(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=y0.length;i--&&!y0[i].targetTest(t););n=y0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new WL(e[i],n)))||e.splice(i,1);return e},ec=function(e){return e._gsap||tC(ws(e))[0]._gsap},SL=function(e,t,n){return(n=e[t])&&Nn(n)?e[t]():YA(n)&&e.getAttribute&&e.getAttribute(t)||n},Ei=function(e,t){return(e=e.split(",")).forEach(t)||e},Fn=function(e){return Math.round(e*1e5)/1e5||0},Yn=function(e){return Math.round(e*1e7)/1e7||0},Uh=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},yX=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},hv=function(){var e=Ml.length,t=Ml.slice(0),n,i;for(Rx={},Ml.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},nC=function(e){return!!(e._initted||e._startAt||e.add)},EL=function(e,t,n,i){Ml.length&&!Mr&&hv(),e.render(t,n,!!(Mr&&t<0&&nC(e))),Ml.length&&!Mr&&hv()},xL=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(yL).length<2?t:vr(e)?e.trim():e},TL=function(e){return e},Zi=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},vX=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},uf=function(e,t){for(var n in t)e[n]=t[n];return e},PO=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Bo(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},fv=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},Ap=function(e){var t=e.parent||An,n=e.keyframes?vX($r(e.keyframes)):Zi;if(Si(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},wX=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},AL=function(e,t,n,i,s){var o=e[i],l;if(s)for(l=t[s];o&&o[s]>l;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},yw=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Wl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},tc=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},_X=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},kx=function(e,t,n,i){return e._startAt&&(Mr?e._startAt.revert(g0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},bX=function r(e){return!e||e._ts&&r(e.parent)},LO=function(e){return e._repeat?cf(e._tTime,e=e.duration()+e._rDelay)*e:0},cf=function(e,t){var n=Math.floor(e=Yn(e/t));return e&&n===e?n-1:n},dv=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},vw=function(e){return e._end=Yn(e._start+(e._tDur/Math.abs(e._ts||e._rts||dn)||0))},ww=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Yn(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),vw(e),n._dirty||tc(n,e)),e},CL=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=dv(e.rawTime(),t),(!t._dur||Mm(0,t.totalDuration(),n)-t._tTime>dn)&&t.render(n,!0)),tc(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-dn}},vo=function(e,t,n,i){return t.parent&&Wl(t),t._start=Yn((Da(n)?n:n||e!==An?ds(e,n,t):e._time)+t._delay),t._end=Yn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),AL(e,t,"_first","_last",e._sort?"_start":0),Dx(t)||(e._recent=t),i||CL(e,t),e._ts<0&&ww(e,e._tTime),e},RL=function(e,t){return(Qi.ScrollTrigger||ZA("scrollTrigger",t))&&Qi.ScrollTrigger.create(t,e)},kL=function(e,t,n,i,s){if(iC(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!Mr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&bL!==qi.frame)return Ml.push(e),e._lazy=[s,i],1},SX=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},Dx=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},EX=function(e,t,n,i){var s=e.ratio,o=t<0||!t&&(!e._start&&SX(e)&&!(!e._initted&&Dx(e))||(e._ts<0||e._dp._ts<0)&&!Dx(e))?0:1,l=e._rDelay,u=0,h,f,p;if(l&&e._repeat&&(u=Mm(0,e._tDur,t),f=cf(u,l),e._yoyo&&f&1&&(o=1-o),f!==cf(e._tTime,l)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Mr||i||e._zTime===dn||!t&&e._zTime){if(!e._initted&&kL(e,t,i,n,u))return;for(p=e._zTime,e._zTime=t||(n?dn:0),n||(n=t&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,h=e._pt;h;)h.r(o,h.d),h=h._next;t<0&&kx(e,t,n,!0),e._onUpdate&&!n&&Gi(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&Gi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Wl(e,1),!n&&!Mr&&(Gi(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},xX=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},hf=function(e,t,n,i){var s=e._repeat,o=Yn(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Yn(o*(s+1)+e._rDelay*s):o,l>0&&!i&&ww(e,e._tTime=e._tDur*l),e.parent&&vw(e),n||tc(e.parent,e),e},BO=function(e){return e instanceof ai?tc(e):hf(e,e._dur)},TX={_start:0,endTime:Qp,totalDuration:Qp},ds=function r(e,t,n){var i=e.labels,s=e._recent||TX,o=e.duration()>=vs?s.endTime(!1):e._dur,l,u,h;return vr(t)&&(isNaN(t)||t in i)?(u=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),u==="<"||u===">"?(l>=0&&(t=t.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:n).totalDuration()/100:1)):l<0?(t in i||(i[t]=o),i[t]):(u=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(u=u/100*($r(n)?n[0]:n).totalDuration()),l>1?r(e,t.substr(0,l-1),n)+u:o+u)):t==null?o:+t},Cp=function(e,t,n){var i=Da(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],l,u;if(i&&(o.duration=t[1]),o.parent=n,e){for(l=o,u=n;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=Si(u.vars.inherit)&&u.parent;o.immediateRender=Si(l.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new $n(t[0],o,t[s+1])},ru=function(e,t){return e||e===0?t(e):t},Mm=function(e,t,n){return n<e?e:n>t?t:n},Wr=function(e,t){return!vr(e)||!(t=pX.exec(e))?"":t[1]},AX=function(e,t,n){return ru(n,function(i){return Mm(e,t,i)})},Ix=[].slice,DL=function(e,t){return e&&Bo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Bo(e[0]))&&!e.nodeType&&e!==mo},CX=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return vr(i)&&!t||DL(i,1)?(s=n).push.apply(s,ws(i)):n.push(i)})||n},ws=function(e,t,n){return Sn&&!t&&Sn.selector?Sn.selector(e):vr(e)&&!n&&(Cx||!ff())?Ix.call((t||QA).querySelectorAll(e),0):$r(e)?CX(e,n):DL(e)?Ix.call(e,0):e?[e]:[]},Ox=function(e){return e=ws(e)[0]||Xp("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return ws(t,n.querySelectorAll?n:n===e?Xp("Invalid scope")||QA.createElement("div"):e)}},IL=function(e){return e.sort(function(){return .5-Math.random()})},OL=function(e){if(Nn(e))return e;var t=Bo(e)?e:{each:e},n=nc(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},l=i>0&&i<1,u=isNaN(i)||l,h=t.axis,f=i,p=i;return vr(i)?f=p={center:.5,edges:.5,end:1}[i]||0:!l&&u&&(f=i[0],p=i[1]),function(g,y,w){var _=(w||t).length,E=o[_],b,A,T,x,D,M,O,P,C;if(!E){if(C=t.grid==="auto"?0:(t.grid||[1,vs])[1],!C){for(O=-vs;O<(O=w[C++].getBoundingClientRect().left)&&C<_;);C<_&&C--}for(E=o[_]=[],b=u?Math.min(C,_)*f-.5:i%C,A=C===vs?0:u?_*p/C-.5:i/C|0,O=0,P=vs,M=0;M<_;M++)T=M%C-b,x=A-(M/C|0),E[M]=D=h?Math.abs(h==="y"?x:T):dL(T*T+x*x),D>O&&(O=D),D<P&&(P=D);i==="random"&&IL(E),E.max=O-P,E.min=P,E.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(C>_?_-1:h?h==="y"?_/C:C:Math.max(C,_/C))||0)*(i==="edges"?-1:1),E.b=_<0?s-_:s,E.u=Wr(t.amount||t.each)||0,n=n&&_<0?jL(n):n}return _=(E[g]-E.min)/E.max||0,Yn(E.b+(n?n(_):_)*E.v)+E.u}},Nx=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Yn(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(Da(n)?0:Wr(n))}},NL=function(e,t){var n=$r(e),i,s;return!n&&Bo(e)&&(i=n=e.radius||vs,e.values?(e=ws(e.values),(s=!Da(e[0]))&&(i*=i)):e=Nx(e.increment)),ru(t,n?Nn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var l=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),h=vs,f=0,p=e.length,g,y;p--;)s?(g=e[p].x-l,y=e[p].y-u,g=g*g+y*y):g=Math.abs(e[p]-l),g<h&&(h=g,f=p);return f=!i||h<=i?e[f]:o,s||f===o||Da(o)?f:f+Wr(o)}:Nx(e))},ML=function(e,t,n,i){return ru($r(e)?!t:n===!0?!!(n=0):!i,function(){return $r(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},RX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,o){return o(s)},i)}},kX=function(e,t){return function(n){return e(parseFloat(n))+(t||Wr(n))}},DX=function(e,t,n){return LL(e,t,0,1,n)},PL=function(e,t,n){return ru(n,function(i){return e[~~t(i)]})},IX=function r(e,t,n){var i=t-e;return $r(e)?PL(e,r(0,e.length),t):ru(n,function(s){return(i+(s-e)%i)%i+e})},OX=function r(e,t,n){var i=t-e,s=i*2;return $r(e)?PL(e,r(0,e.length-1),t):ru(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Zp=function(e){for(var t=0,n="",i,s,o,l;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(l?yL:Ax),n+=e.substr(t,i-t)+ML(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},LL=function(e,t,n,i,s){var o=t-e,l=i-n;return ru(s,function(u){return n+((u-e)/o*l||0)})},NX=function r(e,t,n,i){var s=isNaN(e+t)?0:function(y){return(1-y)*e+y*t};if(!s){var o=vr(e),l={},u,h,f,p,g;if(n===!0&&(i=1)&&(n=null),o)e={p:e},t={p:t};else if($r(e)&&!$r(t)){for(f=[],p=e.length,g=p-2,h=1;h<p;h++)f.push(r(e[h-1],e[h]));p--,s=function(w){w*=p;var _=Math.min(g,~~w);return f[_](w-_)},n=t}else i||(e=uf($r(e)?[]:{},e));if(!f){for(u in t)rC.call(l,e,u,"get",t[u]);s=function(w){return aC(w,l)||(o?e.p:e)}}}return ru(n,s)},FO=function(e,t,n){var i=e.labels,s=vs,o,l,u;for(o in i)l=i[o]-t,l<0==!!n&&l&&s>(l=Math.abs(l))&&(u=o,s=l);return u},Gi=function(e,t,n){var i=e.vars,s=i[t],o=Sn,l=e._ctx,u,h,f;if(s)return u=i[t+"Params"],h=i.callbackScope||e,n&&Ml.length&&hv(),l&&(Sn=l),f=u?s.apply(h,u):s.call(h),Sn=o,f},fp=function(e){return Wl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Mr),e.progress()<1&&Gi(e,"onInterrupt"),e},kh,BL=[],FL=function(e){if(e)if(e=!e.name&&e.default||e,XA()||e.headless){var t=e.name,n=Nn(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Qp,render:aC,add:rC,kill:YX,modifier:$X,rawVars:0},o={targetTest:0,get:0,getSetter:oC,aliases:{},register:0};if(ff(),e!==i){if(Hi[t])return;Zi(i,Zi(fv(e,s),o)),uf(i.prototype,uf(s,fv(e,o))),Hi[i.prop=t]=i,e.targetTest&&(y0.push(i),JA[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}_L(t,i),e.register&&e.register(Ai,i,xi)}else BL.push(e)},hn=255,dp={aqua:[0,hn,hn],lime:[0,hn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,hn],navy:[0,0,128],white:[hn,hn,hn],olive:[128,128,0],yellow:[hn,hn,0],orange:[hn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[hn,0,0],pink:[hn,192,203],cyan:[0,hn,hn],transparent:[hn,hn,hn,0]},fb=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*hn+.5|0},VL=function(e,t,n){var i=e?Da(e)?[e>>16,e>>8&hn,e&hn]:0:dp.black,s,o,l,u,h,f,p,g,y,w;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),dp[e])i=dp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+s+s+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&hn,i&hn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&hn,e&hn]}else if(e.substr(0,3)==="hsl"){if(i=w=e.match(Ax),!t)u=+i[0]%360/360,h=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(h+1):f+h-f*h,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=fb(u+1/3,s,o),i[1]=fb(u,s,o),i[2]=fb(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(mL),n&&i.length<4&&(i[3]=1),i}else i=e.match(Ax)||dp.transparent;i=i.map(Number)}return t&&!w&&(s=i[0]/hn,o=i[1]/hn,l=i[2]/hn,p=Math.max(s,o,l),g=Math.min(s,o,l),f=(p+g)/2,p===g?u=h=0:(y=p-g,h=f>.5?y/(2-p-g):y/(p+g),u=p===s?(o-l)/y+(o<l?6:0):p===o?(l-s)/y+2:(s-o)/y+4,u*=60),i[0]=~~(u+.5),i[1]=~~(h*100+.5),i[2]=~~(f*100+.5)),n&&i.length<4&&(i[3]=1),i},UL=function(e){var t=[],n=[],i=-1;return e.split(Pl).forEach(function(s){var o=s.match(Rh)||[];t.push.apply(t,o),n.push(i+=o.length+1)}),t.c=n,t},VO=function(e,t,n){var i="",s=(e+i).match(Pl),o=t?"hsla(":"rgba(",l=0,u,h,f,p;if(!s)return e;if(s=s.map(function(g){return(g=VL(g,t,1))&&o+(t?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(f=UL(e),u=n.c,u.join(i)!==f.c.join(i)))for(h=e.replace(Pl,"1").split(Rh),p=h.length-1;l<p;l++)i+=h[l]+(~u.indexOf(l)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:n).shift());if(!h)for(h=e.split(Pl),p=h.length-1;l<p;l++)i+=h[l]+s[l];return i+h[p]},Pl=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in dp)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),MX=/hsl[a]?\(/,zL=function(e){var t=e.join(" "),n;if(Pl.lastIndex=0,Pl.test(t))return n=MX.test(t),e[1]=VO(e[1],n),e[0]=VO(e[0],n,UL(e[1])),!0},Jp,qi=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,o=s,l=[],u,h,f,p,g,y,w=function _(E){var b=r()-i,A=E===!0,T,x,D,M;if((b>e||b<0)&&(n+=b-t),i+=b,D=i-n,T=D-o,(T>0||A)&&(M=++p.frame,g=D-p.time*1e3,p.time=D=D/1e3,o+=T+(T>=s?4:s-T),x=1),A||(u=h(_)),x)for(y=0;y<l.length;y++)l[y](D,g,M,E)};return p={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(E){return g/(1e3/(E||60))},wake:function(){vL&&(!Cx&&XA()&&(mo=Cx=window,QA=mo.document||{},Qi.gsap=Ai,(mo.gsapVersions||(mo.gsapVersions=[])).push(Ai.version),wL(cv||mo.GreenSockGlobals||!mo.gsap&&mo||{}),BL.forEach(FL)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),h=f||function(E){return setTimeout(E,o-p.time*1e3+1|0)},Jp=1,w(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(u),Jp=0,h=Qp},lagSmoothing:function(E,b){e=E||1/0,t=Math.min(b||33,e)},fps:function(E){s=1e3/(E||240),o=p.time*1e3+s},add:function(E,b,A){var T=b?function(x,D,M,O){E(x,D,M,O),p.remove(T)}:E;return p.remove(E),l[A?"unshift":"push"](T),ff(),T},remove:function(E,b){~(b=l.indexOf(E))&&l.splice(b,1)&&y>=b&&y--},_listeners:l},p}(),ff=function(){return!Jp&&qi.wake()},Vt={},PX=/^[\d.\-M][\d.\-,\s]/,LX=/["']/g,BX=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,l,u,h;s<o;s++)u=n[s],l=s!==o-1?u.lastIndexOf(","):u.length,h=u.substr(0,l),t[i]=isNaN(h)?h.replace(LX,"").trim():+h,i=u.substr(l+1).trim();return t},FX=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},VX=function(e){var t=(e+"").split("("),n=Vt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[BX(t[1])]:FX(e).split(",").map(xL)):Vt._CE&&PX.test(e)?Vt._CE("",e):n},jL=function(e){return function(t){return 1-e(1-t)}},HL=function r(e,t){for(var n=e._first,i;n;)n instanceof ai?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},nc=function(e,t){return e&&(Nn(e)?e:Vt[e]||VX(e))||t},Ac=function(e,t,n,i){n===void 0&&(n=function(u){return 1-t(1-u)}),i===void 0&&(i=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},o;return Ei(e,function(l){Vt[l]=Qi[l]=s,Vt[o=l.toLowerCase()]=n;for(var u in s)Vt[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Vt[l+"."+u]=s[u]}),s},qL=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},db=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/Tx*(Math.asin(1/i)||0),l=function(f){return f===1?1:i*Math.pow(2,-10*f)*dX((f-o)*s)+1},u=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:qL(l);return s=Tx/s,u.config=function(h,f){return r(e,h,f)},u},pb=function r(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:qL(n);return i.config=function(s){return r(e,s)},i};Ei("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Ac(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Vt.Linear.easeNone=Vt.none=Vt.Linear.easeIn;Ac("Elastic",db("in"),db("out"),db());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(l){return l<t?r*l*l:l<n?r*Math.pow(l-1.5/e,2)+.75:l<i?r*(l-=2.25/e)*l+.9375:r*Math.pow(l-2.625/e,2)+.984375};Ac("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Ac("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Ac("Circ",function(r){return-(dL(1-r*r)-1)});Ac("Sine",function(r){return r===1?1:-fX(r*cX)+1});Ac("Back",pb("in"),pb("out"),pb());Vt.SteppedEase=Vt.steps=Qi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,o=1-dn;return function(l){return((i*Mm(0,o,l)|0)+s)*n}}};lf.ease=Vt["quad.out"];Ei("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return eC+=r+","+r+"Params,"});var WL=function(e,t){this.id=hX++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:SL,this.set=t?t.getSetter:oC},em=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,hf(this,+t.duration,1,1),this.data=t.data,Sn&&(this._ctx=Sn,Sn.data.push(this)),Jp||qi.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,hf(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(ff(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(ww(this,n),!s._dp||s.parent||CL(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&vo(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===dn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),EL(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+LO(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+LO(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?cf(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-dn?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?dv(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-dn?0:this._rts,this.totalTime(Mm(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),vw(this),_X(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ff(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==dn&&(this._tTime-=dn)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&vo(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Si(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?dv(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=gX);var i=Mr;return Mr=n,nC(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Mr=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,BO(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,BO(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(ds(this,n),Si(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Si(i)),this._dur||(this._zTime=-dn),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-dn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-dn,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-dn)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=Nn(n)?n:TL,l=function(){var h=i.then;i.then=null,Nn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=h),s(o),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){fp(this)},r}();Zi(em.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-dn,_prom:0,_ps:!1,_rts:1});var ai=function(r){fL(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Si(n.sortChildren),An&&vo(n.parent||An,ga(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&RL(ga(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Cp(0,arguments,this),this},t.from=function(i,s,o){return Cp(1,arguments,this),this},t.fromTo=function(i,s,o,l){return Cp(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Ap(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new $n(i,s,ds(this,o),1),this},t.call=function(i,s,o){return vo(this,$n.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,l,u,h,f){return o.duration=s,o.stagger=o.stagger||l,o.onComplete=h,o.onCompleteParams=f,o.parent=this,new $n(i,o,ds(this,u)),this},t.staggerFrom=function(i,s,o,l,u,h,f){return o.runBackwards=1,Ap(o).immediateRender=Si(o.immediateRender),this.staggerTo(i,s,o,l,u,h,f)},t.staggerFromTo=function(i,s,o,l,u,h,f,p){return l.startAt=o,Ap(l).immediateRender=Si(l.immediateRender),this.staggerTo(i,s,l,u,h,f,p)},t.render=function(i,s,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=i<=0?0:Yn(i),p=this._zTime<0!=i<0&&(this._initted||!h),g,y,w,_,E,b,A,T,x,D,M,O;if(this!==An&&f>u&&i>=0&&(f=u),f!==this._tTime||o||p){if(l!==this._time&&h&&(f+=this._time-l,i+=this._time-l),g=f,x=this._start,T=this._ts,b=!T,p&&(h||(l=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(M=this._yoyo,E=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(E*100+i,s,o);if(g=Yn(f%E),f===u?(_=this._repeat,g=h):(D=Yn(f/E),_=~~D,_&&_===D&&(g=h,_--),g>h&&(g=h)),D=cf(this._tTime,E),!l&&this._tTime&&D!==_&&this._tTime-D*E-this._dur<=0&&(D=_),M&&_&1&&(g=h-g,O=1),_!==D&&!this._lock){var P=M&&D&1,C=P===(M&&_&1);if(_<D&&(P=!P),l=P?0:f%h?h:f,this._lock=1,this.render(l||(O?0:Yn(_*E)),s,!h)._lock=0,this._tTime=f,!s&&this.parent&&Gi(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,u=this._tDur,C&&(this._lock=2,l=P?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;HL(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=xX(this,Yn(l),Yn(g)),A&&(f-=g-(g=A._start))),this._tTime=f,this._time=g,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&f&&!s&&!D&&(Gi(this,"onStart"),this._tTime!==f))return this;if(g>=l&&i>=0)for(y=this._first;y;){if(w=y._next,(y._act||g>=y._start)&&y._ts&&A!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(g-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(g-y._start)*y._ts,s,o),g!==this._time||!this._ts&&!b){A=0,w&&(f+=this._zTime=-dn);break}}y=w}else{y=this._last;for(var W=i<0?i:g;y;){if(w=y._prev,(y._act||W<=y._end)&&y._ts&&A!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(W-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(W-y._start)*y._ts,s,o||Mr&&nC(y)),g!==this._time||!this._ts&&!b){A=0,w&&(f+=this._zTime=W?-dn:dn);break}}y=w}}if(A&&!s&&(this.pause(),A.render(g>=l?0:-dn)._zTime=g>=l?1:-1,this._ts))return this._start=x,vw(this),this.render(i,s,o);this._onUpdate&&!s&&Gi(this,"onUpdate",!0),(f===u&&this._tTime>=this.totalDuration()||!f&&l)&&(x===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(f===u&&this._ts>0||!f&&this._ts<0)&&Wl(this,1),!s&&!(i<0&&!l)&&(f||l||!u)&&(Gi(this,f===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Da(s)||(s=ds(this,s,i)),!(i instanceof em)){if($r(i))return i.forEach(function(l){return o.add(l,s)}),this;if(vr(i))return this.addLabel(i,s);if(Nn(i))i=$n.delayedCall(0,i);else return this}return this!==i?vo(this,i,s):this},t.getChildren=function(i,s,o,l){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=-vs);for(var u=[],h=this._first;h;)h._start>=l&&(h instanceof $n?s&&u.push(h):(o&&u.push(h),i&&u.push.apply(u,h.getChildren(!0,s,o)))),h=h._next;return u},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return vr(i)?this.removeLabel(i):Nn(i)?this.killTweensOf(i):(i.parent===this&&yw(this,i),i===this._recent&&(this._recent=this._last),tc(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Yn(qi.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=ds(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var l=$n.delayedCall(0,s||Qp,o);return l.data="isPause",this._hasPause=1,vo(this,l,ds(this,i))},t.removePause=function(i){var s=this._first;for(i=ds(this,i);s;)s._start===i&&s.data==="isPause"&&Wl(s),s=s._next},t.killTweensOf=function(i,s,o){for(var l=this.getTweensOf(i,o),u=l.length;u--;)_l!==l[u]&&l[u].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],l=ws(i),u=this._first,h=Da(s),f;u;)u instanceof $n?yX(u._targets,l)&&(h?(!_l||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(f=u.getTweensOf(l,s)).length&&o.push.apply(o,f),u=u._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,l=ds(o,i),u=s,h=u.startAt,f=u.onStart,p=u.onStartParams,g=u.immediateRender,y,w=$n.to(o,Zi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale())||dn,onStart:function(){if(o.pause(),!y){var E=s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale());w._dur!==E&&hf(w,E,0,1).render(w._time,!0,!0),y=1}f&&f.apply(w,p||[])}},s));return g?w.render(0):w},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Zi({startAt:{time:ds(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),FO(this,ds(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),FO(this,ds(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+dn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,h;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(s)for(h in u)u[h]>=o&&(u[h]+=i);return tc(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),tc(this)},t.totalDuration=function(i){var s=0,o=this,l=o._last,u=vs,h,f,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,vo(o,l,f-l._delay,1)._lock=0):u=f,f<0&&l._ts&&(s-=f,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),u=0),l._end>s&&l._ts&&(s=l._end),l=h;hf(o,o===An&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(An._ts&&(EL(An,dv(i,An)),bL=qi.frame),qi.frame>=MO){MO+=$i.autoSleep||120;var s=An._first;if((!s||!s._ts)&&$i.autoSleep&&qi._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||qi.sleep()}}},e}(em);Zi(ai.prototype,{_lock:0,_hasPause:0,_forcing:0});var UX=function(e,t,n,i,s,o,l){var u=new xi(this._pt,e,t,0,1,QL,null,s),h=0,f=0,p,g,y,w,_,E,b,A;for(u.b=n,u.e=i,n+="",i+="",(b=~i.indexOf("random("))&&(i=Zp(i)),o&&(A=[n,i],o(A,e,t),n=A[0],i=A[1]),g=n.match(cb)||[];p=cb.exec(i);)w=p[0],_=i.substring(h,p.index),y?y=(y+1)%5:_.substr(-5)==="rgba("&&(y=1),w!==g[f++]&&(E=parseFloat(g[f-1])||0,u._pt={_next:u._pt,p:_||f===1?_:",",s:E,c:w.charAt(1)==="="?Uh(E,w)-E:parseFloat(w)-E,m:y&&y<4?Math.round:0},h=cb.lastIndex);return u.c=h<i.length?i.substring(h,i.length):"",u.fp=l,(gL.test(i)||b)&&(u.e=0),this._pt=u,u},rC=function(e,t,n,i,s,o,l,u,h,f){Nn(i)&&(i=i(s||0,e,o));var p=e[t],g=n!=="get"?n:Nn(p)?h?e[t.indexOf("set")||!Nn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():p,y=Nn(p)?h?WX:YL:sC,w;if(vr(i)&&(~i.indexOf("random(")&&(i=Zp(i)),i.charAt(1)==="="&&(w=Uh(g,i)+(Wr(g)||0),(w||w===0)&&(i=w))),!f||g!==i||Mx)return!isNaN(g*i)&&i!==""?(w=new xi(this._pt,e,t,+g||0,i-(g||0),typeof p=="boolean"?KX:XL,0,y),h&&(w.fp=h),l&&w.modifier(l,this,e),this._pt=w):(!p&&!(t in e)&&ZA(t,i),UX.call(this,e,t,g,i,y,u||$i.stringFilter,h))},zX=function(e,t,n,i,s){if(Nn(e)&&(e=Rp(e,s,t,n,i)),!Bo(e)||e.style&&e.nodeType||$r(e)||pL(e))return vr(e)?Rp(e,s,t,n,i):e;var o={},l;for(l in e)o[l]=Rp(e[l],s,t,n,i);return o},GL=function(e,t,n,i,s,o){var l,u,h,f;if(Hi[e]&&(l=new Hi[e]).init(s,l.rawVars?t[e]:zX(t[e],i,s,o,n),n,i,o)!==!1&&(n._pt=u=new xi(n._pt,s,e,0,1,l.render,l,0,l.priority),n!==kh))for(h=n._ptLookup[n._targets.indexOf(s)],f=l._props.length;f--;)h[l._props[f]]=u;return l},_l,Mx,iC=function r(e,t,n){var i=e.vars,s=i.ease,o=i.startAt,l=i.immediateRender,u=i.lazy,h=i.onUpdate,f=i.runBackwards,p=i.yoyoEase,g=i.keyframes,y=i.autoRevert,w=e._dur,_=e._startAt,E=e._targets,b=e.parent,A=b&&b.data==="nested"?b.vars.targets:E,T=e._overwrite==="auto"&&!$A,x=e.timeline,D,M,O,P,C,W,$,N,F,B,ae,Q,Y;if(x&&(!g||!s)&&(s="none"),e._ease=nc(s,lf.ease),e._yEase=p?jL(nc(p===!0?s:p,lf.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!x&&!!i.runBackwards,!x||g&&!i.stagger){if(N=E[0]?ec(E[0]).harness:0,Q=N&&i[N.prop],D=fv(i,JA),_&&(_._zTime<0&&_.progress(1),t<0&&f&&l&&!y?_.render(-1,!0):_.revert(f&&w?g0:mX),_._lazy=0),o){if(Wl(e._startAt=$n.set(E,Zi({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!_&&Si(u),startAt:null,delay:0,onUpdate:h&&function(){return Gi(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Mr||!l&&!y)&&e._startAt.revert(g0),l&&w&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(f&&w&&!_){if(t&&(l=!1),O=Zi({overwrite:!1,data:"isFromStart",lazy:l&&!_&&Si(u),immediateRender:l,stagger:0,parent:b},D),Q&&(O[N.prop]=Q),Wl(e._startAt=$n.set(E,O)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Mr?e._startAt.revert(g0):e._startAt.render(-1,!0)),e._zTime=t,!l)r(e._startAt,dn,dn);else if(!t)return}for(e._pt=e._ptCache=0,u=w&&Si(u)||u&&!w,M=0;M<E.length;M++){if(C=E[M],$=C._gsap||tC(E)[M]._gsap,e._ptLookup[M]=B={},Rx[$.id]&&Ml.length&&hv(),ae=A===E?M:A.indexOf(C),N&&(F=new N).init(C,Q||D,e,ae,A)!==!1&&(e._pt=P=new xi(e._pt,C,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(pe){B[pe]=P}),F.priority&&(W=1)),!N||Q)for(O in D)Hi[O]&&(F=GL(O,D,e,ae,C,A))?F.priority&&(W=1):B[O]=P=rC.call(e,C,O,"get",D[O],ae,A,0,i.stringFilter);e._op&&e._op[M]&&e.kill(C,e._op[M]),T&&e._pt&&(_l=e,An.killTweensOf(C,B,e.globalTime(t)),Y=!e.parent,_l=0),e._pt&&u&&(Rx[$.id]=1)}W&&ZL(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!Y,g&&t<=0&&x.render(vs,!0,!0)},jX=function(e,t,n,i,s,o,l,u){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],f,p,g,y;if(!h)for(h=e._ptCache[t]=[],g=e._ptLookup,y=e._targets.length;y--;){if(f=g[y][t],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==t&&f.fp!==t;)f=f._next;if(!f)return Mx=1,e.vars[t]="+=0",iC(e,l),Mx=0,u?Xp(t+" not eligible for reset"):1;h.push(f)}for(y=h.length;y--;)p=h[y],f=p._pt||p,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=n-f.s,p.e&&(p.e=Fn(n)+Wr(p.e)),p.b&&(p.b=f.s+Wr(p.b))},HX=function(e,t){var n=e[0]?ec(e[0]).harness:0,i=n&&n.aliases,s,o,l,u;if(!i)return t;s=uf({},t);for(o in i)if(o in s)for(u=i[o].split(","),l=u.length;l--;)s[u[l]]=s[o];return s},qX=function(e,t,n,i){var s=t.ease||i||"power1.inOut",o,l;if($r(t))l=n[e]||(n[e]=[]),t.forEach(function(u,h){return l.push({t:h/(t.length-1)*100,v:u,e:s})});else for(o in t)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:t[o],e:s})},Rp=function(e,t,n,i,s){return Nn(e)?e.call(t,n,i,s):vr(e)&&~e.indexOf("random(")?Zp(e):e},KL=eC+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",$L={};Ei(KL+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return $L[r]=1});var $n=function(r){fL(e,r);function e(n,i,s,o){var l;typeof i=="number"&&(s.duration=i,i=s,s=null),l=r.call(this,o?i:Ap(i))||this;var u=l.vars,h=u.duration,f=u.delay,p=u.immediateRender,g=u.stagger,y=u.overwrite,w=u.keyframes,_=u.defaults,E=u.scrollTrigger,b=u.yoyoEase,A=i.parent||An,T=($r(n)||pL(n)?Da(n[0]):"length"in i)?[n]:ws(n),x,D,M,O,P,C,W,$;if(l._targets=T.length?tC(T):Xp("GSAP target "+n+" not found. https://gsap.com",!$i.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=y,w||g||by(h)||by(f)){if(i=l.vars,x=l.timeline=new ai({data:"nested",defaults:_||{},targets:A&&A.data==="nested"?A.vars.targets:T}),x.kill(),x.parent=x._dp=ga(l),x._start=0,g||by(h)||by(f)){if(O=T.length,W=g&&OL(g),Bo(g))for(P in g)~KL.indexOf(P)&&($||($={}),$[P]=g[P]);for(D=0;D<O;D++)M=fv(i,$L),M.stagger=0,b&&(M.yoyoEase=b),$&&uf(M,$),C=T[D],M.duration=+Rp(h,ga(l),D,C,T),M.delay=(+Rp(f,ga(l),D,C,T)||0)-l._delay,!g&&O===1&&M.delay&&(l._delay=f=M.delay,l._start+=f,M.delay=0),x.to(C,M,W?W(D,C,T):0),x._ease=Vt.none;x.duration()?h=f=0:l.timeline=0}else if(w){Ap(Zi(x.vars.defaults,{ease:"none"})),x._ease=nc(w.ease||i.ease||"none");var N=0,F,B,ae;if($r(w))w.forEach(function(Q){return x.to(T,Q,">")}),x.duration();else{M={};for(P in w)P==="ease"||P==="easeEach"||qX(P,w[P],M,w.easeEach);for(P in M)for(F=M[P].sort(function(Q,Y){return Q.t-Y.t}),N=0,D=0;D<F.length;D++)B=F[D],ae={ease:B.e,duration:(B.t-(D?F[D-1].t:0))/100*h},ae[P]=B.v,x.to(T,ae,N),N+=ae.duration;x.duration()<h&&x.to({},{duration:h-x.duration()})}}h||l.duration(h=x.duration())}else l.timeline=0;return y===!0&&!$A&&(_l=ga(l),An.killTweensOf(T),_l=0),vo(A,ga(l),s),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(p||!h&&!w&&l._start===Yn(A._time)&&Si(p)&&bX(ga(l))&&A.data!=="nested")&&(l._tTime=-dn,l.render(Math.max(0,-f)||0)),E&&RL(ga(l),E),l}var t=e.prototype;return t.render=function(i,s,o){var l=this._time,u=this._tDur,h=this._dur,f=i<0,p=i>u-dn&&!f?u:i<dn?0:i,g,y,w,_,E,b,A,T,x;if(!h)EX(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=p,T=this.timeline,this._repeat){if(_=h+this._rDelay,this._repeat<-1&&f)return this.totalTime(_*100+i,s,o);if(g=Yn(p%_),p===u?(w=this._repeat,g=h):(E=Yn(p/_),w=~~E,w&&w===E?(g=h,w--):g>h&&(g=h)),b=this._yoyo&&w&1,b&&(x=this._yEase,g=h-g),E=cf(this._tTime,_),g===l&&!o&&this._initted&&w===E)return this._tTime=p,this;w!==E&&(T&&this._yEase&&HL(T,b),this.vars.repeatRefresh&&!b&&!this._lock&&g!==_&&this._initted&&(this._lock=o=1,this.render(Yn(_*w),!0).invalidate()._lock=0))}if(!this._initted){if(kL(this,f?i:g,o,s,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&w!==E))return this;if(h!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(x||this._ease)(g/h),this._from&&(this.ratio=A=1-A),!l&&p&&!s&&!E&&(Gi(this,"onStart"),this._tTime!==p))return this;for(y=this._pt;y;)y.r(A,y.d),y=y._next;T&&T.render(i<0?i:T._dur*T._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&kx(this,i,s,o),Gi(this,"onUpdate")),this._repeat&&w!==E&&this.vars.onRepeat&&!s&&this.parent&&Gi(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&kx(this,i,!0,!0),(i||!h)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Wl(this,1),!s&&!(f&&!l)&&(p||l||b)&&(Gi(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,l,u){Jp||qi.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||iC(this,h),f=this._ease(h/this._dur),jX(this,i,s,o,l,f,h,u)?this.resetTo(i,s,o,l,1):(ww(this,0),this.parent||AL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?fp(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Mr),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,_l&&_l.vars.overwrite!==!0)._first||fp(this),this.parent&&o!==this.timeline.totalDuration()&&hf(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=i?ws(i):l,h=this._ptLookup,f=this._pt,p,g,y,w,_,E,b;if((!s||s==="all")&&wX(l,u))return s==="all"&&(this._pt=0),fp(this);for(p=this._op=this._op||[],s!=="all"&&(vr(s)&&(_={},Ei(s,function(A){return _[A]=1}),s=_),s=HX(l,s)),b=l.length;b--;)if(~u.indexOf(l[b])){g=h[b],s==="all"?(p[b]=s,w=g,y={}):(y=p[b]=p[b]||{},w=s);for(_ in w)E=g&&g[_],E&&((!("kill"in E.d)||E.d.kill(_)===!0)&&yw(this,E,"_pt"),delete g[_]),y!=="all"&&(y[_]=1)}return this._initted&&!this._pt&&f&&fp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Cp(1,arguments)},e.delayedCall=function(i,s,o,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,s,o){return Cp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return An.killTweensOf(i,s,o)},e}(em);Zi($n.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ei("staggerTo,staggerFrom,staggerFromTo",function(r){$n[r]=function(){var e=new ai,t=Ix.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var sC=function(e,t,n){return e[t]=n},YL=function(e,t,n){return e[t](n)},WX=function(e,t,n,i){return e[t](i.fp,n)},GX=function(e,t,n){return e.setAttribute(t,n)},oC=function(e,t){return Nn(e[t])?YL:YA(e[t])&&e.setAttribute?GX:sC},XL=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},KX=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},QL=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},aC=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},$X=function(e,t,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,n),s=o},YX=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?yw(this,t,"_pt"):t.dep||(n=1),t=i;return!n},XX=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},ZL=function(e){for(var t=e._pt,n,i,s,o;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=n}e._pt=s},xi=function(){function r(t,n,i,s,o,l,u,h,f){this.t=n,this.s=s,this.c=o,this.p=i,this.r=l||XL,this.d=u||this,this.set=h||sC,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=XX,this.m=n,this.mt=s,this.tween=i},r}();Ei(eC+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return JA[r]=1});Qi.TweenMax=Qi.TweenLite=$n;Qi.TimelineLite=Qi.TimelineMax=ai;An=new ai({sortChildren:!1,defaults:lf,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$i.stringFilter=zL;var rc=[],v0={},QX=[],UO=0,ZX=0,mb=function(e){return(v0[e]||QX).map(function(t){return t()})},Px=function(){var e=Date.now(),t=[];e-UO>2&&(mb("matchMediaInit"),rc.forEach(function(n){var i=n.queries,s=n.conditions,o,l,u,h;for(l in i)o=mo.matchMedia(i[l]).matches,o&&(u=1),o!==s[l]&&(s[l]=o,h=1);h&&(n.revert(),u&&t.push(n))}),mb("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),UO=e,mb("matchMedia"))},JL=function(){function r(t,n){this.selector=n&&Ox(n),this.data=[],this._r=[],this.isReverted=!1,this.id=ZX++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,s){Nn(n)&&(s=i,i=n,n=Nn);var o=this,l=function(){var h=Sn,f=o.selector,p;return h&&h!==o&&h.data.push(o),s&&(o.selector=Ox(s)),Sn=o,p=i.apply(o,arguments),Nn(p)&&o._r.push(p),Sn=h,o.selector=f,o.isReverted=!1,p};return o.last=l,n===Nn?l(o,function(u){return o.add(null,u)}):n?o[n]=l:l},e.ignore=function(n){var i=Sn;Sn=null,n(this),Sn=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof $n&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var l=s.getTweens(),u=s.data.length,h;u--;)h=s.data[u],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),u=s.data.length;u--;)h=s.data[u],h instanceof ai?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof $n)&&h.revert&&h.revert(n);s._r.forEach(function(f){return f(n,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=rc.length;o--;)rc[o].id===this.id&&rc.splice(o,1)},e.revert=function(n){this.kill(n||{})},r}(),JX=function(){function r(t){this.contexts=[],this.scope=t,Sn&&Sn.data.push(this)}var e=r.prototype;return e.add=function(n,i,s){Bo(n)||(n={matches:n});var o=new JL(0,s||this.scope),l=o.conditions={},u,h,f;Sn&&!o.selector&&(o.selector=Sn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(h in n)h==="all"?f=1:(u=mo.matchMedia(n[h]),u&&(rc.indexOf(o)<0&&rc.push(o),(l[h]=u.matches)&&(f=1),u.addListener?u.addListener(Px):u.addEventListener("change",Px)));return f&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),pv={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return FL(i)})},timeline:function(e){return new ai(e)},getTweensOf:function(e,t){return An.getTweensOf(e,t)},getProperty:function(e,t,n,i){vr(e)&&(e=ws(e)[0]);var s=ec(e||{}).get,o=n?TL:xL;return n==="native"&&(n=""),e&&(t?o((Hi[t]&&Hi[t].get||s)(e,t,n,i)):function(l,u,h){return o((Hi[l]&&Hi[l].get||s)(e,l,u,h))})},quickSetter:function(e,t,n){if(e=ws(e),e.length>1){var i=e.map(function(f){return Ai.quickSetter(f,t,n)}),s=i.length;return function(f){for(var p=s;p--;)i[p](f)}}e=e[0]||{};var o=Hi[t],l=ec(e),u=l.harness&&(l.harness.aliases||{})[t]||t,h=o?function(f){var p=new o;kh._pt=0,p.init(e,n?f+n:f,kh,0,[e]),p.render(1,p),kh._pt&&aC(1,kh)}:l.set(e,u);return o?h:function(f){return h(e,u,n?f+n:f,l,1)}},quickTo:function(e,t,n){var i,s=Ai.to(e,Zi((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(u,h,f){return s.resetTo(t,u,h,f)};return o.tween=s,o},isTweening:function(e){return An.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=nc(e.ease,lf.ease)),PO(lf,e||{})},config:function(e){return PO($i,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Hi[l]&&!Qi[l]&&Xp(t+" effect requires "+l+" plugin.")}),hb[t]=function(l,u,h){return n(ws(l),Zi(u||{},s),h)},o&&(ai.prototype[t]=function(l,u,h){return this.add(hb[t](l,Bo(u)?u:(h=u)&&{},this),h)})},registerEase:function(e,t){Vt[e]=nc(t)},parseEase:function(e,t){return arguments.length?nc(e,t):Vt},getById:function(e){return An.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ai(e),i,s;for(n.smoothChildTiming=Si(e.smoothChildTiming),An.remove(n),n._dp=0,n._time=n._tTime=An._time,i=An._first;i;)s=i._next,(t||!(!i._dur&&i instanceof $n&&i.vars.onComplete===i._targets[0]))&&vo(n,i,i._start-i._delay),i=s;return vo(An,n,0),n},context:function(e,t){return e?new JL(e,t):Sn},matchMedia:function(e){return new JX(e)},matchMediaRefresh:function(){return rc.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||Px()},addEventListener:function(e,t){var n=v0[e]||(v0[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=v0[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:IX,wrapYoyo:OX,distribute:OL,random:ML,snap:NL,normalize:DX,getUnit:Wr,clamp:AX,splitColor:VL,toArray:ws,selector:Ox,mapRange:LL,pipe:RX,unitize:kX,interpolate:NX,shuffle:IL},install:wL,effects:hb,ticker:qi,updateRoot:ai.updateRoot,plugins:Hi,globalTimeline:An,core:{PropTween:xi,globals:_L,Tween:$n,Timeline:ai,Animation:em,getCache:ec,_removeLinkedListItem:yw,reverting:function(){return Mr},context:function(e){return e&&Sn&&(Sn.data.push(e),e._ctx=Sn),Sn},suppressOverwrites:function(e){return $A=e}}};Ei("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return pv[r]=$n[r]});qi.add(ai.updateRoot);kh=pv.to({},{duration:0});var eQ=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},tQ=function(e,t){var n=e._targets,i,s,o;for(i in t)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=eQ(o,i)),o&&o.modifier&&o.modifier(t[i],e,n[s],i))},gb=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(l){var u,h;if(vr(s)&&(u={},Ei(s,function(f){return u[f]=1}),s=u),t){u={};for(h in s)u[h]=t(s[h]);s=u}tQ(l,s)}}}},Ai=pv.registerPlugin({name:"attr",init:function(e,t,n,i,s){var o,l,u;this.tween=n;for(o in t)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",t[o],i,s,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)Mr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},gb("roundProps",Nx),gb("modifiers"),gb("snap",NL))||pv;$n.version=ai.version=Ai.version="3.13.0";vL=1;XA()&&ff();Vt.Power0;Vt.Power1;Vt.Power2;Vt.Power3;Vt.Power4;Vt.Linear;Vt.Quad;Vt.Cubic;Vt.Quart;Vt.Quint;Vt.Strong;Vt.Elastic;Vt.Back;Vt.SteppedEase;Vt.Bounce;Vt.Sine;Vt.Expo;Vt.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var zO,bl,zh,lC,$u,jO,uC,nQ=function(){return typeof window<"u"},Ia={},ju=180/Math.PI,jh=Math.PI/180,ph=Math.atan2,HO=1e8,cC=/([A-Z])/g,rQ=/(left|right|width|margin|padding|x)/i,iQ=/[\s,\(]\S/,So={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Lx=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},sQ=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},oQ=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},aQ=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},e8=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},t8=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},lQ=function(e,t,n){return e.style[t]=n},uQ=function(e,t,n){return e.style.setProperty(t,n)},cQ=function(e,t,n){return e._gsap[t]=n},hQ=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},fQ=function(e,t,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},dQ=function(e,t,n,i,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Cn="transform",Ti=Cn+"Origin",pQ=function r(e,t){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in Ia&&s){if(this.tfm=this.tfm||{},e!=="transform")e=So[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=ya(i,l)}):this.tfm[e]=o.x?o[e]:ya(i,e),e===Ti&&(this.tfm.zOrigin=o.zOrigin);else return So.transform.split(",").forEach(function(l){return r.call(n,l,t)});if(this.props.indexOf(Cn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ti,t,"")),e=Cn}(s||t)&&this.props.push(e,t,s[e])},n8=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},mQ=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(cC,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=uC(),(!s||!s.isStart)&&!n[Cn]&&(n8(n),i.zOrigin&&n[Ti]&&(n[Ti]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},r8=function(e,t){var n={target:e,props:[],revert:mQ,save:pQ};return e._gsap||Ai.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},i8,Bx=function(e,t){var n=bl.createElementNS?bl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):bl.createElement(e);return n&&n.style?n:bl.createElement(e)},_s=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(cC,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,df(t)||t,1)||""},qO="O,Moz,ms,Ms,Webkit".split(","),df=function(e,t,n){var i=t||$u,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(qO[o]+e in s););return o<0?null:(o===3?"ms":o>=0?qO[o]:"")+e},Fx=function(){nQ()&&window.document&&(zO=window,bl=zO.document,zh=bl.documentElement,$u=Bx("div")||{style:{}},Bx("div"),Cn=df(Cn),Ti=Cn+"Origin",$u.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",i8=!!df("perspective"),uC=Ai.core.reverting,lC=1)},WO=function(e){var t=e.ownerSVGElement,n=Bx("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),zh.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),zh.removeChild(n),s},GO=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},s8=function(e){var t,n;try{t=e.getBBox()}catch{t=WO(e),n=1}return t&&(t.width||t.height)||n||(t=WO(e)),t&&!t.width&&!t.x&&!t.y?{x:+GO(e,["x","cx","x1"])||0,y:+GO(e,["y","cy","y1"])||0,width:0,height:0}:t},o8=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&s8(e))},pc=function(e,t){if(t){var n=e.style,i;t in Ia&&t!==Ti&&(t=Cn),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(cC,"-$1").toLowerCase())):n.removeAttribute(t)}},Sl=function(e,t,n,i,s,o){var l=new xi(e._pt,t,n,0,1,o?t8:e8);return e._pt=l,l.b=i,l.e=s,e._props.push(n),l},KO={deg:1,rad:1,turn:1},gQ={grid:1,flex:1},Gl=function r(e,t,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",l=$u.style,u=rQ.test(t),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(u?"Width":"Height"),p=100,g=i==="px",y=i==="%",w,_,E,b;if(i===o||!s||KO[i]||KO[o])return s;if(o!=="px"&&!g&&(s=r(e,t,n,"px")),b=e.getCTM&&o8(e),(y||o==="%")&&(Ia[t]||~t.indexOf("adius")))return w=b?e.getBBox()[u?"width":"height"]:e[f],Fn(y?s/w*p:s/100*w);if(l[u?"width":"height"]=p+(g?o:i),_=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,b&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===bl||!_.appendChild)&&(_=bl.body),E=_._gsap,E&&y&&E.width&&u&&E.time===qi.time&&!E.uncache)return Fn(s/E.width*p);if(y&&(t==="height"||t==="width")){var A=e.style[t];e.style[t]=p+i,w=e[f],A?e.style[t]=A:pc(e,t)}else(y||o==="%")&&!gQ[_s(_,"display")]&&(l.position=_s(e,"position")),_===e&&(l.position="static"),_.appendChild($u),w=$u[f],_.removeChild($u),l.position="absolute";return u&&y&&(E=ec(_),E.time=qi.time,E.width=_[f]),Fn(g?w*s/p:w&&s?p/w*s:0)},ya=function(e,t,n,i){var s;return lC||Fx(),t in So&&t!=="transform"&&(t=So[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ia[t]&&t!=="transform"?(s=nm(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:gv(_s(e,Ti))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=mv[t]&&mv[t](e,t,n)||_s(e,t)||SL(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Gl(e,t,s,n)+n:s},yQ=function(e,t,n,i){if(!n||n==="none"){var s=df(t,e,1),o=s&&_s(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=_s(e,"borderTopColor"))}var l=new xi(this._pt,e.style,t,0,1,QL),u=0,h=0,f,p,g,y,w,_,E,b,A,T,x,D;if(l.b=n,l.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=_s(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(_=e.style[t],e.style[t]=i,i=_s(e,t)||i,_?e.style[t]=_:pc(e,t)),f=[n,i],zL(f),n=f[0],i=f[1],g=n.match(Rh)||[],D=i.match(Rh)||[],D.length){for(;p=Rh.exec(i);)E=p[0],A=i.substring(u,p.index),w?w=(w+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(w=1),E!==(_=g[h++]||"")&&(y=parseFloat(_)||0,x=_.substr((y+"").length),E.charAt(1)==="="&&(E=Uh(y,E)+x),b=parseFloat(E),T=E.substr((b+"").length),u=Rh.lastIndex-T.length,T||(T=T||$i.units[t]||x,u===i.length&&(i+=T,l.e+=T)),x!==T&&(y=Gl(e,t,_,T)||0),l._pt={_next:l._pt,p:A||h===1?A:",",s:y,c:b-y,m:w&&w<4||t==="zIndex"?Math.round:0});l.c=u<i.length?i.substring(u,i.length):""}else l.r=t==="display"&&i==="none"?t8:e8;return gL.test(i)&&(l.e=0),this._pt=l,l},$O={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vQ=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=$O[n]||n,t[1]=$O[i]||i,t.join(" ")},wQ=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,o=n._gsap,l,u,h;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],Ia[l]&&(u=1,l=l==="transformOrigin"?Ti:Cn),pc(n,l);u&&(pc(n,Cn),o&&(o.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",nm(n,1),o.uncache=1,n8(i)))}},mv={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new xi(e._pt,t,n,0,0,wQ);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},tm=[1,0,0,1,0,0],a8={},l8=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},YO=function(e){var t=_s(e,Cn);return l8(t)?tm:t.substr(7).match(mL).map(Fn)},hC=function(e,t){var n=e._gsap||ec(e),i=e.style,s=YO(e),o,l,u,h;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?tm:s):(s===tm&&!e.offsetParent&&e!==zh&&!n.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,zh.appendChild(e)),s=YO(e),u?i.display=u:pc(e,"display"),h&&(l?o.insertBefore(e,l):o?o.appendChild(e):zh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Vx=function(e,t,n,i,s,o){var l=e._gsap,u=s||hC(e,!0),h=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,g=l.yOffset||0,y=u[0],w=u[1],_=u[2],E=u[3],b=u[4],A=u[5],T=t.split(" "),x=parseFloat(T[0])||0,D=parseFloat(T[1])||0,M,O,P,C;n?u!==tm&&(O=y*E-w*_)&&(P=x*(E/O)+D*(-_/O)+(_*A-E*b)/O,C=x*(-w/O)+D*(y/O)-(y*A-w*b)/O,x=P,D=C):(M=s8(e),x=M.x+(~T[0].indexOf("%")?x/100*M.width:x),D=M.y+(~(T[1]||T[0]).indexOf("%")?D/100*M.height:D)),i||i!==!1&&l.smooth?(b=x-h,A=D-f,l.xOffset=p+(b*y+A*_)-b,l.yOffset=g+(b*w+A*E)-A):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=D,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!n,e.style[Ti]="0px 0px",o&&(Sl(o,l,"xOrigin",h,x),Sl(o,l,"yOrigin",f,D),Sl(o,l,"xOffset",p,l.xOffset),Sl(o,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",x+" "+D)},nm=function(e,t){var n=e._gsap||new WL(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",l="deg",u=getComputedStyle(e),h=_s(e,Ti)||"0",f,p,g,y,w,_,E,b,A,T,x,D,M,O,P,C,W,$,N,F,B,ae,Q,Y,pe,fe,ee,J,K,re,he,ve;return f=p=g=_=E=b=A=T=x=0,y=w=1,n.svg=!!(e.getCTM&&o8(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[Cn]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Cn]!=="none"?u[Cn]:"")),i.scale=i.rotate=i.translate="none"),O=hC(e,n.svg),n.svg&&(n.uncache?(pe=e.getBBox(),h=n.xOrigin-pe.x+"px "+(n.yOrigin-pe.y)+"px",Y=""):Y=!t&&e.getAttribute("data-svg-origin"),Vx(e,Y||h,!!Y||n.originIsAbsolute,n.smooth!==!1,O)),D=n.xOrigin||0,M=n.yOrigin||0,O!==tm&&($=O[0],N=O[1],F=O[2],B=O[3],f=ae=O[4],p=Q=O[5],O.length===6?(y=Math.sqrt($*$+N*N),w=Math.sqrt(B*B+F*F),_=$||N?ph(N,$)*ju:0,A=F||B?ph(F,B)*ju+_:0,A&&(w*=Math.abs(Math.cos(A*jh))),n.svg&&(f-=D-(D*$+M*F),p-=M-(D*N+M*B))):(ve=O[6],re=O[7],ee=O[8],J=O[9],K=O[10],he=O[11],f=O[12],p=O[13],g=O[14],P=ph(ve,K),E=P*ju,P&&(C=Math.cos(-P),W=Math.sin(-P),Y=ae*C+ee*W,pe=Q*C+J*W,fe=ve*C+K*W,ee=ae*-W+ee*C,J=Q*-W+J*C,K=ve*-W+K*C,he=re*-W+he*C,ae=Y,Q=pe,ve=fe),P=ph(-F,K),b=P*ju,P&&(C=Math.cos(-P),W=Math.sin(-P),Y=$*C-ee*W,pe=N*C-J*W,fe=F*C-K*W,he=B*W+he*C,$=Y,N=pe,F=fe),P=ph(N,$),_=P*ju,P&&(C=Math.cos(P),W=Math.sin(P),Y=$*C+N*W,pe=ae*C+Q*W,N=N*C-$*W,Q=Q*C-ae*W,$=Y,ae=pe),E&&Math.abs(E)+Math.abs(_)>359.9&&(E=_=0,b=180-b),y=Fn(Math.sqrt($*$+N*N+F*F)),w=Fn(Math.sqrt(Q*Q+ve*ve)),P=ph(ae,Q),A=Math.abs(P)>2e-4?P*ju:0,x=he?1/(he<0?-he:he):0),n.svg&&(Y=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!l8(_s(e,Cn)),Y&&e.setAttribute("transform",Y))),Math.abs(A)>90&&Math.abs(A)<270&&(s?(y*=-1,A+=_<=0?180:-180,_+=_<=0?180:-180):(w*=-1,A+=A<=0?180:-180)),t=t||n.uncache,n.x=f-((n.xPercent=f&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=Fn(y),n.scaleY=Fn(w),n.rotation=Fn(_)+l,n.rotationX=Fn(E)+l,n.rotationY=Fn(b)+l,n.skewX=A+l,n.skewY=T+l,n.transformPerspective=x+o,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(i[Ti]=gv(h)),n.xOffset=n.yOffset=0,n.force3D=$i.force3D,n.renderTransform=n.svg?bQ:i8?u8:_Q,n.uncache=0,n},gv=function(e){return(e=e.split(" "))[0]+" "+e[1]},yb=function(e,t,n){var i=Wr(t);return Fn(parseFloat(t)+parseFloat(Gl(e,"x",n+"px",i)))+i},_Q=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,u8(e,t)},Mu="0deg",Hd="0px",Pu=") ",u8=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,l=n.y,u=n.z,h=n.rotation,f=n.rotationY,p=n.rotationX,g=n.skewX,y=n.skewY,w=n.scaleX,_=n.scaleY,E=n.transformPerspective,b=n.force3D,A=n.target,T=n.zOrigin,x="",D=b==="auto"&&e&&e!==1||b===!0;if(T&&(p!==Mu||f!==Mu)){var M=parseFloat(f)*jh,O=Math.sin(M),P=Math.cos(M),C;M=parseFloat(p)*jh,C=Math.cos(M),o=yb(A,o,O*C*-T),l=yb(A,l,-Math.sin(M)*-T),u=yb(A,u,P*C*-T+T)}E!==Hd&&(x+="perspective("+E+Pu),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(D||o!==Hd||l!==Hd||u!==Hd)&&(x+=u!==Hd||D?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+Pu),h!==Mu&&(x+="rotate("+h+Pu),f!==Mu&&(x+="rotateY("+f+Pu),p!==Mu&&(x+="rotateX("+p+Pu),(g!==Mu||y!==Mu)&&(x+="skew("+g+", "+y+Pu),(w!==1||_!==1)&&(x+="scale("+w+", "+_+Pu),A.style[Cn]=x||"translate(0, 0)"},bQ=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,l=n.y,u=n.rotation,h=n.skewX,f=n.skewY,p=n.scaleX,g=n.scaleY,y=n.target,w=n.xOrigin,_=n.yOrigin,E=n.xOffset,b=n.yOffset,A=n.forceCSS,T=parseFloat(o),x=parseFloat(l),D,M,O,P,C;u=parseFloat(u),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,u+=f),u||h?(u*=jh,h*=jh,D=Math.cos(u)*p,M=Math.sin(u)*p,O=Math.sin(u-h)*-g,P=Math.cos(u-h)*g,h&&(f*=jh,C=Math.tan(h-f),C=Math.sqrt(1+C*C),O*=C,P*=C,f&&(C=Math.tan(f),C=Math.sqrt(1+C*C),D*=C,M*=C)),D=Fn(D),M=Fn(M),O=Fn(O),P=Fn(P)):(D=p,P=g,M=O=0),(T&&!~(o+"").indexOf("px")||x&&!~(l+"").indexOf("px"))&&(T=Gl(y,"x",o,"px"),x=Gl(y,"y",l,"px")),(w||_||E||b)&&(T=Fn(T+w-(w*D+_*O)+E),x=Fn(x+_-(w*M+_*P)+b)),(i||s)&&(C=y.getBBox(),T=Fn(T+i/100*C.width),x=Fn(x+s/100*C.height)),C="matrix("+D+","+M+","+O+","+P+","+T+","+x+")",y.setAttribute("transform",C),A&&(y.style[Cn]=C)},SQ=function(e,t,n,i,s){var o=360,l=vr(s),u=parseFloat(s)*(l&&~s.indexOf("rad")?ju:1),h=u-i,f=i+h+"deg",p,g;return l&&(p=s.split("_")[1],p==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-o)),p==="cw"&&h<0?h=(h+o*HO)%o-~~(h/o)*o:p==="ccw"&&h>0&&(h=(h-o*HO)%o-~~(h/o)*o)),e._pt=g=new xi(e._pt,t,n,i,h,sQ),g.e=f,g.u="deg",e._props.push(n),g},XO=function(e,t){for(var n in t)e[n]=t[n];return e},EQ=function(e,t,n){var i=XO({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,u,h,f,p,g,y,w;i.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),o[Cn]=t,l=nm(n,1),pc(n,Cn),n.setAttribute("transform",h)):(h=getComputedStyle(n)[Cn],o[Cn]=t,l=nm(n,1),o[Cn]=h);for(u in Ia)h=i[u],f=l[u],h!==f&&s.indexOf(u)<0&&(y=Wr(h),w=Wr(f),p=y!==w?Gl(n,u,h,w):parseFloat(h),g=parseFloat(f),e._pt=new xi(e._pt,l,u,p,g-p,Lx),e._pt.u=w||0,e._props.push(u));XO(l,i)};Ei("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",o=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(l){return e<2?r+l:"border"+l+r});mv[e>1?"border"+r:r]=function(l,u,h,f,p){var g,y;if(arguments.length<4)return g=o.map(function(w){return ya(l,w,h)}),y=g.join(" "),y.split(g[0]).length===5?g[0]:y;g=(f+"").split(" "),y={},o.forEach(function(w,_){return y[w]=g[_]=g[_]||g[(_-1)/2|0]}),l.init(u,y,p)}});var c8={name:"css",register:Fx,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var o=this._props,l=e.style,u=n.vars.startAt,h,f,p,g,y,w,_,E,b,A,T,x,D,M,O,P;lC||Fx(),this.styles=this.styles||r8(e),P=this.styles.props,this.tween=n;for(_ in t)if(_!=="autoRound"&&(f=t[_],!(Hi[_]&&GL(_,t,n,i,e,s)))){if(y=typeof f,w=mv[_],y==="function"&&(f=f.call(n,i,e,s),y=typeof f),y==="string"&&~f.indexOf("random(")&&(f=Zp(f)),w)w(this,e,_,f,n)&&(O=1);else if(_.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(_)+"").trim(),f+="",Pl.lastIndex=0,Pl.test(h)||(E=Wr(h),b=Wr(f)),b?E!==b&&(h=Gl(e,_,h,b)+b):E&&(f+=E),this.add(l,"setProperty",h,f,i,s,0,0,_),o.push(_),P.push(_,0,l[_]);else if(y!=="undefined"){if(u&&_ in u?(h=typeof u[_]=="function"?u[_].call(n,i,e,s):u[_],vr(h)&&~h.indexOf("random(")&&(h=Zp(h)),Wr(h+"")||h==="auto"||(h+=$i.units[_]||Wr(ya(e,_))||""),(h+"").charAt(1)==="="&&(h=ya(e,_))):h=ya(e,_),g=parseFloat(h),A=y==="string"&&f.charAt(1)==="="&&f.substr(0,2),A&&(f=f.substr(2)),p=parseFloat(f),_ in So&&(_==="autoAlpha"&&(g===1&&ya(e,"visibility")==="hidden"&&p&&(g=0),P.push("visibility",0,l.visibility),Sl(this,l,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),_!=="scale"&&_!=="transform"&&(_=So[_],~_.indexOf(",")&&(_=_.split(",")[0]))),T=_ in Ia,T){if(this.styles.save(_),y==="string"&&f.substring(0,6)==="var(--"&&(f=_s(e,f.substring(4,f.indexOf(")"))),p=parseFloat(f)),x||(D=e._gsap,D.renderTransform&&!t.parseTransform||nm(e,t.parseTransform),M=t.smoothOrigin!==!1&&D.smooth,x=this._pt=new xi(this._pt,l,Cn,0,1,D.renderTransform,D,0,-1),x.dep=1),_==="scale")this._pt=new xi(this._pt,D,"scaleY",D.scaleY,(A?Uh(D.scaleY,A+p):p)-D.scaleY||0,Lx),this._pt.u=0,o.push("scaleY",_),_+="X";else if(_==="transformOrigin"){P.push(Ti,0,l[Ti]),f=vQ(f),D.svg?Vx(e,f,0,M,0,this):(b=parseFloat(f.split(" ")[2])||0,b!==D.zOrigin&&Sl(this,D,"zOrigin",D.zOrigin,b),Sl(this,l,_,gv(h),gv(f)));continue}else if(_==="svgOrigin"){Vx(e,f,1,M,0,this);continue}else if(_ in a8){SQ(this,D,_,g,A?Uh(g,A+f):f);continue}else if(_==="smoothOrigin"){Sl(this,D,"smooth",D.smooth,f);continue}else if(_==="force3D"){D[_]=f;continue}else if(_==="transform"){EQ(this,f,e);continue}}else _ in l||(_=df(_)||_);if(T||(p||p===0)&&(g||g===0)&&!iQ.test(f)&&_ in l)E=(h+"").substr((g+"").length),p||(p=0),b=Wr(f)||(_ in $i.units?$i.units[_]:E),E!==b&&(g=Gl(e,_,h,b)),this._pt=new xi(this._pt,T?D:l,_,g,(A?Uh(g,A+p):p)-g,!T&&(b==="px"||_==="zIndex")&&t.autoRound!==!1?aQ:Lx),this._pt.u=b||0,E!==b&&b!=="%"&&(this._pt.b=h,this._pt.r=oQ);else if(_ in l)yQ.call(this,e,_,h,A?A+f:f);else if(_ in e)this.add(e,_,h||e[_],A?A+f:f,i,s);else if(_!=="parseTransform"){ZA(_,f);continue}T||(_ in l?P.push(_,0,l[_]):typeof e[_]=="function"?P.push(_,2,e[_]()):P.push(_,1,h||e[_])),o.push(_)}}O&&ZL(this)},render:function(e,t){if(t.tween._time||!uC())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ya,aliases:So,getSetter:function(e,t,n){var i=So[t];return i&&i.indexOf(",")<0&&(t=i),t in Ia&&t!==Ti&&(e._gsap.x||ya(e,"x"))?n&&jO===n?t==="scale"?hQ:cQ:(jO=n||{})&&(t==="scale"?fQ:dQ):e.style&&!YA(e.style[t])?lQ:~t.indexOf("-")?uQ:oC(e,t)},core:{_removeProperty:pc,_getMatrix:hC}};Ai.utils.checkPrefix=df;Ai.core.getStyleSaver=r8;(function(r,e,t,n){var i=Ei(r+","+e+","+t,function(s){Ia[s]=1});Ei(e,function(s){$i.units[s]="deg",a8[s]=1}),So[i[13]]=r+","+e,Ei(n,function(s){var o=s.split(":");So[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ei("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){$i.units[r]="px"});Ai.registerPlugin(c8);var Yu=Ai.registerPlugin(c8)||Ai;Yu.core.Tween;const El="/Note_App-react/assets/close-DDe7rwc-.png",xQ="/Note_App-react/assets/logout-BhddWm9t.png",TQ="/Note_App-react/assets/login-DES58r7D.png",w0="/Note_App-react/assets/note-Cvd92_vb.png",AQ="/Note_App-react/assets/menu-UEItnt8j.png",CQ="/Note_App-react/assets/user-CmMfPSlW.png";function RQ(){const r=Lf(),e=mr(x=>x.noted.currentuser),t=mr(x=>x.noted.logined),n="dwlfcrhc8",i="noteapp",[s,o]=ge.useState(!1),[l,u]=ge.useState(!1),h=mr(x=>x.noted.Folders),f=h?.length;let p=h?.reduce((x,D)=>x+D?.notes?.length,0),g=mr(x=>x.noted.menubar);const y=ge.useRef(null),w=Ec();mr(x=>x.noted.editbar);const _=Yu.timeline();Yu.timeline();const[E,b]=ge.useState(e.profile_pic);ge.useEffect(()=>{E!=null&&w(lO(E))},[E]),ge.useEffect(()=>{Yu.set(y.current,{xPercent:-200,duration:0})},[y]),ge.useEffect(()=>{g==!1?Yu.to(y.current,{xPercent:-200,duration:.5,ease:"power2.out"}):_.to(y.current,{xPercent:0,duration:1,delay:0,ease:"power2.out"})},[g]);const A=()=>{w(lp()),w(F5(!1))},T=x=>{if(x!=null){o(!0);const D=new FormData;D.append("file",x),D.append("upload_preset",i),fetch(`https://api.cloudinary.com/v1_1/${n}/image/upload`,{method:"POST",body:D}).then(M=>M.json()).then(M=>{w(lO(M.secure_url)),setTimeout(()=>{alert("Profile image succesfully changed!")},1e3),o(!1)}).catch(M=>alert("Img can't be changed!"))}};return le.jsxs(le.Fragment,{children:[le.jsxs("div",{ref:y,className:`user slide absolute flex overflow-x-hidden overflow-y-auto scrollbar-hide gap-1 
      justify-start items-center  flex-col w-[70vmin] top-[8.4%]  h-[110vh]
     bg-black bg-opacity-100 z-[30] rounded-r-xl border-4 border-white border-l-0 py-1`,children:[le.jsx("div",{className:`absolute w-32 h-32 sm:w-40  sm:h-40 md:w-48 md:h-48 lg:w-40 lg:h-40 z-[11] 
       ${s?"":"hidden"} opacity-40 bg-gray-400 rounded-full grid place-items-center  `,children:le.jsx("div",{className:"w-14 h-14 border-8 rounded-full opacity-1 z-[12]  border-white border-t-gray-900  animate-spin grid place-items-center"})}),le.jsx("img",{src:e.profile_pic??CQ,className:" w-32 h-32 sm:w-40 z-[10] sm:h-40 md:w-48 md:h-48 lg:w-40 lg:h-40   rounded-full border-orange-500 border-4 object-cover shadow-lg backdrop-brightness-110   "}),le.jsx("label",{htmlFor:"input-file",className:`bg-orange-500 py-1 px-3 text-[3vmin] font-semibold hover:bg-orange-600 transition-all shadow-sm rounded-lg border-[0.5vmin]
       ${t?"":"hidden"}`,children:"Update image"}),le.jsx("input",{type:"file",name:"",id:"input-file",accept:"image/jpeg,image/png,image/jpg ",className:"hidden",onChange:x=>{T(x.target.files[0])}}),le.jsxs("span",{className:"text-center h-auto ",children:[le.jsx("h1",{className:"user1 text-[3vmin] font-semibold font-serif  p-0",children:e?.username}),le.jsx("h1",{className:"user1 font-thin text-gray-500 font-mono h-[2%] p-0 text-[2.6vmin]",children:e?.username})]}),le.jsxs("div",{className:"user1 w-[90%] h-[22%] flex  justify-center flex-col gap-3  items-center text-[3vmin] ",children:[le.jsxs("span",{className:"w-[100%] flex  justify-start items-center ",children:[le.jsx("h2",{className:"text-gray-400  font-semibold w-[50%] h-[80%] ",children:"Emaill"}),le.jsx("h2",{className:"font-semibold  w-[100%]  h-[80%] text-left font-mono ",children:e?.email})]}),le.jsxs("span",{className:"w-[100%]  flex  justify-start items-center",children:[le.jsx("h2",{className:"text-gray-400 font-semibold w-[50%] h-[80%]",children:"Mobile"}),le.jsx("h2",{className:"font-semibold w-[100%] h-[80%]  text-left  font-mono",children:e?.phonenumber})]}),le.jsxs("span",{className:"w-[100%] flex  justify-start items-center",children:[le.jsx("h2",{className:"text-gray-400 font-semibold w-[50%] h-[80%]",children:"Created"}),le.jsx("h2",{className:"font-semibold w-[100%] h-[80%] text-left  font-mono",children:e?.created})]}),le.jsxs("span",{className:"w-[100%]  flex  justify-start items-center",children:[le.jsx("h2",{className:"text-gray-400 font-semibold w-[50%] h-[80%]",children:"Password"}),le.jsx("h2",{className:"font-semibold w-[100%] h-[80%] text-left  font-mono",children:e?.password})]})]}),le.jsx("div",{className:"h-[1%] w-[90%] rounded-full bg-orange-600 text-black ",children:"  "}),le.jsxs("div",{className:"total w-[90%] h-[20%] flex   justify-left flex-col   gap-3",children:[le.jsxs("span",{className:"flex items-center w-[100%] justify-start  ",children:[le.jsx("img",{src:w0,className:"w-[6vmin] h-[6vmin]",alt:""}),le.jsx("h1",{className:"text-orange-600 text-[5vmin] pt-0.5 font-semibold font-mono",children:"Notes"})]}),le.jsxs("span",{className:"w-[100%] flex items-center",children:[le.jsx("h2",{className:"text-gray-400 w-[50%] font-semibold text-[3vmin]",children:"Total notes"}),le.jsxs("h2",{className:"font-semibold w-[50%] h-[80%] text-right font-mono text-[3vmin] ",children:[" ",p||0]})]}),le.jsxs("span",{className:"w-[100%] flex",children:[le.jsx("h2",{className:"text-gray-400 w-[50%] font-semibold text-[3vmin]",children:"Total folders"}),le.jsx("h2",{className:"font-semibold w-[50%] h-[80%] text-right font-mono text-[3vmin]",children:f||0})]})]}),le.jsxs("button",{className:"text-[4vmin] bg-black border-4 p-2 rounded-lg flex hover:border-orange-500",onClick:async()=>{if(t)try{await Gj(pw),r("/"),w(sv({username:"User_name",password:"********",email:"notfound@gmail.com",phonenumber:"Notfound",created:"404,404,404",profile_pic:null})),w(V5(null)),w(lp(!1)),w(Ls(null)),w(Kp(!1)),w(U5(!1)),alert("You have succesfully logged out.")}catch{setTimeout(()=>{alert(`Some issue arised!
Check you network connection.`)},100)}else r("/login"),w(lp(!1))},children:[le.jsx("img",{src:t?xQ:TQ,className:"w-[5vmin] h-[5vmin] mt-1",alt:""}),"Log",le.jsx("span",{className:"text-orange-600",children:t?"out":"in"})]})]}),le.jsxs("div",{className:"fixed z-[2] gap-[10%]  border-2 flex flex-row items-center rounded-lg bg-black w-[100vw] h-[8vh] top-[0%] left-0 right-0",children:[le.jsxs("span",{className:"flex items-center justify-left pl-2",children:[le.jsx("img",{src:g?El:AQ,className:"img w-[6vmin] h-[6vmin] z-50 p-0.5",alt:"",onClick:()=>{A()}}),le.jsxs("h2",{className:" text-center font-mono p-0.5  ",children:[le.jsx("span",{className:"text-white font-serif text-[3.5vmin]",children:"My"}),le.jsx("span",{className:"text-orange-500 text-[3vmin]",children:"Note"})]})]}),le.jsxs("div",{className:"nav w-[70%] h-[100%]  flex items-center justify-center gap-[10%]",children:[le.jsx(hp,{to:"/",className:({isActive:x})=>`navl relative inline-block text-[4.3vmin]  text-orange-500 px-1 
         font-mono font-thin   after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${x?"after:w-full":""}  after:z-[-1] after:transition-all after:duration-300
        `,children:"Home"}),le.jsx("h3",{className:`navl relative inline-block text-[4vmin]  text-orange-500 px-1 font-mono font-thin   after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full focus-visible:after:w-full after:z-[-1] after:transition-all after:duration-300
        `,onClick:()=>{w(lp())},children:"Profile"}),le.jsx(hp,{to:"/login",className:({isActive:x})=>` navl relative inline-block text-[4vmin]   text-orange-500 px-1 font-mono font-thin    after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${x?"after:w-full":""}  after:z-[-1] after:transition-all after:duration-300
       ${t?"hidden":""}`,children:"Login"}),le.jsx(hp,{to:"/signup",className:({isActive:x})=>`navl relative inline-block text-[4vmin]   text-orange-500 px-1 font-mono font-thin    after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${x?"after:w-full":""}  after:z-[-1] after:transition-all after:duration-300
        ${t?"hidden":""}
        `,children:"Signup"}),le.jsx(hp,{to:"/contact",className:({isActive:x})=>`navl relative inline-block text-[4vmin]   text-orange-500 px-1 font-mono font-thin  
          after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${x?"after:w-full":""} ${t?"":"hidden"} after:z-[-1] after:transition-all after:duration-300
        `,children:"Contact Us"})]})]})]})}function kQ(){const r=mr(h=>h.noted.currentuser),e=mr(h=>h.noted.Folders)??[],[t,n]=ge.useState(!1),i=mr(h=>h.noted.fetching),s=ge.useRef(i);ge.useEffect(()=>{s.current=i},[i]);const o=Ec(),l=Lf();ge.useEffect(()=>{const h=Wj(pw,async f=>{if(f&&s.current){n(!0);try{const p=f?.providerData[0]?.email,g=gx(rv(Tp,"users"),yx("email","==",`${p}`)),w=(await vx(g)).docs[0].data();o(sv(w)),o(Kp(!0)),l("/"),n(!1),setTimeout(()=>{alert("Login successful!")},1e3);return}catch{alert("User check yout network connection!!"),n(!1)}}else n(!1),o(Kp(!1))});return()=>{h()}},[]);const u=async()=>{try{const h=gx(rv(Tp,"users"),yx("email","==",r?.email)),f=await vx(h);if(f.empty){alert("User not found for update.");return}const p=f?.docs[0];await SK(x5(Tp,"users",p?.id),{...r}),console.log("updated")}catch{alert(`Oops! can't auto save chnages...
Check Your Network connection!!`)}};return ge.useEffect(()=>{e.length==0&&(o(V5(r?.user_folders)),sv({...r,user_folders:e}))},[e]),ge.useEffect(()=>{r.email!=="notfound@gmail.com"&&u()},[r]),le.jsxs(le.Fragment,{children:[le.jsx("div",{className:`absolute w-[100vw] h-[100vh] z-50 grid place-items-center bg-gray-800 opacity-65 ${t?" ":"hidden"}`,children:le.jsx("div",{className:"w-20 h-20 border-8 rounded-full border-t-black animate-spin "})}),le.jsx(RQ,{}),le.jsx(xY,{})]})}var vb={exports:{}},qd={},wb={exports:{}},_b={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function DQ(){return QO||(QO=1,function(r){function e(Q,Y){var pe=Q.length;Q.push(Y);e:for(;0<pe;){var fe=pe-1>>>1,ee=Q[fe];if(0<i(ee,Y))Q[fe]=Y,Q[pe]=ee,pe=fe;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var Y=Q[0],pe=Q.pop();if(pe!==Y){Q[0]=pe;e:for(var fe=0,ee=Q.length,J=ee>>>1;fe<J;){var K=2*(fe+1)-1,re=Q[K],he=K+1,ve=Q[he];if(0>i(re,pe))he<ee&&0>i(ve,re)?(Q[fe]=ve,Q[he]=pe,fe=he):(Q[fe]=re,Q[K]=pe,fe=K);else if(he<ee&&0>i(ve,pe))Q[fe]=ve,Q[he]=pe,fe=he;else break e}}return Y}function i(Q,Y){var pe=Q.sortIndex-Y.sortIndex;return pe!==0?pe:Q.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,g=3,y=!1,w=!1,_=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function x(Q){for(var Y=t(h);Y!==null;){if(Y.callback===null)n(h);else if(Y.startTime<=Q)n(h),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=t(h)}}function D(Q){if(_=!1,x(Q),!w)if(t(u)!==null)w=!0,M||(M=!0,N());else{var Y=t(h);Y!==null&&ae(D,Y.startTime-Q)}}var M=!1,O=-1,P=5,C=-1;function W(){return E?!0:!(r.unstable_now()-C<P)}function $(){if(E=!1,M){var Q=r.unstable_now();C=Q;var Y=!0;try{e:{w=!1,_&&(_=!1,A(O),O=-1),y=!0;var pe=g;try{t:{for(x(Q),p=t(u);p!==null&&!(p.expirationTime>Q&&W());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,g=p.priorityLevel;var ee=fe(p.expirationTime<=Q);if(Q=r.unstable_now(),typeof ee=="function"){p.callback=ee,x(Q),Y=!0;break t}p===t(u)&&n(u),x(Q)}else n(u);p=t(u)}if(p!==null)Y=!0;else{var J=t(h);J!==null&&ae(D,J.startTime-Q),Y=!1}}break e}finally{p=null,g=pe,y=!1}Y=void 0}}finally{Y?N():M=!1}}}var N;if(typeof T=="function")N=function(){T($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=$,N=function(){B.postMessage(null)}}else N=function(){b($,0)};function ae(Q,Y){O=b(function(){Q(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var Y=3;break;default:Y=g}var pe=g;g=Y;try{return Q()}finally{g=pe}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pe=g;g=Q;try{return Y()}finally{g=pe}},r.unstable_scheduleCallback=function(Q,Y,pe){var fe=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?fe+pe:fe):pe=fe,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=pe+ee,Q={id:f++,callback:Y,priorityLevel:Q,startTime:pe,expirationTime:ee,sortIndex:-1},pe>fe?(Q.sortIndex=pe,e(h,Q),t(u)===null&&Q===t(h)&&(_?(A(O),O=-1):_=!0,ae(D,pe-fe))):(Q.sortIndex=ee,e(u,Q),w||y||(w=!0,M||(M=!0,N()))),Q},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(Q){var Y=g;return function(){var pe=g;g=Y;try{return Q.apply(this,arguments)}finally{g=pe}}}}(_b)),_b}var ZO;function IQ(){return ZO||(ZO=1,wb.exports=DQ()),wb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function OQ(){if(JO)return qd;JO=1;var r=IQ(),e=jv(),t=hL();function n(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,d=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(d=c.return),a=c.return;while(a)}return c.tag===3?d:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(s(a)!==a)throw Error(n(188))}function u(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(n(188));return c!==a?null:a}for(var d=a,m=c;;){var S=d.return;if(S===null)break;var R=S.alternate;if(R===null){if(m=S.return,m!==null){d=m;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===d)return l(S),a;if(R===m)return l(S),c;R=R.sibling}throw Error(n(188))}if(d.return!==m.return)d=S,m=R;else{for(var G=!1,Z=S.child;Z;){if(Z===d){G=!0,d=S,m=R;break}if(Z===m){G=!0,m=S,d=R;break}Z=Z.sibling}if(!G){for(Z=R.child;Z;){if(Z===d){G=!0,d=R,m=S;break}if(Z===m){G=!0,m=R,d=S;break}Z=Z.sibling}if(!G)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:c}function h(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=h(a),c!==null)return c;a=a.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function N(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList";case C:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case y:return"Portal";case T:return(a.displayName||"Context")+".Provider";case A:return(a._context.displayName||"Context")+".Consumer";case x:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case O:return c=a.displayName||null,c!==null?c:B(a.type)||"Memo";case P:c=a._payload,a=a._init;try{return B(a(c))}catch{}}return null}var ae=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},fe=[],ee=-1;function J(a){return{current:a}}function K(a){0>ee||(a.current=fe[ee],fe[ee]=null,ee--)}function re(a,c){ee++,fe[ee]=a.current,a.current=c}var he=J(null),ve=J(null),ce=J(null),j=J(null);function z(a,c){switch(re(ce,c),re(ve,a),re(he,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?jk(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=jk(c),a=Hk(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(he),re(he,a)}function se(){K(he),K(ve),K(ce)}function ie(a){a.memoizedState!==null&&re(j,a);var c=he.current,d=Hk(c,a.type);c!==d&&(re(ve,a),re(he,d))}function X(a){ve.current===a&&(K(he),K(ve)),j.current===a&&(K(j),Nd._currentValue=pe)}var te=Object.prototype.hasOwnProperty,be=r.unstable_scheduleCallback,V=r.unstable_cancelCallback,_e=r.unstable_shouldYield,H=r.unstable_requestPaint,k=r.unstable_now,I=r.unstable_getCurrentPriorityLevel,U=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,me=r.unstable_NormalPriority,ue=r.unstable_LowPriority,De=r.unstable_IdlePriority,Pe=r.log,Oe=r.unstable_setDisableYieldValue,He=null,Ge=null;function it(a){if(typeof Pe=="function"&&Oe(a),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(He,a)}catch{}}var Nt=Math.clz32?Math.clz32:Br,Zr=Math.log,xn=Math.LN2;function Br(a){return a>>>=0,a===0?32:31-(Zr(a)/xn|0)|0}var Kt=256,Jr=4194304;function wr(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Jn(a,c,d){var m=a.pendingLanes;if(m===0)return 0;var S=0,R=a.suspendedLanes,G=a.pingedLanes;a=a.warmLanes;var Z=m&134217727;return Z!==0?(m=Z&~R,m!==0?S=wr(m):(G&=Z,G!==0?S=wr(G):d||(d=Z&~a,d!==0&&(S=wr(d))))):(Z=m&~R,Z!==0?S=wr(Z):G!==0?S=wr(G):d||(d=m&~a,d!==0&&(S=wr(d)))),S===0?0:c!==0&&c!==S&&(c&R)===0&&(R=S&-S,d=c&-c,R>=d||R===32&&(d&4194048)!==0)?c:S}function ei(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function qs(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var a=Kt;return Kt<<=1,(Kt&4194048)===0&&(Kt=256),a}function Go(){var a=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),a}function ti(a){for(var c=[],d=0;31>d;d++)c.push(a);return c}function _r(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ri(a,c,d,m,S,R){var G=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var Z=a.entanglements,de=a.expirationTimes,Ce=a.hiddenUpdates;for(d=G&~d;0<d;){var Ne=31-Nt(d),Ve=1<<Ne;Z[Ne]=0,de[Ne]=-1;var Re=Ce[Ne];if(Re!==null)for(Ce[Ne]=null,Ne=0;Ne<Re.length;Ne++){var ke=Re[Ne];ke!==null&&(ke.lane&=-536870913)}d&=~Ve}m!==0&&ni(a,m,0),R!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=R&~(G&~c))}function ni(a,c,d){a.pendingLanes|=c,a.suspendedLanes&=~c;var m=31-Nt(c);a.entangledLanes|=c,a.entanglements[m]=a.entanglements[m]|1073741824|d&4194090}function Ws(a,c){var d=a.entangledLanes|=c;for(a=a.entanglements;d;){var m=31-Nt(d),S=1<<m;S&c|a[m]&c&&(a[m]|=c),d&=~S}}function Gs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Fa(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ye(){var a=Y.p;return a!==0?a:(a=window.event,a===void 0?32:lD(a.type))}function Ee(a,c){var d=Y.p;try{return Y.p=a,c()}finally{Y.p=d}}var Ae=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ae,Ke="__reactProps$"+Ae,Je="__reactContainer$"+Ae,ut="__reactEvents$"+Ae,nt="__reactListeners$"+Ae,ot="__reactHandles$"+Ae,st="__reactResources$"+Ae,dt="__reactMarker$"+Ae;function ct(a){delete a[ze],delete a[Ke],delete a[ut],delete a[nt],delete a[ot]}function yt(a){var c=a[ze];if(c)return c;for(var d=a.parentNode;d;){if(c=d[Je]||d[ze]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(a=Kk(a);a!==null;){if(d=a[ze])return d;a=Kk(a)}return c}a=d,d=a.parentNode}return null}function Dt(a){if(a=a[ze]||a[Je]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function Zt(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(n(33))}function $t(a){var c=a[st];return c||(c=a[st]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Bt(a){a[dt]=!0}var Rt=new Set,Ji={};function er(a,c){ri(a,c),ri(a+"Capture",c)}function ri(a,c){for(Ji[a]=c,a=0;a<c.length;a++)Rt.add(c[a])}var br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},ki={};function Va(a){return te.call(ki,a)?!0:te.call(Ks,a)?!1:br.test(a)?ki[a]=!0:(Ks[a]=!0,!1)}function Fr(a,c,d){if(Va(c))if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+d)}}function ii(a,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+d)}}function _t(a,c,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(c,d,""+m)}}var jn,Di;function hi(a){if(jn===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);jn=c&&c[1]||"",Di=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+a+Di}var $s=!1;function un(a,c){if(!a||$s)return"";$s=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(ke){var Re=ke}Reflect.construct(a,[],Ve)}else{try{Ve.call()}catch(ke){Re=ke}a.call(Ve.prototype)}}else{try{throw Error()}catch(ke){Re=ke}(Ve=a())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(ke){if(ke&&Re&&typeof ke.stack=="string")return[ke.stack,Re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=m.DetermineComponentFrameRoot(),G=R[0],Z=R[1];if(G&&Z){var de=G.split(`
`),Ce=Z.split(`
`);for(S=m=0;m<de.length&&!de[m].includes("DetermineComponentFrameRoot");)m++;for(;S<Ce.length&&!Ce[S].includes("DetermineComponentFrameRoot");)S++;if(m===de.length||S===Ce.length)for(m=de.length-1,S=Ce.length-1;1<=m&&0<=S&&de[m]!==Ce[S];)S--;for(;1<=m&&0<=S;m--,S--)if(de[m]!==Ce[S]){if(m!==1||S!==1)do if(m--,S--,0>S||de[m]!==Ce[S]){var Ne=`
`+de[m].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=m&&0<=S);break}}}finally{$s=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?hi(d):""}function es(a){switch(a.tag){case 26:case 27:case 5:return hi(a.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return un(a.type,!1);case 11:return un(a.type.render,!1);case 1:return un(a.type,!0);case 31:return hi("Activity");default:return""}}function Ko(a){try{var c="";do c+=es(a),a=a.return;while(a);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Sr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zf(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function jw(a){var c=zf(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),m=""+a[c];if(!a.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,R=d.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(G){m=""+G,R.call(this,G)}}),Object.defineProperty(a,c,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(G){m=""+G},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Dc(a){a._valueTracker||(a._valueTracker=jw(a))}function jf(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var d=c.getValue(),m="";return a&&(m=zf(a)?a.checked?"true":"false":a.value),a=m,a!==d?(c.setValue(a),!0):!1}function au(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Hw=/[\n"\\]/g;function Hn(a){return a.replace(Hw,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ii(a,c,d,m,S,R,G,Z){a.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.type=G:a.removeAttribute("type"),c!=null?G==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Sr(c)):a.value!==""+Sr(c)&&(a.value=""+Sr(c)):G!=="submit"&&G!=="reset"||a.removeAttribute("value"),c!=null?Ua(a,G,Sr(c)):d!=null?Ua(a,G,Sr(d)):m!=null&&a.removeAttribute("value"),S==null&&R!=null&&(a.defaultChecked=!!R),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?a.name=""+Sr(Z):a.removeAttribute("name")}function lu(a,c,d,m,S,R,G,Z){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.type=R),c!=null||d!=null){if(!(R!=="submit"&&R!=="reset"||c!=null))return;d=d!=null?""+Sr(d):"",c=c!=null?""+Sr(c):d,Z||c===a.value||(a.value=c),a.defaultValue=c}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=Z?a.checked:!!m,a.defaultChecked=!!m,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(a.name=G)}function Ua(a,c,d){c==="number"&&au(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function $o(a,c,d,m){if(a=a.options,c){c={};for(var S=0;S<d.length;S++)c["$"+d[S]]=!0;for(d=0;d<a.length;d++)S=c.hasOwnProperty("$"+a[d].value),a[d].selected!==S&&(a[d].selected=S),S&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Sr(d),c=null,S=0;S<a.length;S++){if(a[S].value===d){a[S].selected=!0,m&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function rn(a,c,d){if(c!=null&&(c=""+Sr(c),c!==a.value&&(a.value=c),d==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=d!=null?""+Sr(d):""}function uu(a,c,d,m){if(c==null){if(m!=null){if(d!=null)throw Error(n(92));if(ae(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),c=d}d=Sr(c),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m)}function ts(a,c){if(c){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=c;return}}a.textContent=c}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $m(a,c,d){var m=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":m?a.setProperty(c,d):typeof d!="number"||d===0||cu.has(c)?c==="float"?a.cssFloat=d:a[c]=(""+d).trim():a[c]=d+"px"}function Hf(a,c,d){if(c!=null&&typeof c!="object")throw Error(n(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var S in c)m=c[S],c.hasOwnProperty(S)&&d[S]!==m&&$m(a,S,m)}else for(var R in c)c.hasOwnProperty(R)&&$m(a,R,c[R])}function qf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ww=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ic(a){return Ww.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Yo=null;function ns(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Xo=null,Qo=null;function Wf(a){var c=Dt(a);if(c&&(a=c.stateNode)){var d=a[Ke]||null;e:switch(a=c.stateNode,c.type){case"input":if(Ii(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Hn(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var m=d[c];if(m!==a&&m.form===a.form){var S=m[Ke]||null;if(!S)throw Error(n(90));Ii(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<d.length;c++)m=d[c],m.form===a.form&&jf(m)}break e;case"textarea":rn(a,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&$o(a,!!d.multiple,c,!1)}}}var Ys=!1;function Ym(a,c,d){if(Ys)return a(c,d);Ys=!0;try{var m=a(c);return m}finally{if(Ys=!1,(Xo!==null||Qo!==null)&&(jg(),Xo&&(c=Xo,a=Qo,Qo=Xo=null,Wf(c),a)))for(c=0;c<a.length;c++)Wf(a[c])}}function hu(a,c){var d=a.stateNode;if(d===null)return null;var m=d[Ke]||null;if(m===null)return null;d=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,c,typeof d));return d}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(Ds)try{var fu={};Object.defineProperty(fu,"passive",{get:function(){rs=!0}}),window.addEventListener("test",fu,fu),window.removeEventListener("test",fu,fu)}catch{rs=!1}var Xs=null,za=null,Zo=null;function Gf(){if(Zo)return Zo;var a,c=za,d=c.length,m,S="value"in Xs?Xs.value:Xs.textContent,R=S.length;for(a=0;a<d&&c[a]===S[a];a++);var G=d-a;for(m=1;m<=G&&c[d-m]===S[R-m];m++);return Zo=S.slice(a,1<m?1-m:void 0)}function Qs(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Zs(){return!0}function Kf(){return!1}function ur(a){function c(d,m,S,R,G){this._reactName=d,this._targetInst=S,this.type=m,this.nativeEvent=R,this.target=G,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(d=a[Z],this[Z]=d?d(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Zs:Kf,this.isPropagationStopped=Kf,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),c}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oc=ur(Jt),du=f({},Jt,{view:0,detail:0}),Xm=ur(du),Nc,Mc,Js,pu=f({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Js&&(Js&&a.type==="mousemove"?(Nc=a.screenX-Js.screenX,Mc=a.screenY-Js.screenY):Mc=Nc=0,Js=a),Nc)},movementY:function(a){return"movementY"in a?a.movementY:Mc}}),is=ur(pu),Qm=f({},pu,{dataTransfer:0}),Gw=ur(Qm),mu=f({},du,{relatedTarget:0}),Pc=ur(mu),$f=f({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Lc=ur($f),Zm=f({},Jt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Bc=ur(Zm),Kw=f({},Jt,{data:0}),Yf=ur(Kw),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=eg[a])?!!c[a]:!1}function yu(){return Xf}var tg=f({},du,{key:function(a){if(a.key){var c=gu[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Qs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Jm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yu,charCode:function(a){return a.type==="keypress"?Qs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Qs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Fc=ur(tg),ng=f({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=ur(ng),Jo=f({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yu}),rg=ur(Jo),ig=f({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),sg=ur(ig),og=f({},pu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Vc=ur(og),si=f({},Jt,{newState:0,oldState:0}),ag=ur(si),lg=[9,13,27,32],eo=Ds&&"CompositionEvent"in window,v=null;Ds&&"documentMode"in document&&(v=document.documentMode);var L=Ds&&"TextEvent"in window&&!v,q=Ds&&(!eo||v&&8<v&&11>=v),ne=" ",xe=!1;function Ie(a,c){switch(a){case"keyup":return lg.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $e(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var zt=!1;function tr(a,c){switch(a){case"compositionend":return $e(c);case"keypress":return c.which!==32?null:(xe=!0,ne);case"textInput":return a=c.data,a===ne&&xe?null:a;default:return null}}function jt(a,c){if(zt)return a==="compositionend"||!eo&&Ie(a,c)?(a=Gf(),Zo=za=Xs=null,zt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return q&&c.locale!=="ko"?null:c.data;default:return null}}var cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!cr[a.type]:c==="textarea"}function ea(a,c,d,m){Xo?Qo?Qo.push(m):Qo=[m]:Xo=m,c=$g(c,"onChange"),0<c.length&&(d=new Oc("onChange","change",null,d,m),a.push({event:d,listeners:c}))}var Er=null,to=null;function Zf(a){Bk(a,0)}function ug(a){var c=Zt(a);if(jf(c))return a}function iR(a,c){if(a==="change")return c}var sR=!1;if(Ds){var $w;if(Ds){var Yw="oninput"in document;if(!Yw){var oR=document.createElement("div");oR.setAttribute("oninput","return;"),Yw=typeof oR.oninput=="function"}$w=Yw}else $w=!1;sR=$w&&(!document.documentMode||9<document.documentMode)}function aR(){Er&&(Er.detachEvent("onpropertychange",lR),to=Er=null)}function lR(a){if(a.propertyName==="value"&&ug(to)){var c=[];ea(c,to,a,ns(a)),Ym(Zf,c)}}function $F(a,c,d){a==="focusin"?(aR(),Er=c,to=d,Er.attachEvent("onpropertychange",lR)):a==="focusout"&&aR()}function YF(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ug(to)}function XF(a,c){if(a==="click")return ug(c)}function QF(a,c){if(a==="input"||a==="change")return ug(c)}function ZF(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Oi=typeof Object.is=="function"?Object.is:ZF;function Jf(a,c){if(Oi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var d=Object.keys(a),m=Object.keys(c);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var S=d[m];if(!te.call(c,S)||!Oi(a[S],c[S]))return!1}return!0}function uR(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function cR(a,c){var d=uR(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=c&&m>=c)return{node:d,offset:c-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=uR(d)}}function hR(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?hR(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function fR(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=au(a.document);c instanceof a.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)a=c.contentWindow;else break;c=au(a.document)}return c}function Xw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var JF=Ds&&"documentMode"in document&&11>=document.documentMode,Uc=null,Qw=null,ed=null,Zw=!1;function dR(a,c,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Zw||Uc==null||Uc!==au(m)||(m=Uc,"selectionStart"in m&&Xw(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ed&&Jf(ed,m)||(ed=m,m=$g(Qw,"onSelect"),0<m.length&&(c=new Oc("onSelect","select",null,c,d),a.push({event:c,listeners:m}),c.target=Uc)))}function vu(a,c){var d={};return d[a.toLowerCase()]=c.toLowerCase(),d["Webkit"+a]="webkit"+c,d["Moz"+a]="moz"+c,d}var zc={animationend:vu("Animation","AnimationEnd"),animationiteration:vu("Animation","AnimationIteration"),animationstart:vu("Animation","AnimationStart"),transitionrun:vu("Transition","TransitionRun"),transitionstart:vu("Transition","TransitionStart"),transitioncancel:vu("Transition","TransitionCancel"),transitionend:vu("Transition","TransitionEnd")},Jw={},pR={};Ds&&(pR=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function wu(a){if(Jw[a])return Jw[a];if(!zc[a])return a;var c=zc[a],d;for(d in c)if(c.hasOwnProperty(d)&&d in pR)return Jw[a]=c[d];return a}var mR=wu("animationend"),gR=wu("animationiteration"),yR=wu("animationstart"),eV=wu("transitionrun"),tV=wu("transitionstart"),nV=wu("transitioncancel"),vR=wu("transitionend"),wR=new Map,e1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");e1.push("scrollEnd");function Is(a,c){wR.set(a,c),er(c,[a])}var _R=new WeakMap;function ss(a,c){if(typeof a=="object"&&a!==null){var d=_R.get(a);return d!==void 0?d:(c={value:a,source:c,stack:Ko(c)},_R.set(a,c),c)}return{value:a,source:c,stack:Ko(c)}}var os=[],jc=0,t1=0;function cg(){for(var a=jc,c=t1=jc=0;c<a;){var d=os[c];os[c++]=null;var m=os[c];os[c++]=null;var S=os[c];os[c++]=null;var R=os[c];if(os[c++]=null,m!==null&&S!==null){var G=m.pending;G===null?S.next=S:(S.next=G.next,G.next=S),m.pending=S}R!==0&&bR(d,S,R)}}function hg(a,c,d,m){os[jc++]=a,os[jc++]=c,os[jc++]=d,os[jc++]=m,t1|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function n1(a,c,d,m){return hg(a,c,d,m),fg(a)}function Hc(a,c){return hg(a,null,null,c),fg(a)}function bR(a,c,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var S=!1,R=a.return;R!==null;)R.childLanes|=d,m=R.alternate,m!==null&&(m.childLanes|=d),R.tag===22&&(a=R.stateNode,a===null||a._visibility&1||(S=!0)),a=R,R=R.return;return a.tag===3?(R=a.stateNode,S&&c!==null&&(S=31-Nt(d),a=R.hiddenUpdates,m=a[S],m===null?a[S]=[c]:m.push(c),c.lane=d|536870912),R):null}function fg(a){if(50<Td)throw Td=0,l_=null,Error(n(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var qc={};function rV(a,c,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(a,c,d,m){return new rV(a,c,d,m)}function r1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ta(a,c){var d=a.alternate;return d===null?(d=Ni(a.tag,c,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=c,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,c=a.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function SR(a,c){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,c=d.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function dg(a,c,d,m,S,R){var G=0;if(m=a,typeof a=="function")r1(a)&&(G=1);else if(typeof a=="string")G=sU(a,d,he.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case C:return a=Ni(31,d,c,S),a.elementType=C,a.lanes=R,a;case w:return _u(d.children,S,R,c);case _:G=8,S|=24;break;case E:return a=Ni(12,d,c,S|2),a.elementType=E,a.lanes=R,a;case D:return a=Ni(13,d,c,S),a.elementType=D,a.lanes=R,a;case M:return a=Ni(19,d,c,S),a.elementType=M,a.lanes=R,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case b:case T:G=10;break e;case A:G=9;break e;case x:G=11;break e;case O:G=14;break e;case P:G=16,m=null;break e}G=29,d=Error(n(130,a===null?"null":typeof a,"")),m=null}return c=Ni(G,d,c,S),c.elementType=a,c.type=m,c.lanes=R,c}function _u(a,c,d,m){return a=Ni(7,a,m,c),a.lanes=d,a}function i1(a,c,d){return a=Ni(6,a,null,c),a.lanes=d,a}function s1(a,c,d){return c=Ni(4,a.children!==null?a.children:[],a.key,c),c.lanes=d,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Wc=[],Gc=0,pg=null,mg=0,as=[],ls=0,bu=null,na=1,ra="";function Su(a,c){Wc[Gc++]=mg,Wc[Gc++]=pg,pg=a,mg=c}function ER(a,c,d){as[ls++]=na,as[ls++]=ra,as[ls++]=bu,bu=a;var m=na;a=ra;var S=32-Nt(m)-1;m&=~(1<<S),d+=1;var R=32-Nt(c)+S;if(30<R){var G=S-S%5;R=(m&(1<<G)-1).toString(32),m>>=G,S-=G,na=1<<32-Nt(c)+S|d<<S|m,ra=R+a}else na=1<<R|d<<S|m,ra=a}function o1(a){a.return!==null&&(Su(a,1),ER(a,1,0))}function a1(a){for(;a===pg;)pg=Wc[--Gc],Wc[Gc]=null,mg=Wc[--Gc],Wc[Gc]=null;for(;a===bu;)bu=as[--ls],as[ls]=null,ra=as[--ls],as[ls]=null,na=as[--ls],as[ls]=null}var oi=null,kn=null,Xt=!1,Eu=null,no=!1,l1=Error(n(519));function xu(a){var c=Error(n(418,""));throw rd(ss(c,a)),l1}function xR(a){var c=a.stateNode,d=a.type,m=a.memoizedProps;switch(c[ze]=a,c[Ke]=m,d){case"dialog":Ot("cancel",c),Ot("close",c);break;case"iframe":case"object":case"embed":Ot("load",c);break;case"video":case"audio":for(d=0;d<Cd.length;d++)Ot(Cd[d],c);break;case"source":Ot("error",c);break;case"img":case"image":case"link":Ot("error",c),Ot("load",c);break;case"details":Ot("toggle",c);break;case"input":Ot("invalid",c),lu(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Dc(c);break;case"select":Ot("invalid",c);break;case"textarea":Ot("invalid",c),uu(c,m.value,m.defaultValue,m.children),Dc(c)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||m.suppressHydrationWarning===!0||zk(c.textContent,d)?(m.popover!=null&&(Ot("beforetoggle",c),Ot("toggle",c)),m.onScroll!=null&&Ot("scroll",c),m.onScrollEnd!=null&&Ot("scrollend",c),m.onClick!=null&&(c.onclick=Yg),c=!0):c=!1,c||xu(a)}function TR(a){for(oi=a.return;oi;)switch(oi.tag){case 5:case 13:no=!1;return;case 27:case 3:no=!0;return;default:oi=oi.return}}function td(a){if(a!==oi)return!1;if(!Xt)return TR(a),Xt=!0,!1;var c=a.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||x_(a.type,a.memoizedProps)),d=!d),d&&kn&&xu(a),TR(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(c===0){kn=Ns(a.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;a=a.nextSibling}kn=null}}else c===27?(c=kn,rl(a.type)?(a=R_,R_=null,kn=a):kn=c):kn=oi?Ns(a.stateNode.nextSibling):null;return!0}function nd(){kn=oi=null,Xt=!1}function AR(){var a=Eu;return a!==null&&(pi===null?pi=a:pi.push.apply(pi,a),Eu=null),a}function rd(a){Eu===null?Eu=[a]:Eu.push(a)}var u1=J(null),Tu=null,ia=null;function ja(a,c,d){re(u1,c._currentValue),c._currentValue=d}function sa(a){a._currentValue=u1.current,K(u1)}function c1(a,c,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),a===d)break;a=a.return}}function h1(a,c,d,m){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var R=S.dependencies;if(R!==null){var G=S.child;R=R.firstContext;e:for(;R!==null;){var Z=R;R=S;for(var de=0;de<c.length;de++)if(Z.context===c[de]){R.lanes|=d,Z=R.alternate,Z!==null&&(Z.lanes|=d),c1(R.return,d,a),m||(G=null);break e}R=Z.next}}else if(S.tag===18){if(G=S.return,G===null)throw Error(n(341));G.lanes|=d,R=G.alternate,R!==null&&(R.lanes|=d),c1(G,d,a),G=null}else G=S.child;if(G!==null)G.return=S;else for(G=S;G!==null;){if(G===a){G=null;break}if(S=G.sibling,S!==null){S.return=G.return,G=S;break}G=G.return}S=G}}function id(a,c,d,m){a=null;for(var S=c,R=!1;S!==null;){if(!R){if((S.flags&524288)!==0)R=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var G=S.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var Z=S.type;Oi(S.pendingProps.value,G.value)||(a!==null?a.push(Z):a=[Z])}}else if(S===j.current){if(G=S.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(Nd):a=[Nd])}S=S.return}a!==null&&h1(c,a,d,m),c.flags|=262144}function gg(a){for(a=a.firstContext;a!==null;){if(!Oi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Au(a){Tu=a,ia=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vr(a){return CR(Tu,a)}function yg(a,c){return Tu===null&&Au(a),CR(a,c)}function CR(a,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},ia===null){if(a===null)throw Error(n(308));ia=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else ia=ia.next=c;return d}var iV=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){c.aborted=!0,a.forEach(function(d){return d()})}},sV=r.unstable_scheduleCallback,oV=r.unstable_NormalPriority,rr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function f1(){return{controller:new iV,data:new Map,refCount:0}}function sd(a){a.refCount--,a.refCount===0&&sV(oV,function(){a.controller.abort()})}var od=null,d1=0,Kc=0,$c=null;function aV(a,c){if(od===null){var d=od=[];d1=0,Kc=m_(),$c={status:"pending",value:void 0,then:function(m){d.push(m)}}}return d1++,c.then(RR,RR),c}function RR(){if(--d1===0&&od!==null){$c!==null&&($c.status="fulfilled");var a=od;od=null,Kc=0,$c=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function lV(a,c){var d=[],m={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return a.then(function(){m.status="fulfilled",m.value=c;for(var S=0;S<d.length;S++)(0,d[S])(c)},function(S){for(m.status="rejected",m.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),m}var kR=Q.S;Q.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&aV(a,c),kR!==null&&kR(a,c)};var Cu=J(null);function p1(){var a=Cu.current;return a!==null?a:gn.pooledCache}function vg(a,c){c===null?re(Cu,Cu.current):re(Cu,c.pool)}function DR(){var a=p1();return a===null?null:{parent:rr._currentValue,pool:a}}var ad=Error(n(460)),IR=Error(n(474)),wg=Error(n(542)),m1={then:function(){}};function OR(a){return a=a.status,a==="fulfilled"||a==="rejected"}function _g(){}function NR(a,c,d){switch(d=a[d],d===void 0?a.push(c):d!==c&&(c.then(_g,_g),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,PR(a),a;default:if(typeof c.status=="string")c.then(_g,_g);else{if(a=gn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=c,a.status="pending",a.then(function(m){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=m}},function(m){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,PR(a),a}throw ld=c,ad}}var ld=null;function MR(){if(ld===null)throw Error(n(459));var a=ld;return ld=null,a}function PR(a){if(a===ad||a===wg)throw Error(n(483))}var Ha=!1;function g1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function y1(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function qa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Wa(a,c,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(tn&2)!==0){var S=m.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),m.pending=c,c=fg(a),bR(a,null,d),c}return hg(a,m,c,d),fg(a)}function ud(a,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,Ws(a,d)}}function v1(a,c){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var S=null,R=null;if(d=d.firstBaseUpdate,d!==null){do{var G={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};R===null?S=R=G:R=R.next=G,d=d.next}while(d!==null);R===null?S=R=c:R=R.next=c}else S=R=c;d={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=c}var w1=!1;function cd(){if(w1){var a=$c;if(a!==null)throw a}}function hd(a,c,d,m){w1=!1;var S=a.updateQueue;Ha=!1;var R=S.firstBaseUpdate,G=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var de=Z,Ce=de.next;de.next=null,G===null?R=Ce:G.next=Ce,G=de;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,Z=Ne.lastBaseUpdate,Z!==G&&(Z===null?Ne.firstBaseUpdate=Ce:Z.next=Ce,Ne.lastBaseUpdate=de))}if(R!==null){var Ve=S.baseState;G=0,Ne=Ce=de=null,Z=R;do{var Re=Z.lane&-536870913,ke=Re!==Z.lane;if(ke?(Ht&Re)===Re:(m&Re)===Re){Re!==0&&Re===Kc&&(w1=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var vt=a,ft=Z;Re=c;var an=d;switch(ft.tag){case 1:if(vt=ft.payload,typeof vt=="function"){Ve=vt.call(an,Ve,Re);break e}Ve=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=ft.payload,Re=typeof vt=="function"?vt.call(an,Ve,Re):vt,Re==null)break e;Ve=f({},Ve,Re);break e;case 2:Ha=!0}}Re=Z.callback,Re!==null&&(a.flags|=64,ke&&(a.flags|=8192),ke=S.callbacks,ke===null?S.callbacks=[Re]:ke.push(Re))}else ke={lane:Re,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ne===null?(Ce=Ne=ke,de=Ve):Ne=Ne.next=ke,G|=Re;if(Z=Z.next,Z===null){if(Z=S.shared.pending,Z===null)break;ke=Z,Z=ke.next,ke.next=null,S.lastBaseUpdate=ke,S.shared.pending=null}}while(!0);Ne===null&&(de=Ve),S.baseState=de,S.firstBaseUpdate=Ce,S.lastBaseUpdate=Ne,R===null&&(S.shared.lanes=0),Ja|=G,a.lanes=G,a.memoizedState=Ve}}function LR(a,c){if(typeof a!="function")throw Error(n(191,a));a.call(c)}function BR(a,c){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)LR(d[a],c)}var Yc=J(null),bg=J(0);function FR(a,c){a=fa,re(bg,a),re(Yc,c),fa=a|c.baseLanes}function _1(){re(bg,fa),re(Yc,Yc.current)}function b1(){fa=bg.current,K(Yc),K(bg)}var Ga=0,At=null,sn=null,qn=null,Sg=!1,Xc=!1,Ru=!1,Eg=0,fd=0,Qc=null,uV=0;function Mn(){throw Error(n(321))}function S1(a,c){if(c===null)return!1;for(var d=0;d<c.length&&d<a.length;d++)if(!Oi(a[d],c[d]))return!1;return!0}function E1(a,c,d,m,S,R){return Ga=R,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=a===null||a.memoizedState===null?b2:S2,Ru=!1,R=d(m,S),Ru=!1,Xc&&(R=UR(c,d,m,S)),VR(a),R}function VR(a){Q.H=kg;var c=sn!==null&&sn.next!==null;if(Ga=0,qn=sn=At=null,Sg=!1,fd=0,Qc=null,c)throw Error(n(300));a===null||hr||(a=a.dependencies,a!==null&&gg(a)&&(hr=!0))}function UR(a,c,d,m){At=a;var S=0;do{if(Xc&&(Qc=null),fd=0,Xc=!1,25<=S)throw Error(n(301));if(S+=1,qn=sn=null,a.updateQueue!=null){var R=a.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}Q.H=gV,R=c(d,m)}while(Xc);return R}function cV(){var a=Q.H,c=a.useState()[0];return c=typeof c.then=="function"?dd(c):c,a=a.useState()[0],(sn!==null?sn.memoizedState:null)!==a&&(At.flags|=1024),c}function x1(){var a=Eg!==0;return Eg=0,a}function T1(a,c,d){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~d}function A1(a){if(Sg){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Sg=!1}Ga=0,qn=sn=At=null,Xc=!1,fd=Eg=0,Qc=null}function fi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?At.memoizedState=qn=a:qn=qn.next=a,qn}function Wn(){if(sn===null){var a=At.alternate;a=a!==null?a.memoizedState:null}else a=sn.next;var c=qn===null?At.memoizedState:qn.next;if(c!==null)qn=c,sn=a;else{if(a===null)throw At.alternate===null?Error(n(467)):Error(n(310));sn=a,a={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},qn===null?At.memoizedState=qn=a:qn=qn.next=a}return qn}function C1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dd(a){var c=fd;return fd+=1,Qc===null&&(Qc=[]),a=NR(Qc,a,c),c=At,(qn===null?c.memoizedState:qn.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?b2:S2),a}function xg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return dd(a);if(a.$$typeof===T)return Vr(a)}throw Error(n(438,String(a)))}function R1(a){var c=null,d=At.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var m=At.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=C1(),At.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(a),m=0;m<a;m++)d[m]=W;return c.index++,d}function oa(a,c){return typeof c=="function"?c(a):c}function Tg(a){var c=Wn();return k1(c,sn,a)}function k1(a,c,d){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=d;var S=a.baseQueue,R=m.pending;if(R!==null){if(S!==null){var G=S.next;S.next=R.next,R.next=G}c.baseQueue=S=R,m.pending=null}if(R=a.baseState,S===null)a.memoizedState=R;else{c=S.next;var Z=G=null,de=null,Ce=c,Ne=!1;do{var Ve=Ce.lane&-536870913;if(Ve!==Ce.lane?(Ht&Ve)===Ve:(Ga&Ve)===Ve){var Re=Ce.revertLane;if(Re===0)de!==null&&(de=de.next={lane:0,revertLane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Ve===Kc&&(Ne=!0);else if((Ga&Re)===Re){Ce=Ce.next,Re===Kc&&(Ne=!0);continue}else Ve={lane:0,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},de===null?(Z=de=Ve,G=R):de=de.next=Ve,At.lanes|=Re,Ja|=Re;Ve=Ce.action,Ru&&d(R,Ve),R=Ce.hasEagerState?Ce.eagerState:d(R,Ve)}else Re={lane:Ve,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},de===null?(Z=de=Re,G=R):de=de.next=Re,At.lanes|=Ve,Ja|=Ve;Ce=Ce.next}while(Ce!==null&&Ce!==c);if(de===null?G=R:de.next=Z,!Oi(R,a.memoizedState)&&(hr=!0,Ne&&(d=$c,d!==null)))throw d;a.memoizedState=R,a.baseState=G,a.baseQueue=de,m.lastRenderedState=R}return S===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function D1(a){var c=Wn(),d=c.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var m=d.dispatch,S=d.pending,R=c.memoizedState;if(S!==null){d.pending=null;var G=S=S.next;do R=a(R,G.action),G=G.next;while(G!==S);Oi(R,c.memoizedState)||(hr=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),d.lastRenderedState=R}return[R,m]}function zR(a,c,d){var m=At,S=Wn(),R=Xt;if(R){if(d===void 0)throw Error(n(407));d=d()}else d=c();var G=!Oi((sn||S).memoizedState,d);G&&(S.memoizedState=d,hr=!0),S=S.queue;var Z=qR.bind(null,m,S,a);if(pd(2048,8,Z,[a]),S.getSnapshot!==c||G||qn!==null&&qn.memoizedState.tag&1){if(m.flags|=2048,Zc(9,Ag(),HR.bind(null,m,S,d,c),null),gn===null)throw Error(n(349));R||(Ga&124)!==0||jR(m,c,d)}return d}function jR(a,c,d){a.flags|=16384,a={getSnapshot:c,value:d},c=At.updateQueue,c===null?(c=C1(),At.updateQueue=c,c.stores=[a]):(d=c.stores,d===null?c.stores=[a]:d.push(a))}function HR(a,c,d,m){c.value=d,c.getSnapshot=m,WR(c)&&GR(a)}function qR(a,c,d){return d(function(){WR(c)&&GR(a)})}function WR(a){var c=a.getSnapshot;a=a.value;try{var d=c();return!Oi(a,d)}catch{return!0}}function GR(a){var c=Hc(a,2);c!==null&&Fi(c,a,2)}function I1(a){var c=fi();if(typeof a=="function"){var d=a;if(a=d(),Ru){it(!0);try{d()}finally{it(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},c}function KR(a,c,d,m){return a.baseState=d,k1(a,sn,typeof m=="function"?m:oa)}function hV(a,c,d,m,S){if(Rg(a))throw Error(n(485));if(a=c.action,a!==null){var R={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){R.listeners.push(G)}};Q.T!==null?d(!0):R.isTransition=!1,m(R),d=c.pending,d===null?(R.next=c.pending=R,$R(c,R)):(R.next=d.next,c.pending=d.next=R)}}function $R(a,c){var d=c.action,m=c.payload,S=a.state;if(c.isTransition){var R=Q.T,G={};Q.T=G;try{var Z=d(S,m),de=Q.S;de!==null&&de(G,Z),YR(a,c,Z)}catch(Ce){O1(a,c,Ce)}finally{Q.T=R}}else try{R=d(S,m),YR(a,c,R)}catch(Ce){O1(a,c,Ce)}}function YR(a,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){XR(a,c,m)},function(m){return O1(a,c,m)}):XR(a,c,d)}function XR(a,c,d){c.status="fulfilled",c.value=d,QR(c),a.state=d,c=a.pending,c!==null&&(d=c.next,d===c?a.pending=null:(d=d.next,c.next=d,$R(a,d)))}function O1(a,c,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=d,QR(c),c=c.next;while(c!==m)}a.action=null}function QR(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function ZR(a,c){return c}function JR(a,c){if(Xt){var d=gn.formState;if(d!==null){e:{var m=At;if(Xt){if(kn){t:{for(var S=kn,R=no;S.nodeType!==8;){if(!R){S=null;break t}if(S=Ns(S.nextSibling),S===null){S=null;break t}}R=S.data,S=R==="F!"||R==="F"?S:null}if(S){kn=Ns(S.nextSibling),m=S.data==="F!";break e}}xu(m)}m=!1}m&&(c=d[0])}}return d=fi(),d.memoizedState=d.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ZR,lastRenderedState:c},d.queue=m,d=v2.bind(null,At,m),m.dispatch=d,m=I1(!1),R=B1.bind(null,At,!1,m.queue),m=fi(),S={state:c,dispatch:null,action:a,pending:null},m.queue=S,d=hV.bind(null,At,S,R,d),S.dispatch=d,m.memoizedState=a,[c,d,!1]}function e2(a){var c=Wn();return t2(c,sn,a)}function t2(a,c,d){if(c=k1(a,c,ZR)[0],a=Tg(oa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=dd(c)}catch(G){throw G===ad?wg:G}else m=c;c=Wn();var S=c.queue,R=S.dispatch;return d!==c.memoizedState&&(At.flags|=2048,Zc(9,Ag(),fV.bind(null,S,d),null)),[m,R,a]}function fV(a,c){a.action=c}function n2(a){var c=Wn(),d=sn;if(d!==null)return t2(c,d,a);Wn(),c=c.memoizedState,d=Wn();var m=d.queue.dispatch;return d.memoizedState=a,[c,m,!1]}function Zc(a,c,d,m){return a={tag:a,create:d,deps:m,inst:c,next:null},c=At.updateQueue,c===null&&(c=C1(),At.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,c.lastEffect=a),a}function Ag(){return{destroy:void 0,resource:void 0}}function r2(){return Wn().memoizedState}function Cg(a,c,d,m){var S=fi();m=m===void 0?null:m,At.flags|=a,S.memoizedState=Zc(1|c,Ag(),d,m)}function pd(a,c,d,m){var S=Wn();m=m===void 0?null:m;var R=S.memoizedState.inst;sn!==null&&m!==null&&S1(m,sn.memoizedState.deps)?S.memoizedState=Zc(c,R,d,m):(At.flags|=a,S.memoizedState=Zc(1|c,R,d,m))}function i2(a,c){Cg(8390656,8,a,c)}function s2(a,c){pd(2048,8,a,c)}function o2(a,c){return pd(4,2,a,c)}function a2(a,c){return pd(4,4,a,c)}function l2(a,c){if(typeof c=="function"){a=a();var d=c(a);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function u2(a,c,d){d=d!=null?d.concat([a]):null,pd(4,4,l2.bind(null,c,a),d)}function N1(){}function c2(a,c){var d=Wn();c=c===void 0?null:c;var m=d.memoizedState;return c!==null&&S1(c,m[1])?m[0]:(d.memoizedState=[a,c],a)}function h2(a,c){var d=Wn();c=c===void 0?null:c;var m=d.memoizedState;if(c!==null&&S1(c,m[1]))return m[0];if(m=a(),Ru){it(!0);try{a()}finally{it(!1)}}return d.memoizedState=[m,c],m}function M1(a,c,d){return d===void 0||(Ga&1073741824)!==0?a.memoizedState=c:(a.memoizedState=d,a=pk(),At.lanes|=a,Ja|=a,d)}function f2(a,c,d,m){return Oi(d,c)?d:Yc.current!==null?(a=M1(a,d,m),Oi(a,c)||(hr=!0),a):(Ga&42)===0?(hr=!0,a.memoizedState=d):(a=pk(),At.lanes|=a,Ja|=a,c)}function d2(a,c,d,m,S){var R=Y.p;Y.p=R!==0&&8>R?R:8;var G=Q.T,Z={};Q.T=Z,B1(a,!1,c,d);try{var de=S(),Ce=Q.S;if(Ce!==null&&Ce(Z,de),de!==null&&typeof de=="object"&&typeof de.then=="function"){var Ne=lV(de,m);md(a,c,Ne,Bi(a))}else md(a,c,m,Bi(a))}catch(Ve){md(a,c,{then:function(){},status:"rejected",reason:Ve},Bi())}finally{Y.p=R,Q.T=G}}function dV(){}function P1(a,c,d,m){if(a.tag!==5)throw Error(n(476));var S=p2(a).queue;d2(a,S,c,pe,d===null?dV:function(){return m2(a),d(m)})}function p2(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:pe},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:d},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function m2(a){var c=p2(a).next.queue;md(a,c,{},Bi())}function L1(){return Vr(Nd)}function g2(){return Wn().memoizedState}function y2(){return Wn().memoizedState}function pV(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var d=Bi();a=qa(d);var m=Wa(c,a,d);m!==null&&(Fi(m,c,d),ud(m,c,d)),c={cache:f1()},a.payload=c;return}c=c.return}}function mV(a,c,d){var m=Bi();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},Rg(a)?w2(c,d):(d=n1(a,c,d,m),d!==null&&(Fi(d,a,m),_2(d,c,m)))}function v2(a,c,d){var m=Bi();md(a,c,d,m)}function md(a,c,d,m){var S={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(Rg(a))w2(c,S);else{var R=a.alternate;if(a.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var G=c.lastRenderedState,Z=R(G,d);if(S.hasEagerState=!0,S.eagerState=Z,Oi(Z,G))return hg(a,c,S,0),gn===null&&cg(),!1}catch{}finally{}if(d=n1(a,c,S,m),d!==null)return Fi(d,a,m),_2(d,c,m),!0}return!1}function B1(a,c,d,m){if(m={lane:2,revertLane:m_(),action:m,hasEagerState:!1,eagerState:null,next:null},Rg(a)){if(c)throw Error(n(479))}else c=n1(a,d,m,2),c!==null&&Fi(c,a,2)}function Rg(a){var c=a.alternate;return a===At||c!==null&&c===At}function w2(a,c){Xc=Sg=!0;var d=a.pending;d===null?c.next=c:(c.next=d.next,d.next=c),a.pending=c}function _2(a,c,d){if((d&4194048)!==0){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,Ws(a,d)}}var kg={readContext:Vr,use:xg,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},b2={readContext:Vr,use:xg,useCallback:function(a,c){return fi().memoizedState=[a,c===void 0?null:c],a},useContext:Vr,useEffect:i2,useImperativeHandle:function(a,c,d){d=d!=null?d.concat([a]):null,Cg(4194308,4,l2.bind(null,c,a),d)},useLayoutEffect:function(a,c){return Cg(4194308,4,a,c)},useInsertionEffect:function(a,c){Cg(4,2,a,c)},useMemo:function(a,c){var d=fi();c=c===void 0?null:c;var m=a();if(Ru){it(!0);try{a()}finally{it(!1)}}return d.memoizedState=[m,c],m},useReducer:function(a,c,d){var m=fi();if(d!==void 0){var S=d(c);if(Ru){it(!0);try{d(c)}finally{it(!1)}}}else S=c;return m.memoizedState=m.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},m.queue=a,a=a.dispatch=mV.bind(null,At,a),[m.memoizedState,a]},useRef:function(a){var c=fi();return a={current:a},c.memoizedState=a},useState:function(a){a=I1(a);var c=a.queue,d=v2.bind(null,At,c);return c.dispatch=d,[a.memoizedState,d]},useDebugValue:N1,useDeferredValue:function(a,c){var d=fi();return M1(d,a,c)},useTransition:function(){var a=I1(!1);return a=d2.bind(null,At,a.queue,!0,!1),fi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,d){var m=At,S=fi();if(Xt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=c(),gn===null)throw Error(n(349));(Ht&124)!==0||jR(m,c,d)}S.memoizedState=d;var R={value:d,getSnapshot:c};return S.queue=R,i2(qR.bind(null,m,R,a),[a]),m.flags|=2048,Zc(9,Ag(),HR.bind(null,m,R,d,c),null),d},useId:function(){var a=fi(),c=gn.identifierPrefix;if(Xt){var d=ra,m=na;d=(m&~(1<<32-Nt(m)-1)).toString(32)+d,c=""+c+"R"+d,d=Eg++,0<d&&(c+="H"+d.toString(32)),c+=""}else d=uV++,c=""+c+"r"+d.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:L1,useFormState:JR,useActionState:JR,useOptimistic:function(a){var c=fi();c.memoizedState=c.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=B1.bind(null,At,!0,d),d.dispatch=c,[a,c]},useMemoCache:R1,useCacheRefresh:function(){return fi().memoizedState=pV.bind(null,At)}},S2={readContext:Vr,use:xg,useCallback:c2,useContext:Vr,useEffect:s2,useImperativeHandle:u2,useInsertionEffect:o2,useLayoutEffect:a2,useMemo:h2,useReducer:Tg,useRef:r2,useState:function(){return Tg(oa)},useDebugValue:N1,useDeferredValue:function(a,c){var d=Wn();return f2(d,sn.memoizedState,a,c)},useTransition:function(){var a=Tg(oa)[0],c=Wn().memoizedState;return[typeof a=="boolean"?a:dd(a),c]},useSyncExternalStore:zR,useId:g2,useHostTransitionStatus:L1,useFormState:e2,useActionState:e2,useOptimistic:function(a,c){var d=Wn();return KR(d,sn,a,c)},useMemoCache:R1,useCacheRefresh:y2},gV={readContext:Vr,use:xg,useCallback:c2,useContext:Vr,useEffect:s2,useImperativeHandle:u2,useInsertionEffect:o2,useLayoutEffect:a2,useMemo:h2,useReducer:D1,useRef:r2,useState:function(){return D1(oa)},useDebugValue:N1,useDeferredValue:function(a,c){var d=Wn();return sn===null?M1(d,a,c):f2(d,sn.memoizedState,a,c)},useTransition:function(){var a=D1(oa)[0],c=Wn().memoizedState;return[typeof a=="boolean"?a:dd(a),c]},useSyncExternalStore:zR,useId:g2,useHostTransitionStatus:L1,useFormState:n2,useActionState:n2,useOptimistic:function(a,c){var d=Wn();return sn!==null?KR(d,sn,a,c):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:R1,useCacheRefresh:y2},Jc=null,gd=0;function Dg(a){var c=gd;return gd+=1,Jc===null&&(Jc=[]),NR(Jc,a,c)}function yd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Ig(a,c){throw c.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function E2(a){var c=a._init;return c(a._payload)}function x2(a){function c(Se,we){if(a){var Te=Se.deletions;Te===null?(Se.deletions=[we],Se.flags|=16):Te.push(we)}}function d(Se,we){if(!a)return null;for(;we!==null;)c(Se,we),we=we.sibling;return null}function m(Se){for(var we=new Map;Se!==null;)Se.key!==null?we.set(Se.key,Se):we.set(Se.index,Se),Se=Se.sibling;return we}function S(Se,we){return Se=ta(Se,we),Se.index=0,Se.sibling=null,Se}function R(Se,we,Te){return Se.index=Te,a?(Te=Se.alternate,Te!==null?(Te=Te.index,Te<we?(Se.flags|=67108866,we):Te):(Se.flags|=67108866,we)):(Se.flags|=1048576,we)}function G(Se){return a&&Se.alternate===null&&(Se.flags|=67108866),Se}function Z(Se,we,Te,Le){return we===null||we.tag!==6?(we=i1(Te,Se.mode,Le),we.return=Se,we):(we=S(we,Te),we.return=Se,we)}function de(Se,we,Te,Le){var rt=Te.type;return rt===w?Ne(Se,we,Te.props.children,Le,Te.key):we!==null&&(we.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===P&&E2(rt)===we.type)?(we=S(we,Te.props),yd(we,Te),we.return=Se,we):(we=dg(Te.type,Te.key,Te.props,null,Se.mode,Le),yd(we,Te),we.return=Se,we)}function Ce(Se,we,Te,Le){return we===null||we.tag!==4||we.stateNode.containerInfo!==Te.containerInfo||we.stateNode.implementation!==Te.implementation?(we=s1(Te,Se.mode,Le),we.return=Se,we):(we=S(we,Te.children||[]),we.return=Se,we)}function Ne(Se,we,Te,Le,rt){return we===null||we.tag!==7?(we=_u(Te,Se.mode,Le,rt),we.return=Se,we):(we=S(we,Te),we.return=Se,we)}function Ve(Se,we,Te){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=i1(""+we,Se.mode,Te),we.return=Se,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return Te=dg(we.type,we.key,we.props,null,Se.mode,Te),yd(Te,we),Te.return=Se,Te;case y:return we=s1(we,Se.mode,Te),we.return=Se,we;case P:var Le=we._init;return we=Le(we._payload),Ve(Se,we,Te)}if(ae(we)||N(we))return we=_u(we,Se.mode,Te,null),we.return=Se,we;if(typeof we.then=="function")return Ve(Se,Dg(we),Te);if(we.$$typeof===T)return Ve(Se,yg(Se,we),Te);Ig(Se,we)}return null}function Re(Se,we,Te,Le){var rt=we!==null?we.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return rt!==null?null:Z(Se,we,""+Te,Le);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case g:return Te.key===rt?de(Se,we,Te,Le):null;case y:return Te.key===rt?Ce(Se,we,Te,Le):null;case P:return rt=Te._init,Te=rt(Te._payload),Re(Se,we,Te,Le)}if(ae(Te)||N(Te))return rt!==null?null:Ne(Se,we,Te,Le,null);if(typeof Te.then=="function")return Re(Se,we,Dg(Te),Le);if(Te.$$typeof===T)return Re(Se,we,yg(Se,Te),Le);Ig(Se,Te)}return null}function ke(Se,we,Te,Le,rt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return Se=Se.get(Te)||null,Z(we,Se,""+Le,rt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return Se=Se.get(Le.key===null?Te:Le.key)||null,de(we,Se,Le,rt);case y:return Se=Se.get(Le.key===null?Te:Le.key)||null,Ce(we,Se,Le,rt);case P:var kt=Le._init;return Le=kt(Le._payload),ke(Se,we,Te,Le,rt)}if(ae(Le)||N(Le))return Se=Se.get(Te)||null,Ne(we,Se,Le,rt,null);if(typeof Le.then=="function")return ke(Se,we,Te,Dg(Le),rt);if(Le.$$typeof===T)return ke(Se,we,Te,yg(we,Le),rt);Ig(we,Le)}return null}function vt(Se,we,Te,Le){for(var rt=null,kt=null,at=we,pt=we=0,dr=null;at!==null&&pt<Te.length;pt++){at.index>pt?(dr=at,at=null):dr=at.sibling;var Yt=Re(Se,at,Te[pt],Le);if(Yt===null){at===null&&(at=dr);break}a&&at&&Yt.alternate===null&&c(Se,at),we=R(Yt,we,pt),kt===null?rt=Yt:kt.sibling=Yt,kt=Yt,at=dr}if(pt===Te.length)return d(Se,at),Xt&&Su(Se,pt),rt;if(at===null){for(;pt<Te.length;pt++)at=Ve(Se,Te[pt],Le),at!==null&&(we=R(at,we,pt),kt===null?rt=at:kt.sibling=at,kt=at);return Xt&&Su(Se,pt),rt}for(at=m(at);pt<Te.length;pt++)dr=ke(at,Se,pt,Te[pt],Le),dr!==null&&(a&&dr.alternate!==null&&at.delete(dr.key===null?pt:dr.key),we=R(dr,we,pt),kt===null?rt=dr:kt.sibling=dr,kt=dr);return a&&at.forEach(function(ll){return c(Se,ll)}),Xt&&Su(Se,pt),rt}function ft(Se,we,Te,Le){if(Te==null)throw Error(n(151));for(var rt=null,kt=null,at=we,pt=we=0,dr=null,Yt=Te.next();at!==null&&!Yt.done;pt++,Yt=Te.next()){at.index>pt?(dr=at,at=null):dr=at.sibling;var ll=Re(Se,at,Yt.value,Le);if(ll===null){at===null&&(at=dr);break}a&&at&&ll.alternate===null&&c(Se,at),we=R(ll,we,pt),kt===null?rt=ll:kt.sibling=ll,kt=ll,at=dr}if(Yt.done)return d(Se,at),Xt&&Su(Se,pt),rt;if(at===null){for(;!Yt.done;pt++,Yt=Te.next())Yt=Ve(Se,Yt.value,Le),Yt!==null&&(we=R(Yt,we,pt),kt===null?rt=Yt:kt.sibling=Yt,kt=Yt);return Xt&&Su(Se,pt),rt}for(at=m(at);!Yt.done;pt++,Yt=Te.next())Yt=ke(at,Se,pt,Yt.value,Le),Yt!==null&&(a&&Yt.alternate!==null&&at.delete(Yt.key===null?pt:Yt.key),we=R(Yt,we,pt),kt===null?rt=Yt:kt.sibling=Yt,kt=Yt);return a&&at.forEach(function(yU){return c(Se,yU)}),Xt&&Su(Se,pt),rt}function an(Se,we,Te,Le){if(typeof Te=="object"&&Te!==null&&Te.type===w&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case g:e:{for(var rt=Te.key;we!==null;){if(we.key===rt){if(rt=Te.type,rt===w){if(we.tag===7){d(Se,we.sibling),Le=S(we,Te.props.children),Le.return=Se,Se=Le;break e}}else if(we.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===P&&E2(rt)===we.type){d(Se,we.sibling),Le=S(we,Te.props),yd(Le,Te),Le.return=Se,Se=Le;break e}d(Se,we);break}else c(Se,we);we=we.sibling}Te.type===w?(Le=_u(Te.props.children,Se.mode,Le,Te.key),Le.return=Se,Se=Le):(Le=dg(Te.type,Te.key,Te.props,null,Se.mode,Le),yd(Le,Te),Le.return=Se,Se=Le)}return G(Se);case y:e:{for(rt=Te.key;we!==null;){if(we.key===rt)if(we.tag===4&&we.stateNode.containerInfo===Te.containerInfo&&we.stateNode.implementation===Te.implementation){d(Se,we.sibling),Le=S(we,Te.children||[]),Le.return=Se,Se=Le;break e}else{d(Se,we);break}else c(Se,we);we=we.sibling}Le=s1(Te,Se.mode,Le),Le.return=Se,Se=Le}return G(Se);case P:return rt=Te._init,Te=rt(Te._payload),an(Se,we,Te,Le)}if(ae(Te))return vt(Se,we,Te,Le);if(N(Te)){if(rt=N(Te),typeof rt!="function")throw Error(n(150));return Te=rt.call(Te),ft(Se,we,Te,Le)}if(typeof Te.then=="function")return an(Se,we,Dg(Te),Le);if(Te.$$typeof===T)return an(Se,we,yg(Se,Te),Le);Ig(Se,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,we!==null&&we.tag===6?(d(Se,we.sibling),Le=S(we,Te),Le.return=Se,Se=Le):(d(Se,we),Le=i1(Te,Se.mode,Le),Le.return=Se,Se=Le),G(Se)):d(Se,we)}return function(Se,we,Te,Le){try{gd=0;var rt=an(Se,we,Te,Le);return Jc=null,rt}catch(at){if(at===ad||at===wg)throw at;var kt=Ni(29,at,null,Se.mode);return kt.lanes=Le,kt.return=Se,kt}finally{}}}var eh=x2(!0),T2=x2(!1),us=J(null),ro=null;function Ka(a){var c=a.alternate;re(ir,ir.current&1),re(us,a),ro===null&&(c===null||Yc.current!==null||c.memoizedState!==null)&&(ro=a)}function A2(a){if(a.tag===22){if(re(ir,ir.current),re(us,a),ro===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ro=a)}}else $a()}function $a(){re(ir,ir.current),re(us,us.current)}function aa(a){K(us),ro===a&&(ro=null),K(ir)}var ir=J(0);function Og(a){for(var c=a;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||C_(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function F1(a,c,d,m){c=a.memoizedState,d=d(m,c),d=d==null?c:f({},c,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var V1={enqueueSetState:function(a,c,d){a=a._reactInternals;var m=Bi(),S=qa(m);S.payload=c,d!=null&&(S.callback=d),c=Wa(a,S,m),c!==null&&(Fi(c,a,m),ud(c,a,m))},enqueueReplaceState:function(a,c,d){a=a._reactInternals;var m=Bi(),S=qa(m);S.tag=1,S.payload=c,d!=null&&(S.callback=d),c=Wa(a,S,m),c!==null&&(Fi(c,a,m),ud(c,a,m))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var d=Bi(),m=qa(d);m.tag=2,c!=null&&(m.callback=c),c=Wa(a,m,d),c!==null&&(Fi(c,a,d),ud(c,a,d))}};function C2(a,c,d,m,S,R,G){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,R,G):c.prototype&&c.prototype.isPureReactComponent?!Jf(d,m)||!Jf(S,R):!0}function R2(a,c,d,m){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,m),c.state!==a&&V1.enqueueReplaceState(c,c.state,null)}function ku(a,c){var d=c;if("ref"in c){d={};for(var m in c)m!=="ref"&&(d[m]=c[m])}if(a=a.defaultProps){d===c&&(d=f({},d));for(var S in a)d[S]===void 0&&(d[S]=a[S])}return d}var Ng=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function k2(a){Ng(a)}function D2(a){console.error(a)}function I2(a){Ng(a)}function Mg(a,c){try{var d=a.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function O2(a,c,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function U1(a,c,d){return d=qa(d),d.tag=3,d.payload={element:null},d.callback=function(){Mg(a,c)},d}function N2(a){return a=qa(a),a.tag=3,a}function M2(a,c,d,m){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var R=m.value;a.payload=function(){return S(R)},a.callback=function(){O2(c,d,m)}}var G=d.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(a.callback=function(){O2(c,d,m),typeof S!="function"&&(el===null?el=new Set([this]):el.add(this));var Z=m.stack;this.componentDidCatch(m.value,{componentStack:Z!==null?Z:""})})}function yV(a,c,d,m,S){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=d.alternate,c!==null&&id(c,d,S,!0),d=us.current,d!==null){switch(d.tag){case 13:return ro===null?c_():d.alternate===null&&Dn===0&&(Dn=3),d.flags&=-257,d.flags|=65536,d.lanes=S,m===m1?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([m]):c.add(m),f_(a,m,S)),!1;case 22:return d.flags|=65536,m===m1?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([m]):d.add(m)),f_(a,m,S)),!1}throw Error(n(435,d.tag))}return f_(a,m,S),c_(),!1}if(Xt)return c=us.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,m!==l1&&(a=Error(n(422),{cause:m}),rd(ss(a,d)))):(m!==l1&&(c=Error(n(423),{cause:m}),rd(ss(c,d))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,m=ss(m,d),S=U1(a.stateNode,m,S),v1(a,S),Dn!==4&&(Dn=2)),!1;var R=Error(n(520),{cause:m});if(R=ss(R,d),xd===null?xd=[R]:xd.push(R),Dn!==4&&(Dn=2),c===null)return!0;m=ss(m,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,a=S&-S,d.lanes|=a,a=U1(d.stateNode,m,a),v1(d,a),!1;case 1:if(c=d.type,R=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(el===null||!el.has(R))))return d.flags|=65536,S&=-S,d.lanes|=S,S=N2(S),M2(S,a,d,m),v1(d,S),!1}d=d.return}while(d!==null);return!1}var P2=Error(n(461)),hr=!1;function xr(a,c,d,m){c.child=a===null?T2(c,null,d,m):eh(c,a.child,d,m)}function L2(a,c,d,m,S){d=d.render;var R=c.ref;if("ref"in m){var G={};for(var Z in m)Z!=="ref"&&(G[Z]=m[Z])}else G=m;return Au(c),m=E1(a,c,d,G,R,S),Z=x1(),a!==null&&!hr?(T1(a,c,S),la(a,c,S)):(Xt&&Z&&o1(c),c.flags|=1,xr(a,c,m,S),c.child)}function B2(a,c,d,m,S){if(a===null){var R=d.type;return typeof R=="function"&&!r1(R)&&R.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=R,F2(a,c,R,m,S)):(a=dg(d.type,null,m,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(R=a.child,!$1(a,S)){var G=R.memoizedProps;if(d=d.compare,d=d!==null?d:Jf,d(G,m)&&a.ref===c.ref)return la(a,c,S)}return c.flags|=1,a=ta(R,m),a.ref=c.ref,a.return=c,c.child=a}function F2(a,c,d,m,S){if(a!==null){var R=a.memoizedProps;if(Jf(R,m)&&a.ref===c.ref)if(hr=!1,c.pendingProps=m=R,$1(a,S))(a.flags&131072)!==0&&(hr=!0);else return c.lanes=a.lanes,la(a,c,S)}return z1(a,c,d,m,S)}function V2(a,c,d){var m=c.pendingProps,S=m.children,R=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=R!==null?R.baseLanes|d:d,a!==null){for(S=c.child=a.child,R=0;S!==null;)R=R|S.lanes|S.childLanes,S=S.sibling;c.childLanes=R&~m}else c.childLanes=0,c.child=null;return U2(a,c,m,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&vg(c,R!==null?R.cachePool:null),R!==null?FR(c,R):_1(),A2(c);else return c.lanes=c.childLanes=536870912,U2(a,c,R!==null?R.baseLanes|d:d,d)}else R!==null?(vg(c,R.cachePool),FR(c,R),$a(),c.memoizedState=null):(a!==null&&vg(c,null),_1(),$a());return xr(a,c,S,d),c.child}function U2(a,c,d,m){var S=p1();return S=S===null?null:{parent:rr._currentValue,pool:S},c.memoizedState={baseLanes:d,cachePool:S},a!==null&&vg(c,null),_1(),A2(c),a!==null&&id(a,c,m,!0),null}function Pg(a,c){var d=c.ref;if(d===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(c.flags|=4194816)}}function z1(a,c,d,m,S){return Au(c),d=E1(a,c,d,m,void 0,S),m=x1(),a!==null&&!hr?(T1(a,c,S),la(a,c,S)):(Xt&&m&&o1(c),c.flags|=1,xr(a,c,d,S),c.child)}function z2(a,c,d,m,S,R){return Au(c),c.updateQueue=null,d=UR(c,m,d,S),VR(a),m=x1(),a!==null&&!hr?(T1(a,c,R),la(a,c,R)):(Xt&&m&&o1(c),c.flags|=1,xr(a,c,d,R),c.child)}function j2(a,c,d,m,S){if(Au(c),c.stateNode===null){var R=qc,G=d.contextType;typeof G=="object"&&G!==null&&(R=Vr(G)),R=new d(m,R),c.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=V1,c.stateNode=R,R._reactInternals=c,R=c.stateNode,R.props=m,R.state=c.memoizedState,R.refs={},g1(c),G=d.contextType,R.context=typeof G=="object"&&G!==null?Vr(G):qc,R.state=c.memoizedState,G=d.getDerivedStateFromProps,typeof G=="function"&&(F1(c,d,G,m),R.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(G=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),G!==R.state&&V1.enqueueReplaceState(R,R.state,null),hd(c,m,R,S),cd(),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(a===null){R=c.stateNode;var Z=c.memoizedProps,de=ku(d,Z);R.props=de;var Ce=R.context,Ne=d.contextType;G=qc,typeof Ne=="object"&&Ne!==null&&(G=Vr(Ne));var Ve=d.getDerivedStateFromProps;Ne=typeof Ve=="function"||typeof R.getSnapshotBeforeUpdate=="function",Z=c.pendingProps!==Z,Ne||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Z||Ce!==G)&&R2(c,R,m,G),Ha=!1;var Re=c.memoizedState;R.state=Re,hd(c,m,R,S),cd(),Ce=c.memoizedState,Z||Re!==Ce||Ha?(typeof Ve=="function"&&(F1(c,d,Ve,m),Ce=c.memoizedState),(de=Ha||C2(c,d,de,m,Re,Ce,G))?(Ne||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=Ce),R.props=m,R.state=Ce,R.context=G,m=de):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{R=c.stateNode,y1(a,c),G=c.memoizedProps,Ne=ku(d,G),R.props=Ne,Ve=c.pendingProps,Re=R.context,Ce=d.contextType,de=qc,typeof Ce=="object"&&Ce!==null&&(de=Vr(Ce)),Z=d.getDerivedStateFromProps,(Ce=typeof Z=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==Ve||Re!==de)&&R2(c,R,m,de),Ha=!1,Re=c.memoizedState,R.state=Re,hd(c,m,R,S),cd();var ke=c.memoizedState;G!==Ve||Re!==ke||Ha||a!==null&&a.dependencies!==null&&gg(a.dependencies)?(typeof Z=="function"&&(F1(c,d,Z,m),ke=c.memoizedState),(Ne=Ha||C2(c,d,Ne,m,Re,ke,de)||a!==null&&a.dependencies!==null&&gg(a.dependencies))?(Ce||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,ke,de),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,ke,de)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ke),R.props=m,R.state=ke,R.context=de,m=Ne):(typeof R.componentDidUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=1024),m=!1)}return R=m,Pg(a,c),m=(c.flags&128)!==0,R||m?(R=c.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:R.render(),c.flags|=1,a!==null&&m?(c.child=eh(c,a.child,null,S),c.child=eh(c,null,d,S)):xr(a,c,d,S),c.memoizedState=R.state,a=c.child):a=la(a,c,S),a}function H2(a,c,d,m){return nd(),c.flags|=256,xr(a,c,d,m),c.child}var j1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function H1(a){return{baseLanes:a,cachePool:DR()}}function q1(a,c,d){return a=a!==null?a.childLanes&~d:0,c&&(a|=cs),a}function q2(a,c,d){var m=c.pendingProps,S=!1,R=(c.flags&128)!==0,G;if((G=R)||(G=a!==null&&a.memoizedState===null?!1:(ir.current&2)!==0),G&&(S=!0,c.flags&=-129),G=(c.flags&32)!==0,c.flags&=-33,a===null){if(Xt){if(S?Ka(c):$a(),Xt){var Z=kn,de;if(de=Z){e:{for(de=Z,Z=no;de.nodeType!==8;){if(!Z){Z=null;break e}if(de=Ns(de.nextSibling),de===null){Z=null;break e}}Z=de}Z!==null?(c.memoizedState={dehydrated:Z,treeContext:bu!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},de=Ni(18,null,null,0),de.stateNode=Z,de.return=c,c.child=de,oi=c,kn=null,de=!0):de=!1}de||xu(c)}if(Z=c.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return C_(Z)?c.lanes=32:c.lanes=536870912,null;aa(c)}return Z=m.children,m=m.fallback,S?($a(),S=c.mode,Z=Lg({mode:"hidden",children:Z},S),m=_u(m,S,d,null),Z.return=c,m.return=c,Z.sibling=m,c.child=Z,S=c.child,S.memoizedState=H1(d),S.childLanes=q1(a,G,d),c.memoizedState=j1,m):(Ka(c),W1(c,Z))}if(de=a.memoizedState,de!==null&&(Z=de.dehydrated,Z!==null)){if(R)c.flags&256?(Ka(c),c.flags&=-257,c=G1(a,c,d)):c.memoizedState!==null?($a(),c.child=a.child,c.flags|=128,c=null):($a(),S=m.fallback,Z=c.mode,m=Lg({mode:"visible",children:m.children},Z),S=_u(S,Z,d,null),S.flags|=2,m.return=c,S.return=c,m.sibling=S,c.child=m,eh(c,a.child,null,d),m=c.child,m.memoizedState=H1(d),m.childLanes=q1(a,G,d),c.memoizedState=j1,c=S);else if(Ka(c),C_(Z)){if(G=Z.nextSibling&&Z.nextSibling.dataset,G)var Ce=G.dgst;G=Ce,m=Error(n(419)),m.stack="",m.digest=G,rd({value:m,source:null,stack:null}),c=G1(a,c,d)}else if(hr||id(a,c,d,!1),G=(d&a.childLanes)!==0,hr||G){if(G=gn,G!==null&&(m=d&-d,m=(m&42)!==0?1:Gs(m),m=(m&(G.suspendedLanes|d))!==0?0:m,m!==0&&m!==de.retryLane))throw de.retryLane=m,Hc(a,m),Fi(G,a,m),P2;Z.data==="$?"||c_(),c=G1(a,c,d)}else Z.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=de.treeContext,kn=Ns(Z.nextSibling),oi=c,Xt=!0,Eu=null,no=!1,a!==null&&(as[ls++]=na,as[ls++]=ra,as[ls++]=bu,na=a.id,ra=a.overflow,bu=c),c=W1(c,m.children),c.flags|=4096);return c}return S?($a(),S=m.fallback,Z=c.mode,de=a.child,Ce=de.sibling,m=ta(de,{mode:"hidden",children:m.children}),m.subtreeFlags=de.subtreeFlags&65011712,Ce!==null?S=ta(Ce,S):(S=_u(S,Z,d,null),S.flags|=2),S.return=c,m.return=c,m.sibling=S,c.child=m,m=S,S=c.child,Z=a.child.memoizedState,Z===null?Z=H1(d):(de=Z.cachePool,de!==null?(Ce=rr._currentValue,de=de.parent!==Ce?{parent:Ce,pool:Ce}:de):de=DR(),Z={baseLanes:Z.baseLanes|d,cachePool:de}),S.memoizedState=Z,S.childLanes=q1(a,G,d),c.memoizedState=j1,m):(Ka(c),d=a.child,a=d.sibling,d=ta(d,{mode:"visible",children:m.children}),d.return=c,d.sibling=null,a!==null&&(G=c.deletions,G===null?(c.deletions=[a],c.flags|=16):G.push(a)),c.child=d,c.memoizedState=null,d)}function W1(a,c){return c=Lg({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Lg(a,c){return a=Ni(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function G1(a,c,d){return eh(c,a.child,null,d),a=W1(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function W2(a,c,d){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c),c1(a.return,c,d)}function K1(a,c,d,m,S){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:S}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=d,R.tailMode=S)}function G2(a,c,d){var m=c.pendingProps,S=m.revealOrder,R=m.tail;if(xr(a,c,m.children,d),m=ir.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&W2(a,d,c);else if(a.tag===19)W2(a,d,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(re(ir,m),S){case"forwards":for(d=c.child,S=null;d!==null;)a=d.alternate,a!==null&&Og(a)===null&&(S=d),d=d.sibling;d=S,d===null?(S=c.child,c.child=null):(S=d.sibling,d.sibling=null),K1(c,!1,S,d,R);break;case"backwards":for(d=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&Og(a)===null){c.child=S;break}a=S.sibling,S.sibling=d,d=S,S=a}K1(c,!0,d,null,R);break;case"together":K1(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function la(a,c,d){if(a!==null&&(c.dependencies=a.dependencies),Ja|=c.lanes,(d&c.childLanes)===0)if(a!==null){if(id(a,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,d=ta(a,a.pendingProps),c.child=d,d.return=c;a.sibling!==null;)a=a.sibling,d=d.sibling=ta(a,a.pendingProps),d.return=c;d.sibling=null}return c.child}function $1(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&gg(a)))}function vV(a,c,d){switch(c.tag){case 3:z(c,c.stateNode.containerInfo),ja(c,rr,a.memoizedState.cache),nd();break;case 27:case 5:ie(c);break;case 4:z(c,c.stateNode.containerInfo);break;case 10:ja(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?(Ka(c),c.flags|=128,null):(d&c.child.childLanes)!==0?q2(a,c,d):(Ka(c),a=la(a,c,d),a!==null?a.sibling:null);Ka(c);break;case 19:var S=(a.flags&128)!==0;if(m=(d&c.childLanes)!==0,m||(id(a,c,d,!1),m=(d&c.childLanes)!==0),S){if(m)return G2(a,c,d);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),re(ir,ir.current),m)break;return null;case 22:case 23:return c.lanes=0,V2(a,c,d);case 24:ja(c,rr,a.memoizedState.cache)}return la(a,c,d)}function K2(a,c,d){if(a!==null)if(a.memoizedProps!==c.pendingProps)hr=!0;else{if(!$1(a,d)&&(c.flags&128)===0)return hr=!1,vV(a,c,d);hr=(a.flags&131072)!==0}else hr=!1,Xt&&(c.flags&1048576)!==0&&ER(c,mg,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var m=c.elementType,S=m._init;if(m=S(m._payload),c.type=m,typeof m=="function")r1(m)?(a=ku(m,a),c.tag=1,c=j2(null,c,m,a,d)):(c.tag=0,c=z1(null,c,m,a,d));else{if(m!=null){if(S=m.$$typeof,S===x){c.tag=11,c=L2(null,c,m,a,d);break e}else if(S===O){c.tag=14,c=B2(null,c,m,a,d);break e}}throw c=B(m)||m,Error(n(306,c,""))}}return c;case 0:return z1(a,c,c.type,c.pendingProps,d);case 1:return m=c.type,S=ku(m,c.pendingProps),j2(a,c,m,S,d);case 3:e:{if(z(c,c.stateNode.containerInfo),a===null)throw Error(n(387));m=c.pendingProps;var R=c.memoizedState;S=R.element,y1(a,c),hd(c,m,null,d);var G=c.memoizedState;if(m=G.cache,ja(c,rr,m),m!==R.cache&&h1(c,[rr],d,!0),cd(),m=G.element,R.isDehydrated)if(R={element:m,isDehydrated:!1,cache:G.cache},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){c=H2(a,c,m,d);break e}else if(m!==S){S=ss(Error(n(424)),c),rd(S),c=H2(a,c,m,d);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(kn=Ns(a.firstChild),oi=c,Xt=!0,Eu=null,no=!0,d=T2(c,null,m,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(nd(),m===S){c=la(a,c,d);break e}xr(a,c,m,d)}c=c.child}return c;case 26:return Pg(a,c),a===null?(d=Qk(c.type,null,c.pendingProps,null))?c.memoizedState=d:Xt||(d=c.type,a=c.pendingProps,m=Xg(ce.current).createElement(d),m[ze]=c,m[Ke]=a,Ar(m,d,a),Bt(m),c.stateNode=m):c.memoizedState=Qk(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return ie(c),a===null&&Xt&&(m=c.stateNode=$k(c.type,c.pendingProps,ce.current),oi=c,no=!0,S=kn,rl(c.type)?(R_=S,kn=Ns(m.firstChild)):kn=S),xr(a,c,c.pendingProps.children,d),Pg(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Xt&&((S=m=kn)&&(m=GV(m,c.type,c.pendingProps,no),m!==null?(c.stateNode=m,oi=c,kn=Ns(m.firstChild),no=!1,S=!0):S=!1),S||xu(c)),ie(c),S=c.type,R=c.pendingProps,G=a!==null?a.memoizedProps:null,m=R.children,x_(S,R)?m=null:G!==null&&x_(S,G)&&(c.flags|=32),c.memoizedState!==null&&(S=E1(a,c,cV,null,null,d),Nd._currentValue=S),Pg(a,c),xr(a,c,m,d),c.child;case 6:return a===null&&Xt&&((a=d=kn)&&(d=KV(d,c.pendingProps,no),d!==null?(c.stateNode=d,oi=c,kn=null,a=!0):a=!1),a||xu(c)),null;case 13:return q2(a,c,d);case 4:return z(c,c.stateNode.containerInfo),m=c.pendingProps,a===null?c.child=eh(c,null,m,d):xr(a,c,m,d),c.child;case 11:return L2(a,c,c.type,c.pendingProps,d);case 7:return xr(a,c,c.pendingProps,d),c.child;case 8:return xr(a,c,c.pendingProps.children,d),c.child;case 12:return xr(a,c,c.pendingProps.children,d),c.child;case 10:return m=c.pendingProps,ja(c,c.type,m.value),xr(a,c,m.children,d),c.child;case 9:return S=c.type._context,m=c.pendingProps.children,Au(c),S=Vr(S),m=m(S),c.flags|=1,xr(a,c,m,d),c.child;case 14:return B2(a,c,c.type,c.pendingProps,d);case 15:return F2(a,c,c.type,c.pendingProps,d);case 19:return G2(a,c,d);case 31:return m=c.pendingProps,d=c.mode,m={mode:m.mode,children:m.children},a===null?(d=Lg(m,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=ta(a.child,m),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return V2(a,c,d);case 24:return Au(c),m=Vr(rr),a===null?(S=p1(),S===null&&(S=gn,R=f1(),S.pooledCache=R,R.refCount++,R!==null&&(S.pooledCacheLanes|=d),S=R),c.memoizedState={parent:m,cache:S},g1(c),ja(c,rr,S)):((a.lanes&d)!==0&&(y1(a,c),hd(c,null,null,d),cd()),S=a.memoizedState,R=c.memoizedState,S.parent!==m?(S={parent:m,cache:m},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),ja(c,rr,m)):(m=R.cache,ja(c,rr,m),m!==S.cache&&h1(c,[rr],d,!0))),xr(a,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function ua(a){a.flags|=4}function $2(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!nD(c)){if(c=us.current,c!==null&&((Ht&4194048)===Ht?ro!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||c!==ro))throw ld=m1,IR;a.flags|=8192}}function Bg(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Go():536870912,a.lanes|=c,ih|=c)}function vd(a,c){if(!Xt)switch(a.tailMode){case"hidden":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Tn(a){var c=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(c)for(var S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=m,a.childLanes=d,c}function wV(a,c,d){var m=c.pendingProps;switch(a1(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(c),null;case 1:return Tn(c),null;case 3:return d=c.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),sa(rr),se(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(td(c)?ua(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,AR())),Tn(c),null;case 26:return d=c.memoizedState,a===null?(ua(c),d!==null?(Tn(c),$2(c,d)):(Tn(c),c.flags&=-16777217)):d?d!==a.memoizedState?(ua(c),Tn(c),$2(c,d)):(Tn(c),c.flags&=-16777217):(a.memoizedProps!==m&&ua(c),Tn(c),c.flags&=-16777217),null;case 27:X(c),d=ce.current;var S=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==m&&ua(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return Tn(c),null}a=he.current,td(c)?xR(c):(a=$k(S,m,d),c.stateNode=a,ua(c))}return Tn(c),null;case 5:if(X(c),d=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==m&&ua(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return Tn(c),null}if(a=he.current,td(c))xR(c);else{switch(S=Xg(ce.current),a){case 1:a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?S.createElement("select",{is:m.is}):S.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?S.createElement(d,{is:m.is}):S.createElement(d)}}a[ze]=c,a[Ke]=m;e:for(S=c.child;S!==null;){if(S.tag===5||S.tag===6)a.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===c)break e;for(;S.sibling===null;){if(S.return===null||S.return===c)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}c.stateNode=a;e:switch(Ar(a,d,m),d){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ua(c)}}return Tn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==m&&ua(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(n(166));if(a=ce.current,td(c)){if(a=c.stateNode,d=c.memoizedProps,m=null,S=oi,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}a[ze]=c,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||zk(a.nodeValue,d)),a||xu(c)}else a=Xg(a).createTextNode(m),a[ze]=c,c.stateNode=a}return Tn(c),null;case 13:if(m=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=td(c),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[ze]=c}else nd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Tn(c),S=!1}else S=AR(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(aa(c),c):(aa(c),null)}if(aa(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=m!==null,a=a!==null&&a.memoizedState!==null,d){m=c.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool);var R=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(R=m.memoizedState.cachePool.pool),R!==S&&(m.flags|=2048)}return d!==a&&d&&(c.child.flags|=8192),Bg(c,c.updateQueue),Tn(c),null;case 4:return se(),a===null&&w_(c.stateNode.containerInfo),Tn(c),null;case 10:return sa(c.type),Tn(c),null;case 19:if(K(ir),S=c.memoizedState,S===null)return Tn(c),null;if(m=(c.flags&128)!==0,R=S.rendering,R===null)if(m)vd(S,!1);else{if(Dn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(R=Og(a),R!==null){for(c.flags|=128,vd(S,!1),a=R.updateQueue,c.updateQueue=a,Bg(c,a),c.subtreeFlags=0,a=d,d=c.child;d!==null;)SR(d,a),d=d.sibling;return re(ir,ir.current&1|2),c.child}a=a.sibling}S.tail!==null&&k()>Ug&&(c.flags|=128,m=!0,vd(S,!1),c.lanes=4194304)}else{if(!m)if(a=Og(R),a!==null){if(c.flags|=128,m=!0,a=a.updateQueue,c.updateQueue=a,Bg(c,a),vd(S,!0),S.tail===null&&S.tailMode==="hidden"&&!R.alternate&&!Xt)return Tn(c),null}else 2*k()-S.renderingStartTime>Ug&&d!==536870912&&(c.flags|=128,m=!0,vd(S,!1),c.lanes=4194304);S.isBackwards?(R.sibling=c.child,c.child=R):(a=S.last,a!==null?a.sibling=R:c.child=R,S.last=R)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=k(),c.sibling=null,a=ir.current,re(ir,m?a&1|2:a&1),c):(Tn(c),null);case 22:case 23:return aa(c),b1(),m=c.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(d&536870912)!==0&&(c.flags&128)===0&&(Tn(c),c.subtreeFlags&6&&(c.flags|=8192)):Tn(c),d=c.updateQueue,d!==null&&Bg(c,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048),a!==null&&K(Cu),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),sa(rr),Tn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function _V(a,c){switch(a1(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return sa(rr),se(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return X(c),null;case 13:if(aa(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));nd()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return K(ir),null;case 4:return se(),null;case 10:return sa(c.type),null;case 22:case 23:return aa(c),b1(),a!==null&&K(Cu),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return sa(rr),null;case 25:return null;default:return null}}function Y2(a,c){switch(a1(c),c.tag){case 3:sa(rr),se();break;case 26:case 27:case 5:X(c);break;case 4:se();break;case 13:aa(c);break;case 19:K(ir);break;case 10:sa(c.type);break;case 22:case 23:aa(c),b1(),a!==null&&K(Cu);break;case 24:sa(rr)}}function wd(a,c){try{var d=c.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var S=m.next;d=S;do{if((d.tag&a)===a){m=void 0;var R=d.create,G=d.inst;m=R(),G.destroy=m}d=d.next}while(d!==S)}}catch(Z){cn(c,c.return,Z)}}function Ya(a,c,d){try{var m=c.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var R=S.next;m=R;do{if((m.tag&a)===a){var G=m.inst,Z=G.destroy;if(Z!==void 0){G.destroy=void 0,S=c;var de=d,Ce=Z;try{Ce()}catch(Ne){cn(S,de,Ne)}}}m=m.next}while(m!==R)}}catch(Ne){cn(c,c.return,Ne)}}function X2(a){var c=a.updateQueue;if(c!==null){var d=a.stateNode;try{BR(c,d)}catch(m){cn(a,a.return,m)}}}function Q2(a,c,d){d.props=ku(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){cn(a,c,m)}}function _d(a,c){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(S){cn(a,c,S)}}function io(a,c){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(S){cn(a,c,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){cn(a,c,S)}else d.current=null}function Z2(a){var c=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(S){cn(a,a.return,S)}}function Y1(a,c,d){try{var m=a.stateNode;zV(m,a.type,d,c),m[Ke]=c}catch(S){cn(a,a.return,S)}}function J2(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&rl(a.type)||a.tag===4}function X1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||J2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&rl(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Q1(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(a),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Yg));else if(m!==4&&(m===27&&rl(a.type)&&(d=a.stateNode,c=null),a=a.child,a!==null))for(Q1(a,c,d),a=a.sibling;a!==null;)Q1(a,c,d),a=a.sibling}function Fg(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?d.insertBefore(a,c):d.appendChild(a);else if(m!==4&&(m===27&&rl(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Fg(a,c,d),a=a.sibling;a!==null;)Fg(a,c,d),a=a.sibling}function ek(a){var c=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);Ar(c,m,d),c[ze]=a,c[Ke]=d}catch(R){cn(a,a.return,R)}}var ca=!1,Pn=!1,Z1=!1,tk=typeof WeakSet=="function"?WeakSet:Set,fr=null;function bV(a,c){if(a=a.containerInfo,S_=ny,a=fR(a),Xw(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var S=m.anchorOffset,R=m.focusNode;m=m.focusOffset;try{d.nodeType,R.nodeType}catch{d=null;break e}var G=0,Z=-1,de=-1,Ce=0,Ne=0,Ve=a,Re=null;t:for(;;){for(var ke;Ve!==d||S!==0&&Ve.nodeType!==3||(Z=G+S),Ve!==R||m!==0&&Ve.nodeType!==3||(de=G+m),Ve.nodeType===3&&(G+=Ve.nodeValue.length),(ke=Ve.firstChild)!==null;)Re=Ve,Ve=ke;for(;;){if(Ve===a)break t;if(Re===d&&++Ce===S&&(Z=G),Re===R&&++Ne===m&&(de=G),(ke=Ve.nextSibling)!==null)break;Ve=Re,Re=Ve.parentNode}Ve=ke}d=Z===-1||de===-1?null:{start:Z,end:de}}else d=null}d=d||{start:0,end:0}}else d=null;for(E_={focusedElem:a,selectionRange:d},ny=!1,fr=c;fr!==null;)if(c=fr,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,fr=a;else for(;fr!==null;){switch(c=fr,R=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&R!==null){a=void 0,d=c,S=R.memoizedProps,R=R.memoizedState,m=d.stateNode;try{var vt=ku(d.type,S,d.elementType===d.type);a=m.getSnapshotBeforeUpdate(vt,R),m.__reactInternalSnapshotBeforeUpdate=a}catch(ft){cn(d,d.return,ft)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,d=a.nodeType,d===9)A_(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":A_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=c.sibling,a!==null){a.return=c.return,fr=a;break}fr=c.return}}function nk(a,c,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Xa(a,d),m&4&&wd(5,d);break;case 1:if(Xa(a,d),m&4)if(a=d.stateNode,c===null)try{a.componentDidMount()}catch(G){cn(d,d.return,G)}else{var S=ku(d.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(S,c,a.__reactInternalSnapshotBeforeUpdate)}catch(G){cn(d,d.return,G)}}m&64&&X2(d),m&512&&_d(d,d.return);break;case 3:if(Xa(a,d),m&64&&(a=d.updateQueue,a!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{BR(a,c)}catch(G){cn(d,d.return,G)}}break;case 27:c===null&&m&4&&ek(d);case 26:case 5:Xa(a,d),c===null&&m&4&&Z2(d),m&512&&_d(d,d.return);break;case 12:Xa(a,d);break;case 13:Xa(a,d),m&4&&sk(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=DV.bind(null,d),$V(a,d))));break;case 22:if(m=d.memoizedState!==null||ca,!m){c=c!==null&&c.memoizedState!==null||Pn,S=ca;var R=Pn;ca=m,(Pn=c)&&!R?Qa(a,d,(d.subtreeFlags&8772)!==0):Xa(a,d),ca=S,Pn=R}break;case 30:break;default:Xa(a,d)}}function rk(a){var c=a.alternate;c!==null&&(a.alternate=null,rk(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&ct(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var bn=null,di=!1;function ha(a,c,d){for(d=d.child;d!==null;)ik(a,c,d),d=d.sibling}function ik(a,c,d){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(He,d)}catch{}switch(d.tag){case 26:Pn||io(d,c),ha(a,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Pn||io(d,c);var m=bn,S=di;rl(d.type)&&(bn=d.stateNode,di=!1),ha(a,c,d),kd(d.stateNode),bn=m,di=S;break;case 5:Pn||io(d,c);case 6:if(m=bn,S=di,bn=null,ha(a,c,d),bn=m,di=S,bn!==null)if(di)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(d.stateNode)}catch(R){cn(d,c,R)}else try{bn.removeChild(d.stateNode)}catch(R){cn(d,c,R)}break;case 18:bn!==null&&(di?(a=bn,Gk(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Bd(a)):Gk(bn,d.stateNode));break;case 4:m=bn,S=di,bn=d.stateNode.containerInfo,di=!0,ha(a,c,d),bn=m,di=S;break;case 0:case 11:case 14:case 15:Pn||Ya(2,d,c),Pn||Ya(4,d,c),ha(a,c,d);break;case 1:Pn||(io(d,c),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Q2(d,c,m)),ha(a,c,d);break;case 21:ha(a,c,d);break;case 22:Pn=(m=Pn)||d.memoizedState!==null,ha(a,c,d),Pn=m;break;default:ha(a,c,d)}}function sk(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Bd(a)}catch(d){cn(c,c.return,d)}}function SV(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new tk),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new tk),c;default:throw Error(n(435,a.tag))}}function J1(a,c){var d=SV(a);c.forEach(function(m){var S=IV.bind(null,a,m);d.has(m)||(d.add(m),m.then(S,S))})}function Mi(a,c){var d=c.deletions;if(d!==null)for(var m=0;m<d.length;m++){var S=d[m],R=a,G=c,Z=G;e:for(;Z!==null;){switch(Z.tag){case 27:if(rl(Z.type)){bn=Z.stateNode,di=!1;break e}break;case 5:bn=Z.stateNode,di=!1;break e;case 3:case 4:bn=Z.stateNode.containerInfo,di=!0;break e}Z=Z.return}if(bn===null)throw Error(n(160));ik(R,G,S),bn=null,di=!1,R=S.alternate,R!==null&&(R.return=null),S.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)ok(c,a),c=c.sibling}var Os=null;function ok(a,c){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mi(c,a),Pi(a),m&4&&(Ya(3,a,a.return),wd(3,a),Ya(5,a,a.return));break;case 1:Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),m&64&&ca&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var S=Os;if(Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),m&4){var R=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":R=S.getElementsByTagName("title")[0],(!R||R[dt]||R[ze]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=S.createElement(m),S.head.insertBefore(R,S.querySelector("head > title"))),Ar(R,m,d),R[ze]=a,Bt(R),m=R;break e;case"link":var G=eD("link","href",S).get(m+(d.href||""));if(G){for(var Z=0;Z<G.length;Z++)if(R=G[Z],R.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&R.getAttribute("rel")===(d.rel==null?null:d.rel)&&R.getAttribute("title")===(d.title==null?null:d.title)&&R.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){G.splice(Z,1);break t}}R=S.createElement(m),Ar(R,m,d),S.head.appendChild(R);break;case"meta":if(G=eD("meta","content",S).get(m+(d.content||""))){for(Z=0;Z<G.length;Z++)if(R=G[Z],R.getAttribute("content")===(d.content==null?null:""+d.content)&&R.getAttribute("name")===(d.name==null?null:d.name)&&R.getAttribute("property")===(d.property==null?null:d.property)&&R.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&R.getAttribute("charset")===(d.charSet==null?null:d.charSet)){G.splice(Z,1);break t}}R=S.createElement(m),Ar(R,m,d),S.head.appendChild(R);break;default:throw Error(n(468,m))}R[ze]=a,Bt(R),m=R}a.stateNode=m}else tD(S,a.type,a.stateNode);else a.stateNode=Jk(S,m,a.memoizedProps);else R!==m?(R===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):R.count--,m===null?tD(S,a.type,a.stateNode):Jk(S,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Y1(a,a.memoizedProps,d.memoizedProps)}break;case 27:Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),d!==null&&m&4&&Y1(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),a.flags&32){S=a.stateNode;try{ts(S,"")}catch(ke){cn(a,a.return,ke)}}m&4&&a.stateNode!=null&&(S=a.memoizedProps,Y1(a,S,d!==null?d.memoizedProps:S)),m&1024&&(Z1=!0);break;case 6:if(Mi(c,a),Pi(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(ke){cn(a,a.return,ke)}}break;case 3:if(Jg=null,S=Os,Os=Qg(c.containerInfo),Mi(c,a),Os=S,Pi(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Bd(c.containerInfo)}catch(ke){cn(a,a.return,ke)}Z1&&(Z1=!1,ak(a));break;case 4:m=Os,Os=Qg(a.stateNode.containerInfo),Mi(c,a),Pi(a),Os=m;break;case 12:Mi(c,a),Pi(a);break;case 13:Mi(c,a),Pi(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(s_=k()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,J1(a,m)));break;case 22:S=a.memoizedState!==null;var de=d!==null&&d.memoizedState!==null,Ce=ca,Ne=Pn;if(ca=Ce||S,Pn=Ne||de,Mi(c,a),Pn=Ne,ca=Ce,Pi(a),m&8192)e:for(c=a.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(d===null||de||ca||Pn||Du(a)),d=null,c=a;;){if(c.tag===5||c.tag===26){if(d===null){de=d=c;try{if(R=de.stateNode,S)G=R.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{Z=de.stateNode;var Ve=de.memoizedProps.style,Re=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;Z.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(ke){cn(de,de.return,ke)}}}else if(c.tag===6){if(d===null){de=c;try{de.stateNode.nodeValue=S?"":de.memoizedProps}catch(ke){cn(de,de.return,ke)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,J1(a,d))));break;case 19:Mi(c,a),Pi(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,J1(a,m)));break;case 30:break;case 21:break;default:Mi(c,a),Pi(a)}}function Pi(a){var c=a.flags;if(c&2){try{for(var d,m=a.return;m!==null;){if(J2(m)){d=m;break}m=m.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var S=d.stateNode,R=X1(a);Fg(a,R,S);break;case 5:var G=d.stateNode;d.flags&32&&(ts(G,""),d.flags&=-33);var Z=X1(a);Fg(a,Z,G);break;case 3:case 4:var de=d.stateNode.containerInfo,Ce=X1(a);Q1(a,Ce,de);break;default:throw Error(n(161))}}catch(Ne){cn(a,a.return,Ne)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function ak(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;ak(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Xa(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)nk(a,c.alternate,c),c=c.sibling}function Du(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Ya(4,c,c.return),Du(c);break;case 1:io(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&Q2(c,c.return,d),Du(c);break;case 27:kd(c.stateNode);case 26:case 5:io(c,c.return),Du(c);break;case 22:c.memoizedState===null&&Du(c);break;case 30:Du(c);break;default:Du(c)}a=a.sibling}}function Qa(a,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,S=a,R=c,G=R.flags;switch(R.tag){case 0:case 11:case 15:Qa(S,R,d),wd(4,R);break;case 1:if(Qa(S,R,d),m=R,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ce){cn(m,m.return,Ce)}if(m=R,S=m.updateQueue,S!==null){var Z=m.stateNode;try{var de=S.shared.hiddenCallbacks;if(de!==null)for(S.shared.hiddenCallbacks=null,S=0;S<de.length;S++)LR(de[S],Z)}catch(Ce){cn(m,m.return,Ce)}}d&&G&64&&X2(R),_d(R,R.return);break;case 27:ek(R);case 26:case 5:Qa(S,R,d),d&&m===null&&G&4&&Z2(R),_d(R,R.return);break;case 12:Qa(S,R,d);break;case 13:Qa(S,R,d),d&&G&4&&sk(S,R);break;case 22:R.memoizedState===null&&Qa(S,R,d),_d(R,R.return);break;case 30:break;default:Qa(S,R,d)}c=c.sibling}}function e_(a,c){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&sd(d))}function t_(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&sd(a))}function so(a,c,d,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)lk(a,c,d,m),c=c.sibling}function lk(a,c,d,m){var S=c.flags;switch(c.tag){case 0:case 11:case 15:so(a,c,d,m),S&2048&&wd(9,c);break;case 1:so(a,c,d,m);break;case 3:so(a,c,d,m),S&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&sd(a)));break;case 12:if(S&2048){so(a,c,d,m),a=c.stateNode;try{var R=c.memoizedProps,G=R.id,Z=R.onPostCommit;typeof Z=="function"&&Z(G,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(de){cn(c,c.return,de)}}else so(a,c,d,m);break;case 13:so(a,c,d,m);break;case 23:break;case 22:R=c.stateNode,G=c.alternate,c.memoizedState!==null?R._visibility&2?so(a,c,d,m):bd(a,c):R._visibility&2?so(a,c,d,m):(R._visibility|=2,th(a,c,d,m,(c.subtreeFlags&10256)!==0)),S&2048&&e_(G,c);break;case 24:so(a,c,d,m),S&2048&&t_(c.alternate,c);break;default:so(a,c,d,m)}}function th(a,c,d,m,S){for(S=S&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var R=a,G=c,Z=d,de=m,Ce=G.flags;switch(G.tag){case 0:case 11:case 15:th(R,G,Z,de,S),wd(8,G);break;case 23:break;case 22:var Ne=G.stateNode;G.memoizedState!==null?Ne._visibility&2?th(R,G,Z,de,S):bd(R,G):(Ne._visibility|=2,th(R,G,Z,de,S)),S&&Ce&2048&&e_(G.alternate,G);break;case 24:th(R,G,Z,de,S),S&&Ce&2048&&t_(G.alternate,G);break;default:th(R,G,Z,de,S)}c=c.sibling}}function bd(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=a,m=c,S=m.flags;switch(m.tag){case 22:bd(d,m),S&2048&&e_(m.alternate,m);break;case 24:bd(d,m),S&2048&&t_(m.alternate,m);break;default:bd(d,m)}c=c.sibling}}var Sd=8192;function nh(a){if(a.subtreeFlags&Sd)for(a=a.child;a!==null;)uk(a),a=a.sibling}function uk(a){switch(a.tag){case 26:nh(a),a.flags&Sd&&a.memoizedState!==null&&aU(Os,a.memoizedState,a.memoizedProps);break;case 5:nh(a);break;case 3:case 4:var c=Os;Os=Qg(a.stateNode.containerInfo),nh(a),Os=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Sd,Sd=16777216,nh(a),Sd=c):nh(a));break;default:nh(a)}}function ck(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Ed(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];fr=m,fk(m,a)}ck(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)hk(a),a=a.sibling}function hk(a){switch(a.tag){case 0:case 11:case 15:Ed(a),a.flags&2048&&Ya(9,a,a.return);break;case 3:Ed(a);break;case 12:Ed(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Vg(a)):Ed(a);break;default:Ed(a)}}function Vg(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];fr=m,fk(m,a)}ck(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Ya(8,c,c.return),Vg(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,Vg(c));break;default:Vg(c)}a=a.sibling}}function fk(a,c){for(;fr!==null;){var d=fr;switch(d.tag){case 0:case 11:case 15:Ya(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:sd(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,fr=m;else e:for(d=a;fr!==null;){m=fr;var S=m.sibling,R=m.return;if(rk(m),m===d){fr=null;break e}if(S!==null){S.return=R,fr=S;break e}fr=R}}}var EV={getCacheForType:function(a){var c=Vr(rr),d=c.data.get(a);return d===void 0&&(d=a(),c.data.set(a,d)),d}},xV=typeof WeakMap=="function"?WeakMap:Map,tn=0,gn=null,It=null,Ht=0,nn=0,Li=null,Za=!1,rh=!1,n_=!1,fa=0,Dn=0,Ja=0,Iu=0,r_=0,cs=0,ih=0,xd=null,pi=null,i_=!1,s_=0,Ug=1/0,zg=null,el=null,Tr=0,tl=null,sh=null,oh=0,o_=0,a_=null,dk=null,Td=0,l_=null;function Bi(){if((tn&2)!==0&&Ht!==0)return Ht&-Ht;if(Q.T!==null){var a=Kc;return a!==0?a:m_()}return ye()}function pk(){cs===0&&(cs=(Ht&536870912)===0||Xt?ks():536870912);var a=us.current;return a!==null&&(a.flags|=32),cs}function Fi(a,c,d){(a===gn&&(nn===2||nn===9)||a.cancelPendingCommit!==null)&&(ah(a,0),nl(a,Ht,cs,!1)),_r(a,d),((tn&2)===0||a!==gn)&&(a===gn&&((tn&2)===0&&(Iu|=d),Dn===4&&nl(a,Ht,cs,!1)),oo(a))}function mk(a,c,d){if((tn&6)!==0)throw Error(n(327));var m=!d&&(c&124)===0&&(c&a.expiredLanes)===0||ei(a,c),S=m?CV(a,c):h_(a,c,!0),R=m;do{if(S===0){rh&&!m&&nl(a,c,0,!1);break}else{if(d=a.current.alternate,R&&!TV(d)){S=h_(a,c,!1),R=!1;continue}if(S===2){if(R=c,a.errorRecoveryDisabledLanes&R)var G=0;else G=a.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){c=G;e:{var Z=a;S=xd;var de=Z.current.memoizedState.isDehydrated;if(de&&(ah(Z,G).flags|=256),G=h_(Z,G,!1),G!==2){if(n_&&!de){Z.errorRecoveryDisabledLanes|=R,Iu|=R,S=4;break e}R=pi,pi=S,R!==null&&(pi===null?pi=R:pi.push.apply(pi,R))}S=G}if(R=!1,S!==2)continue}}if(S===1){ah(a,0),nl(a,c,0,!0);break}e:{switch(m=a,R=S,R){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:nl(m,c,cs,!Za);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(S=s_+300-k(),10<S)){if(nl(m,c,cs,!Za),Jn(m,0,!0)!==0)break e;m.timeoutHandle=qk(gk.bind(null,m,d,pi,zg,i_,c,cs,Iu,ih,Za,R,2,-0,0),S);break e}gk(m,d,pi,zg,i_,c,cs,Iu,ih,Za,R,0,-0,0)}}break}while(!0);oo(a)}function gk(a,c,d,m,S,R,G,Z,de,Ce,Ne,Ve,Re,ke){if(a.timeoutHandle=-1,Ve=c.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(Od={stylesheets:null,count:0,unsuspend:oU},uk(c),Ve=lU(),Ve!==null)){a.cancelPendingCommit=Ve(Ek.bind(null,a,c,R,d,m,S,G,Z,de,Ne,1,Re,ke)),nl(a,R,G,!Ce);return}Ek(a,c,R,d,m,S,G,Z,de)}function TV(a){for(var c=a;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var S=d[m],R=S.getSnapshot;S=S.value;try{if(!Oi(R(),S))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function nl(a,c,d,m){c&=~r_,c&=~Iu,a.suspendedLanes|=c,a.pingedLanes&=~c,m&&(a.warmLanes|=c),m=a.expirationTimes;for(var S=c;0<S;){var R=31-Nt(S),G=1<<R;m[R]=-1,S&=~G}d!==0&&ni(a,d,c)}function jg(){return(tn&6)===0?(Ad(0),!1):!0}function u_(){if(It!==null){if(nn===0)var a=It.return;else a=It,ia=Tu=null,A1(a),Jc=null,gd=0,a=It;for(;a!==null;)Y2(a.alternate,a),a=a.return;It=null}}function ah(a,c){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,HV(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),u_(),gn=a,It=d=ta(a.current,null),Ht=c,nn=0,Li=null,Za=!1,rh=ei(a,c),n_=!1,ih=cs=r_=Iu=Ja=Dn=0,pi=xd=null,i_=!1,(c&8)!==0&&(c|=c&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=c;0<m;){var S=31-Nt(m),R=1<<S;c|=a[S],m&=~R}return fa=c,cg(),d}function yk(a,c){At=null,Q.H=kg,c===ad||c===wg?(c=MR(),nn=3):c===IR?(c=MR(),nn=4):nn=c===P2?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Li=c,It===null&&(Dn=1,Mg(a,ss(c,a.current)))}function vk(){var a=Q.H;return Q.H=kg,a===null?kg:a}function wk(){var a=Q.A;return Q.A=EV,a}function c_(){Dn=4,Za||(Ht&4194048)!==Ht&&us.current!==null||(rh=!0),(Ja&134217727)===0&&(Iu&134217727)===0||gn===null||nl(gn,Ht,cs,!1)}function h_(a,c,d){var m=tn;tn|=2;var S=vk(),R=wk();(gn!==a||Ht!==c)&&(zg=null,ah(a,c)),c=!1;var G=Dn;e:do try{if(nn!==0&&It!==null){var Z=It,de=Li;switch(nn){case 8:u_(),G=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(c=!0);var Ce=nn;if(nn=0,Li=null,lh(a,Z,de,Ce),d&&rh){G=0;break e}break;default:Ce=nn,nn=0,Li=null,lh(a,Z,de,Ce)}}AV(),G=Dn;break}catch(Ne){yk(a,Ne)}while(!0);return c&&a.shellSuspendCounter++,ia=Tu=null,tn=m,Q.H=S,Q.A=R,It===null&&(gn=null,Ht=0,cg()),G}function AV(){for(;It!==null;)_k(It)}function CV(a,c){var d=tn;tn|=2;var m=vk(),S=wk();gn!==a||Ht!==c?(zg=null,Ug=k()+500,ah(a,c)):rh=ei(a,c);e:do try{if(nn!==0&&It!==null){c=It;var R=Li;t:switch(nn){case 1:nn=0,Li=null,lh(a,c,R,1);break;case 2:case 9:if(OR(R)){nn=0,Li=null,bk(c);break}c=function(){nn!==2&&nn!==9||gn!==a||(nn=7),oo(a)},R.then(c,c);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:OR(R)?(nn=0,Li=null,bk(c)):(nn=0,Li=null,lh(a,c,R,7));break;case 5:var G=null;switch(It.tag){case 26:G=It.memoizedState;case 5:case 27:var Z=It;if(!G||nD(G)){nn=0,Li=null;var de=Z.sibling;if(de!==null)It=de;else{var Ce=Z.return;Ce!==null?(It=Ce,Hg(Ce)):It=null}break t}}nn=0,Li=null,lh(a,c,R,5);break;case 6:nn=0,Li=null,lh(a,c,R,6);break;case 8:u_(),Dn=6;break e;default:throw Error(n(462))}}RV();break}catch(Ne){yk(a,Ne)}while(!0);return ia=Tu=null,Q.H=m,Q.A=S,tn=d,It!==null?0:(gn=null,Ht=0,cg(),Dn)}function RV(){for(;It!==null&&!_e();)_k(It)}function _k(a){var c=K2(a.alternate,a,fa);a.memoizedProps=a.pendingProps,c===null?Hg(a):It=c}function bk(a){var c=a,d=c.alternate;switch(c.tag){case 15:case 0:c=z2(d,c,c.pendingProps,c.type,void 0,Ht);break;case 11:c=z2(d,c,c.pendingProps,c.type.render,c.ref,Ht);break;case 5:A1(c);default:Y2(d,c),c=It=SR(c,fa),c=K2(d,c,fa)}a.memoizedProps=a.pendingProps,c===null?Hg(a):It=c}function lh(a,c,d,m){ia=Tu=null,A1(c),Jc=null,gd=0;var S=c.return;try{if(yV(a,S,c,d,Ht)){Dn=1,Mg(a,ss(d,a.current)),It=null;return}}catch(R){if(S!==null)throw It=S,R;Dn=1,Mg(a,ss(d,a.current)),It=null;return}c.flags&32768?(Xt||m===1?a=!0:rh||(Ht&536870912)!==0?a=!1:(Za=a=!0,(m===2||m===9||m===3||m===6)&&(m=us.current,m!==null&&m.tag===13&&(m.flags|=16384))),Sk(c,a)):Hg(c)}function Hg(a){var c=a;do{if((c.flags&32768)!==0){Sk(c,Za);return}a=c.return;var d=wV(c.alternate,c,fa);if(d!==null){It=d;return}if(c=c.sibling,c!==null){It=c;return}It=c=a}while(c!==null);Dn===0&&(Dn=5)}function Sk(a,c){do{var d=_V(a.alternate,a);if(d!==null){d.flags&=32767,It=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(a=a.sibling,a!==null)){It=a;return}It=a=d}while(a!==null);Dn=6,It=null}function Ek(a,c,d,m,S,R,G,Z,de){a.cancelPendingCommit=null;do qg();while(Tr!==0);if((tn&6)!==0)throw Error(n(327));if(c!==null){if(c===a.current)throw Error(n(177));if(R=c.lanes|c.childLanes,R|=t1,Ri(a,d,R,G,Z,de),a===gn&&(It=gn=null,Ht=0),sh=c,tl=a,oh=d,o_=R,a_=S,dk=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,OV(me,function(){return Rk(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=Q.T,Q.T=null,S=Y.p,Y.p=2,G=tn,tn|=4;try{bV(a,c,d)}finally{tn=G,Y.p=S,Q.T=m}}Tr=1,xk(),Tk(),Ak()}}function xk(){if(Tr===1){Tr=0;var a=tl,c=sh,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null;var m=Y.p;Y.p=2;var S=tn;tn|=4;try{ok(c,a);var R=E_,G=fR(a.containerInfo),Z=R.focusedElem,de=R.selectionRange;if(G!==Z&&Z&&Z.ownerDocument&&hR(Z.ownerDocument.documentElement,Z)){if(de!==null&&Xw(Z)){var Ce=de.start,Ne=de.end;if(Ne===void 0&&(Ne=Ce),"selectionStart"in Z)Z.selectionStart=Ce,Z.selectionEnd=Math.min(Ne,Z.value.length);else{var Ve=Z.ownerDocument||document,Re=Ve&&Ve.defaultView||window;if(Re.getSelection){var ke=Re.getSelection(),vt=Z.textContent.length,ft=Math.min(de.start,vt),an=de.end===void 0?ft:Math.min(de.end,vt);!ke.extend&&ft>an&&(G=an,an=ft,ft=G);var Se=cR(Z,ft),we=cR(Z,an);if(Se&&we&&(ke.rangeCount!==1||ke.anchorNode!==Se.node||ke.anchorOffset!==Se.offset||ke.focusNode!==we.node||ke.focusOffset!==we.offset)){var Te=Ve.createRange();Te.setStart(Se.node,Se.offset),ke.removeAllRanges(),ft>an?(ke.addRange(Te),ke.extend(we.node,we.offset)):(Te.setEnd(we.node,we.offset),ke.addRange(Te))}}}}for(Ve=[],ke=Z;ke=ke.parentNode;)ke.nodeType===1&&Ve.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Ve.length;Z++){var Le=Ve[Z];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}ny=!!S_,E_=S_=null}finally{tn=S,Y.p=m,Q.T=d}}a.current=c,Tr=2}}function Tk(){if(Tr===2){Tr=0;var a=tl,c=sh,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=Q.T,Q.T=null;var m=Y.p;Y.p=2;var S=tn;tn|=4;try{nk(a,c.alternate,c)}finally{tn=S,Y.p=m,Q.T=d}}Tr=3}}function Ak(){if(Tr===4||Tr===3){Tr=0,H();var a=tl,c=sh,d=oh,m=dk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Tr=5:(Tr=0,sh=tl=null,Ck(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(el=null),Fa(d),c=c.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(He,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=Q.T,S=Y.p,Y.p=2,Q.T=null;try{for(var R=a.onRecoverableError,G=0;G<m.length;G++){var Z=m[G];R(Z.value,{componentStack:Z.stack})}}finally{Q.T=c,Y.p=S}}(oh&3)!==0&&qg(),oo(a),S=a.pendingLanes,(d&4194090)!==0&&(S&42)!==0?a===l_?Td++:(Td=0,l_=a):Td=0,Ad(0)}}function Ck(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,sd(c)))}function qg(a){return xk(),Tk(),Ak(),Rk()}function Rk(){if(Tr!==5)return!1;var a=tl,c=o_;o_=0;var d=Fa(oh),m=Q.T,S=Y.p;try{Y.p=32>d?32:d,Q.T=null,d=a_,a_=null;var R=tl,G=oh;if(Tr=0,sh=tl=null,oh=0,(tn&6)!==0)throw Error(n(331));var Z=tn;if(tn|=4,hk(R.current),lk(R,R.current,G,d),tn=Z,Ad(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(He,R)}catch{}return!0}finally{Y.p=S,Q.T=m,Ck(a,c)}}function kk(a,c,d){c=ss(d,c),c=U1(a.stateNode,c,2),a=Wa(a,c,2),a!==null&&(_r(a,2),oo(a))}function cn(a,c,d){if(a.tag===3)kk(a,a,d);else for(;c!==null;){if(c.tag===3){kk(c,a,d);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(el===null||!el.has(m))){a=ss(d,a),d=N2(2),m=Wa(c,d,2),m!==null&&(M2(d,m,c,a),_r(m,2),oo(m));break}}c=c.return}}function f_(a,c,d){var m=a.pingCache;if(m===null){m=a.pingCache=new xV;var S=new Set;m.set(c,S)}else S=m.get(c),S===void 0&&(S=new Set,m.set(c,S));S.has(d)||(n_=!0,S.add(d),a=kV.bind(null,a,c,d),c.then(a,a))}function kV(a,c,d){var m=a.pingCache;m!==null&&m.delete(c),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,gn===a&&(Ht&d)===d&&(Dn===4||Dn===3&&(Ht&62914560)===Ht&&300>k()-s_?(tn&2)===0&&ah(a,0):r_|=d,ih===Ht&&(ih=0)),oo(a)}function Dk(a,c){c===0&&(c=Go()),a=Hc(a,c),a!==null&&(_r(a,c),oo(a))}function DV(a){var c=a.memoizedState,d=0;c!==null&&(d=c.retryLane),Dk(a,d)}function IV(a,c){var d=0;switch(a.tag){case 13:var m=a.stateNode,S=a.memoizedState;S!==null&&(d=S.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(c),Dk(a,d)}function OV(a,c){return be(a,c)}var Wg=null,uh=null,d_=!1,Gg=!1,p_=!1,Ou=0;function oo(a){a!==uh&&a.next===null&&(uh===null?Wg=uh=a:uh=uh.next=a),Gg=!0,d_||(d_=!0,MV())}function Ad(a,c){if(!p_&&Gg){p_=!0;do for(var d=!1,m=Wg;m!==null;){if(a!==0){var S=m.pendingLanes;if(S===0)var R=0;else{var G=m.suspendedLanes,Z=m.pingedLanes;R=(1<<31-Nt(42|a)+1)-1,R&=S&~(G&~Z),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(d=!0,Mk(m,R))}else R=Ht,R=Jn(m,m===gn?R:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(R&3)===0||ei(m,R)||(d=!0,Mk(m,R));m=m.next}while(d);p_=!1}}function NV(){Ik()}function Ik(){Gg=d_=!1;var a=0;Ou!==0&&(jV()&&(a=Ou),Ou=0);for(var c=k(),d=null,m=Wg;m!==null;){var S=m.next,R=Ok(m,c);R===0?(m.next=null,d===null?Wg=S:d.next=S,S===null&&(uh=d)):(d=m,(a!==0||(R&3)!==0)&&(Gg=!0)),m=S}Ad(a)}function Ok(a,c){for(var d=a.suspendedLanes,m=a.pingedLanes,S=a.expirationTimes,R=a.pendingLanes&-62914561;0<R;){var G=31-Nt(R),Z=1<<G,de=S[G];de===-1?((Z&d)===0||(Z&m)!==0)&&(S[G]=qs(Z,c)):de<=c&&(a.expiredLanes|=Z),R&=~Z}if(c=gn,d=Ht,d=Jn(a,a===c?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===c&&(nn===2||nn===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&V(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ei(a,d)){if(c=d&-d,c===a.callbackPriority)return c;switch(m!==null&&V(m),Fa(d)){case 2:case 8:d=oe;break;case 32:d=me;break;case 268435456:d=De;break;default:d=me}return m=Nk.bind(null,a),d=be(d,m),a.callbackPriority=c,a.callbackNode=d,c}return m!==null&&m!==null&&V(m),a.callbackPriority=2,a.callbackNode=null,2}function Nk(a,c){if(Tr!==0&&Tr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(qg()&&a.callbackNode!==d)return null;var m=Ht;return m=Jn(a,a===gn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(mk(a,m,c),Ok(a,k()),a.callbackNode!=null&&a.callbackNode===d?Nk.bind(null,a):null)}function Mk(a,c){if(qg())return null;mk(a,c,!0)}function MV(){qV(function(){(tn&6)!==0?be(U,NV):Ik()})}function m_(){return Ou===0&&(Ou=ks()),Ou}function Pk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ic(""+a)}function Lk(a,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,a.id&&d.setAttribute("form",a.id),c.parentNode.insertBefore(d,c),a=new FormData(a),d.parentNode.removeChild(d),a}function PV(a,c,d,m,S){if(c==="submit"&&d&&d.stateNode===S){var R=Pk((S[Ke]||null).action),G=m.submitter;G&&(c=(c=G[Ke]||null)?Pk(c.formAction):G.getAttribute("formAction"),c!==null&&(R=c,G=null));var Z=new Oc("action","action",null,m,S);a.push({event:Z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Ou!==0){var de=G?Lk(S,G):new FormData(S);P1(d,{pending:!0,data:de,method:S.method,action:R},null,de)}}else typeof R=="function"&&(Z.preventDefault(),de=G?Lk(S,G):new FormData(S),P1(d,{pending:!0,data:de,method:S.method,action:R},R,de))},currentTarget:S}]})}}for(var g_=0;g_<e1.length;g_++){var y_=e1[g_],LV=y_.toLowerCase(),BV=y_[0].toUpperCase()+y_.slice(1);Is(LV,"on"+BV)}Is(mR,"onAnimationEnd"),Is(gR,"onAnimationIteration"),Is(yR,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(eV,"onTransitionRun"),Is(tV,"onTransitionStart"),Is(nV,"onTransitionCancel"),Is(vR,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function Bk(a,c){c=(c&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],S=m.event;m=m.listeners;e:{var R=void 0;if(c)for(var G=m.length-1;0<=G;G--){var Z=m[G],de=Z.instance,Ce=Z.currentTarget;if(Z=Z.listener,de!==R&&S.isPropagationStopped())break e;R=Z,S.currentTarget=Ce;try{R(S)}catch(Ne){Ng(Ne)}S.currentTarget=null,R=de}else for(G=0;G<m.length;G++){if(Z=m[G],de=Z.instance,Ce=Z.currentTarget,Z=Z.listener,de!==R&&S.isPropagationStopped())break e;R=Z,S.currentTarget=Ce;try{R(S)}catch(Ne){Ng(Ne)}S.currentTarget=null,R=de}}}}function Ot(a,c){var d=c[ut];d===void 0&&(d=c[ut]=new Set);var m=a+"__bubble";d.has(m)||(Fk(c,a,2,!1),d.add(m))}function v_(a,c,d){var m=0;c&&(m|=4),Fk(d,a,m,c)}var Kg="_reactListening"+Math.random().toString(36).slice(2);function w_(a){if(!a[Kg]){a[Kg]=!0,Rt.forEach(function(d){d!=="selectionchange"&&(FV.has(d)||v_(d,!1,a),v_(d,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Kg]||(c[Kg]=!0,v_("selectionchange",!1,c))}}function Fk(a,c,d,m){switch(lD(c)){case 2:var S=hU;break;case 8:S=fU;break;default:S=N_}d=S.bind(null,c,d,a),S=void 0,!rs||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),m?S!==void 0?a.addEventListener(c,d,{capture:!0,passive:S}):a.addEventListener(c,d,!0):S!==void 0?a.addEventListener(c,d,{passive:S}):a.addEventListener(c,d,!1)}function __(a,c,d,m,S){var R=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var G=m.tag;if(G===3||G===4){var Z=m.stateNode.containerInfo;if(Z===S)break;if(G===4)for(G=m.return;G!==null;){var de=G.tag;if((de===3||de===4)&&G.stateNode.containerInfo===S)return;G=G.return}for(;Z!==null;){if(G=yt(Z),G===null)return;if(de=G.tag,de===5||de===6||de===26||de===27){m=R=G;continue e}Z=Z.parentNode}}m=m.return}Ym(function(){var Ce=R,Ne=ns(d),Ve=[];e:{var Re=wR.get(a);if(Re!==void 0){var ke=Oc,vt=a;switch(a){case"keypress":if(Qs(d)===0)break e;case"keydown":case"keyup":ke=Fc;break;case"focusin":vt="focus",ke=Pc;break;case"focusout":vt="blur",ke=Pc;break;case"beforeblur":case"afterblur":ke=Pc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Gw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=rg;break;case mR:case gR:case yR:ke=Lc;break;case vR:ke=sg;break;case"scroll":case"scrollend":ke=Xm;break;case"wheel":ke=Vc;break;case"copy":case"cut":case"paste":ke=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Qf;break;case"toggle":case"beforetoggle":ke=ag}var ft=(c&4)!==0,an=!ft&&(a==="scroll"||a==="scrollend"),Se=ft?Re!==null?Re+"Capture":null:Re;ft=[];for(var we=Ce,Te;we!==null;){var Le=we;if(Te=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||Te===null||Se===null||(Le=hu(we,Se),Le!=null&&ft.push(Rd(we,Le,Te))),an)break;we=we.return}0<ft.length&&(Re=new ke(Re,vt,null,d,Ne),Ve.push({event:Re,listeners:ft}))}}if((c&7)===0){e:{if(Re=a==="mouseover"||a==="pointerover",ke=a==="mouseout"||a==="pointerout",Re&&d!==Yo&&(vt=d.relatedTarget||d.fromElement)&&(yt(vt)||vt[Je]))break e;if((ke||Re)&&(Re=Ne.window===Ne?Ne:(Re=Ne.ownerDocument)?Re.defaultView||Re.parentWindow:window,ke?(vt=d.relatedTarget||d.toElement,ke=Ce,vt=vt?yt(vt):null,vt!==null&&(an=s(vt),ft=vt.tag,vt!==an||ft!==5&&ft!==27&&ft!==6)&&(vt=null)):(ke=null,vt=Ce),ke!==vt)){if(ft=is,Le="onMouseLeave",Se="onMouseEnter",we="mouse",(a==="pointerout"||a==="pointerover")&&(ft=Qf,Le="onPointerLeave",Se="onPointerEnter",we="pointer"),an=ke==null?Re:Zt(ke),Te=vt==null?Re:Zt(vt),Re=new ft(Le,we+"leave",ke,d,Ne),Re.target=an,Re.relatedTarget=Te,Le=null,yt(Ne)===Ce&&(ft=new ft(Se,we+"enter",vt,d,Ne),ft.target=Te,ft.relatedTarget=an,Le=ft),an=Le,ke&&vt)t:{for(ft=ke,Se=vt,we=0,Te=ft;Te;Te=ch(Te))we++;for(Te=0,Le=Se;Le;Le=ch(Le))Te++;for(;0<we-Te;)ft=ch(ft),we--;for(;0<Te-we;)Se=ch(Se),Te--;for(;we--;){if(ft===Se||Se!==null&&ft===Se.alternate)break t;ft=ch(ft),Se=ch(Se)}ft=null}else ft=null;ke!==null&&Vk(Ve,Re,ke,ft,!1),vt!==null&&an!==null&&Vk(Ve,an,vt,ft,!0)}}e:{if(Re=Ce?Zt(Ce):window,ke=Re.nodeName&&Re.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Re.type==="file")var rt=iR;else if(nr(Re))if(sR)rt=QF;else{rt=YF;var kt=$F}else ke=Re.nodeName,!ke||ke.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Ce&&qf(Ce.elementType)&&(rt=iR):rt=XF;if(rt&&(rt=rt(a,Ce))){ea(Ve,rt,d,Ne);break e}kt&&kt(a,Re,Ce),a==="focusout"&&Ce&&Re.type==="number"&&Ce.memoizedProps.value!=null&&Ua(Re,"number",Re.value)}switch(kt=Ce?Zt(Ce):window,a){case"focusin":(nr(kt)||kt.contentEditable==="true")&&(Uc=kt,Qw=Ce,ed=null);break;case"focusout":ed=Qw=Uc=null;break;case"mousedown":Zw=!0;break;case"contextmenu":case"mouseup":case"dragend":Zw=!1,dR(Ve,d,Ne);break;case"selectionchange":if(JF)break;case"keydown":case"keyup":dR(Ve,d,Ne)}var at;if(eo)e:{switch(a){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else zt?Ie(a,d)&&(pt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(pt="onCompositionStart");pt&&(q&&d.locale!=="ko"&&(zt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&zt&&(at=Gf()):(Xs=Ne,za="value"in Xs?Xs.value:Xs.textContent,zt=!0)),kt=$g(Ce,pt),0<kt.length&&(pt=new Yf(pt,a,null,d,Ne),Ve.push({event:pt,listeners:kt}),at?pt.data=at:(at=$e(d),at!==null&&(pt.data=at)))),(at=L?tr(a,d):jt(a,d))&&(pt=$g(Ce,"onBeforeInput"),0<pt.length&&(kt=new Yf("onBeforeInput","beforeinput",null,d,Ne),Ve.push({event:kt,listeners:pt}),kt.data=at)),PV(Ve,a,Ce,d,Ne)}Bk(Ve,c)})}function Rd(a,c,d){return{instance:a,listener:c,currentTarget:d}}function $g(a,c){for(var d=c+"Capture",m=[];a!==null;){var S=a,R=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||R===null||(S=hu(a,d),S!=null&&m.unshift(Rd(a,S,R)),S=hu(a,c),S!=null&&m.push(Rd(a,S,R))),a.tag===3)return m;a=a.return}return[]}function ch(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Vk(a,c,d,m,S){for(var R=c._reactName,G=[];d!==null&&d!==m;){var Z=d,de=Z.alternate,Ce=Z.stateNode;if(Z=Z.tag,de!==null&&de===m)break;Z!==5&&Z!==26&&Z!==27||Ce===null||(de=Ce,S?(Ce=hu(d,R),Ce!=null&&G.unshift(Rd(d,Ce,de))):S||(Ce=hu(d,R),Ce!=null&&G.push(Rd(d,Ce,de)))),d=d.return}G.length!==0&&a.push({event:c,listeners:G})}var VV=/\r\n?/g,UV=/\u0000|\uFFFD/g;function Uk(a){return(typeof a=="string"?a:""+a).replace(VV,`
`).replace(UV,"")}function zk(a,c){return c=Uk(c),Uk(a)===c}function Yg(){}function on(a,c,d,m,S,R){switch(d){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||ts(a,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&ts(a,""+m);break;case"className":ii(a,"class",m);break;case"tabIndex":ii(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(a,d,m);break;case"style":Hf(a,m,R);break;case"data":if(c!=="object"){ii(a,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Ic(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(d==="formAction"?(c!=="input"&&on(a,c,"name",S.name,S,null),on(a,c,"formEncType",S.formEncType,S,null),on(a,c,"formMethod",S.formMethod,S,null),on(a,c,"formTarget",S.formTarget,S,null)):(on(a,c,"encType",S.encType,S,null),on(a,c,"method",S.method,S,null),on(a,c,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Ic(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Yg);break;case"onScroll":m!=null&&Ot("scroll",a);break;case"onScrollEnd":m!=null&&Ot("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Ic(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":Ot("beforetoggle",a),Ot("toggle",a),Fr(a,"popover",m);break;case"xlinkActuate":_t(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":_t(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":_t(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":_t(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":_t(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":_t(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":_t(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":_t(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":_t(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Fr(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=qw.get(d)||d,Fr(a,d,m))}}function b_(a,c,d,m,S,R){switch(d){case"style":Hf(a,m,R);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof m=="string"?ts(a,m):(typeof m=="number"||typeof m=="bigint")&&ts(a,""+m);break;case"onScroll":m!=null&&Ot("scroll",a);break;case"onScrollEnd":m!=null&&Ot("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Yg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),c=d.slice(2,S?d.length-7:void 0),R=a[Ke]||null,R=R!=null?R[d]:null,typeof R=="function"&&a.removeEventListener(c,R,S),typeof m=="function")){typeof R!="function"&&R!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(c,m,S);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Fr(a,d,m)}}}function Ar(a,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",a),Ot("load",a);var m=!1,S=!1,R;for(R in d)if(d.hasOwnProperty(R)){var G=d[R];if(G!=null)switch(R){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:on(a,c,R,G,d,null)}}S&&on(a,c,"srcSet",d.srcSet,d,null),m&&on(a,c,"src",d.src,d,null);return;case"input":Ot("invalid",a);var Z=R=G=S=null,de=null,Ce=null;for(m in d)if(d.hasOwnProperty(m)){var Ne=d[m];if(Ne!=null)switch(m){case"name":S=Ne;break;case"type":G=Ne;break;case"checked":de=Ne;break;case"defaultChecked":Ce=Ne;break;case"value":R=Ne;break;case"defaultValue":Z=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,c));break;default:on(a,c,m,Ne,d,null)}}lu(a,R,Z,de,Ce,G,S,!1),Dc(a);return;case"select":Ot("invalid",a),m=G=R=null;for(S in d)if(d.hasOwnProperty(S)&&(Z=d[S],Z!=null))switch(S){case"value":R=Z;break;case"defaultValue":G=Z;break;case"multiple":m=Z;default:on(a,c,S,Z,d,null)}c=R,d=G,a.multiple=!!m,c!=null?$o(a,!!m,c,!1):d!=null&&$o(a,!!m,d,!0);return;case"textarea":Ot("invalid",a),R=S=m=null;for(G in d)if(d.hasOwnProperty(G)&&(Z=d[G],Z!=null))switch(G){case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":R=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(91));break;default:on(a,c,G,Z,d,null)}uu(a,m,S,R),Dc(a);return;case"option":for(de in d)if(d.hasOwnProperty(de)&&(m=d[de],m!=null))switch(de){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:on(a,c,de,m,d,null)}return;case"dialog":Ot("beforetoggle",a),Ot("toggle",a),Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":Ot("load",a);break;case"video":case"audio":for(m=0;m<Cd.length;m++)Ot(Cd[m],a);break;case"image":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"embed":case"source":case"link":Ot("error",a),Ot("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in d)if(d.hasOwnProperty(Ce)&&(m=d[Ce],m!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:on(a,c,Ce,m,d,null)}return;default:if(qf(c)){for(Ne in d)d.hasOwnProperty(Ne)&&(m=d[Ne],m!==void 0&&b_(a,c,Ne,m,d,void 0));return}}for(Z in d)d.hasOwnProperty(Z)&&(m=d[Z],m!=null&&on(a,c,Z,m,d,null))}function zV(a,c,d,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,R=null,G=null,Z=null,de=null,Ce=null,Ne=null;for(ke in d){var Ve=d[ke];if(d.hasOwnProperty(ke)&&Ve!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":de=Ve;default:m.hasOwnProperty(ke)||on(a,c,ke,null,m,Ve)}}for(var Re in m){var ke=m[Re];if(Ve=d[Re],m.hasOwnProperty(Re)&&(ke!=null||Ve!=null))switch(Re){case"type":R=ke;break;case"name":S=ke;break;case"checked":Ce=ke;break;case"defaultChecked":Ne=ke;break;case"value":G=ke;break;case"defaultValue":Z=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(n(137,c));break;default:ke!==Ve&&on(a,c,Re,ke,m,Ve)}}Ii(a,G,Z,de,Ce,Ne,R,S);return;case"select":ke=G=Z=Re=null;for(R in d)if(de=d[R],d.hasOwnProperty(R)&&de!=null)switch(R){case"value":break;case"multiple":ke=de;default:m.hasOwnProperty(R)||on(a,c,R,null,m,de)}for(S in m)if(R=m[S],de=d[S],m.hasOwnProperty(S)&&(R!=null||de!=null))switch(S){case"value":Re=R;break;case"defaultValue":Z=R;break;case"multiple":G=R;default:R!==de&&on(a,c,S,R,m,de)}c=Z,d=G,m=ke,Re!=null?$o(a,!!d,Re,!1):!!m!=!!d&&(c!=null?$o(a,!!d,c,!0):$o(a,!!d,d?[]:"",!1));return;case"textarea":ke=Re=null;for(Z in d)if(S=d[Z],d.hasOwnProperty(Z)&&S!=null&&!m.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:on(a,c,Z,null,m,S)}for(G in m)if(S=m[G],R=d[G],m.hasOwnProperty(G)&&(S!=null||R!=null))switch(G){case"value":Re=S;break;case"defaultValue":ke=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==R&&on(a,c,G,S,m,R)}rn(a,Re,ke);return;case"option":for(var vt in d)if(Re=d[vt],d.hasOwnProperty(vt)&&Re!=null&&!m.hasOwnProperty(vt))switch(vt){case"selected":a.selected=!1;break;default:on(a,c,vt,null,m,Re)}for(de in m)if(Re=m[de],ke=d[de],m.hasOwnProperty(de)&&Re!==ke&&(Re!=null||ke!=null))switch(de){case"selected":a.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:on(a,c,de,Re,m,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in d)Re=d[ft],d.hasOwnProperty(ft)&&Re!=null&&!m.hasOwnProperty(ft)&&on(a,c,ft,null,m,Re);for(Ce in m)if(Re=m[Ce],ke=d[Ce],m.hasOwnProperty(Ce)&&Re!==ke&&(Re!=null||ke!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,c));break;default:on(a,c,Ce,Re,m,ke)}return;default:if(qf(c)){for(var an in d)Re=d[an],d.hasOwnProperty(an)&&Re!==void 0&&!m.hasOwnProperty(an)&&b_(a,c,an,void 0,m,Re);for(Ne in m)Re=m[Ne],ke=d[Ne],!m.hasOwnProperty(Ne)||Re===ke||Re===void 0&&ke===void 0||b_(a,c,Ne,Re,m,ke);return}}for(var Se in d)Re=d[Se],d.hasOwnProperty(Se)&&Re!=null&&!m.hasOwnProperty(Se)&&on(a,c,Se,null,m,Re);for(Ve in m)Re=m[Ve],ke=d[Ve],!m.hasOwnProperty(Ve)||Re===ke||Re==null&&ke==null||on(a,c,Ve,Re,m,ke)}var S_=null,E_=null;function Xg(a){return a.nodeType===9?a:a.ownerDocument}function jk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hk(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function x_(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var T_=null;function jV(){var a=window.event;return a&&a.type==="popstate"?a===T_?!1:(T_=a,!0):(T_=null,!1)}var qk=typeof setTimeout=="function"?setTimeout:void 0,HV=typeof clearTimeout=="function"?clearTimeout:void 0,Wk=typeof Promise=="function"?Promise:void 0,qV=typeof queueMicrotask=="function"?queueMicrotask:typeof Wk<"u"?function(a){return Wk.resolve(null).then(a).catch(WV)}:qk;function WV(a){setTimeout(function(){throw a})}function rl(a){return a==="head"}function Gk(a,c){var d=c,m=0,S=0;do{var R=d.nextSibling;if(a.removeChild(d),R&&R.nodeType===8)if(d=R.data,d==="/$"){if(0<m&&8>m){d=m;var G=a.ownerDocument;if(d&1&&kd(G.documentElement),d&2&&kd(G.body),d&4)for(d=G.head,kd(d),G=d.firstChild;G;){var Z=G.nextSibling,de=G.nodeName;G[dt]||de==="SCRIPT"||de==="STYLE"||de==="LINK"&&G.rel.toLowerCase()==="stylesheet"||d.removeChild(G),G=Z}}if(S===0){a.removeChild(R),Bd(c);return}S--}else d==="$"||d==="$?"||d==="$!"?S++:m=d.charCodeAt(0)-48;else m=0;d=R}while(d);Bd(c)}function A_(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":A_(d),ct(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function GV(a,c,d,m){for(;a.nodeType===1;){var S=d;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[dt])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(R=a.getAttribute("rel"),R==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(R!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(R=a.getAttribute("src"),(R!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&R&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var R=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===R)return a}else return a;if(a=Ns(a.nextSibling),a===null)break}return null}function KV(a,c,d){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ns(a.nextSibling),a===null))return null;return a}function C_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function $V(a,c){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")c();else{var m=function(){c(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ns(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var R_=null;function Kk(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return a;c--}else d==="/$"&&c++}a=a.previousSibling}return null}function $k(a,c,d){switch(c=Xg(d),a){case"html":if(a=c.documentElement,!a)throw Error(n(452));return a;case"head":if(a=c.head,!a)throw Error(n(453));return a;case"body":if(a=c.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function kd(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);ct(a)}var hs=new Map,Yk=new Set;function Qg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var da=Y.d;Y.d={f:YV,r:XV,D:QV,C:ZV,L:JV,m:eU,X:nU,S:tU,M:rU};function YV(){var a=da.f(),c=jg();return a||c}function XV(a){var c=Dt(a);c!==null&&c.tag===5&&c.type==="form"?m2(c):da.r(a)}var hh=typeof document>"u"?null:document;function Xk(a,c,d){var m=hh;if(m&&typeof c=="string"&&c){var S=Hn(c);S='link[rel="'+a+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),Yk.has(S)||(Yk.add(S),a={rel:a,crossOrigin:d,href:c},m.querySelector(S)===null&&(c=m.createElement("link"),Ar(c,"link",a),Bt(c),m.head.appendChild(c)))}}function QV(a){da.D(a),Xk("dns-prefetch",a,null)}function ZV(a,c){da.C(a,c),Xk("preconnect",a,c)}function JV(a,c,d){da.L(a,c,d);var m=hh;if(m&&a&&c){var S='link[rel="preload"][as="'+Hn(c)+'"]';c==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Hn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Hn(d.imageSizes)+'"]')):S+='[href="'+Hn(a)+'"]';var R=S;switch(c){case"style":R=fh(a);break;case"script":R=dh(a)}hs.has(R)||(a=f({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:a,as:c},d),hs.set(R,a),m.querySelector(S)!==null||c==="style"&&m.querySelector(Dd(R))||c==="script"&&m.querySelector(Id(R))||(c=m.createElement("link"),Ar(c,"link",a),Bt(c),m.head.appendChild(c)))}}function eU(a,c){da.m(a,c);var d=hh;if(d&&a){var m=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+Hn(m)+'"][href="'+Hn(a)+'"]',R=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=dh(a)}if(!hs.has(R)&&(a=f({rel:"modulepreload",href:a},c),hs.set(R,a),d.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Id(R)))return}m=d.createElement("link"),Ar(m,"link",a),Bt(m),d.head.appendChild(m)}}}function tU(a,c,d){da.S(a,c,d);var m=hh;if(m&&a){var S=$t(m).hoistableStyles,R=fh(a);c=c||"default";var G=S.get(R);if(!G){var Z={loading:0,preload:null};if(G=m.querySelector(Dd(R)))Z.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":c},d),(d=hs.get(R))&&k_(a,d);var de=G=m.createElement("link");Bt(de),Ar(de,"link",a),de._p=new Promise(function(Ce,Ne){de.onload=Ce,de.onerror=Ne}),de.addEventListener("load",function(){Z.loading|=1}),de.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Zg(G,c,m)}G={type:"stylesheet",instance:G,count:1,state:Z},S.set(R,G)}}}function nU(a,c){da.X(a,c);var d=hh;if(d&&a){var m=$t(d).hoistableScripts,S=dh(a),R=m.get(S);R||(R=d.querySelector(Id(S)),R||(a=f({src:a,async:!0},c),(c=hs.get(S))&&D_(a,c),R=d.createElement("script"),Bt(R),Ar(R,"link",a),d.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(S,R))}}function rU(a,c){da.M(a,c);var d=hh;if(d&&a){var m=$t(d).hoistableScripts,S=dh(a),R=m.get(S);R||(R=d.querySelector(Id(S)),R||(a=f({src:a,async:!0,type:"module"},c),(c=hs.get(S))&&D_(a,c),R=d.createElement("script"),Bt(R),Ar(R,"link",a),d.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(S,R))}}function Qk(a,c,d,m){var S=(S=ce.current)?Qg(S):null;if(!S)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=fh(d.href),d=$t(S).hoistableStyles,m=d.get(c),m||(m={type:"style",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=fh(d.href);var R=$t(S).hoistableStyles,G=R.get(a);if(G||(S=S.ownerDocument||S,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(a,G),(R=S.querySelector(Dd(a)))&&!R._p&&(G.instance=R,G.state.loading=5),hs.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},hs.set(a,d),R||iU(S,a,d,G.state))),c&&m===null)throw Error(n(528,""));return G}if(c&&m!==null)throw Error(n(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=dh(d),d=$t(S).hoistableScripts,m=d.get(c),m||(m={type:"script",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function fh(a){return'href="'+Hn(a)+'"'}function Dd(a){return'link[rel="stylesheet"]['+a+"]"}function Zk(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function iU(a,c,d,m){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=a.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Ar(c,"link",d),Bt(c),a.head.appendChild(c))}function dh(a){return'[src="'+Hn(a)+'"]'}function Id(a){return"script[async]"+a}function Jk(a,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var m=a.querySelector('style[data-href~="'+Hn(d.href)+'"]');if(m)return c.instance=m,Bt(m),m;var S=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Bt(m),Ar(m,"style",S),Zg(m,d.precedence,a),c.instance=m;case"stylesheet":S=fh(d.href);var R=a.querySelector(Dd(S));if(R)return c.state.loading|=4,c.instance=R,Bt(R),R;m=Zk(d),(S=hs.get(S))&&k_(m,S),R=(a.ownerDocument||a).createElement("link"),Bt(R);var G=R;return G._p=new Promise(function(Z,de){G.onload=Z,G.onerror=de}),Ar(R,"link",m),c.state.loading|=4,Zg(R,d.precedence,a),c.instance=R;case"script":return R=dh(d.src),(S=a.querySelector(Id(R)))?(c.instance=S,Bt(S),S):(m=d,(S=hs.get(R))&&(m=f({},d),D_(m,S)),a=a.ownerDocument||a,S=a.createElement("script"),Bt(S),Ar(S,"link",m),a.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Zg(m,d.precedence,a));return c.instance}function Zg(a,c,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,R=S,G=0;G<m.length;G++){var Z=m[G];if(Z.dataset.precedence===c)R=Z;else if(R!==S)break}R?R.parentNode.insertBefore(a,R.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(a,c.firstChild))}function k_(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function D_(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var Jg=null;function eD(a,c,d){if(Jg===null){var m=new Map,S=Jg=new Map;S.set(d,m)}else S=Jg,m=S.get(d),m||(m=new Map,S.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),S=0;S<d.length;S++){var R=d[S];if(!(R[dt]||R[ze]||a==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var G=R.getAttribute(c)||"";G=a+G;var Z=m.get(G);Z?Z.push(R):m.set(G,[R])}}return m}function tD(a,c,d){a=a.ownerDocument||a,a.head.insertBefore(d,c==="title"?a.querySelector("head > title"):null)}function sU(a,c,d){if(d===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function nD(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Od=null;function oU(){}function aU(a,c,d){if(Od===null)throw Error(n(475));var m=Od;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=fh(d.href),R=a.querySelector(Dd(S));if(R){a=R._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=ey.bind(m),a.then(m,m)),c.state.loading|=4,c.instance=R,Bt(R);return}R=a.ownerDocument||a,d=Zk(d),(S=hs.get(S))&&k_(d,S),R=R.createElement("link"),Bt(R);var G=R;G._p=new Promise(function(Z,de){G.onload=Z,G.onerror=de}),Ar(R,"link",d),c.instance=R}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=ey.bind(m),a.addEventListener("load",c),a.addEventListener("error",c))}}function lU(){if(Od===null)throw Error(n(475));var a=Od;return a.stylesheets&&a.count===0&&I_(a,a.stylesheets),0<a.count?function(c){var d=setTimeout(function(){if(a.stylesheets&&I_(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(d)}}:null}function ey(){if(this.count--,this.count===0){if(this.stylesheets)I_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ty=null;function I_(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ty=new Map,c.forEach(uU,a),ty=null,ey.call(a))}function uU(a,c){if(!(c.state.loading&4)){var d=ty.get(a);if(d)var m=d.get(null);else{d=new Map,ty.set(a,d);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<S.length;R++){var G=S[R];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(d.set(G.dataset.precedence,G),m=G)}m&&d.set(null,m)}S=c.instance,G=S.getAttribute("data-precedence"),R=d.get(G)||m,R===m&&d.set(null,S),d.set(G,S),this.count++,m=ey.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),R?R.parentNode.insertBefore(S,R.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),c.state.loading|=4}}var Nd={$$typeof:T,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function cU(a,c,d,m,S,R,G,Z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=R,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function rD(a,c,d,m,S,R,G,Z,de,Ce,Ne,Ve){return a=new cU(a,c,d,G,Z,de,Ce,Ve),c=1,R===!0&&(c|=24),R=Ni(3,null,null,c),a.current=R,R.stateNode=a,c=f1(),c.refCount++,a.pooledCache=c,c.refCount++,R.memoizedState={element:m,isDehydrated:d,cache:c},g1(R),a}function iD(a){return a?(a=qc,a):qc}function sD(a,c,d,m,S,R){S=iD(S),m.context===null?m.context=S:m.pendingContext=S,m=qa(c),m.payload={element:d},R=R===void 0?null:R,R!==null&&(m.callback=R),d=Wa(a,m,c),d!==null&&(Fi(d,a,c),ud(d,a,c))}function oD(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<c?d:c}}function O_(a,c){oD(a,c),(a=a.alternate)&&oD(a,c)}function aD(a){if(a.tag===13){var c=Hc(a,67108864);c!==null&&Fi(c,a,67108864),O_(a,67108864)}}var ny=!0;function hU(a,c,d,m){var S=Q.T;Q.T=null;var R=Y.p;try{Y.p=2,N_(a,c,d,m)}finally{Y.p=R,Q.T=S}}function fU(a,c,d,m){var S=Q.T;Q.T=null;var R=Y.p;try{Y.p=8,N_(a,c,d,m)}finally{Y.p=R,Q.T=S}}function N_(a,c,d,m){if(ny){var S=M_(m);if(S===null)__(a,c,m,ry,d),uD(a,m);else if(pU(S,a,c,d,m))m.stopPropagation();else if(uD(a,m),c&4&&-1<dU.indexOf(a)){for(;S!==null;){var R=Dt(S);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var G=wr(R.pendingLanes);if(G!==0){var Z=R;for(Z.pendingLanes|=2,Z.entangledLanes|=2;G;){var de=1<<31-Nt(G);Z.entanglements[1]|=de,G&=~de}oo(R),(tn&6)===0&&(Ug=k()+500,Ad(0))}}break;case 13:Z=Hc(R,2),Z!==null&&Fi(Z,R,2),jg(),O_(R,2)}if(R=M_(m),R===null&&__(a,c,m,ry,d),R===S)break;S=R}S!==null&&m.stopPropagation()}else __(a,c,m,null,d)}}function M_(a){return a=ns(a),P_(a)}var ry=null;function P_(a){if(ry=null,a=yt(a),a!==null){var c=s(a);if(c===null)a=null;else{var d=c.tag;if(d===13){if(a=o(c),a!==null)return a;a=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return ry=a,null}function lD(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I()){case U:return 2;case oe:return 8;case me:case ue:return 32;case De:return 268435456;default:return 32}default:return 32}}var L_=!1,il=null,sl=null,ol=null,Md=new Map,Pd=new Map,al=[],dU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uD(a,c){switch(a){case"focusin":case"focusout":il=null;break;case"dragenter":case"dragleave":sl=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":Md.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(c.pointerId)}}function Ld(a,c,d,m,S,R){return a===null||a.nativeEvent!==R?(a={blockedOn:c,domEventName:d,eventSystemFlags:m,nativeEvent:R,targetContainers:[S]},c!==null&&(c=Dt(c),c!==null&&aD(c)),a):(a.eventSystemFlags|=m,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function pU(a,c,d,m,S){switch(c){case"focusin":return il=Ld(il,a,c,d,m,S),!0;case"dragenter":return sl=Ld(sl,a,c,d,m,S),!0;case"mouseover":return ol=Ld(ol,a,c,d,m,S),!0;case"pointerover":var R=S.pointerId;return Md.set(R,Ld(Md.get(R)||null,a,c,d,m,S)),!0;case"gotpointercapture":return R=S.pointerId,Pd.set(R,Ld(Pd.get(R)||null,a,c,d,m,S)),!0}return!1}function cD(a){var c=yt(a.target);if(c!==null){var d=s(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){a.blockedOn=c,Ee(a.priority,function(){if(d.tag===13){var m=Bi();m=Gs(m);var S=Hc(d,m);S!==null&&Fi(S,d,m),O_(d,m)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function iy(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var d=M_(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Yo=m,d.target.dispatchEvent(m),Yo=null}else return c=Dt(d),c!==null&&aD(c),a.blockedOn=d,!1;c.shift()}return!0}function hD(a,c,d){iy(a)&&d.delete(c)}function mU(){L_=!1,il!==null&&iy(il)&&(il=null),sl!==null&&iy(sl)&&(sl=null),ol!==null&&iy(ol)&&(ol=null),Md.forEach(hD),Pd.forEach(hD)}function sy(a,c){a.blockedOn===c&&(a.blockedOn=null,L_||(L_=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,mU)))}var oy=null;function fD(a){oy!==a&&(oy=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oy===a&&(oy=null);for(var c=0;c<a.length;c+=3){var d=a[c],m=a[c+1],S=a[c+2];if(typeof m!="function"){if(P_(m||d)===null)continue;break}var R=Dt(d);R!==null&&(a.splice(c,3),c-=3,P1(R,{pending:!0,data:S,method:d.method,action:m},m,S))}}))}function Bd(a){function c(de){return sy(de,a)}il!==null&&sy(il,a),sl!==null&&sy(sl,a),ol!==null&&sy(ol,a),Md.forEach(c),Pd.forEach(c);for(var d=0;d<al.length;d++){var m=al[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<al.length&&(d=al[0],d.blockedOn===null);)cD(d),d.blockedOn===null&&al.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var S=d[m],R=d[m+1],G=S[Ke]||null;if(typeof R=="function")G||fD(d);else if(G){var Z=null;if(R&&R.hasAttribute("formAction")){if(S=R,G=R[Ke]||null)Z=G.formAction;else if(P_(S)!==null)continue}else Z=G.action;typeof Z=="function"?d[m+1]=Z:(d.splice(m,3),m-=3),fD(d)}}}function B_(a){this._internalRoot=a}ay.prototype.render=B_.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));var d=c.current,m=Bi();sD(d,m,a,c,null,null)},ay.prototype.unmount=B_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;sD(a.current,2,null,a,null,null),jg(),c[Je]=null}};function ay(a){this._internalRoot=a}ay.prototype.unstable_scheduleHydration=function(a){if(a){var c=ye();a={blockedOn:null,target:a,priority:c};for(var d=0;d<al.length&&c!==0&&c<al[d].priority;d++);al.splice(d,0,a),d===0&&cD(a)}};var dD=e.version;if(dD!=="19.1.0")throw Error(n(527,dD,"19.1.0"));Y.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(c),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var gU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ly=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ly.isDisabled&&ly.supportsFiber)try{He=ly.inject(gU),Ge=ly}catch{}}return qd.createRoot=function(a,c){if(!i(a))throw Error(n(299));var d=!1,m="",S=k2,R=D2,G=I2,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Z=c.unstable_transitionCallbacks)),c=rD(a,1,!1,null,null,d,m,S,R,G,Z,null),a[Je]=c.current,w_(a),new B_(c)},qd.hydrateRoot=function(a,c,d){if(!i(a))throw Error(n(299));var m=!1,S="",R=k2,G=D2,Z=I2,de=null,Ce=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(R=d.onUncaughtError),d.onCaughtError!==void 0&&(G=d.onCaughtError),d.onRecoverableError!==void 0&&(Z=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(de=d.unstable_transitionCallbacks),d.formState!==void 0&&(Ce=d.formState)),c=rD(a,1,!0,c,d??null,m,S,R,G,Z,de,Ce),c.context=iD(null),d=c.current,m=Bi(),m=Gs(m),S=qa(m),S.callback=null,Wa(d,S,m),d=m,c.current.lanes=d,_r(c,d),oo(c),a[Je]=c.current,w_(a),new ay(c)},qd.version="19.1.0",qd}var eN;function NQ(){if(eN)return vb.exports;eN=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vb.exports=OQ(),vb.exports}var MQ=NQ();const PQ=WU({reducer:{noted:JK}}),h8="/Note_App-react/assets/eye2-B1pJtH4C.png",f8="/Note_App-react/assets/eye1-CGgUceQ_.png",d8="/Note_App-react/assets/google-Bp_336oh.png",p8="/Note_App-react/assets/facebook-DLyunh1C.png";function LQ(){const[r,e]=ge.useState(!1),[t,n]=ge.useState(""),[i,s]=ge.useState(""),[o,l]=ge.useState(!1),[u,h]=ge.useState({}),f=Ec(),p=Lf(),g=async y=>{f(U5(!1)),y.preventDefault();try{l(!0);const w=await jj(pw,t,i),_=gx(rv(Tp,"users"),yx("email","==",`${t}`)),E=await vx(_);if(l(!1),E.empty)return;const b=E.docs[0]?.data();f(sv(b)),f(Kp(!0)),p("/"),setTimeout(()=>{alert(`Succesfully logined, Welcome back ${b.username}`)},100);const A=E?.docs[0]}catch{l(!1),setTimeout(()=>{alert(`Some issue arised!
Check you network connection.`)},100)}finally{l(!1)}n(""),s(""),h("")};return ge.useEffect(()=>{h({email:t,password:i})},[i,t]),le.jsxs(le.Fragment,{children:[o&&le.jsx("div",{className:"absolute w-[100vw] top-[8%] z-[50]  h-[100vh] bg-black bg-opacity-50 grid place-items-center",children:le.jsx("div",{className:"w-[10vmin] h-[10vmin] rounded-full bg-transparent border-4 animate-spin border-t-gray-700"})}),le.jsx("form",{onSubmit:g,children:le.jsxs("div",{className:"fixed  top-[8%]  h-[100vh] w-[100vw]  flex justify-center items-center  flex-col ",children:[le.jsxs("h1",{className:"head absolute top-[1%] left-[2%] text-white text-[8vmin] pt-1 ",children:[le.jsx("span",{className:"text-white font-serif ",children:"My"}),le.jsx("span",{className:"text-orange-700 text-[7vmin]",children:"Note"})]}),le.jsxs("div",{className:"login w-[32vw] h-[70%] bg-black rounded-xl border-2 border-white flex justify-start items-center flex-col   gap-[1%]",children:[le.jsxs("h1",{className:"am text-white font-semibold text-[6vmin] font-mono   mt-[2vmin] mb-1 h-[10%] text-center",children:[le.jsx("span",{children:"Log"}),le.jsx("span",{className:"text-orange-500",children:"in"})]}),le.jsxs("span",{className:"w-[90%] h-[20%] flex items-center   gap-[4vmin] justify-start flex-col",children:[le.jsx("input",{type:"text",value:t,onChange:y=>n(y.target.value),placeholder:"Enter your gmail..",className:"outline-none  bg-transparent border-b-orange-500 border-b-2 w-[100%] h-[40%] text-white placeholder:text-white text-[1.2rem]"}),le.jsxs("div",{className:"realtive w-[100%] h-[40%] flex justify-right items-center",children:[le.jsx("input",{type:r?"text":"password",value:i,onChange:y=>s(y.target.value),placeholder:"Enter password...",className:`
                outline-none  bg-transparent border-b-orange-500 border-b-2 w-[100%] h-[100%] text-white placeholder:text-white text-[1.2rem]`}),le.jsx("img",{src:r?h8:f8,alt:"",className:"eye absolute w-[1.7rem] right-[37%] flex duration-200 pb-1",onClick:()=>e(y=>!y)})]})]}),le.jsx("div",{className:"text-[2.5vmin] w-[90%] h-[5%]  flex items-center justify-center ",children:le.jsxs("span",{className:" w-[100%] h-[100%]  flex items-center justify-center flex-row gap-2 ",children:[le.jsxs("span",{className:"w-[50%] flex  items-center justify-start   h-full",children:[le.jsx("input",{type:"checkbox",name:"",id:"",className:"accent-orange-600 "}),"Remember me"]}),le.jsx("a",{href:"",className:"text-orange-500 w-[50%]  hover:underline flex justify-end  items-center text-wrap",children:"Forget password?"})]})}),le.jsx(KA,{to:"/signup",className:"text-orange-500 pb-4 w-[90%] h-[2%] text-left  text-[2.5vmin]   hover:underline",children:"Don't have an account?Signup?"}),le.jsx("button",{onClick:g,className:"b text-[4vmin] border-4 font-mono font-semibold border-white bg-orange-500 py-1 mt-2 px-2 rounded-lg hover:text-orange-300 hover:bg-orange-500  hover:border-orange-700",children:"Login"}),le.jsxs("div",{className:"w-[90%] h-[25%]  flex-col justify-center items-center  mt-1 gap-[5%] ",children:[le.jsxs("span",{className:"flex w-full h-[40%] bg-white  rounded-md justify-center items-center gap-1 mt-4",children:[le.jsx("img",{src:d8,className:"w-[5vmin] h-[5vmin] ml-3",alt:""}),le.jsx("h5",{className:"text-black text-[1rem] font-semibold",children:"Login With Google"})]}),le.jsxs("span",{className:"flex w-full h-[40%] bg-blue-700 rounded-md justify-center items-center gap-1 mt-4",children:[le.jsx("img",{src:p8,className:"w-[7vmin]",alt:""}),le.jsx("h5",{className:"text-[1rem] font-semibold",children:" Login With Facebook"})]})]})]})]})})]})}function BQ(){const[r,e]=ge.useState(!1),[t,n]=ge.useState(""),[i,s]=ge.useState(""),[o,l]=ge.useState(""),[u,h]=ge.useState(""),[f,p]=ge.useState(!1),g=Ec(),y=Lf(),[w,_]=ge.useState({}),E=async b=>{if(b.preventDefault(),u==""||i==""||t==""||u=="")alert("One input is empty.");else if(t.length<7)alert("Length of username mustbe atleast 7.");else if(`${u}`.length!=10)alert("Entered phonenumber length must be 10!");else if(o.length<7)alert("length of password mustbe atleast 7!");else{try{p(!0);const A=await zj(pw,i,o);p(!1),setTimeout(()=>{alert(`Succesfully signed up, welcome to MyNote ${t}`)},100),g(QK(w)),g(Kp(!0)),y("/")}catch{p(!1),setTimeout(()=>{alert(`Some issue arised in signup!
Check you network connection.`)},100)}finally{p(!1)}_(""),l(""),s(""),n(""),l(""),h("")}};return ge.useEffect(()=>{_({username:t,password:o,email:i,phonenumber:u})},[o,t,i,u]),le.jsxs(le.Fragment,{children:[f&&le.jsx("div",{className:"absolute w-[100vw] top-[8%] z-[50]  h-[100vh] bg-black bg-opacity-50 grid place-items-center",children:le.jsx("div",{className:"w-[100px] h-[100px] rounded-full bg-transparent border-4 animate-spin border-t-gray-700"})}),le.jsx("form",{onSubmit:E,children:le.jsxs("div",{className:"signup absolute z-[1]  top-[8%]  h-[102vh] w-[100vw]  flex justify-center items-center  flex-col gap-2",children:[le.jsxs("h1",{className:"head absolute top-[0.2%] left-[5%] text-white text-[8vmin] pt-1 ",children:[le.jsx("span",{className:"text-white font-serif ",children:"My"}),le.jsx("span",{className:"text-orange-700 text-[6vmin]",children:"Note"})]}),le.jsxs("div",{className:`login signup absolute w-[35%] h-[82%]  bg-black rounded-xl border-2 mt-5 border-white flex justify-start 
            items-center flex-col gap-[1%]`,children:[le.jsxs("h1",{className:"am text-white font-semibold text-[5vmin] font-mono  mt-2 h-[7%] text-center ",children:[le.jsx("span",{children:"Sign"}),le.jsx("span",{className:"text-orange-500",children:"up"})]}),le.jsxs("span",{className:"w-[90%] flex items-center h-[40%]   gap-[10%] justify-start flex-col",children:[le.jsx("input",{value:t,onChange:b=>n(b.target.value),type:"text",placeholder:"Enter a username...",className:` 
                outline-none p-0.5 bg-transparent border-b-orange-500 border-b-2 w-[100%] h-[30%] text-[4vmin]  text-white placeholder:text-white`}),le.jsx("input",{type:"email",value:i,onChange:b=>s(b.target.value),placeholder:"Enter your gmail..",className:`h-[30%] text-[4vmin] 
              outline-none p-0.5 bg-transparent border-b-orange-500 border-b-2 w-[100%] text-white placeholder:text-white`}),le.jsx("input",{type:"text",value:u,onChange:b=>{try{h(Number(b.target.value))}catch{alert("Invalid phonenumber format ,Re-enter phonenumber")}},placeholder:"Enter your phone number..",className:"outline-none p-0.5 h-[30%] text-[4vmin] bg-transparent border-b-orange-500 border-b-2 w-[100%] text-white placeholder:text-white"}),le.jsxs("div",{className:" w-[100%] h-[30%]  flex justify-right items-center",children:[le.jsx("input",{type:r?"text":"password",value:o,onChange:b=>l(b.target.value),placeholder:"Enter a password...",className:`h-[100%] text-[4vmin] 
                outline-none p-0.5 bg-transparent border-b-orange-500 border-b-2 w-[100%] text-white placeholder:text-white`}),le.jsx("img",{src:r?h8:f8,alt:"",className:"eye1 absolute w-[5vmin]  z-[5]  right-[9%] duration-200",onClick:()=>e(b=>!b)})]})]}),le.jsxs("div",{className:"tick text-[2vmin] w-[90%] h-[18%]   flex items-start justify-center flex-col gap-1 ",children:[le.jsxs("span",{className:"flex justify-start items-center text-[3.2vmin] w-[100%] ",children:[le.jsx("input",{type:"checkbox",name:"",id:"",className:"accent-orange-600  h-[100%] w-[4%] "}),"Remember me"]}),le.jsx("a",{href:"",className:"text-orange-500 w-[100%] h-[50%] text-[3.5vmin] text-left hover:underline",children:"Already have an account?Login?"})]}),le.jsx("button",{className:`b text-[4.5vmin] border-4  text-center font-mono font-semibold border-white bg-orange-500 
              py-1 px-2 rounded-lg
               hover:text-black hover:bg-orange-500  hover:border-orange-700 m-0`,children:"Signup"}),le.jsxs("div",{className:"w-[90%] h-[20%]  flex-col justify-center items-center py-2  ",children:[le.jsxs("span",{className:"flex w-full h-[40%] bg-white  rounded-md justify-center items-center gap-1",children:[le.jsx("img",{src:d8,className:"w-[4.5vmin] h-[4.5vmin]  ",alt:""}),le.jsx("h5",{className:"text-black text-[1rem] font-semibold",children:"Signup With Google"})]}),le.jsxs("span",{className:"flex w-full h-[40%] bg-blue-700 rounded-md justify-center items-center gap-1 mt-4",children:[le.jsx("img",{src:p8,className:"w-[7vmin] h-[7vmin]",alt:""}),le.jsx("h5",{className:"text-[1rem] font-semibold",children:" Signup With Facebook"})]})]})]})]})})]})}const m8="/Note_App-react/assets/pencils-B_HwLlHI.png",fC="/Note_App-react/assets/post-gczXPPs4.png",g8="/Note_App-react/assets/save-CCF4XFhP.png";function FQ({not:r,items:e,searchmsg_note:t,setnotename:n,noten:i}){const[s,o]=ge.useState(!1),[l,u]=ge.useState(!1),[h,f]=ge.useState(!0),[p,g]=ge.useState(r.note_name),{folders:y}=e,w=mr(A=>A.noted.selectednote),_=mr(A=>A.noted.selectedfolderid),E=Ec(),b=(A,T)=>{for(let x=0;x<T.length;x++)A[x]!=T[x]&&o(!0)};return ge.useEffect(()=>{o(!1),t!=""?b(r.note_name,t):o(!1)},[t]),ge.useEffect(()=>{r?.id==w?.id?u(!0):(f(!0),u(!1))},[w]),ge.useEffect(()=>{r.id==2&&E(Ls(r))},[]),le.jsxs("div",{className:`fols nots w-[100%] h-[5.5%] text-center flex-shrink-0  flex justify-center  items-center  pl-1 ${s?"hidden":""}`,children:[le.jsxs("span",{className:"flex w-[100%] h-[100%] justify-center items-center",children:[le.jsx("img",{src:fC,className:"w-[5.5vmin] h-[5.5vmin]  ",alt:"",onClick:()=>{r.id==w?.id?E(Ls(null)):E(Ls(r))}}),le.jsx("input",{type:"text",disabled:h,value:p,className:"outline-none w-[100%] h-[100%]  bg-transparent text-[3vmin]",onChange:A=>{g(A.target.value),E(Ls(r))}})]}),le.jsxs("span",{className:`flex w-[45%] h-[100%]  items-center justify-right flex-row
         ${l?"":"hidden"}`,children:[le.jsx("img",{src:h?m8:g8,alt:"",onClick:()=>{if(f(A=>!A),h==!1){const A={note_name:p};i(p),E(wx({id:r.id,folid:_,prop:A}))}},className:"w-[4.5vmin]  rounded-lg duration-200"}),le.jsx("img",{src:El,alt:"",className:"w-[4.5vmin]  rounded-lg ",onClick:()=>{E(YK({id:r.id,folid:_})),E(Ls(null))}})]})]})}const Ux="/Note_App-react/assets/folder-BqAWSYm-.png";function VQ({fold:r,set1:e,searchmsg:t}){const[n,i]=ge.useState(!1),[s,o]=ge.useState(!1),[l,u]=ge.useState(!0),[h,f]=ge.useState(!1),[p,g]=ge.useState(""),[y,w]=ge.useState(r.folname),_=mr(D=>D.noted.selectedfolderid),b=mr(D=>D.noted.Folders).find(D=>D.id==_),A=mr(D=>D.noted.selectednote),T=Ec();ge.useEffect(()=>{e(!1)},[h,l,h,p]);const x=(D,M)=>{for(let O=0;O<M.length;O++)D[O]!=M[O]&&i(!0)};return ge.useEffect(()=>{r.id==1&&T(Nu(r.id))},[]),ge.useEffect(()=>{i(!1),t!=""?x(r.folname,t):i(!1)},[t]),ge.useEffect(()=>{_==r?.id?o(!0):(u(!0),o(!1))},[_]),le.jsxs(le.Fragment,{children:[le.jsxs("div",{className:`fols w-[100%] h-[5.5%]   flex justify-center  items-center  pl-1 ${n?"hidden":""}`,children:[le.jsxs("span",{className:" w-[100%] h-[100%] flex justify-center items-center",children:[le.jsx("img",{src:Ux,className:`w-[5.5min] h-[5.5vmin]  ${r.id==1?"grayscale":""} `,alt:"",onClick:()=>{T(Ls(null)),_==r.id?T(Nu(null)):T(Nu(r.id))}}),le.jsx("input",{type:"text",disabled:l,value:y,className:"outline-none w-[100%] h-[100%] bg-transparent text-[3vmin] text-left  ",onChange:D=>{w(D.target.value)},onClick:()=>{if(h==!1)if(T(Nu(r.id)),A){const D=b?.notes.map(M=>M.id==A?A:null);T(Ls(D))}else T(Ls(null))}})]}),le.jsxs("span",{className:`flex w-[60%] h-[100%]  items-center justify-center flex-row
         ${s?"":"hidden"}`,children:[le.jsx("img",{src:El,alt:"",className:`w-[5vmin] p-0.5 rounded-lg duration-200 ${h?"-rotate-90":"rotate-45"}`,onClick:()=>{f(D=>!D),g(""),h==!1&&T(Nu(r.id))}}),le.jsx("img",{src:l?m8:g8,alt:"",onClick:()=>{if(u(D=>!D),T(Nu(r.id)),l==!1){const D={folname:y};T(XK({folid:r.id,prop:D}))}},className:r.id==1?"hidden":"w-[5vmin] p-0.5 rounded-lg duration-200"}),le.jsx("img",{src:El,alt:"",className:r.id==1?"hidden":"w-[5vmin] p-0.5 rounded-lg",onClick:()=>{T($K({id:r.id})),T(Nu(null)),T(Ls(null))}})]})]}),le.jsxs("div",{className:`w-[100%] h-[7%]  flex justify-center  items-center ${h?"":"hidden"}`,children:[le.jsx("img",{src:fC,className:"w-[5vmin] h-[5vmin] ",alt:""}),le.jsx("input",{readOnly:!1,type:"text",value:p,onChange:D=>{g(D.target.value)},onKeyDown:D=>{D.key==="Enter"&&(T(aO({id:r.id,name:p})),g(""),f(!1))},className:"outline-none  bg-transparent border-b-2 text-[3vmin] w-[70%] text-orange-500",placeholder:"Give a title..."}),le.jsx("button",{className:"text-[3vmin] p-0.5 px-1 bg-orange-600 ml-1 border-2 rounded-lg",onClick:()=>{p!=""?(T(aO({id:r.id,name:p})),g(""),f(!1)):alert("Note name is empty...")},children:"Add"})]})]})}function zx(){return zx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zx.apply(null,arguments)}function UQ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}let jx=[],y8=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?y8:jx).push(t=t+r[e])})();function zQ(r){if(r<768)return!1;for(let e=0,t=jx.length;;){let n=e+t>>1;if(r<jx[n])t=n;else if(r>=y8[n])e=n+1;else return!0;if(e==t)return!1}}function tN(r){return r>=127462&&r<=127487}const nN=8205;function jQ(r,e,t=!0,n=!0){return(t?v8:HQ)(r,e,n)}function v8(r,e,t){if(e==r.length)return e;e&&w8(r.charCodeAt(e))&&_8(r.charCodeAt(e-1))&&e--;let n=bb(r,e);for(e+=rN(n);e<r.length;){let i=bb(r,e);if(n==nN||i==nN||t&&zQ(i))e+=rN(i),n=i;else if(tN(i)){let s=0,o=e-2;for(;o>=0&&tN(bb(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function HQ(r,e,t){for(;e>0;){let n=v8(r,e-2,t);if(n<e)return n;e--}return 0}function bb(r,e){let t=r.charCodeAt(e);if(!_8(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return w8(n)?(t-55296<<10)+(n-56320)+65536:t}function w8(r){return r>=56320&&r<57344}function _8(r){return r>=55296&&r<56320}function rN(r){return r<65536?1:2}let Qt=class b8{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=pf(this,e,t);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),wo.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=pf(this,e,t);let n=[];return this.decompose(e,t,n,0),wo.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new kp(this),s=new kp(e);for(let o=t,l=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=n)return!0}}iter(e=1){return new kp(this,e)}iterRange(e,t=this.length){return new S8(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new E8(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?b8.empty:e.length<=32?new Ln(e):wo.from(Ln.split(e,[]))}};class Ln extends Qt{constructor(e,t=qQ(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let s=0;;s++){let o=this.text[s],l=i+o.length;if((t?n:l)>=e)return new WQ(i,l,n,o);i=l+1,n++}}decompose(e,t,n,i){let s=e<=0&&t>=this.length?this:new Ln(iN(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=n.pop(),l=_0(s.text,o.text.slice(),0,s.length);if(l.length<=32)n.push(new Ln(l,o.length+s.length));else{let u=l.length>>1;n.push(new Ln(l.slice(0,u)),new Ln(l.slice(u)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof Ln))return super.replace(e,t,n);[e,t]=pf(this,e,t);let i=_0(this.text,_0(n.text,iN(this.text,0,e)),t),s=this.length+n.length-(t-e);return i.length<=32?new Ln(i,s):wo.from(Ln.split(i,[]),s)}sliceString(e,t=this.length,n=`
`){[e,t]=pf(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let l=this.text[o],u=s+l.length;s>e&&o&&(i+=n),e<u&&t>s&&(i+=l.slice(Math.max(0,e-s),t-s)),s=u+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(t.push(new Ln(n,i)),n=[],i=-1);return i>-1&&t.push(new Ln(n,i)),t}}class wo extends Qt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let s=0;;s++){let o=this.children[s],l=i+o.length,u=n+o.lines-1;if((t?u:l)>=e)return o.lineInner(e,t,n,i);i=l+1,n=u+1}}decompose(e,t,n,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let l=this.children[s],u=o+l.length;if(e<=u&&t>=o){let h=i&((o<=e?1:0)|(u>=t?2:0));o>=e&&u<=t&&!h?n.push(l):l.decompose(e-o,t-o,n,h)}o=u+1}}replace(e,t,n){if([e,t]=pf(this,e,t),n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(e>=s&&t<=l){let u=o.replace(e-s,t-s,n),h=this.lines-o.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let f=this.children.slice();return f[i]=u,new wo(f,this.length-(t-e)+n.length)}return super.replace(s,l,u)}s=l+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=pf(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let l=this.children[s],u=o+l.length;o>e&&s&&(i+=n),e<u&&t>o&&(i+=l.sliceString(e-o,t-o,n)),o=u+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof wo))return 0;let n=0,[i,s,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==l)return n;let u=this.children[i],h=e.children[s];if(u!=h)return n+u.scanIdentical(h,t);n+=u.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let y of e)n+=y.lines;if(n<32){let y=[];for(let w of e)w.flatten(y);return new Ln(y,t)}let i=Math.max(32,n>>5),s=i<<1,o=i>>1,l=[],u=0,h=-1,f=[];function p(y){let w;if(y.lines>s&&y instanceof wo)for(let _ of y.children)p(_);else y.lines>o&&(u>o||!u)?(g(),l.push(y)):y instanceof Ln&&u&&(w=f[f.length-1])instanceof Ln&&y.lines+w.lines<=32?(u+=y.lines,h+=y.length+1,f[f.length-1]=new Ln(w.text.concat(y.text),w.length+1+y.length)):(u+y.lines>i&&g(),u+=y.lines,h+=y.length+1,f.push(y))}function g(){u!=0&&(l.push(f.length==1?f[0]:wo.from(f,h)),h=-1,u=f.length=0)}for(let y of e)p(y);return g(),l.length==1?l[0]:new wo(l,t)}}Qt.empty=new Ln([""],0);function qQ(r){let e=-1;for(let t of r)e+=t.length+1;return e}function _0(r,e,t=0,n=1e9){for(let i=0,s=0,o=!0;s<r.length&&i<=n;s++){let l=r[s],u=i+l.length;u>=t&&(u>n&&(l=l.slice(0,n-i)),i<t&&(l=l.slice(t-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=u+1}return e}function iN(r,e,t){return _0(r,[""],e,t)}class kp{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ln?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,l=i instanceof Ln?i.text.length:i.children.length;if(o==(t>0?l:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ln){let u=i.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,u.length>Math.max(0,e))return this.value=e==0?u:t>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[o+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof Ln?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class S8{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new kp(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class E8{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Qt.prototype[Symbol.iterator]=function(){return this.iter()},kp.prototype[Symbol.iterator]=S8.prototype[Symbol.iterator]=E8.prototype[Symbol.iterator]=function(){return this});class WQ{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function pf(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function Nr(r,e,t=!0,n=!0){return jQ(r,e,t,n)}function GQ(r){return r>=56320&&r<57344}function KQ(r){return r>=55296&&r<56320}function gi(r,e){let t=r.charCodeAt(e);if(!KQ(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return GQ(n)?(t-55296<<10)+(n-56320)+65536:t}function dC(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function _o(r){return r<65536?1:2}const Hx=/\r\n?|\n/;var li=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(li||(li={}));class Po{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(n,i,s),i+=s):i+=o,n+=s}}iterChangedRanges(e,t=!1){qx(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new Po(e)}composeDesc(e){return this.empty?e:e.empty?this:x8(this,e)}mapDesc(e,t=!1){return e.empty?this:Wx(this,e,t)}mapPos(e,t=-1,n=li.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],u=this.sections[o++],h=i+l;if(u<0){if(h>e)return s+(e-i);s+=l}else{if(n!=li.Simple&&h>=e&&(n==li.TrackDel&&i<e&&h>e||n==li.TrackBefore&&i<e||n==li.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!l)return e==i||t<0?s:s+u;s+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let s=this.sections[n++],o=this.sections[n++],l=i+s;if(o>=0&&i<=t&&l>=e)return i<e&&l>t?"cover":!0;i=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Po(e)}static create(e){return new Po(e)}}class sr extends Po{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return qx(this,(t,n,i,s,o)=>e=e.replace(i,i+(n-t),o),!1),e}mapDesc(e,t=!1){return Wx(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],l=t[i+1];if(l>=0){t[i]=l,t[i+1]=o;let u=i>>1;for(;n.length<u;)n.push(Qt.empty);n.push(o?e.slice(s,s+o):Qt.empty)}s+=o}return new sr(t,n)}compose(e){return this.empty?e:e.empty?this:x8(this,e,!0)}map(e,t=!1){return e.empty?this:Wx(this,e,t,!0)}iterChanges(e,t=!1){qx(this,e,t)}get desc(){return Po.create(this.sections)}filter(e){let t=[],n=[],i=[],s=new rm(this);e:for(let o=0,l=0;;){let u=o==e.length?1e9:e[o++];for(;l<u||l==u&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,u-l);Hr(i,f,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;Hr(t,f,p),p>0&&xl(n,t,s.text),s.forward(f),l+=f}let h=e[o++];for(;l<h;){if(s.done)break e;let f=Math.min(s.len,h-l);Hr(t,f,-1),Hr(i,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),l+=f}}return{changes:new sr(t,n),filtered:Po.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],o=0,l=null;function u(f=!1){if(!f&&!i.length)return;o<t&&Hr(i,t-o,-1);let p=new sr(i,s);l=l?l.compose(p.map(l)):p,i=[],s=[],o=0}function h(f){if(Array.isArray(f))for(let p of f)h(p);else if(f instanceof sr){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);u(),l=l?l.compose(f.map(l)):f}else{let{from:p,to:g=p,insert:y}=f;if(p>g||p<0||g>t)throw new RangeError(`Invalid change range ${p} to ${g} (in doc of length ${t})`);let w=y?typeof y=="string"?Qt.of(y.split(n||Hx)):y:Qt.empty,_=w.length;if(p==g&&_==0)return;p<o&&u(),p>o&&Hr(i,p-o,-1),Hr(i,g-p,_),xl(s,i,w),o=g}}return h(e),u(!l),l}static empty(e){return new sr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<i;)n.push(Qt.empty);n[i]=Qt.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new sr(t,n)}static createSet(e,t){return new sr(e,t)}}function Hr(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:i>=0&&e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function xl(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(Qt.empty);r.push(t)}}function qx(r,e,t){let n=r.inserted;for(let i=0,s=0,o=0;o<r.sections.length;){let l=r.sections[o++],u=r.sections[o++];if(u<0)i+=l,s+=l;else{let h=i,f=s,p=Qt.empty;for(;h+=l,f+=u,u&&n&&(p=p.append(n[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)l=r.sections[o++],u=r.sections[o++];e(i,h,s,f,p),i=h,s=f}}}function Wx(r,e,t,n=!1){let i=[],s=n?[]:null,o=new rm(r),l=new rm(e);for(let u=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let h=Math.min(o.len,l.len);Hr(i,h,-1),o.forward(h),l.forward(h)}else if(l.ins>=0&&(o.ins<0||u==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let h=l.len;for(Hr(i,l.ins,-1);h;){let f=Math.min(o.len,h);o.ins>=0&&u<o.i&&o.len<=f&&(Hr(i,0,o.ins),s&&xl(s,i,o.text),u=o.i),o.forward(f),h-=f}l.next()}else if(o.ins>=0){let h=0,f=o.len;for(;f;)if(l.ins==-1){let p=Math.min(f,l.len);h+=p,f-=p,l.forward(p)}else if(l.ins==0&&l.len<f)f-=l.len,l.next();else break;Hr(i,h,u<o.i?o.ins:0),s&&u<o.i&&xl(s,i,o.text),u=o.i,o.forward(o.len-f)}else{if(o.done&&l.done)return s?sr.createSet(i,s):Po.create(i);throw new Error("Mismatched change set lengths")}}}function x8(r,e,t=!1){let n=[],i=t?[]:null,s=new rm(r),o=new rm(e);for(let l=!1;;){if(s.done&&o.done)return i?sr.createSet(n,i):Po.create(n);if(s.ins==0)Hr(n,s.len,0,l),s.next();else if(o.len==0&&!o.done)Hr(n,0,o.ins,l),i&&xl(i,n,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,o.len),h=n.length;if(s.ins==-1){let f=o.ins==-1?-1:o.off?0:o.ins;Hr(n,u,f,l),i&&f&&xl(i,n,o.text)}else o.ins==-1?(Hr(n,s.off?0:s.len,u,l),i&&xl(i,n,s.textBit(u))):(Hr(n,s.off?0:s.len,o.off?0:o.ins,l),i&&!o.off&&xl(i,n,o.text));l=(s.ins>u||o.ins>=0&&o.len>u)&&(l||n.length>h),s.forward2(u),o.forward(u)}}}}class rm{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Qt.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Qt.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Xu{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new Xu(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ue.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ue.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ue.range(e.anchor,e.head)}static create(e,t,n){return new Xu(e,t,n)}}class Ue{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ue.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ue([this.main],0)}addRange(e,t=!0){return Ue.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Ue.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ue(e.ranges.map(t=>Xu.fromJSON(t)),e.main)}static single(e,t=e){return new Ue([Ue.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return Ue.normalized(e.slice(),t);n=s.to}return new Ue(e,t)}static cursor(e,t=0,n,i){return Xu.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,t,n,i){let s=(n??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Xu.create(t,e,48|s):Xu.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,u=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?Ue.range(u,l):Ue.range(l,u))}}return new Ue(e,t)}}function T8(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let pC=0;class tt{constructor(e,t,n,i,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=pC++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new tt(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:mC),!!e.static,e.enables)}of(e){return new b0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new b0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new b0(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function mC(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class b0{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=pC++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,u=!1,h=!1,f=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?h=!0:(((t=e[p.id])!==null&&t!==void 0?t:1)&1)==0&&f.push(e[p.id]);return{create(p){return p.values[o]=n(p),1},update(p,g){if(u&&g.docChanged||h&&(g.docChanged||g.selection)||Gx(p,f)){let y=n(p);if(l?!sN(y,p.values[o],i):!i(y,p.values[o]))return p.values[o]=y,1}return 0},reconfigure:(p,g)=>{let y,w=g.config.address[s];if(w!=null){let _=vv(g,w);if(this.dependencies.every(E=>E instanceof tt?g.facet(E)===p.facet(E):E instanceof Lr?g.field(E,!1)==p.field(E,!1):!0)||(l?sN(y=n(p),_,i):i(y=n(p),_)))return p.values[o]=_,0}else y=n(p);return p.values[o]=y,1}}}}function sN(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function Gx(r,e){let t=!1;for(let n of e)Dp(r,n)&1&&(t=!0);return t}function $Q(r,e,t){let n=t.map(u=>r[u.id]),i=t.map(u=>u.type),s=n.filter(u=>!(u&1)),o=r[e.id]>>1;function l(u){let h=[];for(let f=0;f<n.length;f++){let p=vv(u,n[f]);if(i[f]==2)for(let g of p)h.push(g);else h.push(p)}return e.combine(h)}return{create(u){for(let h of n)Dp(u,h);return u.values[o]=l(u),1},update(u,h){if(!Gx(u,s))return 0;let f=l(u);return e.compare(f,u.values[o])?0:(u.values[o]=f,1)},reconfigure(u,h){let f=Gx(u,n),p=h.config.facets[e.id],g=h.facet(e);if(p&&!f&&mC(t,p))return u.values[o]=g,0;let y=l(u);return e.compare(y,g)?(u.values[o]=g,0):(u.values[o]=y,1)}}}const Sy=tt.define({static:!0});class Lr{constructor(e,t,n,i,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Lr(pC++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(Sy).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let s=n.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(n.values[t]=o,1)},reconfigure:(n,i)=>{let s=n.facet(Sy),o=i.facet(Sy),l;return(l=s.find(u=>u.field==this))&&l!=o.find(u=>u.field==this)?(n.values[t]=l.create(n),1):i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,Sy.of({field:this,create:e})]}get extension(){return this}}const qu={lowest:4,low:3,default:2,high:1,highest:0};function Wd(r){return e=>new A8(e,r)}const Cc={highest:Wd(qu.highest),high:Wd(qu.high),default:Wd(qu.default),low:Wd(qu.low),lowest:Wd(qu.lowest)};class A8{constructor(e,t){this.inner=e,this.prec=t}}class _w{of(e){return new Kx(this,e)}reconfigure(e){return _w.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Kx{constructor(e,t){this.compartment=e,this.inner=t}}class yv{constructor(e,t,n,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],s=Object.create(null),o=new Map;for(let g of YQ(e,t,o))g instanceof Lr?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let l=Object.create(null),u=[],h=[];for(let g of i)l[g.id]=h.length<<1,h.push(y=>g.slot(y));let f=n?.config.facets;for(let g in s){let y=s[g],w=y[0].facet,_=f&&f[g]||[];if(y.every(E=>E.type==0))if(l[w.id]=u.length<<1|1,mC(_,y))u.push(n.facet(w));else{let E=w.combine(y.map(b=>b.value));u.push(n&&w.compare(E,n.facet(w))?n.facet(w):E)}else{for(let E of y)E.type==0?(l[E.id]=u.length<<1|1,u.push(E.value)):(l[E.id]=h.length<<1,h.push(b=>E.dynamicSlot(b)));l[w.id]=h.length<<1,h.push(E=>$Q(E,w,y))}}let p=h.map(g=>g(l));return new yv(e,o,p,l,u,s)}}function YQ(r,e,t){let n=[[],[],[],[],[]],i=new Map;function s(o,l){let u=i.get(o);if(u!=null){if(u<=l)return;let h=n[u].indexOf(o);h>-1&&n[u].splice(h,1),o instanceof Kx&&t.delete(o.compartment)}if(i.set(o,l),Array.isArray(o))for(let h of o)s(h,l);else if(o instanceof Kx){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),s(h,l)}else if(o instanceof A8)s(o.inner,o.prec);else if(o instanceof Lr)n[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof b0)n[l].push(o),o.facet.extensions&&s(o.facet.extensions,qu.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,l)}}return s(r,qu.default),n.reduce((o,l)=>o.concat(l))}function Dp(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function vv(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const C8=tt.define(),$x=tt.define({combine:r=>r.some(e=>e),static:!0}),R8=tt.define({combine:r=>r.length?r[0]:void 0,static:!0}),k8=tt.define(),D8=tt.define(),I8=tt.define(),O8=tt.define({combine:r=>r.length?r[0]:!1});class jo{constructor(e,t){this.type=e,this.value=t}static define(){return new XQ}}class XQ{of(e){return new jo(this,e)}}class QQ{constructor(e){this.map=e}of(e){return new Et(this,e)}}class Et{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Et(this.type,t)}is(e){return this.type==e}static define(e={}){return new QQ(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(t);s&&n.push(s)}return n}}Et.reconfigure=Et.define();Et.appendConfig=Et.define();class ar{constructor(e,t,n,i,s,o){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&T8(n,t.newLength),s.some(l=>l.type==ar.time)||(this.annotations=s.concat(ar.time.of(Date.now())))}static create(e,t,n,i,s,o){return new ar(e,t,n,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ar.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ar.time=jo.define();ar.userEvent=jo.define();ar.addToHistory=jo.define();ar.remote=jo.define();function ZQ(r,e){let t=[];for(let n=0,i=0;;){let s,o;if(n<r.length&&(i==e.length||e[i]>=r[n]))s=r[n++],o=r[n++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function N8(r,e,t){var n;let i,s,o;return t?(i=e.changes,s=sr.empty(e.changes.length),o=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:Et.mapEffects(r.effects,i).concat(Et.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function Yx(r,e,t){let n=e.selection,i=Hh(e.annotations);return e.userEvent&&(i=i.concat(ar.userEvent.of(e.userEvent))),{changes:e.changes instanceof sr?e.changes:sr.of(e.changes||[],t,r.facet(R8)),selection:n&&(n instanceof Ue?n:Ue.single(n.anchor,n.head)),effects:Hh(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function M8(r,e,t){let n=Yx(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;n=N8(n,Yx(r,e[s],o?n.changes.newLength:r.doc.length),o)}let i=ar.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return eZ(t?JQ(i):i)}function JQ(r){let e=r.startState,t=!0;for(let i of e.facet(k8)){let s=i(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:ZQ(t,s))}if(t!==!0){let i,s;if(t===!1)s=r.changes.invertedDesc,i=sr.empty(e.doc.length);else{let o=r.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=ar.create(e,i,r.selection&&r.selection.map(s),Et.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let n=e.facet(D8);for(let i=n.length-1;i>=0;i--){let s=n[i](r);s instanceof ar?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ar?r=s[0]:r=M8(e,Hh(s),!1)}return r}function eZ(r){let e=r.startState,t=e.facet(I8),n=r;for(let i=t.length-1;i>=0;i--){let s=t[i](r);s&&Object.keys(s).length&&(n=N8(n,Yx(e,s,r.changes.newLength),!0))}return n==r?r:ar.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const tZ=[];function Hh(r){return r==null?tZ:Array.isArray(r)?r:[r]}var En=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(En||(En={}));const nZ=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Xx;try{Xx=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function rZ(r){if(Xx)return Xx.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||nZ.test(t)))return!0}return!1}function iZ(r){return e=>{if(!/\S/.test(e))return En.Space;if(rZ(e))return En.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return En.Word;return En.Other}}class Ft{constructor(e,t,n,i,s,o){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Dp(this,l<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return Dp(this,n),vv(this,n)}update(...e){return M8(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let l of e.effects)l.is(_w.reconfigure)?(t&&(i=new Map,t.compartments.forEach((u,h)=>i.set(h,u)),t=null),i.set(l.value.compartment,l.value.extension)):l.is(Et.reconfigure)?(t=null,n=l.value):l.is(Et.appendConfig)&&(t=null,n=Hh(n).concat(l.value));let s;t?s=e.startState.values.slice():(t=yv.resolve(n,i,this),s=new Ft(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let o=e.startState.facet($x)?e.newSelection:e.newSelection.asSingle();new Ft(t,e.newDoc,o,s,(l,u)=>u.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Ue.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),s=[n.range],o=Hh(n.effects);for(let l=1;l<t.ranges.length;l++){let u=e(t.ranges[l]),h=this.changes(u.changes),f=h.map(i);for(let g=0;g<l;g++)s[g]=s[g].map(f);let p=i.mapDesc(h,!0);s.push(u.range.map(p)),i=i.compose(f),o=Et.mapEffects(o,f).concat(Et.mapEffects(Hh(u.effects),p))}return{changes:i,selection:Ue.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof sr?e:sr.of(e,this.doc.length,this.facet(Ft.lineSeparator))}toText(e){return Qt.of(e.split(this.facet(Ft.lineSeparator)||Hx))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Dp(this,t),vv(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Lr&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let o=n[s],l=e[s];i.push(o.init(u=>o.spec.fromJSON(l,u)))}}return Ft.create({doc:e.doc,selection:Ue.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=yv.resolve(e.extensions||[],new Map),n=e.doc instanceof Qt?e.doc:Qt.of((e.doc||"").split(t.staticFacet(Ft.lineSeparator)||Hx)),i=e.selection?e.selection instanceof Ue?e.selection:Ue.single(e.selection.anchor,e.selection.head):Ue.single(0);return T8(i,n.length),t.staticFacet($x)||(i=i.asSingle()),new Ft(t,n,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ft.tabSize)}get lineBreak(){return this.facet(Ft.lineSeparator)||`
`}get readOnly(){return this.facet(O8)}phrase(e,...t){for(let n of this.facet(Ft.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let s of this.facet(C8))for(let o of s(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return iZ(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-n,l=e-n;for(;o>0;){let u=Nr(t,o,!1);if(s(t.slice(u,o))!=En.Word)break;o=u}for(;l<i;){let u=Nr(t,l);if(s(t.slice(l,u))!=En.Word)break;l=u}return o==l?null:Ue.range(o+n,l+n)}}Ft.allowMultipleSelections=$x;Ft.tabSize=tt.define({combine:r=>r.length?r[0]:4});Ft.lineSeparator=R8;Ft.readOnly=O8;Ft.phrases=tt.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});Ft.languageData=C8;Ft.changeFilter=k8;Ft.transactionFilter=D8;Ft.transactionExtender=I8;_w.reconfigure=Et.define();function Ho(r,e,t={}){let n={};for(let i of r)for(let s of Object.keys(i)){let o=i[s],l=n[s];if(l===void 0)n[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class mc{eq(e){return this==e}range(e,t=e){return Qx.create(e,t,this)}}mc.prototype.startSide=mc.prototype.endSide=0;mc.prototype.point=!1;mc.prototype.mapMode=li.TrackDel;let Qx=class P8{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new P8(e,t,n)}};function Zx(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class gC{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let s=n?this.to:this.from;for(let o=i,l=s.length;;){if(o==l)return o;let u=o+l>>1,h=s[u]-e||(n?this.value[u].endSide:this.value[u].startSide)-t;if(u==o)return h>=0?o:l;h>=0?l=u:o=u+1}}between(e,t,n,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],i=[],s=[],o=-1,l=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],f=this.from[u]+e,p=this.to[u]+e,g,y;if(f==p){let w=t.mapPos(f,h.startSide,h.mapMode);if(w==null||(g=y=w,h.startSide!=h.endSide&&(y=t.mapPos(f,h.endSide),y<g)))continue}else if(g=t.mapPos(f,h.startSide),y=t.mapPos(p,h.endSide),g>y||g==y&&h.startSide>0&&h.endSide<=0)continue;(y-g||h.endSide-h.startSide)<0||(o<0&&(o=g),h.point&&(l=Math.max(l,y-g)),n.push(h),i.push(g-o),s.push(y-o))}return{mapped:n.length?new gC(i,s,n,l):null,pos:o}}}class Gt{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new Gt(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(Zx)),this.isEmpty)return t.length?Gt.of(t):this;let l=new L8(this,null,-1).goto(0),u=0,h=[],f=new Oa;for(;l.value||u<t.length;)if(u<t.length&&(l.from-t[u].from||l.startSide-t[u].value.startSide)>=0){let p=t[u++];f.addInner(p.from,p.to,p.value)||h.push(p)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(u==t.length||this.chunkEnd(l.chunkIndex)<t[u].from)&&(!o||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||i>l.to||s<l.from||o(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||h.push(Qx.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!h.length?Gt.empty:this.nextLayer.update({add:h,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],u=this.chunk[o],h=e.touchesRange(l,l+u.length);if(h===!1)i=Math.max(i,u.maxPoint),t.push(u),n.push(e.mapPos(l));else if(h===!0){let{mapped:f,pos:p}=u.map(l,e);f&&(i=Math.max(i,f.maxPoint),t.push(f),n.push(p))}}let s=this.nextLayer.map(e);return t.length==0?s:new Gt(n,t,s||Gt.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return im.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return im.from(e).goto(t)}static compare(e,t,n,i,s=-1){let o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),u=oN(o,l,n),h=new Gd(o,u,s),f=new Gd(l,u,s);n.iterGaps((p,g,y)=>aN(h,p,f,g,y,i)),n.empty&&n.length==0&&aN(h,0,f,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=999999999);let s=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),o=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=oN(s,o),u=new Gd(s,l,0).goto(n),h=new Gd(o,l,0).goto(n);for(;;){if(u.to!=h.to||!Jx(u.active,h.active)||u.point&&(!h.point||!u.point.eq(h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,t,n,i,s=-1){let o=new Gd(e,null,s).goto(t),l=t,u=o.openStart;for(;;){let h=Math.min(o.to,n);if(o.point){let f=o.activeForPoint(o.to),p=o.pointFrom<t?f.length+1:o.point.startSide<0?f.length:Math.min(f.length,u);i.point(l,h,o.point,f,p,o.pointRank),u=Math.min(o.openEnd(h),f.length)}else h>l&&(i.span(l,h,o.active,u),u=o.openEnd(h));if(o.to>n)return u+(o.point&&o.to>n?1:0);l=o.to,o.next()}}static of(e,t=!1){let n=new Oa;for(let i of e instanceof Qx?[e]:t?sZ(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return Gt.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=Gt.empty;i=i.nextLayer)t=new Gt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Gt.empty=new Gt([],[],null,-1);function sZ(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if(Zx(e,n)>0)return r.slice().sort(Zx);e=n}return r}Gt.empty.nextLayer=Gt.empty;class Oa{finishChunk(e){this.chunks.push(new gC(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Oa)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Gt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Gt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function oN(r,e,t){let n=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&n.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=n.get(s.chunk[o]);l!=null&&(t?t.mapPos(l):l)==s.chunkPos[o]&&!t?.touchesRange(l,l+s.chunk[o].length)&&i.add(s.chunk[o])}return i}class L8{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class im{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new L8(o,t,n,s));return i.length==1?i[0]:new im(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Sb(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Sb(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Sb(this.heap,0)}}}function Sb(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class Gd{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=im.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ey(this.active,e),Ey(this.activeTo,e),Ey(this.activeRank,e),this.minActive=lN(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;xy(this.active,t,n),xy(this.activeTo,t,i),xy(this.activeRank,t,s),e&&xy(e,t,this.cursor.from),this.minActive=lN(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Ey(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function aN(r,e,t,n,i,s){r.goto(e),t.goto(n);let o=n+i,l=n,u=n-e;for(;;){let h=r.to+u-t.to,f=h||r.endSide-t.endSide,p=f<0?r.to+u:t.to,g=Math.min(p,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&Jx(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(l,g,r.point,t.point):g>l&&!Jx(r.active,t.active)&&s.compareRange(l,g,r.active,t.active),p>o)break;(h||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(p),l=p,f<=0&&r.next(),f>=0&&t.next()}}function Jx(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Ey(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function xy(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function lN(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function Bf(r,e,t=r.length){let n=0;for(let i=0;i<t&&i<r.length;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=Nr(r,i));return n}function eT(r,e,t,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==r.length)break;s+=r.charCodeAt(i)==9?t-s%t:1,i=Nr(r,i)}return n===!0?-1:r.length}const tT="",uN=typeof Symbol>"u"?"__"+tT:Symbol.for(tT),nT=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),cN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Kl{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,u,h){let f=[],p=/^@(\w+)\b/.exec(o[0]),g=p&&p[1]=="keyframes";if(p&&l==null)return u.push(o[0]+";");for(let y in l){let w=l[y];if(/&/.test(y))s(y.split(/,\s*/).map(_=>o.map(E=>_.replace(/&/,E))).reduce((_,E)=>_.concat(E)),w,u);else if(w&&typeof w=="object"){if(!p)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(i(y),w,f,g)}else w!=null&&f.push(y.replace(/_.*/,"").replace(/[A-Z]/g,_=>"-"+_.toLowerCase())+": "+w+";")}(f.length||g)&&u.push((n&&!p&&!h?o.map(n):o).join(", ")+" {"+f.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=cN[uN]||1;return cN[uN]=e+1,tT+e.toString(36)}static mount(e,t,n){let i=e[nT],s=n&&n.nonce;i?s&&i.setNonce(s):i=new oZ(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let hN=new Map;class oZ{constructor(e,t){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=hN.get(n);if(s)return e[nT]=s;this.sheet=new i.CSSStyleSheet,hN.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[nT]=this}mount(e,t){let n=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let l=e[o],u=this.modules.indexOf(l);if(u<s&&u>-1&&(this.modules.splice(u,1),s--,u=-1),u==-1){if(this.modules.splice(s++,0,l),n)for(let h=0;h<l.rules.length;h++)n.insertRule(l.rules[h],i++)}else{for(;s<u;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let u=0;u<this.modules.length;u++)o+=this.modules[u].getRules()+`
`;this.styleTag.textContent=o;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var $l={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},sm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},aZ=typeof navigator<"u"&&/Mac/.test(navigator.platform),lZ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Dr=0;Dr<10;Dr++)$l[48+Dr]=$l[96+Dr]=String(Dr);for(var Dr=1;Dr<=24;Dr++)$l[Dr+111]="F"+Dr;for(var Dr=65;Dr<=90;Dr++)$l[Dr]=String.fromCharCode(Dr+32),sm[Dr]=String.fromCharCode(Dr);for(var Eb in $l)sm.hasOwnProperty(Eb)||(sm[Eb]=$l[Eb]);function uZ(r){var e=aZ&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||lZ&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?sm:$l)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function fn(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)B8(r,arguments[e]);return r}function B8(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)B8(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}function om(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function rT(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function S0(r,e){if(!e.anchorNode)return!1;try{return rT(r,e.anchorNode)}catch{return!1}}function mf(r){return r.nodeType==3?yc(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Ip(r,e,t,n){return t?fN(r,e,t,n,-1)||fN(r,e,t,n,1):!1}function gc(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function wv(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function fN(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Fo(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=gc(r)+(i<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?Fo(r):0}else return!1}}function Fo(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Pm(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function cZ(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function F8(r,e){let t=e.width/r.offsetWidth,n=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-r.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function hZ(r,e,t,n,i,s,o,l){let u=r.ownerDocument,h=u.defaultView||window;for(let f=r,p=!1;f&&!p;)if(f.nodeType==1){let g,y=f==u.body,w=1,_=1;if(y)g=cZ(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(p=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let A=f.getBoundingClientRect();({scaleX:w,scaleY:_}=F8(f,A)),g={left:A.left,right:A.left+f.clientWidth*w,top:A.top,bottom:A.top+f.clientHeight*_}}let E=0,b=0;if(i=="nearest")e.top<g.top?(b=e.top-(g.top+o),t>0&&e.bottom>g.bottom+b&&(b=e.bottom-g.bottom+o)):e.bottom>g.bottom&&(b=e.bottom-g.bottom+o,t<0&&e.top-b<g.top&&(b=e.top-(g.top+o)));else{let A=e.bottom-e.top,T=g.bottom-g.top;b=(i=="center"&&A<=T?e.top+A/2-T/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-T+o)-g.top}if(n=="nearest"?e.left<g.left?(E=e.left-(g.left+s),t>0&&e.right>g.right+E&&(E=e.right-g.right+s)):e.right>g.right&&(E=e.right-g.right+s,t<0&&e.left<g.left+E&&(E=e.left-(g.left+s))):E=(n=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:n=="start"==l?e.left-s:e.right-(g.right-g.left)+s)-g.left,E||b)if(y)h.scrollBy(E,b);else{let A=0,T=0;if(b){let x=f.scrollTop;f.scrollTop+=b/_,T=(f.scrollTop-x)*_}if(E){let x=f.scrollLeft;f.scrollLeft+=E/w,A=(f.scrollLeft-x)*w}e={left:e.left-A,top:e.top-T,right:e.right-A,bottom:e.bottom-T},A&&Math.abs(A-E)<1&&(n="nearest"),T&&Math.abs(T-b)<1&&(i="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function fZ(r){let e=r.ownerDocument,t,n;for(let i=r.parentNode;i&&!(i==e.body||t&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:n}}class dZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Fo(t):0),n,Math.min(e.focusOffset,n?Fo(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let mh=null;function V8(r){if(r.setActive)return r.setActive();if(mh)return r.focus(mh);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(mh==null?{get preventScroll(){return mh={preventScroll:!0},!0}}:void 0),!mh){mh=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],s=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let dN;function yc(r,e,t=e){let n=dN||(dN=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function qh(r,e,t,n){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,r.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,r.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function pZ(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function U8(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function mZ(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,Fo(t));;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=Fo(t))}else{if(t==r)return!0;n=gc(t),t=t.parentNode}}function z8(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function j8(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=Fo(t)}else if(t.parentNode&&!wv(t))n=gc(t),t=t.parentNode;else return null}}function H8(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!wv(t))n=gc(t)+1,t=t.parentNode;else return null}}class Gr{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Gr(e.parentNode,gc(e),t)}static after(e,t){return new Gr(e.parentNode,gc(e)+1,t)}}const yC=[];class mn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:n.firstChild)){let l=mn.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&s!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=pN(s);else n.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:n.firstChild,s&&t&&t.node==n&&(t.written=!0);s;)s=pN(s)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=Fo(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!mn.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==n)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,s=-1,o=-1,l=-1;for(let u=0,h=n,f=n;u<this.children.length;u++){let p=this.children[u],g=h+p.length;if(h<e&&g>t)return p.domBoundsAround(e,t,h);if(g>=e&&i==-1&&(i=u,s=h),h>t&&p.dom.parentNode==this.dom){o=u,l=f;break}f=g,h=g+p.breakAfter}return{from:s,to:l<0?n+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=yC){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&n.indexOf(s)<0&&s.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new q8(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}mn.prototype.breakAfter=0;function pN(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class q8{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function W8(r,e,t,n,i,s,o,l,u){let{children:h}=r,f=h.length?h[e]:null,p=s.length?s[s.length-1]:null,g=p?p.breakAfter:o;if(!(e==n&&f&&!o&&!g&&s.length<2&&f.merge(t,i,s.length?p:null,t==0,l,u))){if(n<h.length){let y=h[n];y&&(i<y.length||y.breakAfter&&p?.breakAfter)?(e==n&&(y=y.split(i),i=0),!g&&p&&y.merge(0,i,p,!0,0,u)?s[s.length-1]=y:((i||y.children.length&&!y.children[0].length)&&y.merge(0,i,null,!1,0,u),s.push(y))):y?.breakAfter&&(p?p.breakAfter=1:o=1),n++}for(f&&(f.breakAfter=o,t>0&&(!o&&s.length&&f.merge(t,f.length,s[0],!1,l,0)?f.breakAfter=s.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,l,0),e++));e<n&&s.length;)if(h[n-1].become(s[s.length-1]))n--,s.pop(),u=s.length?0:l;else if(h[e].become(s[0]))e++,s.shift(),l=s.length?0:u;else break;!s.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,l,u)&&e--,(e<n||s.length)&&r.replaceChildren(e,n,s)}}function G8(r,e,t,n,i,s){let o=r.childCursor(),{i:l,off:u}=o.findPos(t,1),{i:h,off:f}=o.findPos(e,-1),p=e-t;for(let g of n)p+=g.length;r.length+=p,W8(r,h,f,l,u,n,0,i,s)}let yi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},iT=typeof document<"u"?document:{documentElement:{style:{}}};const sT=/Edge\/(\d+)/.exec(yi.userAgent),K8=/MSIE \d/.test(yi.userAgent),oT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi.userAgent),bw=!!(K8||oT||sT),mN=!bw&&/gecko\/(\d+)/i.test(yi.userAgent),xb=!bw&&/Chrome\/(\d+)/.exec(yi.userAgent),gZ="webkitFontSmoothing"in iT.documentElement.style,$8=!bw&&/Apple Computer/.test(yi.vendor),gN=$8&&(/Mobile\/\w+/.test(yi.userAgent)||yi.maxTouchPoints>2);var Qe={mac:gN||/Mac/.test(yi.platform),windows:/Win/.test(yi.platform),linux:/Linux|X11/.test(yi.platform),ie:bw,ie_version:K8?iT.documentMode||6:oT?+oT[1]:sT?+sT[1]:0,gecko:mN,gecko_version:mN?+(/Firefox\/(\d+)/.exec(yi.userAgent)||[0,0])[1]:0,chrome:!!xb,chrome_version:xb?+xb[1]:0,ios:gN,android:/Android\b/.test(yi.userAgent),safari:$8,webkit_version:gZ?+(/\bAppleWebKit\/(\d+)/.exec(yi.userAgent)||[0,0])[1]:0,tabSize:iT.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const yZ=256;class zs extends mn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof zs)||this.length-(t-e)+n.length>yZ||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new zs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Gr(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return vZ(this.dom,e,t)}}class Na extends mn{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let i of t)i.setParent(this)}setAttrs(e){if(U8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,i,s,o){return n&&(!(n instanceof Na&&n.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(G8(this,e,t,n?n.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,s=0;for(let l of this.children){let u=n+l.length;u>e&&t.push(n<e?l.split(e-n):l),i<0&&n>=e&&(i=s),n=u,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Na(this.mark,t,o)}domAtPos(e){return Y8(this,e)}coordsAt(e,t){return Q8(this,e,t)}}function vZ(r,e,t){let n=r.nodeValue.length;e>n&&(e=n);let i=e,s=e,o=0;e==0&&t<0||e==n&&t>=0?Qe.chrome||Qe.gecko||(e?(i--,o=1):s<n&&(s++,o=-1)):t<0?i--:s<n&&s++;let l=yc(r,i,s).getClientRects();if(!l.length)return null;let u=l[(o?o<0:t>=0)?0:l.length-1];return Qe.safari&&!o&&u.width==0&&(u=Array.prototype.find.call(l,h=>h.width)||u),o?Pm(u,o<0):u||null}class Tl extends mn{static create(e,t,n){return new Tl(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=Tl.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,i,s,o){return n&&(!(n instanceof Tl)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof Tl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Qt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Qt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Gr.before(this.dom):Gr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?i.length-1:0;s=i[l],!(e>0?l==0:l==i.length-1||s.top<s.bottom);l+=o?-1:1);return Pm(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class gf extends mn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof gf&&e.side==this.side}split(){return new gf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Gr.before(this.dom):Gr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Qt.empty}get isHidden(){return!0}}zs.prototype.children=Tl.prototype.children=gf.prototype.children=yC;function Y8(r,e){let t=r.dom,{children:n}=r,i=0;for(let s=0;i<n.length;i++){let o=n[i],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=i;s>0;s--){let o=n[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<n.length;s++){let o=n[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Gr(t,0)}function X8(r,e,t){let n,{children:i}=r;t>0&&e instanceof Na&&i.length&&(n=i[i.length-1])instanceof Na&&n.mark.eq(e.mark)?X8(n,e.children[0],t-1):(i.push(e),e.setParent(r)),r.length+=e.length}function Q8(r,e,t){let n=null,i=-1,s=null,o=-1;function l(h,f){for(let p=0,g=0;p<h.children.length&&g<=f;p++){let y=h.children[p],w=g+y.length;w>=f&&(y.children.length?l(y,f-g):(!s||s.isHidden&&(t>0||_Z(s,y)))&&(w>f||g==w&&y.getSide()>0)?(s=y,o=f-g):(g<f||g==w&&y.getSide()<0&&!y.isHidden)&&(n=y,i=f-g)),g=w}}l(r,e);let u=(t<0?n:s)||n||s;return u?u.coordsAt(Math.max(0,u==n?i:o),t):wZ(r)}function wZ(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=mf(e);return t[t.length-1]||null}function _Z(r,e){let t=r.coordsAt(0,1),n=e.coordsAt(0,1);return t&&n&&n.top<t.bottom}function aT(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const yN=Object.create(null);function _v(r,e,t){if(r==e)return!0;r||(r=yN),e||(e=yN);let n=Object.keys(r),i=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of n)if(s!=t&&(i.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function lT(r,e,t){let n=!1;if(e)for(let i in e)t&&i in t||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(n=!0,i=="style"?r.style.cssText=t[i]:r.setAttribute(i,t[i]));return n}function bZ(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let n=r.attributes[t];e[n.name]=n.value}return e}class La{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ui=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(ui||(ui={}));class ht extends mc{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Lm(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Yl(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:o}=Z8(e,t);n=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new Yl(e,n,i,t,e.widget||null,!0)}static line(e){return new Bm(e)}static set(e,t=!1){return Gt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ht.none=Gt.empty;class Lm extends ht{constructor(e){let{start:t,end:n}=Z8(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Lm&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&_v(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Lm.prototype.point=!1;class Bm extends ht{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Bm&&this.spec.class==e.spec.class&&_v(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Bm.prototype.mapMode=li.TrackBefore;Bm.prototype.point=!0;class Yl extends ht{constructor(e,t,n,i,s,o){super(t,n,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?li.TrackBefore:li.TrackAfter:li.TrackDel}get type(){return this.startSide!=this.endSide?ui.WidgetRange:this.startSide<=0?ui.WidgetBefore:ui.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Yl&&SZ(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Yl.prototype.point=!0;function Z8(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function SZ(r,e){return r==e||!!(r&&e&&r.compare(e))}function E0(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class Kn extends mn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,s,o){if(n){if(!(n instanceof Kn))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),G8(this,e,t,n?n.children.slice():[],s,o),!0}split(e){let t=new Kn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)t.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){_v(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){X8(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=aT(t,this.attrs||{})),n&&(this.attrs=aT({class:n},this.attrs||{}))}domAtPos(e){return Y8(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(U8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(lT(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&mn.get(i)instanceof Na;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=mn.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!Qe.ios||!this.children.some(s=>s instanceof zs))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof zs)||/[^ -~]/.test(n.text))return null;let i=mf(n.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=Q8(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof Kn&&this.children.length==0&&e.children.length==0&&_v(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let s=e.children[n],o=i+s.length;if(o>=t){if(s instanceof Kn)return s;if(o>t)break}i=o+s.breakAfter}return null}}class xa extends mn{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,s,o){return n&&(!(n instanceof xa)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Gr.before(this.dom):Gr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new xa(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return yC}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Qt.empty}domBoundsAround(){return null}become(e){return e instanceof xa&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof uT?null:Pm(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class uT extends La{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Op{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof xa&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Kn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Ty(new gf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof xa)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Ty(new zs(this.text.slice(this.textOff,this.textOff+i)),t),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,s,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Yl){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(n instanceof Yl)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new xa(n.widget||yf.block,l,n));else{let u=Tl.create(n.widget||yf.inline,l,l?0:n.startSide),h=this.atCursorPos&&!u.isEditable&&s<=i.length&&(e<t||n.startSide>0),f=!u.isEditable&&(e<t||s>i.length||n.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!h&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(p.append(Ty(new gf(1),i),s),s=i.length+Math.max(0,s-i.length)),p.append(Ty(u,i),s),this.atCursorPos=f,this.pendingBuffer=f?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,n,i,s){let o=new Op(e,t,n,s);return o.openEnd=Gt.spans(i,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Ty(r,e){for(let t of e)r=new Na(t,[r],r.length);return r}class yf extends La{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}yf.inline=new yf("span");yf.block=new yf("div");var _n=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(_n||(_n={}));const vc=_n.LTR,vC=_n.RTL;function J8(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const EZ=J8("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),xZ=J8("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),cT=Object.create(null),ao=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);cT[e]=t,cT[t]=-e}function eB(r){return r<=247?EZ[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?xZ[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const TZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Al{get dir(){return this.level%2?vC:vc}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,i){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==n)return o;(s<0||(i!=0?i<0?l.from<t:l.to>t:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function tB(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t],i=e[t];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!tB(n.inner,i.inner))return!1}return!0}const pn=[];function AZ(r,e,t,n,i){for(let s=0;s<=n.length;s++){let o=s?n[s-1].to:e,l=s<n.length?n[s].from:t,u=s?256:i;for(let h=o,f=u,p=u;h<l;h++){let g=eB(r.charCodeAt(h));g==512?g=f:g==8&&p==4&&(g=16),pn[h]=g==4?2:g,g&7&&(p=g),f=g}for(let h=o,f=u,p=u;h<l;h++){let g=pn[h];if(g==128)h<l-1&&f==pn[h+1]&&f&24?g=pn[h]=f:pn[h]=256;else if(g==64){let y=h+1;for(;y<l&&pn[y]==64;)y++;let w=h&&f==8||y<t&&pn[y]==8?p==1?1:8:256;for(let _=h;_<y;_++)pn[_]=w;h=y-1}else g==8&&p==1&&(pn[h]=1);f=g,g&7&&(p=g)}}}function CZ(r,e,t,n,i){let s=i==1?2:1;for(let o=0,l=0,u=0;o<=n.length;o++){let h=o?n[o-1].to:e,f=o<n.length?n[o].from:t;for(let p=h,g,y,w;p<f;p++)if(y=cT[g=r.charCodeAt(p)])if(y<0){for(let _=l-3;_>=0;_-=3)if(ao[_+1]==-y){let E=ao[_+2],b=E&2?i:E&4?E&1?s:i:0;b&&(pn[p]=pn[ao[_]]=b),l=_;break}}else{if(ao.length==189)break;ao[l++]=p,ao[l++]=g,ao[l++]=u}else if((w=pn[p])==2||w==1){let _=w==i;u=_?0:1;for(let E=l-3;E>=0;E-=3){let b=ao[E+2];if(b&2)break;if(_)ao[E+2]|=2;else{if(b&4)break;ao[E+2]|=4}}}}}function RZ(r,e,t,n){for(let i=0,s=n;i<=t.length;i++){let o=i?t[i-1].to:r,l=i<t.length?t[i].from:e;for(let u=o;u<l;){let h=pn[u];if(h==256){let f=u+1;for(;;)if(f==l){if(i==t.length)break;f=t[i++].to,l=i<t.length?t[i].from:e}else if(pn[f]==256)f++;else break;let p=s==1,g=(f<e?pn[f]:n)==1,y=p==g?p?1:2:n;for(let w=f,_=i,E=_?t[_-1].to:r;w>u;)w==E&&(w=t[--_].from,E=_?t[_-1].to:r),pn[--w]=y;u=f}else s=h,u++}}}function hT(r,e,t,n,i,s,o){let l=n%2?2:1;if(n%2==i%2)for(let u=e,h=0;u<t;){let f=!0,p=!1;if(h==s.length||u<s[h].from){let _=pn[u];_!=l&&(f=!1,p=_==16)}let g=!f&&l==1?[]:null,y=f?n:n+1,w=u;e:for(;;)if(h<s.length&&w==s[h].from){if(p)break e;let _=s[h];if(!f)for(let E=_.to,b=h+1;;){if(E==t)break e;if(b<s.length&&s[b].from==E)E=s[b++].to;else{if(pn[E]==l)break e;break}}if(h++,g)g.push(_);else{_.from>u&&o.push(new Al(u,_.from,y));let E=_.direction==vc!=!(y%2);fT(r,E?n+1:n,i,_.inner,_.from,_.to,o),u=_.to}w=_.to}else{if(w==t||(f?pn[w]!=l:pn[w]==l))break;w++}g?hT(r,u,w,n+1,i,g,o):u<w&&o.push(new Al(u,w,y)),u=w}else for(let u=t,h=s.length;u>e;){let f=!0,p=!1;if(!h||u>s[h-1].to){let _=pn[u-1];_!=l&&(f=!1,p=_==16)}let g=!f&&l==1?[]:null,y=f?n:n+1,w=u;e:for(;;)if(h&&w==s[h-1].to){if(p)break e;let _=s[--h];if(!f)for(let E=_.from,b=h;;){if(E==e)break e;if(b&&s[b-1].to==E)E=s[--b].from;else{if(pn[E-1]==l)break e;break}}if(g)g.push(_);else{_.to<u&&o.push(new Al(_.to,u,y));let E=_.direction==vc!=!(y%2);fT(r,E?n+1:n,i,_.inner,_.from,_.to,o),u=_.from}w=_.from}else{if(w==e||(f?pn[w-1]!=l:pn[w-1]==l))break;w--}g?hT(r,w,u,n+1,i,g,o):w<u&&o.push(new Al(w,u,y)),u=w}}function fT(r,e,t,n,i,s,o){let l=e%2?2:1;AZ(r,i,s,n,l),CZ(r,i,s,n,l),RZ(i,s,n,l),hT(r,i,s,e,t,n,o)}function kZ(r,e,t){if(!r)return[new Al(0,0,e==vC?1:0)];if(e==vc&&!t.length&&!TZ.test(r))return nB(r.length);if(t.length)for(;r.length>pn.length;)pn[pn.length]=256;let n=[],i=e==vc?0:1;return fT(r,i,i,t,0,r.length,n),n}function nB(r){return[new Al(0,r,0)]}let rB="";function DZ(r,e,t,n,i){var s;let o=n.head-r.from,l=Al.find(e,o,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),u=e[l],h=u.side(i,t);if(o==h){let g=l+=i?1:-1;if(g<0||g>=e.length)return null;u=e[l=g],o=u.side(!i,t),h=u.side(i,t)}let f=Nr(r.text,o,u.forward(i,t));(f<u.from||f>u.to)&&(f=h),rB=r.text.slice(Math.min(o,f),Math.max(o,f));let p=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return p&&f==h&&p.level+(i?0:1)<u.level?Ue.cursor(p.side(!i,t)+r.from,p.forward(i,t)?1:-1,p.level):Ue.cursor(f+r.from,u.forward(i,t)?-1:1,u.level)}function IZ(r,e,t){for(let n=e;n<t;n++){let i=eB(r.charCodeAt(n));if(i==1)return vc;if(i==2||i==4)return vC}return vc}const iB=tt.define(),sB=tt.define(),oB=tt.define(),aB=tt.define(),dT=tt.define(),lB=tt.define(),uB=tt.define(),wC=tt.define(),_C=tt.define(),cB=tt.define({combine:r=>r.some(e=>e)}),hB=tt.define({combine:r=>r.some(e=>e)}),fB=tt.define();class Wh{constructor(e,t="nearest",n="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Wh(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Wh(Ue.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ay=Et.define({map:(r,e)=>r.map(e)}),dB=Et.define();function _i(r,e,t){let n=r.facet(aB);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const va=tt.define({combine:r=>r.length?r[0]:!0});let OZ=0;const Dh=tt.define({combine(r){return r.filter((e,t)=>{for(let n=0;n<t;n++)if(r[n].plugin==e.plugin)return!1;return!0})}});class Vn{constructor(e,t,n,i,s){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Dh.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Dh.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:s,decorations:o}=t||{};return new Vn(OZ++,e,n,i,l=>{let u=[];return o&&u.push(am.of(h=>{let f=h.plugin(l);return f?o(f):ht.none})),s&&u.push(s(l)),u})}static fromClass(e,t){return Vn.define((n,i)=>new e(n,i),t)}}class Tb{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(_i(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){_i(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){_i(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const pB=tt.define(),bC=tt.define(),am=tt.define(),mB=tt.define(),SC=tt.define(),gB=tt.define();function vN(r,e){let t=r.state.facet(gB);if(!t.length)return t;let n=t.map(s=>s instanceof Function?s(r):s),i=[];return Gt.spans(n,e.from,e.to,{point(){},span(s,o,l,u){let h=s-e.from,f=o-e.from,p=i;for(let g=l.length-1;g>=0;g--,u--){let y=l[g].spec.bidiIsolate,w;if(y==null&&(y=IZ(e.text,h,f)),u>0&&p.length&&(w=p[p.length-1]).to==h&&w.direction==y)w.to=f,p=w.inner;else{let _={from:h,to:f,direction:y,inner:[]};p.push(_),p=_.inner}}}}),i}const yB=tt.define();function EC(r){let e=0,t=0,n=0,i=0;for(let s of r.state.facet(yB)){let o=s(r);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:n,bottom:i}}const pp=tt.define();class Es{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new Es(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,s=0,o=0,l=0;;i++){let u=i==e.length?null:e[i],h=o-l,f=u?u.fromB:1e9;for(;s<t.length&&t[s]<f;){let p=t[s],g=t[s+1],y=Math.max(l,p),w=Math.min(f,g);if(y<=w&&new Es(y+h,w+h,y,w).addToSet(n),g>f)break;s+=2}if(!u)return n;new Es(u.fromA,u.toA,u.fromB,u.toB).addToSet(n),o=u.toA,l=u.toB}}}class bv{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=sr.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,l,u)=>i.push(new Es(s,o,l,u))),this.changedRanges=i}static create(e,t,n){return new bv(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class wN extends mn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ht.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Kn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Es(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:h,toA:f})=>f<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!VZ(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?MZ(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:f}=this.hasComposition;n=new Es(h,f,e.changes.mapPos(h,-1),e.changes.mapPos(f,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Qe.ie||Qe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),u=BZ(o,l,e.changes);return n=Es.extendWithRanges(n,u),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Qe.chrome||Qe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof xa&&o.widget instanceof uT&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,n){let i=n?n.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let l=o>=0?i[o]:null;if(!l)break;let{fromA:u,toA:h,fromB:f,toB:p}=l,g,y,w,_;if(n&&n.range.fromB<p&&n.range.toB>f){let x=Op.build(this.view.state.doc,f,n.range.fromB,this.decorations,this.dynamicDecorationMap),D=Op.build(this.view.state.doc,n.range.toB,p,this.decorations,this.dynamicDecorationMap);y=x.breakAtStart,w=x.openStart,_=D.openEnd;let M=this.compositionView(n);D.breakAtStart?M.breakAfter=1:D.content.length&&M.merge(M.length,M.length,D.content[0],!1,D.openStart,0)&&(M.breakAfter=D.content[0].breakAfter,D.content.shift()),x.content.length&&M.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),g=x.content.concat(M).concat(D.content)}else({content:g,breakAtStart:y,openStart:w,openEnd:_}=Op.build(this.view.state.doc,f,p,this.decorations,this.dynamicDecorationMap));let{i:E,off:b}=s.findPos(h,1),{i:A,off:T}=s.findPos(u,-1);W8(this,A,T,E,b,g,y,w,_)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(dB)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new zs(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Na(i,[t],t.length);let n=new Kn;return n.append(t,0),n}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(o);let l=mn.get(s);l&&l!=o&&(l.dom=null),o.setDOM(s)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)n=i.childPos(n.off,1),i=i.children[n.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,s=!i&&!(this.view.state.facet(va)||this.dom.tabIndex>-1)&&S0(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(l.anchor)),h=l.empty?u:this.moveToLine(this.domAtPos(l.head));if(Qe.gecko&&l.empty&&!this.hasComposition&&NZ(u)){let p=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(p,u.node.childNodes[u.offset]||null)),u=h=new Gr(p,0),o=!0}let f=this.view.observer.selectionRange;(o||!f.focusNode||(!Ip(u.node,u.offset,f.anchorNode,f.anchorOffset)||!Ip(h.node,h.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,l))&&(this.view.observer.ignore(()=>{Qe.android&&Qe.chrome&&this.dom.contains(f.focusNode)&&FZ(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=om(this.view.root);if(p)if(l.empty){if(Qe.gecko){let g=PZ(u.node,u.offset);if(g&&g!=3){let y=(g==1?j8:H8)(u.node,u.offset);y&&(u=new Gr(y.node,y.offset))}}p.collapse(u.node,u.offset),l.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=l.bidiLevel)}else if(p.extend){p.collapse(u.node,u.offset);try{p.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();l.anchor>l.head&&([u,h]=[h,u]),g.setEnd(h.node,h.offset),g.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(u,h)),this.impreciseAnchor=u.precise?null:new Gr(f.anchorNode,f.anchorOffset),this.impreciseHead=h.precise?null:new Gr(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Ip(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=om(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=Kn.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let u=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!u||!h||u.bottom>h.top)return;let f=this.domAtPos(t.head+t.assoc);n.collapse(f.node,f.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=t.from&&n.collapse(i,s)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let i=e.offset;!n&&i<t.childNodes.length;i++){let s=mn.get(t.childNodes[i]);s instanceof Kn&&(n=s.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let s=mn.get(t.childNodes[i]);s instanceof Kn&&(n=s.domAtPos(s.length))}return n?new Gr(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=mn.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(n<i.length||i instanceof Kn)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],u=s-l.breakAfter,h=u-l.length;if(u<e)break;if(h<=e&&(h<e||l.covers(-1))&&(u>e||l.covers(1))&&(!n||l instanceof Kn&&!(n instanceof Kn&&t>=0)))n=l,i=h;else if(n&&h==e&&u==e&&l instanceof xa&&Math.abs(t)<2){if(l.deco.startSide<0)break;o&&(n=null)}s=h}return n?n.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Kn))return null;for(;i.children.length;){let{i:l,off:u}=i.childPos(n,1);for(;;l++){if(l==i.children.length)return null;if((i=i.children[l]).length)break}n=u}if(!(i instanceof zs))return null;let s=Nr(i.text,n);if(s==n)return null;let o=yc(i.dom,n,s).getClientRects();for(let l=0;l<o.length;l++){let u=o[l];if(l==o.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,u=this.view.textDirection==_n.LTR;for(let h=0,f=0;f<this.children.length;f++){let p=this.children[f],g=h+p.length;if(g>i)break;if(h>=n){let y=p.dom.getBoundingClientRect();if(t.push(y.height),o){let w=p.dom.lastChild,_=w?mf(w):[];if(_.length){let E=_[_.length-1],b=u?E.right-y.left:y.right-E.left;b>l&&(l=b,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+p.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?_n.RTL:_n.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Kn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=mf(e.firstChild)[0];t=e.getBoundingClientRect().height,n=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new q8(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>n){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(ht.replace({widget:new uT(l),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!s)break;n=s.to+1}return ht.set(e)}updateDeco(){let e=1,t=this.view.state.facet(am).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,i=this.view.state.facet(mB).map((s,o)=>{let l=typeof s=="function";return l&&(n=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=n,t.push(Gt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(fB))try{if(h(this.view,e.range,e))return!0}catch(f){_i(this.view.state,f,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=EC(this.view),o={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:l,offsetHeight:u}=this.view.scrollDOM;hZ(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==_n.LTR)}}function NZ(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function vB(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let n=j8(t.focusNode,t.focusOffset),i=H8(t.focusNode,t.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let l=mn.get(i.node);if(!l||l instanceof zs&&l.text!=i.node.nodeValue)s=i;else if(r.docView.lastCompositionAfterCursor){let u=mn.get(n.node);!u||u instanceof zs&&u.text!=n.node.nodeValue||(s=i)}}if(r.docView.lastCompositionAfterCursor=s!=n,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function MZ(r,e,t){let n=vB(r,t);if(!n)return null;let{node:i,from:s,to:o}=n,l=i.nodeValue;if(/[\n\r]/.test(l)||r.state.doc.sliceString(n.from,n.to)!=l)return null;let u=e.invertedDesc,h=new Es(u.mapPos(s),u.mapPos(o),s,o),f=[];for(let p=i.parentNode;;p=p.parentNode){let g=mn.get(p);if(g instanceof Na)f.push({node:p,deco:g.mark});else{if(g instanceof Kn||p.nodeName=="DIV"&&p.parentNode==r.contentDOM)return{range:h,text:i,marks:f,line:p};if(p!=r.contentDOM)f.push({node:p,deco:new Lm({inclusive:!0,attributes:bZ(p),tagName:p.tagName.toLowerCase()})});else return null}}}function PZ(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let LZ=class{constructor(){this.changes=[]}compareRange(e,t){E0(e,t,this.changes)}comparePoint(e,t){E0(e,t,this.changes)}boundChange(e){E0(e,e,this.changes)}};function BZ(r,e,t){let n=new LZ;return Gt.compare(r,e,t,n),n.changes}function FZ(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function VZ(r,e){let t=!1;return e&&r.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(t=!0)}),t}function UZ(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),s=e-i.from;if(i.length==0)return Ue.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,l=s;t<0?o=Nr(i.text,s,!1):l=Nr(i.text,s);let u=n(i.text.slice(o,l));for(;o>0;){let h=Nr(i.text,o,!1);if(n(i.text.slice(h,o))!=u)break;o=h}for(;l<i.length;){let h=Nr(i.text,l);if(n(i.text.slice(l,h))!=u)break;l=h}return Ue.range(o+i.from,l+i.from)}function zZ(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function jZ(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function Ab(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function _N(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function bN(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function pT(r,e,t){let n,i,s,o,l=!1,u,h,f,p;for(let w=r.firstChild;w;w=w.nextSibling){let _=mf(w);for(let E=0;E<_.length;E++){let b=_[E];i&&Ab(i,b)&&(b=_N(bN(b,i.bottom),i.top));let A=zZ(e,b),T=jZ(t,b);if(A==0&&T==0)return w.nodeType==3?SN(w,e,t):pT(w,e,t);(!n||o>T||o==T&&s>A)&&(n=w,i=b,s=A,o=T,l=A?e<b.left?E>0:E<_.length-1:!0),A==0?t>b.bottom&&(!f||f.bottom<b.bottom)?(u=w,f=b):t<b.top&&(!p||p.top>b.top)&&(h=w,p=b):f&&Ab(f,b)?f=bN(f,b.bottom):p&&Ab(p,b)&&(p=_N(p,b.top))}}if(f&&f.bottom>=t?(n=u,i=f):p&&p.top<=t&&(n=h,i=p),!n)return{node:r,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return SN(n,g,t);if(l&&n.contentEditable!="false")return pT(n,g,t);let y=Array.prototype.indexOf.call(r.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:r,offset:y}}function SN(r,e,t){let n=r.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<n;l++){let u=yc(r,l,l+1).getClientRects();for(let h=0;h<u.length;h++){let f=u[h];if(f.top==f.bottom)continue;o||(o=e-f.left);let p=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&p<s){let g=e>=(f.left+f.right)/2,y=g;if((Qe.chrome||Qe.gecko)&&yc(r,l).getBoundingClientRect().left==f.right&&(y=!g),p<=0)return{node:r,offset:l+(y?1:0)};i=l+(y?1:0),s=p}}}return{node:r,offset:i>-1?i:o>0?r.nodeValue.length:0}}function wB(r,e,t,n=-1){var i,s;let o=r.contentDOM.getBoundingClientRect(),l=o.top+r.viewState.paddingTop,u,{docHeight:h}=r.viewState,{x:f,y:p}=e,g=p-l;if(g<0)return 0;if(g>h)return r.state.doc.length;for(let x=r.viewState.heightOracle.textHeight/2,D=!1;u=r.elementAtHeight(g),u.type!=ui.Text;)for(;g=n>0?u.bottom+x:u.top-x,!(g>=0&&g<=h);){if(D)return t?null:0;D=!0,n=-n}p=l+g;let y=u.from;if(y<r.viewport.from)return r.viewport.from==0?0:t?null:EN(r,o,u,f,p);if(y>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:EN(r,o,u,f,p);let w=r.dom.ownerDocument,_=r.root.elementFromPoint?r.root:w,E=_.elementFromPoint(f,p);E&&!r.contentDOM.contains(E)&&(E=null),E||(f=Math.max(o.left+1,Math.min(o.right-1,f)),E=_.elementFromPoint(f,p),E&&!r.contentDOM.contains(E)&&(E=null));let b,A=-1;if(E&&((i=r.docView.nearest(E))===null||i===void 0?void 0:i.isEditable)!=!1){if(w.caretPositionFromPoint){let x=w.caretPositionFromPoint(f,p);x&&({offsetNode:b,offset:A}=x)}else if(w.caretRangeFromPoint){let x=w.caretRangeFromPoint(f,p);x&&({startContainer:b,startOffset:A}=x,(!r.contentDOM.contains(b)||Qe.safari&&HZ(b,A,f)||Qe.chrome&&qZ(b,A,f))&&(b=void 0))}b&&(A=Math.min(Fo(b),A))}if(!b||!r.docView.dom.contains(b)){let x=Kn.find(r.docView,y);if(!x)return g>u.top+u.height/2?u.to:u.from;({node:b,offset:A}=pT(x.dom,f,p))}let T=r.docView.nearest(b);if(!T)return null;if(T.isWidget&&((s=T.dom)===null||s===void 0?void 0:s.nodeType)==1){let x=T.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?T.posAtStart:T.posAtEnd}else return T.localPosFromDOM(b,A)+T.posAtStart}function EN(r,e,t,n,i){let s=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let l=r.viewState.heightOracle.textHeight,u=Math.floor((i-t.top-(r.defaultLineHeight-l)*.5)/l);s+=u*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+eT(o,s,r.state.tabSize)}function HZ(r,e,t){let n,i=r;if(r.nodeType!=3||e!=(n=r.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return yc(r,n-1,n).getBoundingClientRect().right>t}function qZ(r,e,t){if(e!=0)return!1;for(let i=r;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let n=r.nodeType==1?r.getBoundingClientRect():yc(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function mT(r,e,t){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){let i;for(let s of n.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==ui.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||n}return n}function WZ(r,e,t,n){let i=mT(r,e.head,e.assoc||-1),s=!n||i.type!=ui.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=r.dom.getBoundingClientRect(),l=r.textDirectionAt(i.from),u=r.posAtCoords({x:t==(l==_n.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(u!=null)return Ue.cursor(u,t?-1:1)}return Ue.cursor(t?i.to:i.from,t?-1:1)}function xN(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=r.bidiSpans(i),o=r.textDirectionAt(i.from);for(let l=e,u=null;;){let h=DZ(i,s,o,l,t),f=rB;if(!h){if(i.number==(t?r.state.doc.lines:1))return l;f=`
`,i=r.state.doc.line(i.number+(t?1:-1)),s=r.bidiSpans(i),h=r.visualLineSide(i,!t)}if(u){if(!u(f))return l}else{if(!n)return h;u=n(f)}l=h}}function GZ(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return s=>{let o=n(s);return i==En.Space&&(i=o),i==o}}function KZ(r,e,t,n){let i=e.head,s=t?1:-1;if(i==(t?r.state.doc.length:0))return Ue.cursor(i,e.assoc);let o=e.goalColumn,l,u=r.contentDOM.getBoundingClientRect(),h=r.coordsAtPos(i,e.assoc||-1),f=r.documentTop;if(h)o==null&&(o=h.left-u.left),l=s<0?h.top:h.bottom;else{let y=r.viewState.lineBlockAt(i);o==null&&(o=Math.min(u.right-u.left,r.defaultCharacterWidth*(i-y.from))),l=(s<0?y.top:y.bottom)+f}let p=u.left+o,g=n??r.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let w=l+(g+y)*s,_=wB(r,{x:p,y:w},!1,s);if(w<u.top||w>u.bottom||(s<0?_<i:_>i)){let E=r.docView.coordsForChar(_),b=!E||w<E.top?-1:1;return Ue.cursor(_,b,void 0,o)}}}function x0(r,e,t){for(;;){let n=0;for(let i of r)i.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let u=n||t||(e-s<o-e?-1:1);e=u<0?s:o,n=u}});if(!n)return e}}function Cb(r,e,t){let n=x0(r.state.facet(SC).map(i=>i(r)),t.from,e.head>t.from?-1:1);return n==t.from?t:Ue.cursor(n,n<t.from?1:-1)}const mp="";class $Z{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ft.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=mp}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let l=mn.get(i),u=mn.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:wv(i))||wv(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(l=i.exec(t))&&(s=l.index,o=l[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let t=mn.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(YZ(e,n.node,n.offset)?t:0))}}function YZ(r,e,t){for(;;){if(!e||t<Fo(e))return!1;if(e==r)return!0;t=gc(e)+1,e=e.parentNode}}class TN{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class XZ{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let l=s||o?[]:JZ(e),u=new $Z(l,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=eJ(l,this.bounds.from)}else{let l=e.observer.selectionRange,u=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!rT(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),h=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!rT(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),f=e.viewport;if((Qe.ios||Qe.chrome)&&e.state.selection.main.empty&&u!=h&&(f.from>0||f.to<e.state.doc.length)){let p=Math.min(u,h),g=Math.max(u,h),y=f.from-p,w=f.to-g;(y==0||y==1||p==0)&&(w==0||w==-1||g==e.state.doc.length)&&(u=0,h=e.state.doc.length)}this.newSel=Ue.single(h,u)}}}function _B(r,e){let t,{newSel:n}=e,i=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,u=i.from,h=null;(s===8||Qe.android&&e.text.length<l-o)&&(u=i.to,h="end");let f=ZZ(r.state.doc.sliceString(o,l,mp),e.text,u-o,h);f&&(Qe.chrome&&s==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==mp+mp&&f.toB--,t={from:o+f.from,to:o+f.toA,insert:Qt.of(e.text.slice(f.from,f.toB).split(mp))})}else n&&(!r.hasFocus&&r.state.facet(va)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:(Qe.mac||Qe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=Ue.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:Qt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:Qe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=Ue.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Qt.of([" "])}),t)return xC(r,t,n,s);if(n&&!n.main.eq(i)){let o=!1,l="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),l=r.inputState.lastSelectionOrigin),r.dispatch({selection:n,scrollIntoView:o,userEvent:l}),!0}else return!1}function xC(r,e,t,n=-1){if(Qe.ios&&r.inputState.flushIOSKey(e))return!0;let i=r.state.selection.main;if(Qe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&r.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&qh(r.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&qh(r.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&qh(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let o,l=()=>o||(o=QZ(r,e,t));return r.state.facet(lB).some(u=>u(r,e.from,e.to,s,l))||r.dispatch(l()),!0}function QZ(r,e,t){let n,i=r.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";n=i.replaceSelection(r.state.toText(l+e.insert.sliceString(0,void 0,r.state.lineBreak)+u))}else{let l=i.changes(e),u=t&&t.main.to<=l.newLength?t.main:void 0;if(i.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let h=r.state.sliceDoc(e.from,e.to),f,p=t&&vB(r,t.main.head);if(p){let w=e.insert.length-(e.to-e.from);f={from:p.from,to:p.to-w}}else f=r.state.doc.lineAt(s.head);let g=s.to-e.to,y=s.to-s.from;n=i.changeByRange(w=>{if(w.from==s.from&&w.to==s.to)return{changes:l,range:u||w.map(l)};let _=w.to-g,E=_-h.length;if(w.to-w.from!=y||r.state.sliceDoc(E,_)!=h||w.to>=f.from&&w.from<=f.to)return{range:w};let b=i.changes({from:E,to:_,insert:e.insert}),A=w.to-s.to;return{changes:b,range:u?Ue.range(Math.max(0,u.anchor+A),Math.max(0,u.head+A)):w.map(b)}})}else n={changes:l,selection:u&&i.selection.replaceRange(u)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:o,scrollIntoView:!0})}function ZZ(r,e,t,n){let i=Math.min(r.length,e.length),s=0;for(;s<i&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&r.length==e.length)return null;let o=r.length,l=e.length;for(;o>0&&l>0&&r.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(n=="end"){let u=Math.max(0,s-Math.min(o,l));t-=o+u-s}if(o<s&&r.length<e.length){let u=t<=s&&t>=o?s-t:0;s-=u,l=s+(l-o),o=s}else if(l<s){let u=t<=s&&t>=l?s-t:0;s-=u,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function JZ(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new TN(t,n)),(i!=t||s!=n)&&e.push(new TN(i,s))),e}function eJ(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?Ue.single(t+e,n+e):null}class tJ{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Qe.safari&&e.contentDOM.addEventListener("input",()=>null),Qe.gecko&&yJ(e.contentDOM.ownerDocument)}handleEvent(e){!uJ(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,t);for(let i of n.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=nJ(e),n=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,l=n[s];l&&o!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in n)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&SB.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Qe.android&&Qe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Qe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=bB.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||rJ.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,qh(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Qe.safari&&!Qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function AN(r,e){return(t,n)=>{try{return e.call(r,n,t)}catch(i){_i(t.state,i)}}}function nJ(r){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let l in s){let u=s[l];u&&t(l).handlers.push(AN(n.value,u))}if(o)for(let l in o){let u=o[l];u&&t(l).observers.push(AN(n.value,u))}}for(let n in js)t(n).handlers.push(js[n]);for(let n in As)t(n).observers.push(As[n]);return e}const bB=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],rJ="dthko",SB=[16,17,18,20,91,92,224,225],Cy=6;function Ry(r){return Math.max(0,r)*.7+8}function iJ(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class sJ{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=fZ(e.contentDOM),this.atoms=e.state.facet(SC).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ft.allowMultipleSelections)&&oJ(e,t),this.dragging=lJ(e,t)&&TB(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&iJ(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,i=0,s=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let u=EC(this.view);e.clientX-u.left<=i+Cy?t=-Ry(i-e.clientX):e.clientX+u.right>=o-Cy&&(t=Ry(e.clientX-o)),e.clientY-u.top<=s+Cy?n=-Ry(s-e.clientY):e.clientY+u.bottom>=l-Cy&&(n=Ry(e.clientY-l)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let o=x0(this.atoms,i.from,0);o!=i.from&&(s=Ue.cursor(o,-1))}else{let o=x0(this.atoms,i.from,-1),l=x0(this.atoms,i.to,1);(o!=i.from||l!=i.to)&&(s=Ue.range(i.from==i.anchor?o:l,i.from==i.head?o:l))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?Ue.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function oJ(r,e){let t=r.state.facet(iB);return t.length?t[0](e):Qe.mac?e.metaKey:e.ctrlKey}function aJ(r,e){let t=r.state.facet(sB);return t.length?t[0](e):Qe.mac?!e.altKey:!e.ctrlKey}function lJ(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=om(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function uJ(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=mn.get(t))&&n.ignoreEvent(e))return!1;return!0}const js=Object.create(null),As=Object.create(null),EB=Qe.ie&&Qe.ie_version<15||Qe.ios&&Qe.webkit_version<604;function cJ(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),xB(r,t.value)},50)}function Sw(r,e,t){for(let n of r.facet(e))t=n(t,r);return t}function xB(r,e){e=Sw(r.state,wC,e);let{state:t}=r,n,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(gT!=null&&t.selection.ranges.every(u=>u.empty)&&gT==s.toString()){let u=-1;n=t.changeByRange(h=>{let f=t.doc.lineAt(h.from);if(f.from==u)return{range:h};u=f.from;let p=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:p},range:Ue.cursor(h.from+p.length)}})}else o?n=t.changeByRange(u=>{let h=s.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:Ue.cursor(u.from+h.length)}}):n=t.replaceSelection(s);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}As.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};js.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);As.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};As.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};js.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of r.state.facet(oB))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=dJ(r,e)),t){let n=!r.hasFocus;r.inputState.startMouseSelection(new sJ(r,e,t,n)),n&&r.observer.ignore(()=>{V8(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function CN(r,e,t,n){if(n==1)return Ue.cursor(e,t);if(n==2)return UZ(r.state,e,t);{let i=Kn.find(r.docView,e),s=r.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<r.state.doc.length&&l==s.to&&l++,Ue.range(o,l)}}let RN=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function hJ(r,e,t,n){let i=Kn.find(r.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&RN(t,n,o))return-1;let l=i.coordsAt(s,1);return l&&RN(t,n,l)?1:o&&o.bottom>=n?-1:1}function kN(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:hJ(r,t,e.clientX,e.clientY)}}const fJ=Qe.ie&&Qe.ie_version<=11;let DN=null,IN=0,ON=0;function TB(r){if(!fJ)return r.detail;let e=DN,t=ON;return DN=r,ON=Date.now(),IN=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(IN+1)%3:1}function dJ(r,e){let t=kN(r,e),n=TB(e),i=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,l){let u=kN(r,s),h,f=CN(r,u.pos,u.bias,n);if(t.pos!=u.pos&&!o){let p=CN(r,t.pos,t.bias,n),g=Math.min(p.from,f.from),y=Math.max(p.to,f.to);f=g<f.from?Ue.range(g,y):Ue.range(y,g)}return o?i.replaceRange(i.main.extend(f.from,f.to)):l&&n==1&&i.ranges.length>1&&(h=pJ(i,u.pos))?h:l?i.addRange(f):Ue.create([f])}}}function pJ(r,e){for(let t=0;t<r.ranges.length;t++){let{from:n,to:i}=r.ranges[t];if(n<=e&&i>=e)return Ue.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}js.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let i=r.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=Ue.range(s,o))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Sw(r.state,_C,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};js.dragend=r=>(r.inputState.draggedContent=null,!1);function NN(r,e,t,n){if(t=Sw(r.state,wC,t),!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,o=n&&s&&aJ(r,e)?{from:s.from,to:s.to}:null,l={from:i,insert:t},u=r.state.changes(o?[o,l]:l);r.focus(),r.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),r.inputState.draggedContent=null}js.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),i=0,s=()=>{++i==t.length&&NN(r,e,n.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(n[o]=l.result),s()},l.readAsText(t[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return NN(r,e,n,!0),!0}return!1};js.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=EB?null:e.clipboardData;return t?(xB(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(cJ(r),!1)};function mJ(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function gJ(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),i=o.number}n=!0}return{text:Sw(r,_C,e.join(r.lineBreak)),ranges:t,linewise:n}}let gT=null;js.copy=js.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=gJ(r.state);if(!t&&!i)return!1;gT=i?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=EB?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(mJ(r,t),!1)};const AB=jo.define();function CB(r,e){let t=[];for(let n of r.facet(uB)){let i=n(r,e);i&&t.push(i)}return t.length?r.update({effects:t,annotations:AB.of(!0)}):null}function RB(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=CB(r.state,e);t?r.dispatch(t):r.update([])}},10)}As.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),RB(r)};As.blur=r=>{r.observer.clearSelectionRange(),RB(r)};As.compositionstart=As.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};As.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,Qe.chrome&&Qe.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};As.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};js.beforeinput=(r,e)=>{var t,n;if(e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let l=o[0],u=r.posAtDOM(l.startContainer,l.startOffset),h=r.posAtDOM(l.endContainer,l.endOffset);return xC(r,{from:u,to:h,insert:r.state.toText(s)},null),!0}}let i;if(Qe.chrome&&Qe.android&&(i=bB.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return Qe.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),Qe.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>As.compositionend(r,e),20),!1};const MN=new Set;function yJ(r){MN.has(r)||(MN.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const PN=["pre-wrap","normal","pre-line","break-spaces"];let vf=!1;function LN(){vf=!1}class vJ{constructor(e){this.lineWrapping=e,this.doc=Qt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return PN.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,s,o){let l=PN.indexOf(e)>-1,u=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=s,u){this.heightSamples={};for(let h=0;h<o.length;h++){let f=o[h];f<0?h++:this.heightSamples[Math.floor(f*10)]=!0}}return u}}class wJ{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class bo{constructor(e,t,n,i,s){this.from=e,this.length=t,this.top=n,this.height=i,this._content=s}get type(){return typeof this._content=="number"?ui.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Yl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new bo(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var vn=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(vn||(vn={}));const T0=.001;class ci{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>T0&&(vf=!0),this.height=e)}replace(e,t,n){return ci.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let s=this,o=n.doc;for(let l=i.length-1;l>=0;l--){let{fromA:u,toA:h,fromB:f,toB:p}=i[l],g=s.lineAt(u,vn.ByPosNoHeight,n.setDoc(t),0,0),y=g.to>=h?g:s.lineAt(h,vn.ByPosNoHeight,n,0,0);for(p+=y.to-h,h=y.to;l>0&&g.from<=i[l-1].toA;)u=i[l-1].fromA,f=i[l-1].fromB,l--,u<g.from&&(g=s.lineAt(u,vn.ByPosNoHeight,n,0,0));f+=g.from-u,u=g.from;let w=TC.build(n.setDoc(o),e,f,p);s=Sv(s,s.replace(u,h,w))}return s.updateHeight(n,0)}static empty(){return new Ui(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,s=0;for(;;)if(t==n)if(i>s*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),n+=1+l.break,i-=l.size}else if(s>i*2){let l=e[n];l.break?e.splice(n,1,l.left,null,l.right):e.splice(n,1,l.left,l.right),n+=2+l.break,s-=l.size}else break;else if(i<s){let l=e[t++];l&&(i+=l.size)}else{let l=e[--n];l&&(s+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new _J(ci.of(e.slice(0,t)),o,ci.of(e.slice(n)))}}function Sv(r,e){return r==e?r:(r.constructor!=e.constructor&&(vf=!0),e)}ci.prototype.size=1;class kB extends ci{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,i){return new bo(i,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,i,s){return this.blockAt(0,n,i,s)}forEachLine(e,t,n,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,n,i,s))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ui extends kB{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,i){return new bo(i,this.length,n,this.height,this.breaks)}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof Ui||i instanceof Rr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Rr?i=new Ui(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):ci.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Rr extends ci{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,o,l=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);o=u/s,this.length>s+1&&(l=(this.height-u)/(this.length-s-1))}else o=this.height/s;return{firstLine:n,lastLine:i,perLine:o,perChar:l}}blockAt(e,t,n,i){let{firstLine:s,lastLine:o,perLine:l,perChar:u}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),f=t.doc.lineAt(h),p=l+f.length*u,g=Math.max(n,e-p/2);return new bo(f.from,f.length,g,p,0)}else{let h=Math.max(0,Math.min(o-s,Math.floor((e-n)/l))),{from:f,length:p}=t.doc.line(s+h);return new bo(f,p,n+l*h,l,0)}}lineAt(e,t,n,i,s){if(t==vn.ByHeight)return this.blockAt(e,n,i,s);if(t==vn.ByPosNoHeight){let{from:y,to:w}=n.doc.lineAt(e);return new bo(y,w-y,0,0,0)}let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(n,s),h=n.doc.lineAt(e),f=l+h.length*u,p=h.number-o,g=i+l*p+u*(h.from-s-p);return new bo(h.from,h.length,Math.max(i,Math.min(g,i+this.height-f)),f,0)}forEachLine(e,t,n,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:l,perLine:u,perChar:h}=this.heightMetrics(n,s);for(let f=e,p=i;f<=t;){let g=n.doc.lineAt(f);if(f==e){let w=g.number-l;p+=u*w+h*(e-s-w)}let y=u+h*g.length;o(new bo(g.from,g.length,p,y,0)),p+=y,f=g.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let s=n[n.length-1];s instanceof Rr?n[n.length-1]=new Rr(s.length+i):n.push(null,new Rr(i-1))}if(e>0){let s=n[0];s instanceof Rr?n[0]=new Rr(e+s.length):n.unshift(new Rr(e-1),null)}return ci.of(n)}decomposeLeft(e,t){t.push(new Rr(e-1),null)}decomposeRight(e,t){t.push(null,new Rr(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],l=Math.max(t,i.from),u=-1;for(i.from>t&&o.push(new Rr(i.from-t-1).updateHeight(e,t));l<=s&&i.more;){let f=e.doc.lineAt(l).length;o.length&&o.push(null);let p=i.heights[i.index++];u==-1?u=p:Math.abs(p-u)>=T0&&(u=-2);let g=new Ui(f,p);g.outdated=!1,o.push(g),l+=f+1}l<=s&&o.push(null,new Rr(s-l).updateHeight(e,l));let h=ci.of(o);return(u<0||Math.abs(h.height-this.height)>=T0||Math.abs(u-this.heightMetrics(e,t).perLine)>=T0)&&(vf=!0),Sv(this,h)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class _J extends ci{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,n,i,s){let o=i+this.left.height,l=s+this.left.length+this.break,u=t==vn.ByHeight?e<o:e<l,h=u?this.left.lineAt(e,t,n,i,s):this.right.lineAt(e,t,n,o,l);if(this.break||(u?h.to<l:h.from>l))return h;let f=t==vn.ByPosNoHeight?vn.ByPosNoHeight:vn.ByPos;return u?h.join(this.right.lineAt(l,f,n,o,l)):this.left.lineAt(l,f,n,i,s).join(h)}forEachLine(e,t,n,i,s,o){let l=i+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,t,n,i,s,o),t>=u&&this.right.forEachLine(e,t,n,l,u,o);else{let h=this.lineAt(u,vn.ByPos,n,i,s);e<h.from&&this.left.forEachLine(e,h.from-1,n,i,s,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,n,l,u,o)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of n)s.push(l);if(e>0&&BN(s,o-1),t<this.length){let l=s.length;this.decomposeRight(t,s),BN(s,l)}return ci.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ci.of(this.break?[e,null,t]:[e,t]):(this.left=Sv(this.left,e),this.right=Sv(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:s,right:o}=this,l=t+s.length+this.break,u=null;return i&&i.from<=t+s.length&&i.more?u=s=s.updateHeight(e,t,n,i):s.updateHeight(e,t,n),i&&i.from<=l+o.length&&i.more?u=o=o.updateHeight(e,l,n,i):o.updateHeight(e,l,n),u?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function BN(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof Rr&&(n=r[e+1])instanceof Rr&&r.splice(e-1,3,new Rr(t.length+1+n.length))}const bJ=5;class TC{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ui?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ui(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new kB(o,i,n)):(o||s||i>=bJ)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ui(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Rr(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ui)return e;let t=new Ui(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Ui)&&!this.isCovered?this.nodes.push(new Ui(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof Ui&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let s=new TC(n,e);return Gt.spans(t,n,i,s,0),s.finish(n)}}function SJ(r,e,t){let n=new EJ;return Gt.compare(r,e,t,n,0),n.changes}class EJ{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&E0(e,t,this.changes,5)}}function xJ(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),l=Math.max(0,t.top),u=Math.min(i.innerHeight,t.bottom);for(let h=r.parentNode;h&&h!=n.body;)if(h.nodeType==1){let f=h,p=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&p.overflow!="visible"){let g=f.getBoundingClientRect();s=Math.max(s,g.left),o=Math.min(o,g.right),l=Math.max(l,g.top),u=Math.min(h==r.parentNode?i.innerHeight:u,g.bottom)}h=p.position=="absolute"||p.position=="fixed"?f.offsetParent:f.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,u)-(t.top+e)}}function TJ(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function AJ(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Rb{constructor(e,t,n,i){this.from=e,this.to=t,this.size=n,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=t[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return ht.replace({widget:new CJ(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class CJ extends La{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class FN{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=VN,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_n.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(bC).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new vJ(t),this.stateDeco=e.facet(am).filter(n=>typeof n!="function"),this.heightMap=ci.empty().applyChanges(this.stateDeco,Qt.empty,this.heightOracle.setDoc(e.doc),[new Es(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ht.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new ky(s,o))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?VN:new AC(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(gp(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(am).filter(f=>typeof f!="function");let i=e.changedRanges,s=Es.extendWithRanges(i,SJ(n,this.stateDeco,e?e.changes:sr.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);LN(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||vf)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(hB)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?_n.RTL:_n.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=t.getBoundingClientRect(),u=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let h=0,f=0;if(l.width&&l.height){let{scaleX:x,scaleY:D}=F8(t,l);(x>.005&&Math.abs(this.scaleX-x)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=x,this.scaleY=D,h|=16,o=u=!0)}let p=(parseInt(n.paddingTop)||0)*this.scaleY,g=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=g)&&(this.paddingTop=p,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=z8(e.scrollDOM);let w=(this.printing?AJ:xJ)(t,this.paddingTop),_=w.top-this.pixelViewport.top,E=w.bottom-this.pixelViewport.bottom;this.pixelViewport=w;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(u=!0)),!this.inView&&!this.scrollTarget&&!TJ(e.dom))return 0;let A=l.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let x=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(x)&&(o=!0),o||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:M,textHeight:O}=e.docView.measureTextSize();o=D>0&&i.refresh(s,D,M,O,Math.max(5,A/M),x),o&&(e.docView.minWidth=0,h|=16)}_>0&&E>0?f=Math.max(_,E):_<0&&E<0&&(f=Math.min(_,E)),LN();for(let D of this.viewports){let M=D.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(D);this.heightMap=(o?ci.empty().applyChanges(this.stateDeco,Qt.empty,this.heightOracle,[new Es(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new wJ(D.from,M))}vf&&(h|=2)}let T=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),h|=this.updateForViewport()),(h&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,u=new ky(i.lineAt(o-n*1e3,vn.ByHeight,s,0,0).from,i.lineAt(l+(1-n)*1e3,vn.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<u.from||h>u.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=i.lineAt(h,vn.ByPos,s,0,0),g;t.y=="center"?g=(p.top+p.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&h<u.from?g=p.top:g=p.bottom-f,u=new ky(i.lineAt(g-1e3/2,vn.ByHeight,s,0,0).from,i.lineAt(g+f+1e3/2,vn.ByHeight,s,0,0).to)}}return u}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new ky(this.heightMap.lineAt(n,vn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,vn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,vn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,vn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||i<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=l+Math.max(10,Math.min(n,250)))&&i>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new Rb(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=_n.LTR&&!n)return[];let l=[],u=(f,p,g,y)=>{if(p-f<s)return;let w=this.state.selection.main,_=[w.from];w.empty||_.push(w.to);for(let b of _)if(b>f&&b<p){u(f,b-10,g,y),u(b+10,p,g,y);return}let E=kJ(e,b=>b.from>=g.from&&b.to<=g.to&&Math.abs(b.from-f)<s&&Math.abs(b.to-p)<s&&!_.some(A=>b.from<A&&b.to>A));if(!E){if(p<g.to&&t&&n&&t.visibleRanges.some(T=>T.from<=p&&T.to>=p)){let T=t.moveToLineBoundary(Ue.cursor(p),!1,!0).head;T>f&&(p=T)}let b=this.gapSize(g,f,p,y),A=n||b<2e6?b:2e6;E=new Rb(f,p,b,A)}l.push(E)},h=f=>{if(f.length<o||f.type!=ui.Text)return;let p=RJ(f.from,f.to,this.stateDeco);if(p.total<o)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,w;if(n){let _=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,E,b;if(g!=null){let A=Iy(p,g),T=((this.visibleBottom-this.visibleTop)/2+_)/f.height;E=A-T,b=A+T}else E=(this.visibleTop-f.top-_)/f.height,b=(this.visibleBottom-f.top+_)/f.height;y=Dy(p,E),w=Dy(p,b)}else{let _=p.total*this.heightOracle.charWidth,E=i*this.heightOracle.charWidth,b=0;if(_>2e6)for(let M of e)M.from>=f.from&&M.from<f.to&&M.size!=M.displaySize&&M.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=M.size-M.displaySize);let A=this.pixelViewport.left+b,T=this.pixelViewport.right+b,x,D;if(g!=null){let M=Iy(p,g),O=((T-A)/2+E)/_;x=M-O,D=M+O}else x=(A-E)/_,D=(T+E)/_;y=Dy(p,x),w=Dy(p,D)}y>f.from&&u(f.from,y,f,p),w<f.to&&u(w,f.to,f,p)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(h):h(f);return l}gapSize(e,t,n,i){let s=Iy(i,n)-Iy(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Rb.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ht.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Gt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){n.push({from:s,to:o})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let s=0;s<n.length&&!(i&8);s++){let o=this.visibleRanges[s],l=n[s];(o.from!=l.from||o.to!=l.to)&&(i|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||gp(this.heightMap.lineAt(e,vn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||gp(this.heightMap.lineAt(this.scaler.fromDOM(e),vn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return gp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ky{constructor(e,t){this.from=e,this.to=t}}function RJ(r,e,t){let n=[],i=r,s=0;return Gt.spans(t,r,e,{span(){},point(o,l){o>i&&(n.push({from:i,to:o}),s+=o-i),i=l}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function Dy({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:s,to:o}=e[i],l=o-s;if(n<=l)return s+n;n-=l}}function Iy(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function kJ(r,e){for(let t of r)if(e(t))return t}const VN={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class AC{constructor(e,t,n){let i=0,s=0,o=0;this.viewports=n.map(({from:l,to:u})=>{let h=t.lineAt(l,vn.ByPos,e,0,0).top,f=t.lineAt(u,vn.ByPos,e,0,0).bottom;return i+=f-h,{from:l,to:u,top:h,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}eq(e){return e instanceof AC?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function gp(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new bo(r.from,r.length,t,n-t,Array.isArray(r._content)?r._content.map(i=>gp(i,e)):r._content)}const Oy=tt.define({combine:r=>r.join(" ")}),yT=tt.define({combine:r=>r.indexOf(!0)>-1}),vT=Kl.newName(),DB=Kl.newName(),IB=Kl.newName(),OB={"&light":"."+DB,"&dark":"."+IB};function wT(r,e,t){return new Kl(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const DJ=wT("."+vT,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},OB),IJ={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},kb=Qe.ie&&Qe.ie_version<=11;class OJ{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new dZ,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(Qe.ie&&Qe.ie_version<=11||Qe.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Qe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Qe.chrome&&Qe.chrome_version<126)&&(this.editContext=new MJ(e),e.state.facet(va)&&(e.contentDOM.editContext=this.editContext.editContext)),kb&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(va)?n.root.activeElement!=this.dom:!S0(this.dom,i))return;let s=i.anchorNode&&n.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Qe.ie&&Qe.ie_version<=11||Qe.android&&Qe.chrome)&&!n.state.selection.main.empty&&i.focusNode&&Ip(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=om(e.root);if(!t)return!1;let n=Qe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&NJ(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let i=S0(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&mZ(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,IJ),kb&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),kb&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&qh(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&S0(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new XZ(this.view,e,t,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,i=_B(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=UN(t,e.previousSibling||e.target.previousSibling,-1),i=UN(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(va)!=e.state.facet(va)&&(e.view.contentDOM.editContext=e.state.facet(va)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function UN(r,e,t){for(;e;){let n=mn.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function zN(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return Ip(o.node,o.offset,i,s)&&([t,n,i,s]=[i,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}}function NJ(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return zN(r,i)}let t=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),t?zN(r,t):null}class MJ{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:s,head:o}=i,l=this.toEditorPos(n.updateRangeStart),u=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:l,drifted:!1});let h={from:l,to:u,insert:Qt.of(n.text.split(`
`))};if(h.from==this.from&&s<this.from?h.from=s:h.to==this.to&&s>this.to&&(h.to=s),h.from==h.to&&!h.insert.length){let f=Ue.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));f.main.eq(i)||e.dispatch({selection:f,userEvent:"select"});return}if((Qe.mac||Qe.android)&&h.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:l,to:u,insert:Qt.of([n.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let f=this.to-this.from+(h.to-h.from+h.insert.length);xC(e,h,Ue.single(this.toEditorPos(n.selectionStart,f),this.toEditorPos(n.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let i=[],s=null;for(let o=this.toEditorPos(n.rangeStart),l=this.toEditorPos(n.rangeEnd);o<l;o++){let u=e.coordsForChar(o);s=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let s of n.getTextFormats()){let o=s.underlineStyle,l=s.underlineThickness;if(o!="None"&&l!="None"){let u=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(u<h){let f=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;i.push(ht.mark({attributes:{style:f}}).range(u,h))}}}e.dispatch({effects:dB.of(ht.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=om(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,l,u,h)=>{if(n)return;let f=h.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=f,this.to+=f;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=f,this.to+=f;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+h.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),h.toString()),this.to+=f}t+=f}),i&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Xe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(s=>n(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||pZ(e.parent)||document,this.viewState=new FN(e.state||Ft.create(e)),e.scrollTo&&e.scrollTo.is(Ay)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Dh).map(i=>new Tb(i));for(let i of this.plugins)i.update(this);this.observer=new OJ(this),this.inputState=new tJ(this),this.inputState.ensureHandlers(this.plugins),this.docView=new wN(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ar?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,u=null;e.some(g=>g.annotation(AB))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,u=CB(s,o),u||(l=1));let h=this.observer.delayedAndroidKey,f=null;if(h?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(Ft.phrases)!=this.state.facet(Ft.phrases))return this.setState(s);i=bv.create(this,s,e),i.flags|=l;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(p&&(p=p.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;p=new Wh(y.empty?y:Ue.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(Ay)&&(p=y.value.clip(this.state))}this.viewState.update(i,p),this.bidiCache=Ev.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(pp)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Oy)!=i.state.facet(Oy)&&(this.viewState.mustMeasureContent=!0),(t||n||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(dT))try{g(i)}catch(y){_i(this.state,y,"update listener")}(u||f)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),f&&!_B(this,f)&&h.force&&qh(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new FN(e),this.plugins=e.facet(Dh).map(n=>new Tb(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new wN(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Dh),n=e.state.facet(Dh);if(t!=n){let i=[];for(let s of n){let o=t.indexOf(s);if(o<0)i.push(new Tb(s));else{let l=this.plugins[o];l.mustUpdate=e,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){_i(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(z8(n))s=-1,o=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(i);s=y.from,o=y.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(y=>{try{return y.read(this)}catch(w){return _i(this.state,w),jN}}),p=bv.create(this,this.state,[]),g=!1;p.flags|=u,t?t.flags|=u:t=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),g=this.docView.update(p),g&&this.docViewUpdate());for(let y=0;y<h.length;y++)if(f[y]!=jN)try{let w=h[y];w.write&&w.write(f[y],this)}catch(w){_i(this.state,w)}if(g&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let w=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(w>1||w<-1){i=i+w,n.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(dT))l(t)}get themeClasses(){return vT+" "+(this.state.facet(yT)?IB:DB)+" "+this.state.facet(Oy)}updateAttrs(){let e=HN(this,pB,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(va)?"true":"false",class:"cm-content",style:`${Qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),HN(this,bC,t);let n=this.observer.ignore(()=>{let i=lT(this.contentDOM,this.contentAttrs,t),s=lT(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(Xe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(pp);let e=this.state.facet(Xe.cspNonce);Kl.mount(this.root,this.styleModules.concat(DJ).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Cb(this,e,xN(this,e,t,n))}moveByGroup(e,t){return Cb(this,e,xN(this,e,t,n=>GZ(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=n[t?n.length-1:0];return Ue.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return WZ(this,e,t,n)}moveVertically(e,t,n){return Cb(this,e,KZ(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),wB(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Al.find(s,e-i.from,-1,t)];return Pm(n,o.dir==_n.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(cB)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>PJ)return nB(e.length);let t=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||tB(s.isolates,n=vN(this,e))))return s.order;n||(n=vN(this,e));let i=kZ(e.text,t,n);return this.bidiCache.push(new Ev(e.from,e.to,t,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{V8(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ay.of(new Wh(typeof e=="number"?Ue.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Ay.of(new Wh(Ue.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Vn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Vn.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=Kl.newName(),i=[Oy.of(n),pp.of(wT(`.${n}`,e))];return t&&t.dark&&i.push(yT.of(!0)),i}static baseTheme(e){return Cc.lowest(pp.of(wT("."+vT,e,OB)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&mn.get(n)||mn.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}Xe.styleModule=pp;Xe.inputHandler=lB;Xe.clipboardInputFilter=wC;Xe.clipboardOutputFilter=_C;Xe.scrollHandler=fB;Xe.focusChangeEffect=uB;Xe.perLineTextDirection=cB;Xe.exceptionSink=aB;Xe.updateListener=dT;Xe.editable=va;Xe.mouseSelectionStyle=oB;Xe.dragMovesSelection=sB;Xe.clickAddsSelectionRange=iB;Xe.decorations=am;Xe.outerDecorations=mB;Xe.atomicRanges=SC;Xe.bidiIsolatedRanges=gB;Xe.scrollMargins=yB;Xe.darkTheme=yT;Xe.cspNonce=tt.define({combine:r=>r.length?r[0]:""});Xe.contentAttributes=bC;Xe.editorAttributes=pB;Xe.lineWrapping=Xe.contentAttributes.of({class:"cm-lineWrapping"});Xe.announce=Et.define();const PJ=4096,jN={};class Ev{constructor(e,t,n,i,s,o){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:_n.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&n.push(new Ev(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function HN(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],o=typeof s=="function"?s(r):s;o&&aT(o,t)}return t}const LJ=Qe.mac?"mac":Qe.windows?"win":Qe.linux?"linux":"key";function BJ(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,s,o,l;for(let u=0;u<t.length-1;++u){const h=t[u];if(/^(cmd|meta|m)$/i.test(h))l=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Ny(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const FJ=Cc.default(Xe.domEventHandlers({keydown(r,e){return MB(NB(e.state),r,e,"editor")}})),Ew=tt.define({enables:FJ}),qN=new WeakMap;function NB(r){let e=r.facet(Ew),t=qN.get(e);return t||qN.set(e,t=zJ(e.reduce((n,i)=>n.concat(i),[]))),t}function VJ(r,e,t){return MB(NB(r.state),e,r,t)}let vl=null;const UJ=4e3;function zJ(r,e=LJ){let t=Object.create(null),n=Object.create(null),i=(o,l)=>{let u=n[o];if(u==null)n[o]=l;else if(u!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,u,h,f)=>{var p,g;let y=t[o]||(t[o]=Object.create(null)),w=l.split(/ (?!$)/).map(b=>BJ(b,e));for(let b=1;b<w.length;b++){let A=w.slice(0,b).join(" ");i(A,!0),y[A]||(y[A]={preventDefault:!0,stopPropagation:!1,run:[T=>{let x=vl={view:T,prefix:A,scope:o};return setTimeout(()=>{vl==x&&(vl=null)},UJ),!0}]})}let _=w.join(" ");i(_,!1);let E=y[_]||(y[_]={preventDefault:!1,stopPropagation:!1,run:((g=(p=y._any)===null||p===void 0?void 0:p.run)===null||g===void 0?void 0:g.slice())||[]});u&&E.run.push(u),h&&(E.preventDefault=!0),f&&(E.stopPropagation=!0)};for(let o of r){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let h of l){let f=t[h]||(t[h]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=o;for(let g in f)f[g].run.push(y=>p(y,_T))}let u=o[e]||o.key;if(u)for(let h of l)s(h,u,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(h,"Shift-"+u,o.shift,o.preventDefault,o.stopPropagation)}return t}let _T=null;function MB(r,e,t,n){_T=e;let i=uZ(e),s=gi(i,0),o=_o(s)==i.length&&i!=" ",l="",u=!1,h=!1,f=!1;vl&&vl.view==t&&vl.scope==n&&(l=vl.prefix+" ",SB.indexOf(e.keyCode)<0&&(h=!0,vl=null));let p=new Set,g=E=>{if(E){for(let b of E.run)if(!p.has(b)&&(p.add(b),b(t)))return E.stopPropagation&&(f=!0),!0;E.preventDefault&&(E.stopPropagation&&(f=!0),h=!0)}return!1},y=r[n],w,_;return y&&(g(y[l+Ny(i,e,!o)])?u=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Qe.windows&&e.ctrlKey&&e.altKey)&&!(Qe.mac&&e.altKey&&!e.ctrlKey)&&(w=$l[e.keyCode])&&w!=i?(g(y[l+Ny(w,e,!0)])||e.shiftKey&&(_=sm[e.keyCode])!=i&&_!=w&&g(y[l+Ny(_,e,!1)]))&&(u=!0):o&&e.shiftKey&&g(y[l+Ny(i,e,!0)])&&(u=!0),!u&&g(y._any)&&(u=!0)),h&&(u=!0),u&&f&&e.stopPropagation(),_T=null,u}class Fm{constructor(e,t,n,i,s){this.className=e,this.left=t,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=PB(e);return[new Fm(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return jJ(e,t,n)}}function PB(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==_n.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function WN(r,e,t,n){let i=r.coordsAtPos(e,t*2);if(!i)return n;let s=r.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,l=r.posAtCoords({x:s.left+1,y:o}),u=r.posAtCoords({x:s.right-1,y:o});return l==null||u==null?n:{from:Math.max(n.from,Math.min(l,u)),to:Math.min(n.to,Math.max(l,u))}}function jJ(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),s=r.textDirection==_n.LTR,o=r.contentDOM,l=o.getBoundingClientRect(),u=PB(r),h=o.querySelector(".cm-line"),f=h&&window.getComputedStyle(h),p=l.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),g=l.right-(f?parseInt(f.paddingRight):0),y=mT(r,n,1),w=mT(r,i,-1),_=y.type==ui.Text?y:null,E=w.type==ui.Text?w:null;if(_&&(r.lineWrapping||y.widgetLineBreaks)&&(_=WN(r,n,1,_)),E&&(r.lineWrapping||w.widgetLineBreaks)&&(E=WN(r,i,-1,E)),_&&E&&_.from==E.from&&_.to==E.to)return A(T(t.from,t.to,_));{let D=_?T(t.from,null,_):x(y,!1),M=E?T(null,t.to,E):x(w,!0),O=[];return(_||y).to<(E||w).from-(_&&E?1:0)||y.widgetLineBreaks>1&&D.bottom+r.defaultLineHeight/2<M.top?O.push(b(p,D.bottom,g,M.top)):D.bottom<M.top&&r.elementAtHeight((D.bottom+M.top)/2).type==ui.Text&&(D.bottom=M.top=(D.bottom+M.top)/2),A(D).concat(O).concat(A(M))}function b(D,M,O,P){return new Fm(e,D-u.left,M-u.top,O-D,P-M)}function A({top:D,bottom:M,horizontal:O}){let P=[];for(let C=0;C<O.length;C+=2)P.push(b(O[C],D,O[C+1],M));return P}function T(D,M,O){let P=1e9,C=-1e9,W=[];function $(B,ae,Q,Y,pe){let fe=r.coordsAtPos(B,B==O.to?-2:2),ee=r.coordsAtPos(Q,Q==O.from?2:-2);!fe||!ee||(P=Math.min(fe.top,ee.top,P),C=Math.max(fe.bottom,ee.bottom,C),pe==_n.LTR?W.push(s&&ae?p:fe.left,s&&Y?g:ee.right):W.push(!s&&Y?p:ee.left,!s&&ae?g:fe.right))}let N=D??O.from,F=M??O.to;for(let B of r.visibleRanges)if(B.to>N&&B.from<F)for(let ae=Math.max(B.from,N),Q=Math.min(B.to,F);;){let Y=r.state.doc.lineAt(ae);for(let pe of r.bidiSpans(Y)){let fe=pe.from+Y.from,ee=pe.to+Y.from;if(fe>=Q)break;ee>ae&&$(Math.max(fe,ae),D==null&&fe<=N,Math.min(ee,Q),M==null&&ee>=F,pe.dir)}if(ae=Y.to+1,ae>=Q)break}return W.length==0&&$(N,D==null,F,M==null,r.textDirection),{top:P,bottom:C,horizontal:W}}function x(D,M){let O=l.top+(M?D.top:D.bottom);return{top:O,bottom:O,horizontal:[]}}}function HJ(r,e){return r.constructor==e.constructor&&r.eq(e)}class qJ{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(A0)!=e.state.facet(A0)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(A0);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!HJ(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const A0=tt.define();function LB(r){return[Vn.define(e=>new qJ(e,r)),A0.of(r)]}const lm=tt.define({combine(r){return Ho(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function WJ(r={}){return[lm.of(r),GJ,KJ,$J,hB.of(!0)]}function BB(r){return r.startState.facet(lm)!=r.state.facet(lm)}const GJ=LB({above:!0,markers(r){let{state:e}=r,t=e.facet(lm),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:Ue.cursor(i.head,i.head>i.anchor?-1:1);for(let u of Fm.forRange(r,o,l))n.push(u)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=BB(r);return t&&GN(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){GN(e.state,r)},class:"cm-cursorLayer"});function GN(r,e){e.style.animationDuration=r.facet(lm).cursorBlinkRate+"ms"}const KJ=LB({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:Fm.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||BB(r)},class:"cm-selectionLayer"}),$J=Cc.highest(Xe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),FB=Et.define({map(r,e){return r==null?null:e.mapPos(r)}}),yp=Lr.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(FB)?n.value:t,r)}}),YJ=Vn.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(yp);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(yp)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(yp),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let n=r.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-n.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(yp)!=r&&this.view.dispatch({effects:FB.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function XJ(){return[yp,YJ]}function KN(r,e,t,n,i){e.lastIndex=0;for(let s=r.iterRange(t,n),o=t,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)i(o+l.index,l)}function QJ(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:s}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class ZJ{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(l,u,h,f)=>i(f,h,h+l[0].length,l,u);else if(typeof n=="function")this.addMatch=(l,u,h,f)=>{let p=n(l,u,h);p&&f(h,h+l[0].length,p)};else if(n)this.addMatch=(l,u,h,f)=>f(h,h+l[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Oa,n=t.add.bind(t);for(let{from:i,to:s}of QJ(e,this.maxLength))KN(e.state.doc,this.regexp,i,s,(o,l)=>this.addMatch(l,e,o,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,u)=>{u>=e.view.viewport.from&&l<=e.view.viewport.to&&(n=Math.min(l,n),i=Math.max(u,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let s of e.visibleRanges){let o=Math.max(s.from,n),l=Math.min(s.to,i);if(l>=o){let u=e.state.doc.lineAt(o),h=u.to<l?e.state.doc.lineAt(l):u,f=Math.max(s.from,u.from),p=Math.min(s.to,h.to);if(this.boundary){for(;o>u.from;o--)if(this.boundary.test(u.text[o-1-u.from])){f=o;break}for(;l<h.to;l++)if(this.boundary.test(h.text[l-h.from])){p=l;break}}let g=[],y,w=(_,E,b)=>g.push(b.range(_,E));if(u==h)for(this.regexp.lastIndex=f-u.from;(y=this.regexp.exec(u.text))&&y.index<p-u.from;)this.addMatch(y,e,y.index+u.from,w);else KN(e.state.doc,this.regexp,f,p,(_,E)=>this.addMatch(E,e,_,w));t=t.update({filterFrom:f,filterTo:p,filter:(_,E)=>_<f||E>p,add:g})}}return t}}const bT=/x/.unicode!=null?"gu":"g",JJ=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,bT),eee={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Db=null;function tee(){var r;if(Db==null&&typeof document<"u"&&document.body){let e=document.body.style;Db=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return Db||!1}const C0=tt.define({combine(r){let e=Ho(r,{render:null,specialChars:JJ,addSpecialChars:null});return(e.replaceTabs=!tee())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,bT)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,bT)),e}});function nee(r={}){return[C0.of(r),ree()]}let $N=null;function ree(){return $N||($N=Vn.fromClass(class{constructor(r){this.view=r,this.decorations=ht.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(C0)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new ZJ({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,s=gi(e[0],0);if(s==9){let o=i.lineAt(n),l=t.state.tabSize,u=Bf(o.text,l,n-o.from);return ht.replace({widget:new aee((l-u%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=ht.replace({widget:new oee(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(C0);r.startState.facet(C0)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const iee="";function see(r){return r>=32?iee:r==10?"":String.fromCharCode(9216+r)}class oee extends La{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=see(this.code),n=e.state.phrase("Control character")+" "+(eee[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class aee extends La{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function lee(){return cee}const uee=ht.line({class:"cm-activeLine"}),cee=Vn.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(uee.range(i.from)),e=i.from)}return ht.set(t)}},{decorations:r=>r.decorations});class hee extends La{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?mf(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),i=Pm(t[0],n.direction!="rtl"),s=parseInt(n.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function fee(r){let e=Vn.fromClass(class{constructor(t){this.view=t,this.placeholder=r?ht.set([ht.widget({widget:new hee(r),side:1}).range(0)]):ht.none}get decorations(){return this.view.state.doc.length?ht.none:this.placeholder}},{decorations:t=>t.decorations});return typeof r=="string"?[e,Xe.contentAttributes.of({"aria-placeholder":r})]:e}const ST=2e3;function dee(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>ST||t.off>ST||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let u=n;u<=i;u++){let h=r.doc.line(u);h.length<=l&&s.push(Ue.range(h.from+o,h.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let u=n;u<=i;u++){let h=r.doc.line(u),f=eT(h.text,o,r.tabSize,!0);if(f<0)s.push(Ue.cursor(h.to));else{let p=eT(h.text,l,r.tabSize);s.push(Ue.range(h.from+f,h.from+p))}}}return s}function pee(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function YN(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,s=i>ST?-1:i==n.length?pee(r,e.clientX):Bf(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:s,off:i}}function mee(r,e){let t=YN(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},n=n.map(i.changes)}},get(i,s,o){let l=YN(r,i);if(!l)return n;let u=dee(r.state,t,l);return u.length?o?Ue.create(u.concat(n.ranges)):Ue.create(u):n}}:null}function gee(r){let e=t=>t.altKey&&t.button==0;return Xe.mouseSelectionStyle.of((t,n)=>e(n)?mee(t,n):null)}const yee={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},vee={style:"cursor: crosshair"};function wee(r={}){let[e,t]=yee[r.key||"Alt"],n=Vn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,Xe.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?vee:null})]}const Kd="-10000px";class VB{constructor(e,t,n,i){this.facet=t,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=n(o,s))}update(e,t){var n;let i=e.state.facet(this.facet),s=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let o=[],l=t?[]:null;for(let u=0;u<s.length;u++){let h=s[u],f=-1;if(h){for(let p=0;p<this.tooltips.length;p++){let g=this.tooltips[p];g&&g.create==h.create&&(f=p)}if(f<0)o[u]=this.createTooltipView(h,u?o[u-1]:null),l&&(l[u]=!!h.above);else{let p=o[u]=this.tooltipViews[f];l&&(l[u]=t[f]),p.update&&p.update(e)}}}for(let u of this.tooltipViews)o.indexOf(u)<0&&(this.removeTooltipView(u),(n=u.destroy)===null||n===void 0||n.call(u));return t&&(l.forEach((u,h)=>t[h]=u),t.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function _ee(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Ib=tt.define({combine:r=>{var e,t,n;return{position:Qe.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||_ee}}}),XN=new WeakMap,CC=Vn.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(Ib);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new VB(r,RC,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(Ib);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Kd,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Qe.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Kd&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=EC(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Ib).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:t,space:n,scaleX:i,scaleY:s}=r,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let u=this.manager.tooltips[l],h=this.manager.tooltipViews[l],{dom:f}=h,p=r.pos[l],g=r.size[l];if(!p||u.clip!==!1&&(p.bottom<=Math.max(t.top,n.top)||p.top>=Math.min(t.bottom,n.bottom)||p.right<Math.max(t.left,n.left)-.1||p.left>Math.min(t.right,n.right)+.1)){f.style.top=Kd;continue}let y=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,w=y?7:0,_=g.right-g.left,E=(e=XN.get(h))!==null&&e!==void 0?e:g.bottom-g.top,b=h.offset||See,A=this.view.textDirection==_n.LTR,T=g.width>n.right-n.left?A?n.left:n.right-g.width:A?Math.max(n.left,Math.min(p.left-(y?14:0)+b.x,n.right-_)):Math.min(Math.max(n.left,p.left-_+(y?14:0)-b.x),n.right-_),x=this.above[l];!u.strictSide&&(x?p.top-E-w-b.y<n.top:p.bottom+E+w+b.y>n.bottom)&&x==n.bottom-p.bottom>p.top-n.top&&(x=this.above[l]=!x);let D=(x?p.top-n.top:n.bottom-p.bottom)-w;if(D<E&&h.resize!==!1){if(D<this.view.defaultLineHeight){f.style.top=Kd;continue}XN.set(h,E),f.style.height=(E=D)/s+"px"}else f.style.height&&(f.style.height="");let M=x?p.top-E-w-b.y:p.bottom+w+b.y,O=T+_;if(h.overlap!==!0)for(let P of o)P.left<O&&P.right>T&&P.top<M+E&&P.bottom>M&&(M=x?P.top-E-2-w:P.bottom+w+2);if(this.position=="absolute"?(f.style.top=(M-r.parent.top)/s+"px",QN(f,(T-r.parent.left)/i)):(f.style.top=M/s+"px",QN(f,T/i)),y){let P=p.left+(A?b.x:-b.x)-(T+14-7);y.style.left=P/i+"px"}h.overlap!==!0&&o.push({left:T,top:M,right:O,bottom:M+E}),f.classList.toggle("cm-tooltip-above",x),f.classList.toggle("cm-tooltip-below",!x),h.positioned&&h.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Kd}},{eventObservers:{scroll(){this.maybeMeasure()}}});function QN(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const bee=Xe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),See={x:0,y:0},RC=tt.define({enables:[CC,bee]}),xv=tt.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class xw{static create(e){return new xw(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new VB(e,xv,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Eee=RC.compute([xv],r=>{let e=r.facet(xv);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:xw.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class xee{constructor(e,t,n,i,s){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let i,s=1;if(n instanceof Tl)i=n.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let l=e.coordsAtPos(i);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),h=u&&u.dir==_n.RTL?-1:1;s=t.x<l.left?-h:h}let o=this.source(e,i,s);if(o?.then){let l=this.pending={pos:i};o.then(u=>{this.pending==l&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>_i(e.state,u,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(CC),t=e?e.manager.tooltips.findIndex(n=>n.create==xw.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Tee(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,l=(n=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:o;(o==l?this.view.posAtCoords(this.lastMove)!=o:!Aee(this.view,o,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const My=4;function Tee(r,e){let{left:t,right:n,top:i,bottom:s}=r.getBoundingClientRect(),o;if(o=r.querySelector(".cm-tooltip-arrow")){let l=o.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return e.clientX>=t-My&&e.clientX<=n+My&&e.clientY>=i-My&&e.clientY<=s+My}function Aee(r,e,t,n,i,s){let o=r.scrollDOM.getBoundingClientRect(),l=r.documentTop+r.documentPadding.top+r.contentHeight;if(o.left>n||o.right<n||o.top>i||Math.min(o.bottom,l)<i)return!1;let u=r.posAtCoords({x:n,y:i},!1);return u>=e&&u<=t}function Cee(r,e={}){let t=Et.define(),n=Lr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let l of i){let u=s.changes.mapPos(l.pos,-1,li.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),l);h.pos=u,h.end!=null&&(h.end=s.changes.mapPos(h.end)),o.push(h)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(Ree)&&(i=[]);return i},provide:i=>xv.from(i)});return{active:n,extension:[n,Vn.define(i=>new xee(i,r,n,t,e.hoverTime||300)),Eee]}}function UB(r,e){let t=r.plugin(CC);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const Ree=Et.define(),ZN=tt.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function um(r,e){let t=r.plugin(zB),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const zB=Vn.fromClass(class{constructor(r){this.input=r.state.facet(cm),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(ZN);this.top=new Py(r,!0,e.topContainer),this.bottom=new Py(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(ZN);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Py(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Py(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(cm);if(t!=this.input){let n=t.filter(u=>u),i=[],s=[],o=[],l=[];for(let u of n){let h=this.specs.indexOf(u),f;h<0?(f=u(r.view),l.push(f)):(f=this.panels[h],f.update&&f.update(r)),i.push(f),(f.top?s:o).push(f)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let u of l)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Xe.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Py{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=JN(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=JN(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function JN(r){let e=r.nextSibling;return r.remove(),e}const cm=tt.define({enables:zB});class Ma extends mc{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ma.prototype.elementClass="";Ma.prototype.toDOM=void 0;Ma.prototype.mapMode=li.TrackBefore;Ma.prototype.startSide=Ma.prototype.endSide=-1;Ma.prototype.point=!0;const R0=tt.define(),kee=tt.define(),Dee={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Gt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Np=tt.define();function Iee(r){return[jB(),Np.of({...Dee,...r})]}const eM=tt.define({combine:r=>r.some(e=>e)});function jB(r){return[Oee]}const Oee=Vn.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(Np).map(e=>new nM(r,e)),this.fixed=!r.state.facet(eM);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(eM)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Gt.iter(this.view.state.facet(R0),this.view.viewport.from),n=[],i=this.gutters.map(s=>new Nee(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==ui.Text&&o){ET(t,n,l.from);for(let u of i)u.line(this.view,l,n);o=!1}else if(l.widget)for(let u of i)u.widget(this.view,l)}else if(s.type==ui.Text){ET(t,n,s.from);for(let o of i)o.line(this.view,s,n)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(Np),t=r.state.facet(Np),n=r.docChanged||r.heightChanged||r.viewportChanged||!Gt.eq(r.startState.facet(R0),r.state.facet(R0),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new nM(this.view,s)):(this.gutters[o].update(r),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>Xe.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==_n.LTR?{left:n,right:i}:{right:n,left:i}})});function tM(r){return Array.isArray(r)?r:[r]}function ET(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class Nee{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Gt.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let l=new HB(e,o,s,n);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,o,s,n);this.height=t.bottom,this.i++}line(e,t,n){let i=[];ET(this.cursor,i,t.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),i=n?[n]:null;for(let s of e.state.facet(kee)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class nM{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let u=s.getBoundingClientRect();o=(u.top+u.bottom)/2}else o=i.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,l,i)&&i.preventDefault()});this.markers=tM(t.markers(e)),t.initialSpacer&&(this.spacer=new HB(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=tM(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!Gt.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class HB{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),Mee(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let l=o,u=s<t.length?t[s++]:null,h=!1;if(u){let f=u.elementClass;f&&(n+=" "+f);for(let p=o;p<this.markers.length;p++)if(this.markers[p].compare(u)){l=p,h=!0;break}}else l=this.markers.length;for(;o<l;){let f=this.markers[o++];if(f.toDOM){f.destroy(i);let p=i.nextSibling;i.remove(),i=p}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function Mee(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const Pee=tt.define(),Lee=tt.define(),Ih=tt.define({combine(r){return Ho(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let s=n[i],o=t[i];n[i]=s?(l,u,h)=>s(l,u,h)||o(l,u,h):o}return n}})}});class Ob extends Ma{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Nb(r,e){return r.state.facet(Ih).formatNumber(e,r.state)}const Bee=Np.compute([Ih],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Pee)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new Ob(Nb(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let i of e.state.facet(Lee)){let s=i(e,t,n);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Ih)!=e.state.facet(Ih),initialSpacer(e){return new Ob(Nb(e,rM(e.state.doc.lines)))},updateSpacer(e,t){let n=Nb(t.view,rM(t.view.state.doc.lines));return n==e.number?e:new Ob(n)},domEventHandlers:r.facet(Ih).domEventHandlers,side:"before"}));function Fee(r={}){return[Ih.of(r),jB(),Bee]}function rM(r){let e=9;for(;e<r;)e=e*10+9;return e}const Vee=new class extends Ma{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Uee=R0.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(Vee.range(i)))}return Gt.of(e)});function zee(){return Uee}const jee=1024;let Hee=0;class Mb{constructor(e,t){this.from=e,this.to=t}}class Ut{constructor(e={}){this.id=Hee++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Cs.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}Ut.closedBy=new Ut({deserialize:r=>r.split(" ")});Ut.openedBy=new Ut({deserialize:r=>r.split(" ")});Ut.group=new Ut({deserialize:r=>r.split(" ")});Ut.isolate=new Ut({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Ut.contextHash=new Ut({perNode:!0});Ut.lookAhead=new Ut({perNode:!0});Ut.mounted=new Ut({perNode:!0});class Tv{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[Ut.mounted.id]}}const qee=Object.create(null);class Cs{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):qee,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Cs(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ut.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(Ut.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?n.name:i[s]];if(o)return o}}}}Cs.none=new Cs("",Object.create(null),0,8);const Ly=new WeakMap,iM=new WeakMap;var Ir;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Ir||(Ir={}));class Kr{constructor(e,t,n,i,s){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=Tv.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new TT(this.topNode,e)}cursorAt(e,t=0,n=0){let i=Ly.get(this)||this.topNode,s=new TT(i);return s.moveTo(e,t),Ly.set(this,s._tree),s}get topNode(){return new xs(this,0,0,null)}resolve(e,t=0){let n=hm(Ly.get(this)||this.topNode,e,t,!1);return Ly.set(this,n),n}resolveInner(e,t=0){let n=hm(iM.get(this)||this.topNode,e,t,!0);return iM.set(this,n),n}resolveStack(e,t=0){return Kee(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:s=this.length}=e,o=e.mode||0,l=(o&Ir.IncludeAnonymous)>0;for(let u=this.cursor(o|Ir.IncludeAnonymous);;){let h=!1;if(u.from<=s&&u.to>=i&&(!l&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&n&&(l||!u.type.isAnonymous)&&n(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:IC(Cs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new Kr(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new Kr(Cs.none,t,n,i)))}static build(e){return $ee(e)}}Kr.empty=new Kr(Cs.none,[],[],0);class kC{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new kC(this.buffer,this.index)}}class Xl{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Cs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,n,i,s){let{buffer:o}=this,l=-1;for(let u=e;u!=t&&!(qB(s,i,o[u+1],o[u+2])&&(l=u,n>0));u=o[u+3]);return l}slice(e,t,n){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let l=e,u=0;l<t;){s[u++]=i[l++],s[u++]=i[l++]-n;let h=s[u++]=i[l++]-n;s[u++]=i[l++]-e,o=Math.max(o,h)}return new Xl(s,o,this.set)}}function qB(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function hm(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!n&&r instanceof xs&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=n?0:Ir.IgnoreOverlays;if(n)for(let o=r,l=o.parent;l;o=l,l=o.parent)o instanceof xs&&o.index<0&&((i=l.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(r=l);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}class WB{cursor(e=0){return new TT(this,e)}getChild(e,t=null,n=null){let i=sM(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return sM(this,e,t,n)}resolve(e,t=0){return hm(this,e,t,!1)}resolveInner(e,t=0){return hm(this,e,t,!0)}matchContext(e){return xT(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}get node(){return this}get next(){return this.parent}}class xs extends WB{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,s=0){for(let o=this;;){for(let{children:l,positions:u}=o._tree,h=t>0?l.length:-1;e!=h;e+=t){let f=l[e],p=u[e]+o.from;if(qB(i,n,p,p+f.length)){if(f instanceof Xl){if(s&Ir.ExcludeBuffers)continue;let g=f.findChild(0,f.buffer.length,t,n-p,i);if(g>-1)return new Cl(new Wee(o,f,e,p),null,g)}else if(s&Ir.IncludeAnonymous||!f.type.isAnonymous||DC(f)){let g;if(!(s&Ir.IgnoreMounts)&&(g=Tv.get(f))&&!g.overlay)return new xs(g.tree,p,e,o);let y=new xs(f,p,e,o);return s&Ir.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(t<0?f.children.length-1:0,t,n,i)}}}if(s&Ir.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let i;if(!(n&Ir.IgnoreOverlays)&&(i=Tv.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:l}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?l>=s:l>s))return new xs(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function sM(r,e,t,n){let i=r.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function xT(r,e,t=e.length-1){for(let n=r;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class Wee{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Cl extends WB{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new Cl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&Ir.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Cl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Cl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Cl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let o=n.buffer[this.index+1];e.push(n.slice(i,s,o)),t.push(0)}return new Kr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function GB(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let n=t instanceof xs&&t.index<0?null:t.parent,i=r.slice();return n?i[e]=n:i.splice(e,1),new Gee(i,t)}class Gee{constructor(e,t){this.heads=e,this.node=t}get next(){return GB(this.heads)}}function Kee(r,e,t){let n=r.resolveInner(e,t),i=null;for(let s=n instanceof xs?n:n.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[n])).push(o.resolve(e,t)),s=o}else{let o=Tv.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new xs(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(hm(l,e,t,!1))}}return i?GB(i):n}class TT{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof xs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof xs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Ir.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ir.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ir.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,o=e<0?-1:n._tree.children.length;s!=o;s+=e){let l=n._tree.children[s];if(this.mode&Ir.IncludeAnonymous||l instanceof Xl||!l.type.isAnonymous||DC(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)t=new Cl(this.buffer,t,this.stack[i]);return this.bufferNode=new Cl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return xT(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return xT(this._tree,e,i);let o=n[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function DC(r){return r.children.some(e=>e instanceof Xl||!e.type.isAnonymous||DC(e))}function $ee(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=jee,reused:s=[],minRepeatType:o=n.types.length}=r,l=Array.isArray(t)?new kC(t,t.length):t,u=n.types,h=0,f=0;function p(D,M,O,P,C,W){let{id:$,start:N,end:F,size:B}=l,ae=f,Q=h;for(;B<0;)if(l.next(),B==-1){let J=s[$];O.push(J),P.push(N-D);return}else if(B==-3){h=$;return}else if(B==-4){f=$;return}else throw new RangeError(`Unrecognized record size: ${B}`);let Y=u[$],pe,fe,ee=N-D;if(F-N<=i&&(fe=E(l.pos-M,C))){let J=new Uint16Array(fe.size-fe.skip),K=l.pos-fe.size,re=J.length;for(;l.pos>K;)re=b(fe.start,J,re);pe=new Xl(J,F-fe.start,n),ee=fe.start-D}else{let J=l.pos-B;l.next();let K=[],re=[],he=$>=o?$:-1,ve=0,ce=F;for(;l.pos>J;)he>=0&&l.id==he&&l.size>=0?(l.end<=ce-i&&(w(K,re,N,ve,l.end,ce,he,ae,Q),ve=K.length,ce=l.end),l.next()):W>2500?g(N,J,K,re):p(N,J,K,re,he,W+1);if(he>=0&&ve>0&&ve<K.length&&w(K,re,N,ve,N,ce,he,ae,Q),K.reverse(),re.reverse(),he>-1&&ve>0){let j=y(Y,Q);pe=IC(Y,K,re,0,K.length,0,F-N,j,j)}else pe=_(Y,K,re,F-N,ae-F,Q)}O.push(pe),P.push(ee)}function g(D,M,O,P){let C=[],W=0,$=-1;for(;l.pos>M;){let{id:N,start:F,end:B,size:ae}=l;if(ae>4)l.next();else{if($>-1&&F<$)break;$<0&&($=B-i),C.push(N,F,B),W++,l.next()}}if(W){let N=new Uint16Array(W*4),F=C[C.length-2];for(let B=C.length-3,ae=0;B>=0;B-=3)N[ae++]=C[B],N[ae++]=C[B+1]-F,N[ae++]=C[B+2]-F,N[ae++]=ae;O.push(new Xl(N,C[2]-F,n)),P.push(F-D)}}function y(D,M){return(O,P,C)=>{let W=0,$=O.length-1,N,F;if($>=0&&(N=O[$])instanceof Kr){if(!$&&N.type==D&&N.length==C)return N;(F=N.prop(Ut.lookAhead))&&(W=P[$]+N.length+F)}return _(D,O,P,C,W,M)}}function w(D,M,O,P,C,W,$,N,F){let B=[],ae=[];for(;D.length>P;)B.push(D.pop()),ae.push(M.pop()+O-C);D.push(_(n.types[$],B,ae,W-C,N-W,F)),M.push(C-O)}function _(D,M,O,P,C,W,$){if(W){let N=[Ut.contextHash,W];$=$?[N].concat($):[N]}if(C>25){let N=[Ut.lookAhead,C];$=$?[N].concat($):[N]}return new Kr(D,M,O,P,$)}function E(D,M){let O=l.fork(),P=0,C=0,W=0,$=O.end-i,N={size:0,start:0,skip:0};e:for(let F=O.pos-D;O.pos>F;){let B=O.size;if(O.id==M&&B>=0){N.size=P,N.start=C,N.skip=W,W+=4,P+=4,O.next();continue}let ae=O.pos-B;if(B<0||ae<F||O.start<$)break;let Q=O.id>=o?4:0,Y=O.start;for(O.next();O.pos>ae;){if(O.size<0)if(O.size==-3)Q+=4;else break e;else O.id>=o&&(Q+=4);O.next()}C=Y,P+=B,W+=Q}return(M<0||P==D)&&(N.size=P,N.start=C,N.skip=W),N.size>4?N:void 0}function b(D,M,O){let{id:P,start:C,end:W,size:$}=l;if(l.next(),$>=0&&P<o){let N=O;if($>4){let F=l.pos-($-4);for(;l.pos>F;)O=b(D,M,O)}M[--O]=N,M[--O]=W-D,M[--O]=C-D,M[--O]=P}else $==-3?h=P:$==-4&&(f=P);return O}let A=[],T=[];for(;l.pos>0;)p(r.start||0,r.bufferStart||0,A,T,-1,0);let x=(e=r.length)!==null&&e!==void 0?e:A.length?T[0]+A[0].length:0;return new Kr(u[r.topID],A.reverse(),T.reverse(),x)}const oM=new WeakMap;function k0(r,e){if(!r.isAnonymous||e instanceof Xl||e.type!=r)return 1;let t=oM.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof Kr)){t=1;break}t+=k0(r,n)}oM.set(e,t)}return t}function IC(r,e,t,n,i,s,o,l,u){let h=0;for(let w=n;w<i;w++)h+=k0(r,e[w]);let f=Math.ceil(h*1.5/8),p=[],g=[];function y(w,_,E,b,A){for(let T=E;T<b;){let x=T,D=_[T],M=k0(r,w[T]);for(T++;T<b;T++){let O=k0(r,w[T]);if(M+O>=f)break;M+=O}if(T==x+1){if(M>f){let O=w[x];y(O.children,O.positions,0,O.children.length,_[x]+A);continue}p.push(w[x])}else{let O=_[T-1]+w[T-1].length-D;p.push(IC(r,w,_,x,T,D,O,null,u))}g.push(D+A-s)}}return y(e,t,n,i,0),(l||u)(p,g,o)}class ic{constructor(e,t,n,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new ic(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let l=0,u=0,h=0;;l++){let f=l<t.length?t[l]:null,p=f?f.fromA:1e9;if(p-u>=n)for(;o&&o.from<p;){let g=o;if(u>=g.from||p<=g.to||h){let y=Math.max(g.from,u)-h,w=Math.min(g.to,p)-h;g=y>=w?null:new ic(y,w,g.tree,g.offset+h,l>0,!!f)}if(g&&i.push(g),o.to>p)break;o=s<e.length?e[s++]:null}if(!f)break;u=f.toA,h=f.toA-f.toB}return i}}class Yee{startParse(e,t,n){return typeof e=="string"&&(e=new Xee(e)),n=n?n.length?n.map(i=>new Mb(i.from,i.to)):[new Mb(0,0)]:[new Mb(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let s=i.advance();if(s)return s}}}class Xee{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ut({perNode:!0});let Qee=0;class ms{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=Qee++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof ms&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new ms(n,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new Av(e);return n=>n.modified.indexOf(t)>-1?n:Av.get(n.base||n,n.modified.concat(t).sort((i,s)=>i.id-s.id))}}let Zee=0;class Av{constructor(e){this.name=e,this.instances=[],this.id=Zee++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(l=>l.base==e&&Jee(t,l.modified));if(n)return n;let i=[],s=new ms(e.name,i,e,t);for(let l of t)l.instances.push(s);let o=ete(t);for(let l of e.set)if(!l.modified.length)for(let u of o)i.push(Av.get(l,u));return s}}function Jee(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function ete(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function tte(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let s=[],o=2,l=i;for(let p=0;;){if(l=="..."&&p>0&&p+3==i.length){o=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),p+=g[0].length,p==i.length)break;let y=i[p++];if(p==i.length&&y=="!"){o=0;break}if(y!="/")throw new RangeError("Invalid path: "+i);l=i.slice(p)}let u=s.length-1,h=s[u];if(!h)throw new RangeError("Invalid path: "+i);let f=new Cv(n,o,u>0?s.slice(0,u):null);e[h]=f.sort(e[h])}}return KB.add(e)}const KB=new Ut;class Cv{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Cv.empty=new Cv([],2,null);function $B(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let o=i;for(let l of s)for(let u of l.set){let h=t[u.id];if(h){o=o?o+" "+h:h;break}}return o},scope:n}}function nte(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function rte(r,e,t,n=0,i=r.length){let s=new ite(n,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),n,i,"",s.highlighters),s.flush(i)}class ite{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:o,from:l,to:u}=e;if(l>=n||u<=t)return;o.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(o)));let h=i,f=ste(e)||Cv.empty,p=nte(s,f.tags);if(p&&(h&&(h+=" "),h+=p,f.mode==1&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(t,l),h),f.opaque)return;let g=e.tree&&e.tree.prop(Ut.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+l,1),w=this.highlighters.filter(E=>!E.scope||E.scope(g.tree.type)),_=e.firstChild();for(let E=0,b=l;;E++){let A=E<g.overlay.length?g.overlay[E]:null,T=A?A.from+l:u,x=Math.max(t,b),D=Math.min(n,T);if(x<D&&_)for(;e.from<D&&(this.highlightRange(e,x,D,i,s),this.startSpan(Math.min(D,e.to),h),!(e.to>=T||!e.nextSibling())););if(!A||T>n)break;b=A.to+l,b>t&&(this.highlightRange(y.cursor(),Math.max(t,A.from+l),Math.min(n,b),"",w),this.startSpan(Math.min(n,b),h))}_&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),h)}while(e.nextSibling());e.parent()}}}function ste(r){let e=r.type.prop(KB);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Ye=ms.define,By=Ye(),hl=Ye(),aM=Ye(hl),lM=Ye(hl),fl=Ye(),Fy=Ye(fl),Pb=Ye(fl),ho=Ye(),Lu=Ye(ho),lo=Ye(),uo=Ye(),AT=Ye(),$d=Ye(AT),Vy=Ye(),Me={comment:By,lineComment:Ye(By),blockComment:Ye(By),docComment:Ye(By),name:hl,variableName:Ye(hl),typeName:aM,tagName:Ye(aM),propertyName:lM,attributeName:Ye(lM),className:Ye(hl),labelName:Ye(hl),namespace:Ye(hl),macroName:Ye(hl),literal:fl,string:Fy,docString:Ye(Fy),character:Ye(Fy),attributeValue:Ye(Fy),number:Pb,integer:Ye(Pb),float:Ye(Pb),bool:Ye(fl),regexp:Ye(fl),escape:Ye(fl),color:Ye(fl),url:Ye(fl),keyword:lo,self:Ye(lo),null:Ye(lo),atom:Ye(lo),unit:Ye(lo),modifier:Ye(lo),operatorKeyword:Ye(lo),controlKeyword:Ye(lo),definitionKeyword:Ye(lo),moduleKeyword:Ye(lo),operator:uo,derefOperator:Ye(uo),arithmeticOperator:Ye(uo),logicOperator:Ye(uo),bitwiseOperator:Ye(uo),compareOperator:Ye(uo),updateOperator:Ye(uo),definitionOperator:Ye(uo),typeOperator:Ye(uo),controlOperator:Ye(uo),punctuation:AT,separator:Ye(AT),bracket:$d,angleBracket:Ye($d),squareBracket:Ye($d),paren:Ye($d),brace:Ye($d),content:ho,heading:Lu,heading1:Ye(Lu),heading2:Ye(Lu),heading3:Ye(Lu),heading4:Ye(Lu),heading5:Ye(Lu),heading6:Ye(Lu),contentSeparator:Ye(ho),list:Ye(ho),quote:Ye(ho),emphasis:Ye(ho),strong:Ye(ho),link:Ye(ho),monospace:Ye(ho),strikethrough:Ye(ho),inserted:Ye(),deleted:Ye(),changed:Ye(),invalid:Ye(),meta:Vy,documentMeta:Ye(Vy),annotation:Ye(Vy),processingInstruction:Ye(Vy),definition:ms.defineModifier("definition"),constant:ms.defineModifier("constant"),function:ms.defineModifier("function"),standard:ms.defineModifier("standard"),local:ms.defineModifier("local"),special:ms.defineModifier("special")};for(let r in Me){let e=Me[r];e instanceof ms&&(e.name=r)}$B([{tag:Me.link,class:"tok-link"},{tag:Me.heading,class:"tok-heading"},{tag:Me.emphasis,class:"tok-emphasis"},{tag:Me.strong,class:"tok-strong"},{tag:Me.keyword,class:"tok-keyword"},{tag:Me.atom,class:"tok-atom"},{tag:Me.bool,class:"tok-bool"},{tag:Me.url,class:"tok-url"},{tag:Me.labelName,class:"tok-labelName"},{tag:Me.inserted,class:"tok-inserted"},{tag:Me.deleted,class:"tok-deleted"},{tag:Me.literal,class:"tok-literal"},{tag:Me.string,class:"tok-string"},{tag:Me.number,class:"tok-number"},{tag:[Me.regexp,Me.escape,Me.special(Me.string)],class:"tok-string2"},{tag:Me.variableName,class:"tok-variableName"},{tag:Me.local(Me.variableName),class:"tok-variableName tok-local"},{tag:Me.definition(Me.variableName),class:"tok-variableName tok-definition"},{tag:Me.special(Me.variableName),class:"tok-variableName2"},{tag:Me.definition(Me.propertyName),class:"tok-propertyName tok-definition"},{tag:Me.typeName,class:"tok-typeName"},{tag:Me.namespace,class:"tok-namespace"},{tag:Me.className,class:"tok-className"},{tag:Me.macroName,class:"tok-macroName"},{tag:Me.propertyName,class:"tok-propertyName"},{tag:Me.operator,class:"tok-operator"},{tag:Me.comment,class:"tok-comment"},{tag:Me.meta,class:"tok-meta"},{tag:Me.invalid,class:"tok-invalid"},{tag:Me.punctuation,class:"tok-punctuation"}]);var Lb;const vp=new Ut,ote=new Ut;class Eo{constructor(e,t,n=[],i=""){this.data=e,this.name=i,Ft.prototype.hasOwnProperty("tree")||Object.defineProperty(Ft.prototype,"tree",{get(){return Xr(this)}}),this.parser=t,this.extension=[Ql.of(this),Ft.languageData.of((s,o,l)=>{let u=uM(s,o,l),h=u.type.prop(vp);if(!h)return[];let f=s.facet(h),p=u.type.prop(ote);if(p){let g=u.resolve(o-u.from,l);for(let y of p)if(y.test(g,s)){let w=s.facet(y.facet);return y.type=="replace"?w:w.concat(f)}}return f})].concat(n)}isActiveAt(e,t,n=-1){return uM(e,t,n).type.prop(vp)==this.data}findRegions(e){let t=e.facet(Ql);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(s,o)=>{if(s.prop(vp)==this.data){n.push({from:o,to:o+s.length});return}let l=s.prop(Ut.mounted);if(l){if(l.tree.prop(vp)==this.data){if(l.overlay)for(let u of l.overlay)n.push({from:u.from+o,to:u.to+o});else n.push({from:o,to:o+s.length});return}else if(l.overlay){let u=n.length;if(i(l.tree,l.overlay[0].from+o),n.length>u)return}}for(let u=0;u<s.children.length;u++){let h=s.children[u];h instanceof Kr&&i(h,s.positions[u]+o)}};return i(Xr(e),0),n}get allowsNesting(){return!0}}Eo.setState=Et.define();function uM(r,e,t){let n=r.facet(Ql),i=Xr(r).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,t,Ir.ExcludeBuffers))s.type.isTop&&(i=s);return i}function Xr(r){let e=r.field(Eo.state,!1);return e?e.tree:Kr.empty}class ate{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Yd=null;class Rv{constructor(e,t,n=[],i,s,o,l,u){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Rv(e,t,[],Kr.empty,0,n,[],null)}startParse(){return this.parser.startParse(new ate(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Kr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ic.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ic.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Yd;Yd=this;try{return e()}finally{Yd=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=cM(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,f,p,g)=>u.push({fromA:h,toA:f,fromB:p,toB:g})),n=ic.applyChanges(n,u),i=Kr.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let h of this.skipped){let f=e.mapPos(h.from,1),p=e.mapPos(h.to,-1);f<p&&l.push({from:f,to:p})}}}return new Rv(this.parser,t,n,i,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=cM(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends Yee{createParse(t,n,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let u=Yd;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=o,new Kr(Cs.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Yd}}function cM(r,e,t){return ic.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class wf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new wf(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Rv.create(e.facet(Ql).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new wf(n)}}Eo.state=Lr.define({create:wf.init,update(r,e){for(let t of e.effects)if(t.is(Eo.setState))return t.value;return e.startState.facet(Ql)!=e.state.facet(Ql)?wf.init(e.state):r.apply(e)}});let YB=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(YB=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Bb=typeof navigator<"u"&&(!((Lb=navigator.scheduling)===null||Lb===void 0)&&Lb.isInputPending)?()=>navigator.scheduling.isInputPending():null,lte=Vn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Eo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Eo.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=YB(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(Eo.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Bb?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<i&&n.doc.length>i+1e3,u=s.context.work(()=>Bb&&Bb()||Date.now()>o,i+(l?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Eo.setState.of(new wf(s.context))})),this.chunkBudget>0&&!(u&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>_i(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ql=tt.define({combine(r){return r.length?r[0]:null},enables:r=>[Eo.state,lte,Xe.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]}),ute=tt.define(),Tw=tt.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function kv(r){let e=r.facet(Tw);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function fm(r,e){let t="",n=r.tabSize,i=r.facet(Tw)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let s=0;s<e;s++)t+=i;return t}function OC(r,e){r instanceof Ft&&(r=new Aw(r));for(let n of r.state.facet(ute)){let i=n(r,e);if(i!==void 0)return i}let t=Xr(r.state);return t.length>=e?hte(r,t,e):null}class Aw{constructor(e,t={}){this.state=e,this.options=t,this.unit=kv(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.countColumn(n,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return Bf(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const cte=new Ut;function hte(r,e,t){let n=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=n.node){let s=[];for(let o=i;o&&!(o.from<n.node.from||o.to>n.node.to||o.from==n.node.from&&o.type==n.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)n={node:s[o],next:n}}return XB(n,r,t)}function XB(r,e,t){for(let n=r;n;n=n.next){let i=dte(n.node);if(i)return i(NC.create(e,t,n))}return 0}function fte(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function dte(r){let e=r.type.prop(cte);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(Ut.closedBy))){let i=r.lastChild,s=i&&n.indexOf(i.name)>-1;return o=>yte(o,!0,1,void 0,s&&!fte(o)?i.from:void 0)}return r.parent==null?pte:null}function pte(){return 0}class NC extends Aw{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new NC(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(mte(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return XB(this.context.next,this.base,this.pos)}}function mte(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function gte(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=t.to;;){let u=e.childAfter(l);if(!u||u==n)return null;if(!u.type.isSkipped){if(u.from>=o)return null;let h=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+h}}l=u.to}}function yte(r,e,t,n,i){let s=r.textAfter,o=s.match(/^\s*/)[0].length,l=n&&s.slice(o,o+n.length)==n||i==r.pos+o,u=gte(r);return u?l?r.column(u.from):r.column(u.to):r.baseIndent+(l?0:r.unit*t)}const vte=200;function wte(){return Ft.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+vte)return r;let s=t.sliceString(i.from,n);if(!e.some(h=>h.test(s)))return r;let{state:o}=r,l=-1,u=[];for(let{head:h}of o.selection.ranges){let f=o.doc.lineAt(h);if(f.from==l)continue;l=f.from;let p=OC(o,f.from);if(p==null)continue;let g=/^\s*/.exec(f.text)[0],y=fm(o,p);g!=y&&u.push({from:f.from,to:f.from+g.length,insert:y})}return u.length?[r,{changes:u,sequential:!0}]:r})}const _te=tt.define(),bte=new Ut;function Ste(r,e,t){let n=Xr(r);if(n.length<t)return null;let i=n.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let l=o.node;if(l.to<=t||l.from>t)continue;if(s&&l.from<e)break;let u=l.type.prop(bte);if(u&&(l.to<n.length-50||n.length==r.doc.length||!Ete(l))){let h=u(l,r);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function Ete(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function Dv(r,e,t){for(let n of r.facet(_te)){let i=n(r,e,t);if(i)return i}return Ste(r,e,t)}function QB(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const Cw=Et.define({map:QB}),Vm=Et.define({map:QB});function ZB(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const wc=Lr.define({create(){return ht.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,n)=>r=hM(r,t,n)),r=r.map(e.changes);for(let t of e.effects)if(t.is(Cw)&&!xte(r,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(t9),i=n?ht.replace({widget:new Ite(n(e.state,t.value))}):fM;r=r.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(Vm)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=hM(r,e.selection.main.head)),r},provide:r=>Xe.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(fM.range(n,i))}return ht.set(e,!0)}});function hM(r,e,t=e){let n=!1;return r.between(e,t,(i,s)=>{i<t&&s>e&&(n=!0)}),n?r.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):r}function Iv(r,e,t){var n;let i=null;return(n=r.field(wc,!1))===null||n===void 0||n.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function xte(r,e,t){let n=!1;return r.between(e,e,(i,s)=>{i==e&&s==t&&(n=!0)}),n}function JB(r,e){return r.field(wc,!1)?e:e.concat(Et.appendConfig.of(n9()))}const Tte=r=>{for(let e of ZB(r)){let t=Dv(r.state,e.from,e.to);if(t)return r.dispatch({effects:JB(r.state,[Cw.of(t),e9(r,t)])}),!0}return!1},Ate=r=>{if(!r.state.field(wc,!1))return!1;let e=[];for(let t of ZB(r)){let n=Iv(r.state,t.from,t.to);n&&e.push(Vm.of(n),e9(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function e9(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return Xe.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const Cte=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),s=Dv(e,i.from,i.to);s&&t.push(Cw.of(s)),n=(s?r.lineBlockAt(s.to):i).to+1}return t.length&&r.dispatch({effects:JB(r.state,t)}),!!t.length},Rte=r=>{let e=r.state.field(wc,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(Vm.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},kte=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Tte},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Ate},{key:"Ctrl-Alt-[",run:Cte},{key:"Ctrl-Alt-]",run:Rte}],Dte={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},t9=tt.define({combine(r){return Ho(r,Dte)}});function n9(r){return[wc,Mte]}function r9(r,e){let{state:t}=r,n=t.facet(t9),i=o=>{let l=r.lineBlockAt(r.posAtDOM(o.target)),u=Iv(r.state,l.from,l.to);u&&r.dispatch({effects:Vm.of(u)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const fM=ht.replace({widget:new class extends La{toDOM(r){return r9(r,null)}}});class Ite extends La{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return r9(e,this.value)}}const Ote={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Fb extends Ma{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Nte(r={}){let e={...Ote,...r},t=new Fb(e,!0),n=new Fb(e,!1),i=Vn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Ql)!=o.state.facet(Ql)||o.startState.field(wc,!1)!=o.state.field(wc,!1)||Xr(o.startState)!=Xr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new Oa;for(let u of o.viewportLineBlocks){let h=Iv(o.state,u.from,u.to)?n:Dv(o.state,u.from,u.to)?t:null;h&&l.add(u.from,u.from,h)}return l.finish()}}),{domEventHandlers:s}=e;return[i,Iee({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(i))===null||l===void 0?void 0:l.markers)||Gt.empty},initialSpacer(){return new Fb(e,!1)},domEventHandlers:{...s,click:(o,l,u)=>{if(s.click&&s.click(o,l,u))return!0;let h=Iv(o.state,l.from,l.to);if(h)return o.dispatch({effects:Vm.of(h)}),!0;let f=Dv(o.state,l.from,l.to);return f?(o.dispatch({effects:Cw.of(f)}),!0):!1}}}),n9()]}const Mte=Xe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Um{constructor(e,t){this.specs=e;let n;function i(l){let u=Kl.newName();return(n||(n=Object.create(null)))["."+u]=l,u}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Eo?l=>l.prop(vp)==o.data:o?l=>l==o:void 0,this.style=$B(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=n?new Kl(n):null,this.themeType=t.themeType}static define(e,t){return new Um(e,t||{})}}const CT=tt.define(),i9=tt.define({combine(r){return r.length?[r[0]]:null}});function Vb(r){let e=r.facet(CT);return e.length?e:r.facet(i9)}function s9(r,e){let t=[Lte],n;return r instanceof Um&&(r.module&&t.push(Xe.styleModule.of(r.module)),n=r.themeType),e?.fallback?t.push(i9.of(r)):n?t.push(CT.computeN([Xe.darkTheme],i=>i.facet(Xe.darkTheme)==(n=="dark")?[r]:[])):t.push(CT.of(r)),t}class Pte{constructor(e){this.markCache=Object.create(null),this.tree=Xr(e.state),this.decorations=this.buildDeco(e,Vb(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Xr(e.state),n=Vb(e.state),i=n!=Vb(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return ht.none;let n=new Oa;for(let{from:i,to:s}of e.visibleRanges)rte(this.tree,t,(o,l,u)=>{n.add(o,l,this.markCache[u]||(this.markCache[u]=ht.mark({class:u})))},i,s);return n.finish()}}const Lte=Cc.high(Vn.fromClass(Pte,{decorations:r=>r.decorations})),Bte=Um.define([{tag:Me.meta,color:"#404740"},{tag:Me.link,textDecoration:"underline"},{tag:Me.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Me.emphasis,fontStyle:"italic"},{tag:Me.strong,fontWeight:"bold"},{tag:Me.strikethrough,textDecoration:"line-through"},{tag:Me.keyword,color:"#708"},{tag:[Me.atom,Me.bool,Me.url,Me.contentSeparator,Me.labelName],color:"#219"},{tag:[Me.literal,Me.inserted],color:"#164"},{tag:[Me.string,Me.deleted],color:"#a11"},{tag:[Me.regexp,Me.escape,Me.special(Me.string)],color:"#e40"},{tag:Me.definition(Me.variableName),color:"#00f"},{tag:Me.local(Me.variableName),color:"#30a"},{tag:[Me.typeName,Me.namespace],color:"#085"},{tag:Me.className,color:"#167"},{tag:[Me.special(Me.variableName),Me.macroName],color:"#256"},{tag:Me.definition(Me.propertyName),color:"#00c"},{tag:Me.comment,color:"#940"},{tag:Me.invalid,color:"#f00"}]),Fte=Xe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),o9=1e4,a9="()[]{}",l9=tt.define({combine(r){return Ho(r,{afterCursor:!0,brackets:a9,maxScanDistance:o9,renderMatch:zte})}}),Vte=ht.mark({class:"cm-matchingBracket"}),Ute=ht.mark({class:"cm-nonmatchingBracket"});function zte(r){let e=[],t=r.matched?Vte:Ute;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const jte=Lr.define({create(){return ht.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(l9);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=xo(e.state,i.head,-1,n)||i.head>0&&xo(e.state,i.head-1,1,n)||n.afterCursor&&(xo(e.state,i.head,1,n)||i.head<e.state.doc.length&&xo(e.state,i.head+1,-1,n));s&&(t=t.concat(n.renderMatch(s,e.state)))}return ht.set(t,!0)},provide:r=>Xe.decorations.from(r)}),Hte=[jte,Fte];function qte(r={}){return[l9.of(r),Hte]}const Wte=new Ut;function RT(r,e,t){let n=r.prop(e<0?Ut.openedBy:Ut.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function kT(r){let e=r.type.prop(Wte);return e?e(r.node):r}function xo(r,e,t,n={}){let i=n.maxScanDistance||o9,s=n.brackets||a9,o=Xr(r),l=o.resolveInner(e,t);for(let u=l;u;u=u.parent){let h=RT(u.type,t,s);if(h&&u.from<u.to){let f=kT(u);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return Gte(r,e,t,u,f,h,s)}}return Kte(r,e,t,o,l.type,i,s)}function Gte(r,e,t,n,i,s,o){let l=n.parent,u={from:i.from,to:i.to},h=0,f=l?.cursor();if(f&&(t<0?f.childBefore(n.from):f.childAfter(n.to)))do if(t<0?f.to<=n.from:f.from>=n.to){if(h==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let p=kT(f);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(RT(f.type,t,o))h++;else if(RT(f.type,-t,o)){if(h==0){let p=kT(f);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}h--}}while(t<0?f.prevSibling():f.nextSibling());return{start:u,matched:!1}}function Kte(r,e,t,n,i,s,o){let l=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),u=o.indexOf(l);if(u<0||u%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},f=r.doc.iterRange(e,t>0?r.doc.length:0),p=0;for(let g=0;!f.next().done&&g<=s;){let y=f.value;t<0&&(g+=y.length);let w=e+g*t;for(let _=t>0?0:y.length-1,E=t>0?y.length:-1;_!=E;_+=t){let b=o.indexOf(y[_]);if(!(b<0||n.resolveInner(w+_,1).type!=i))if(b%2==0==t>0)p++;else{if(p==1)return{start:h,end:{from:w+_,to:w+_+1},matched:b>>1==u>>1};p--}}t>0&&(g+=y.length)}return f.done?{start:h,matched:!1}:null}const $te=Object.create(null),dM=[Cs.none],pM=[],mM=Object.create(null),Yte=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Yte[r]=Xte($te,e);function Ub(r,e){pM.indexOf(r)>-1||(pM.push(r),console.warn(e))}function Xte(r,e){let t=[];for(let l of e.split(" ")){let u=[];for(let h of l.split(".")){let f=r[h]||Me[h];f?typeof f=="function"?u.length?u=u.map(f):Ub(h,`Modifier ${h} used at start of tag`):u.length?Ub(h,`Tag ${h} used as modifier`):u=Array.isArray(f)?f:[f]:Ub(h,`Unknown highlighting tag ${h}`)}for(let h of u)t.push(h)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+t.map(l=>l.id),s=mM[i];if(s)return s.id;let o=mM[i]=Cs.define({id:dM.length,name:n,props:[tte({[n]:t})]});return dM.push(o),o.id}_n.RTL,_n.LTR;const Qte=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=PC(r.state,t.from);return n.line?Zte(r):n.block?ene(r):!1};function MC(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const Zte=MC(rne,0),Jte=MC(u9,0),ene=MC((r,e)=>u9(r,e,nne(e)),0);function PC(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Xd=50;function tne(r,{open:e,close:t},n,i){let s=r.sliceDoc(n-Xd,n),o=r.sliceDoc(i,i+Xd),l=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(o)[0].length,h=s.length-l;if(s.slice(h-e.length,h)==e&&o.slice(u,u+t.length)==t)return{open:{pos:n-l,margin:l&&1},close:{pos:i+u,margin:u&&1}};let f,p;i-n<=2*Xd?f=p=r.sliceDoc(n,i):(f=r.sliceDoc(n,n+Xd),p=r.sliceDoc(i-Xd,i));let g=/^\s*/.exec(f)[0].length,y=/\s*$/.exec(p)[0].length,w=p.length-y-t.length;return f.slice(g,g+e.length)==e&&p.slice(w,w+t.length)==t?{open:{pos:n+g+e.length,margin:/\s/.test(f.charAt(g+e.length))?1:0},close:{pos:i-y-t.length,margin:/\s/.test(p.charAt(w-1))?1:0}}:null}function nne(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to);i.from>n.from&&i.from==t.to&&(i=t.to==n.to+1?n:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function u9(r,e,t=e.selection.ranges){let n=t.map(s=>PC(e,s.from).block);if(!n.every(s=>s))return null;let i=t.map((s,o)=>tne(e,n[o],s.from,s.to));if(r!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:n[o].open+" "},{from:s.to,insert:" "+n[o].close}]))};if(r!=1&&i.some(s=>s)){let s=[];for(let o=0,l;o<i.length;o++)if(l=i[o]){let u=n[o],{open:h,close:f}=l;s.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:f.pos-f.margin,to:f.pos+u.close.length})}return{changes:s}}return null}function rne(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:o}of t){let l=n.length,u=1e9,h=PC(e,s).line;if(h){for(let f=s;f<=o;){let p=e.doc.lineAt(f);if(p.from>i&&(s==o||o>p.from)){i=p.from;let g=/^\s*/.exec(p.text)[0].length,y=g==p.length,w=p.text.slice(g,g+h.length)==h?g:-1;g<p.text.length&&g<u&&(u=g),n.push({line:p,comment:w,token:h,indent:g,empty:y,single:!1})}f=p.to+1}if(u<1e9)for(let f=l;f<n.length;f++)n[f].indent<n[f].line.text.length&&(n[f].indent=u);n.length==l+1&&(n[l].single=!0)}}if(r!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:u,indent:h,empty:f,single:p}of n)(p||!f)&&s.push({from:l.from+h,insert:u+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(r!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:u}of n)if(l>=0){let h=o.from+l,f=h+u.length;o.text[f-o.from]==" "&&f++,s.push({from:h,to:f})}return{changes:s}}return null}const DT=jo.define(),ine=jo.define(),sne=tt.define(),c9=tt.define({combine(r){return Ho(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}}),h9=Lr.define({create(){return To.empty},update(r,e){let t=e.state.facet(c9),n=e.annotation(DT);if(n){let u=bi.fromTransaction(e,n.selection),h=n.side,f=h==0?r.undone:r.done;return u?f=Ov(f,f.length,t.minDepth,u):f=p9(f,e.startState.selection),new To(h==0?n.rest:f,h==0?f:n.rest)}let i=e.annotation(ine);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(ar.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=bi.fromTransaction(e),o=e.annotation(ar.time),l=e.annotation(ar.userEvent);return s?r=r.addChanges(s,o,l,t,e):e.selection&&(r=r.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new To(r.done.map(bi.fromJSON),r.undone.map(bi.fromJSON))}});function one(r={}){return[h9,c9.of(r),Xe.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?f9:e.inputType=="historyRedo"?IT:null;return n?(e.preventDefault(),n(t)):!1}})]}function Rw(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(h9,!1);if(!i)return!1;let s=i.pop(r,t,e);return s?(n(s),!0):!1}}const f9=Rw(0,!1),IT=Rw(1,!1),ane=Rw(0,!0),lne=Rw(1,!0);class bi{constructor(e,t,n,i,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new bi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new bi(e.changes&&sr.fromJSON(e.changes),[],e.mapped&&Po.fromJSON(e.mapped),e.startSelection&&Ue.fromJSON(e.startSelection),e.selectionsAfter.map(Ue.fromJSON))}static fromTransaction(e,t){let n=bs;for(let i of e.startState.facet(sne)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new bi(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,bs)}static selection(e){return new bi(void 0,bs,void 0,void 0,e)}}function Ov(r,e,t,n){let i=e+1>t+20?e-t-1:0,s=r.slice(i,e);return s.push(n),s}function une(r,e){let t=[],n=!1;return r.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,l)=>{for(let u=0;u<t.length;){let h=t[u++],f=t[u++];l>=h&&o<=f&&(n=!0)}}),n}function cne(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function d9(r,e){return r.length?e.length?r.concat(e):r:e}const bs=[],hne=200;function p9(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-hne));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),Ov(r,r.length-1,1e9,t.setSelAfter(n)))}else return[bi.selection([e])]}function fne(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function zb(r,e){if(!r.length)return r;let t=r.length,n=bs;for(;t;){let i=dne(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=r.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[bi.selection(n)]:bs}function dne(r,e,t){let n=d9(r.selectionsAfter.length?r.selectionsAfter.map(l=>l.map(e)):bs,t);if(!r.changes)return bi.selection(n);let i=r.changes.map(e),s=e.mapDesc(r.changes,!0),o=r.mapped?r.mapped.composeDesc(s):s;return new bi(i,Et.mapEffects(r.effects,e),o,r.startSelection.map(s),n)}const pne=/^(input\.type|delete)($|\.)/;class To{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new To(this.done,this.undone):this}addChanges(e,t,n,i,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!n||pne.test(n))&&(!l.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,une(l.changes,e.changes))||n=="input.type.compose")?o=Ov(o,o.length-1,i.minDepth,new bi(e.changes.compose(l.changes),d9(Et.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,bs)):o=Ov(o,o.length,i.minDepth,e),new To(o,bs,t,n)}addSelection(e,t,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:bs;return s.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&cne(s[s.length-1],e)?this:new To(p9(this.done,e),this.undone,t,n)}addMapping(e){return new To(zb(this.done,e),zb(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:DT.of({side:e,rest:fne(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?bs:i.slice(0,i.length-1);return s.mapped&&(l=zb(l,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:DT.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}To.empty=new To(bs,bs);const mne=[{key:"Mod-z",run:f9,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:IT,preventDefault:!0},{linux:"Ctrl-Shift-z",run:IT,preventDefault:!0},{key:"Mod-u",run:ane,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:lne,preventDefault:!0}];function Ff(r,e){return Ue.create(r.ranges.map(e),r.mainIndex)}function qo(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Hs({state:r,dispatch:e},t){let n=Ff(r.selection,t);return n.eq(r.selection,!0)?!1:(e(qo(r,n)),!0)}function kw(r,e){return Ue.cursor(e?r.to:r.from)}function m9(r,e){return Hs(r,t=>t.empty?r.moveByChar(t,e):kw(t,e))}function Qr(r){return r.textDirectionAt(r.state.selection.main.head)==_n.LTR}const g9=r=>m9(r,!Qr(r)),y9=r=>m9(r,Qr(r));function v9(r,e){return Hs(r,t=>t.empty?r.moveByGroup(t,e):kw(t,e))}const gne=r=>v9(r,!Qr(r)),yne=r=>v9(r,Qr(r));function vne(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Dw(r,e,t){let n=Xr(r).resolveInner(e.head),i=t?Ut.closedBy:Ut.openedBy;for(let u=e.head;;){let h=t?n.childAfter(u):n.childBefore(u);if(!h)break;vne(r,h,i)?n=h:u=t?h.to:h.from}let s=n.type.prop(i),o,l;return s&&(o=t?xo(r,n.from,1):xo(r,n.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?n.to:n.from,Ue.cursor(l,t?-1:1)}const wne=r=>Hs(r,e=>Dw(r.state,e,!Qr(r))),_ne=r=>Hs(r,e=>Dw(r.state,e,Qr(r)));function w9(r,e){return Hs(r,t=>{if(!t.empty)return kw(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const _9=r=>w9(r,!1),b9=r=>w9(r,!0);function S9(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let s of r.state.facet(Xe.scrollMargins)){let o=s(r);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(n=Math.max(o?.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function E9(r,e){let t=S9(r),{state:n}=r,i=Ff(n.selection,o=>o.empty?r.moveVertically(o,e,t.height):kw(o,e));if(i.eq(n.selection))return!1;let s;if(t.selfScroll){let o=r.coordsAtPos(n.selection.main.head),l=r.scrollDOM.getBoundingClientRect(),u=l.top+t.marginTop,h=l.bottom-t.marginBottom;o&&o.top>u&&o.bottom<h&&(s=Xe.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-u}))}return r.dispatch(qo(n,i),{effects:s}),!0}const gM=r=>E9(r,!1),OT=r=>E9(r,!0);function iu(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let s=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=Ue.cursor(n.from+s))}return i}const bne=r=>Hs(r,e=>iu(r,e,!0)),Sne=r=>Hs(r,e=>iu(r,e,!1)),Ene=r=>Hs(r,e=>iu(r,e,!Qr(r))),xne=r=>Hs(r,e=>iu(r,e,Qr(r))),Tne=r=>Hs(r,e=>Ue.cursor(r.lineBlockAt(e.head).from,1)),Ane=r=>Hs(r,e=>Ue.cursor(r.lineBlockAt(e.head).to,-1));function Cne(r,e,t){let n=!1,i=Ff(r.selection,s=>{let o=xo(r,s.head,-1)||xo(r,s.head,1)||s.head>0&&xo(r,s.head-1,1)||s.head<r.doc.length&&xo(r,s.head+1,-1);if(!o||!o.end)return s;n=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return Ue.cursor(l)});return n?(e(qo(r,i)),!0):!1}const Rne=({state:r,dispatch:e})=>Cne(r,e);function Rs(r,e){let t=Ff(r.state.selection,n=>{let i=e(n);return Ue.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(qo(r.state,t)),!0)}function x9(r,e){return Rs(r,t=>r.moveByChar(t,e))}const T9=r=>x9(r,!Qr(r)),A9=r=>x9(r,Qr(r));function C9(r,e){return Rs(r,t=>r.moveByGroup(t,e))}const kne=r=>C9(r,!Qr(r)),Dne=r=>C9(r,Qr(r)),Ine=r=>Rs(r,e=>Dw(r.state,e,!Qr(r))),One=r=>Rs(r,e=>Dw(r.state,e,Qr(r)));function R9(r,e){return Rs(r,t=>r.moveVertically(t,e))}const k9=r=>R9(r,!1),D9=r=>R9(r,!0);function I9(r,e){return Rs(r,t=>r.moveVertically(t,e,S9(r).height))}const yM=r=>I9(r,!1),vM=r=>I9(r,!0),Nne=r=>Rs(r,e=>iu(r,e,!0)),Mne=r=>Rs(r,e=>iu(r,e,!1)),Pne=r=>Rs(r,e=>iu(r,e,!Qr(r))),Lne=r=>Rs(r,e=>iu(r,e,Qr(r))),Bne=r=>Rs(r,e=>Ue.cursor(r.lineBlockAt(e.head).from)),Fne=r=>Rs(r,e=>Ue.cursor(r.lineBlockAt(e.head).to)),wM=({state:r,dispatch:e})=>(e(qo(r,{anchor:0})),!0),_M=({state:r,dispatch:e})=>(e(qo(r,{anchor:r.doc.length})),!0),bM=({state:r,dispatch:e})=>(e(qo(r,{anchor:r.selection.main.anchor,head:0})),!0),SM=({state:r,dispatch:e})=>(e(qo(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),Vne=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),Une=({state:r,dispatch:e})=>{let t=Iw(r).map(({from:n,to:i})=>Ue.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:Ue.create(t),userEvent:"select"})),!0},zne=({state:r,dispatch:e})=>{let t=Ff(r.selection,n=>{let i=Xr(r),s=i.resolveStack(n.from,1);if(n.empty){let o=i.resolveStack(n.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<n.from&&l.to>=n.to||l.to>n.to&&l.from<=n.from)&&o.next)return Ue.range(l.to,l.from)}return n});return t.eq(r.selection)?!1:(e(qo(r,t)),!0)},jne=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=Ue.create([t.main]):t.main.empty||(n=Ue.create([Ue.cursor(t.main.head)])),n?(e(qo(r,n)),!0):!1};function zm(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let u=e(s);u<o?(t="delete.backward",u=Uy(r,u,!1)):u>o&&(t="delete.forward",u=Uy(r,u,!0)),o=Math.min(o,u),l=Math.max(l,u)}else o=Uy(r,o,!1),l=Uy(r,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:Ue.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Xe.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function Uy(r,e,t){if(r instanceof Xe)for(let n of r.state.facet(Xe.atomicRanges).map(i=>i(r)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const O9=(r,e,t)=>zm(r,n=>{let i=n.from,{state:s}=r,o=s.doc.lineAt(i),l,u;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(l=o.text.slice(0,i-o.from))){if(l[l.length-1]=="	")return i-1;let h=Bf(l,s.tabSize),f=h%kv(s)||kv(s);for(let p=0;p<f&&l[l.length-1-p]==" ";p++)i--;u=i}else u=Nr(o.text,i-o.from,e,e)+o.from,u==i&&o.number!=(e?s.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(u-o.from,i-o.from))&&(u=Nr(o.text,u-o.from,!1,!1)+o.from);return u}),NT=r=>O9(r,!1,!0),N9=r=>O9(r,!0,!1),M9=(r,e)=>zm(r,t=>{let n=t.head,{state:i}=r,s=i.doc.lineAt(n),o=i.charCategorizer(n);for(let l=null;;){if(n==(e?s.to:s.from)){n==t.head&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let u=Nr(s.text,n-s.from,e)+s.from,h=s.text.slice(Math.min(n,u)-s.from,Math.max(n,u)-s.from),f=o(h);if(l!=null&&f!=l)break;(h!=" "||n!=t.head)&&(l=f),n=u}return n}),P9=r=>M9(r,!1),Hne=r=>M9(r,!0),qne=r=>zm(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Wne=r=>zm(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Gne=r=>zm(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Kne=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Qt.of(["",""])},range:Ue.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},$ne=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,s=r.doc.lineAt(i),o=i==s.from?i-1:Nr(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:Nr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:r.doc.slice(i,l).append(r.doc.slice(o,i))},range:Ue.cursor(l)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Iw(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),s=r.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=r.doc.lineAt(n.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});t=s.number+1}return e}function L9(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let s of Iw(r)){if(t?s.to==r.doc.length:s.from==0)continue;let o=r.doc.lineAt(t?s.to+1:s.from-1),l=o.length+1;if(t){n.push({from:s.to,to:o.to},{from:s.from,insert:o.text+r.lineBreak});for(let u of s.ranges)i.push(Ue.range(Math.min(r.doc.length,u.anchor+l),Math.min(r.doc.length,u.head+l)))}else{n.push({from:o.from,to:s.from},{from:s.to,insert:r.lineBreak+o.text});for(let u of s.ranges)i.push(Ue.range(u.anchor-l,u.head-l))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:Ue.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Yne=({state:r,dispatch:e})=>L9(r,e,!1),Xne=({state:r,dispatch:e})=>L9(r,e,!0);function B9(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of Iw(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Qne=({state:r,dispatch:e})=>B9(r,e,!1),Zne=({state:r,dispatch:e})=>B9(r,e,!0),Jne=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Iw(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=Ff(e.selection,i=>{let s;if(r.lineWrapping){let o=r.lineBlockAt(i.head),l=r.coordsAtPos(i.head,i.assoc||1);l&&(s=o.bottom+r.documentTop-l.bottom+r.defaultLineHeight/2)}return r.moveVertically(i,!0,s)}).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function ere(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Xr(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(Ut.closedBy))&&s.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from&&!/\S/.test(r.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const EM=F9(!1),tre=F9(!0);function F9(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:o}=i,l=e.doc.lineAt(s),u=!r&&s==o&&ere(e,s);r&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let h=new Aw(e,{simulateBreak:s,simulateDoubleBreak:!!u}),f=OC(h,s);for(f==null&&(f=Bf(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;u?{from:s,to:o}=u:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let p=["",fm(e,f)];return u&&p.push(fm(e,h.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:Qt.of(p)},range:Ue.cursor(s+1+p[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function LC(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let o=n.from;o<=n.to;){let l=r.doc.lineAt(o);l.number>t&&(n.empty||n.to>l.from)&&(e(l,i,n),t=l.number),o=l.to+1}let s=r.changes(i);return{changes:i,range:Ue.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const nre=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new Aw(r,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=LC(r,(s,o,l)=>{let u=OC(n,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let h=/^\s*/.exec(s.text)[0],f=fm(r,u);(h!=f||l.from<s.from+h.length)&&(t[s.from]=u,o.push({from:s.from,to:s.from+h.length,insert:f}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},V9=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(LC(r,(t,n)=>{n.push({from:t.from,insert:r.facet(Tw)})}),{userEvent:"input.indent"})),!0),U9=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(LC(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Bf(i,r.tabSize),o=0,l=fm(r,Math.max(0,s-kv(r)));for(;o<i.length&&o<l.length&&i.charCodeAt(o)==l.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+i.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),rre=r=>(r.setTabFocusMode(),!0),ire=[{key:"Ctrl-b",run:g9,shift:T9,preventDefault:!0},{key:"Ctrl-f",run:y9,shift:A9},{key:"Ctrl-p",run:_9,shift:k9},{key:"Ctrl-n",run:b9,shift:D9},{key:"Ctrl-a",run:Tne,shift:Bne},{key:"Ctrl-e",run:Ane,shift:Fne},{key:"Ctrl-d",run:N9},{key:"Ctrl-h",run:NT},{key:"Ctrl-k",run:qne},{key:"Ctrl-Alt-h",run:P9},{key:"Ctrl-o",run:Kne},{key:"Ctrl-t",run:$ne},{key:"Ctrl-v",run:OT}],sre=[{key:"ArrowLeft",run:g9,shift:T9,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:gne,shift:kne,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Ene,shift:Pne,preventDefault:!0},{key:"ArrowRight",run:y9,shift:A9,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:yne,shift:Dne,preventDefault:!0},{mac:"Cmd-ArrowRight",run:xne,shift:Lne,preventDefault:!0},{key:"ArrowUp",run:_9,shift:k9,preventDefault:!0},{mac:"Cmd-ArrowUp",run:wM,shift:bM},{mac:"Ctrl-ArrowUp",run:gM,shift:yM},{key:"ArrowDown",run:b9,shift:D9,preventDefault:!0},{mac:"Cmd-ArrowDown",run:_M,shift:SM},{mac:"Ctrl-ArrowDown",run:OT,shift:vM},{key:"PageUp",run:gM,shift:yM},{key:"PageDown",run:OT,shift:vM},{key:"Home",run:Sne,shift:Mne,preventDefault:!0},{key:"Mod-Home",run:wM,shift:bM},{key:"End",run:bne,shift:Nne,preventDefault:!0},{key:"Mod-End",run:_M,shift:SM},{key:"Enter",run:EM,shift:EM},{key:"Mod-a",run:Vne},{key:"Backspace",run:NT,shift:NT},{key:"Delete",run:N9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:P9},{key:"Mod-Delete",mac:"Alt-Delete",run:Hne},{mac:"Mod-Backspace",run:Wne},{mac:"Mod-Delete",run:Gne}].concat(ire.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),ore=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:wne,shift:Ine},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:_ne,shift:One},{key:"Alt-ArrowUp",run:Yne},{key:"Shift-Alt-ArrowUp",run:Qne},{key:"Alt-ArrowDown",run:Xne},{key:"Shift-Alt-ArrowDown",run:Zne},{key:"Escape",run:jne},{key:"Mod-Enter",run:tre},{key:"Alt-l",mac:"Ctrl-l",run:Une},{key:"Mod-i",run:zne,preventDefault:!0},{key:"Mod-[",run:U9},{key:"Mod-]",run:V9},{key:"Mod-Alt-\\",run:nre},{key:"Shift-Mod-k",run:Jne},{key:"Shift-Mod-\\",run:Rne},{key:"Mod-/",run:Qte},{key:"Alt-A",run:Jte},{key:"Ctrl-m",mac:"Shift-Alt-m",run:rre}].concat(sre),are={key:"Tab",run:V9,shift:U9},xM=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class _f{constructor(e,t,n=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?l=>s(xM(l)):xM,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return gi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=dC(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=_o(e);let i=this.normalize(t);if(i.length)for(let s=0,o=n;;s++){let l=i.charCodeAt(s),u=this.match(l,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(u)return this.value=u,this;break}o==n&&s<t.length&&t.charCodeAt(s)==l&&o++}}}match(e,t,n){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],l=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:n}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(_f.prototype[Symbol.iterator]=function(){return this});const z9={from:-1,to:-1,match:/.*/.exec("")},BC="gm"+(/x/.unicode==null?"":"u");class j9{constructor(e,t,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=z9,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new H9(e,t,n,i,s);this.re=new RegExp(t,BC+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Nv(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=Nv(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const jb=new WeakMap;class Gh{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=jb.get(e);if(!i||i.from>=n||i.to<=t){let l=new Gh(t,e.sliceString(t,n));return jb.set(e,l),l}if(i.from==t&&i.to==n)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<n&&(s+=e.sliceString(i.to,n)),jb.set(e,new Gh(o,s)),new Gh(t,s.slice(t-o,n-o))}}class H9{constructor(e,t,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=z9,this.matchPos=Nv(e,i),this.re=new RegExp(t,BC+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Gh.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=Nv(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Gh.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(j9.prototype[Symbol.iterator]=H9.prototype[Symbol.iterator]=function(){return this});function lre(r){try{return new RegExp(r,BC),!0}catch{return!1}}function Nv(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function MT(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=fn("input",{class:"cm-textfield",name:"line",value:e}),n=fn("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:Mp.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},fn("label",r.state.phrase("Go to line"),": ",t)," ",fn("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),fn("button",{name:"close",onclick:()=>{r.dispatch({effects:Mp.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=r,l=o.doc.lineAt(o.selection.main.head),[,u,h,f,p]=s,g=f?+f.slice(1):0,y=h?+h:l.number;if(h&&p){let E=y/100;u&&(E=E*(u=="-"?-1:1)+l.number/o.doc.lines),y=Math.round(o.doc.lines*E)}else h&&u&&(y=y*(u=="-"?-1:1)+l.number);let w=o.doc.line(Math.max(1,Math.min(o.doc.lines,y))),_=Ue.cursor(w.from+Math.max(0,Math.min(g,w.length)));r.dispatch({effects:[Mp.of(!1),Xe.scrollIntoView(_.from,{y:"center"})],selection:_}),r.focus()}return{dom:n}}const Mp=Et.define(),TM=Lr.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(Mp)&&(r=t.value);return r},provide:r=>cm.from(r,e=>e?MT:null)}),ure=r=>{let e=um(r,MT);if(!e){let t=[Mp.of(!0)];r.state.field(TM,!1)==null&&t.push(Et.appendConfig.of([TM,cre])),r.dispatch({effects:t}),e=um(r,MT)}return e&&e.dom.querySelector("input").select(),!0},cre=Xe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),hre={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},fre=tt.define({combine(r){return Ho(r,hre,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function dre(r){return[vre,yre]}const pre=ht.mark({class:"cm-selectionMatch"}),mre=ht.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function AM(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=En.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=En.Word)}function gre(r,e,t,n){return r(e.sliceDoc(t,t+1))==En.Word&&r(e.sliceDoc(n-1,n))==En.Word}const yre=Vn.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(fre),{state:t}=r,n=t.selection;if(n.ranges.length>1)return ht.none;let i=n.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return ht.none;let u=t.wordAt(i.head);if(!u)return ht.none;o=t.charCategorizer(i.head),s=t.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return ht.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(AM(o,t,i.from,i.to)&&gre(o,t,i.from,i.to)))return ht.none}else if(s=t.sliceDoc(i.from,i.to),!s)return ht.none}let l=[];for(let u of r.visibleRanges){let h=new _f(t.doc,s,u.from,u.to);for(;!h.next().done;){let{from:f,to:p}=h.value;if((!o||AM(o,t,f,p))&&(i.empty&&f<=i.from&&p>=i.to?l.push(mre.range(f,p)):(f>=i.to||p<=i.from)&&l.push(pre.range(f,p)),l.length>e.maxMatches))return ht.none}}return ht.set(l)}},{decorations:r=>r.decorations}),vre=Xe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),wre=({state:r,dispatch:e})=>{let{selection:t}=r,n=Ue.create(t.ranges.map(i=>r.wordAt(i.head)||Ue.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function _re(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,l=new _f(r.doc,e,n[n.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new _f(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(u=>u.from==l.value.from))continue;if(s){let u=r.wordAt(l.value.from);if(!u||u.from!=l.value.from||u.to!=l.value.to)continue}return l.value}}const bre=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return wre({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=n))return!1;let i=_re(r,n);return i?(e(r.update({selection:r.selection.addRange(Ue.range(i.from,i.to),!1),effects:Xe.scrollIntoView(i.to)})),!0):!1},Vf=tt.define({combine(r){return Ho(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Nre(e),scrollToMatch:e=>Xe.scrollIntoView(e)})}});class q9{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||lre(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Tre(this):new Ere(this)}getCursor(e,t=0,n){let i=e.doc?e:Ft.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Th(this,i,t,n):xh(this,i,t,n)}}class W9{constructor(e){this.spec=e}}function xh(r,e,t,n){return new _f(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?Sre(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Sre(r,e){return(t,n,i,s)=>((s>t||s+i.length<n)&&(s=Math.max(0,t-2),i=r.sliceString(s,Math.min(r.length,n+2))),(e(Mv(i,t-s))!=En.Word||e(Pv(i,t-s))!=En.Word)&&(e(Pv(i,n-s))!=En.Word||e(Mv(i,n-s))!=En.Word))}class Ere extends W9{constructor(e){super(e)}nextMatch(e,t,n){let i=xh(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=xh(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=xh(this.spec,e,s,i),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==t)return null;i-=1e4}}prevMatch(e,t,n){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=xh(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=xh(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Th(r,e,t,n){return new j9(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?xre(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Mv(r,e){return r.slice(Nr(r,e,!1),e)}function Pv(r,e){return r.slice(e,Nr(r,e))}function xre(r){return(e,t,n)=>!n[0].length||(r(Mv(n.input,n.index))!=En.Word||r(Pv(n.input,n.index))!=En.Word)&&(r(Pv(n.input,n.index+n[0].length))!=En.Word||r(Mv(n.input,n.index+n[0].length))!=En.Word)}class Tre extends W9{nextMatch(e,t,n){let i=Th(this.spec,e,n,e.doc.length).next();return i.done&&(i=Th(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let s=Math.max(t,n-i*1e4),o=Th(this.spec,e,s,n),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==t||l.from>s+10))return l;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let s=+n.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+n.slice(i)}return t})}matchAll(e,t){let n=Th(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=Th(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const dm=Et.define(),FC=Et.define(),Ll=Lr.define({create(r){return new Hb(PT(r).create(),null)},update(r,e){for(let t of e.effects)t.is(dm)?r=new Hb(t.value.create(),r.panel):t.is(FC)&&(r=new Hb(r.query,t.value?VC:null));return r},provide:r=>cm.from(r,e=>e.panel)});class Hb{constructor(e,t){this.query=e,this.panel=t}}const Are=ht.mark({class:"cm-searchMatch"}),Cre=ht.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Rre=Vn.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(Ll))}update(r){let e=r.state.field(Ll);(e!=r.startState.field(Ll)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return ht.none;let{view:t}=this,n=new Oa;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:l,to:u}=s[i];for(;i<o-1&&u>s[i+1].from-2*250;)u=s[++i].to;r.highlight(t.state,l,u,(h,f)=>{let p=t.state.selection.ranges.some(g=>g.from==h&&g.to==f);n.add(h,f,p?Cre:Are)})}return n.finish()}},{decorations:r=>r.decorations});function jm(r){return e=>{let t=e.state.field(Ll,!1);return t&&t.query.spec.valid?r(e,t):$9(e)}}const Lv=jm((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);if(!n)return!1;let i=Ue.single(n.from,n.to),s=r.state.facet(Vf);return r.dispatch({selection:i,effects:[UC(r,n),s.scrollToMatch(i.main,r)],userEvent:"select.search"}),K9(r),!0}),Bv=jm((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);if(!i)return!1;let s=Ue.single(i.from,i.to),o=r.state.facet(Vf);return r.dispatch({selection:s,effects:[UC(r,i),o.scrollToMatch(s.main,r)],userEvent:"select.search"}),K9(r),!0}),kre=jm((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:Ue.create(t.map(n=>Ue.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),Dre=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,s=[],o=0;for(let l=new _f(r.doc,r.sliceDoc(n,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==n&&(o=s.length),s.push(Ue.range(l.value.from,l.value.to))}return e(r.update({selection:Ue.create(s,o),userEvent:"select.search.matches"})),!0},CM=jm((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let o=s,l=[],u,h,f=[];o.from==n&&o.to==i&&(h=t.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:h}),o=e.nextMatch(t,o.from,o.to),f.push(Xe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+".")));let p=r.state.changes(l);return o&&(u=Ue.single(o.from,o.to).map(p),f.push(UC(r,o)),f.push(t.facet(Vf).scrollToMatch(u.main,r))),r.dispatch({changes:p,selection:u,effects:f,userEvent:"input.replace"}),!0}),Ire=jm((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:Xe.announce.of(n),userEvent:"input.replace.all"}),!0});function VC(r){return r.state.facet(Vf).createPanel(r)}function PT(r,e){var t,n,i,s,o;let l=r.selection.main,u=l.empty||l.to>l.from+100?"":r.sliceDoc(l.from,l.to);if(e&&!u)return e;let h=r.facet(Vf);return new q9({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:h.wholeWord})}function G9(r){let e=um(r,VC);return e&&e.dom.querySelector("[main-field]")}function K9(r){let e=G9(r);e&&e==r.root.activeElement&&e.select()}const $9=r=>{let e=r.state.field(Ll,!1);if(e&&e.panel){let t=G9(r);if(t&&t!=r.root.activeElement){let n=PT(r.state,e.query.spec);n.valid&&r.dispatch({effects:dm.of(n)}),t.focus(),t.select()}}else r.dispatch({effects:[FC.of(!0),e?dm.of(PT(r.state,e.query.spec)):Et.appendConfig.of(Pre)]});return!0},Y9=r=>{let e=r.state.field(Ll,!1);if(!e||!e.panel)return!1;let t=um(r,VC);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:FC.of(!1)}),!0},Ore=[{key:"Mod-f",run:$9,scope:"editor search-panel"},{key:"F3",run:Lv,shift:Bv,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Lv,shift:Bv,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Y9,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Dre},{key:"Mod-Alt-g",run:ure},{key:"Mod-d",run:bre,preventDefault:!0}];class Nre{constructor(e){this.view=e;let t=this.query=e.state.field(Ll).query.spec;this.commit=this.commit.bind(this),this.searchField=fn("input",{value:t.search,placeholder:Vi(e,"Find"),"aria-label":Vi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=fn("input",{value:t.replace,placeholder:Vi(e,"Replace"),"aria-label":Vi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=fn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=fn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=fn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,s,o){return fn("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=fn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Lv(e),[Vi(e,"next")]),n("prev",()=>Bv(e),[Vi(e,"previous")]),n("select",()=>kre(e),[Vi(e,"all")]),fn("label",null,[this.caseField,Vi(e,"match case")]),fn("label",null,[this.reField,Vi(e,"regexp")]),fn("label",null,[this.wordField,Vi(e,"by word")]),...e.state.readOnly?[]:[fn("br"),this.replaceField,n("replace",()=>CM(e),[Vi(e,"replace")]),n("replaceAll",()=>Ire(e),[Vi(e,"replace all")])],fn("button",{name:"close",onclick:()=>Y9(e),"aria-label":Vi(e,"close"),type:"button"},[""])])}commit(){let e=new q9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:dm.of(e)}))}keydown(e){VJ(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Bv:Lv)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),CM(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(dm)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Vf).top}}function Vi(r,e){return r.state.phrase(e)}const zy=30,jy=/[\s\.,:;?!]/;function UC(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,s=Math.max(n.from,e-zy),o=Math.min(i,t+zy),l=r.state.sliceDoc(s,o);if(s!=n.from){for(let u=0;u<zy;u++)if(!jy.test(l[u+1])&&jy.test(l[u])){l=l.slice(u);break}}if(o!=i){for(let u=l.length-1;u>l.length-zy;u--)if(!jy.test(l[u-1])&&jy.test(l[u])){l=l.slice(0,u);break}}return Xe.announce.of(`${r.state.phrase("current match")}. ${l} ${r.state.phrase("on line")} ${n.number}.`)}const Mre=Xe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Pre=[Ll,Cc.low(Rre),Mre];class X9{constructor(e,t,n,i){this.state=e,this.pos=t,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Xr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),s=i.search(Q9(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function RM(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Lre(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let n=RM(e)+RM(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function Bre(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Lre(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class kM{constructor(e,t,n,i){this.completion=e,this.source=t,this.match=n,this.score=i}}function sc(r){return r.selection.main.from}function Q9(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?r:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const Z9=jo.define();function Fre(r,e,t,n){let{main:i}=r.selection,s=t-i.from,o=n-i.from;return Object.assign(Object.assign({},r.changeByRange(l=>{if(l!=i&&t!=n&&r.sliceDoc(l.from+s,l.from+o)!=r.sliceDoc(t,n))return{range:l};let u=r.toText(e);return{changes:{from:l.from+s,to:n==i.from?l.to:l.from+o,insert:u},range:Ue.cursor(l.from+s+u.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const DM=new WeakMap;function Vre(r){if(!Array.isArray(r))return r;let e=DM.get(r);return e||DM.set(r,e=Bre(r)),e}const Fv=Et.define(),pm=Et.define();class Ure{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=gi(e,t),i=_o(n);this.chars.push(n);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(gi(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:s,byWord:o}=this;if(t.length==1){let A=gi(e,0),T=_o(A),x=T==e.length?0:-100;if(A!=t[0])if(A==n[0])x+=-200;else return null;return this.ret(x,[0,T])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=t.length,h=0;if(l<0){for(let A=0,T=Math.min(e.length,200);A<T&&h<u;){let x=gi(e,A);(x==t[h]||x==n[h])&&(i[h++]=A),A+=_o(x)}if(h<u)return null}let f=0,p=0,g=!1,y=0,w=-1,_=-1,E=/[a-z]/.test(e),b=!0;for(let A=0,T=Math.min(e.length,200),x=0;A<T&&p<u;){let D=gi(e,A);l<0&&(f<u&&D==t[f]&&(s[f++]=A),y<u&&(D==t[y]||D==n[y]?(y==0&&(w=A),_=A+1,y++):y=0));let M,O=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(M=dC(D))!=M.toLowerCase()?1:M!=M.toUpperCase()?2:0;(!A||O==1&&E||x==0&&O!=0)&&(t[p]==D||n[p]==D&&(g=!0)?o[p++]=A:o.length&&(b=!1)),x=O,A+=_o(D)}return p==u&&o[0]==0&&b?this.result(-100+(g?-200:0),o,e):y==u&&w==0?this.ret(-200-e.length+(_==e.length?0:-100),[0,_]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):y==u?this.ret(-900-e.length,[w,_]):p==u?this.result(-100+(g?-200:0)+-700+(b?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[],s=0;for(let o of t){let l=o+(this.astral?_o(gi(n,o)):1);s&&i[s-1]==o?i[s-1]=l:(i[s++]=o,i[s++]=l)}return this.ret(e-n.length,i)}}class zre{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const gr=tt.define({combine(r){return Ho(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:jre,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>IM(e(n),t(n)),optionClass:(e,t)=>n=>IM(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function IM(r,e){return r?e?r+" "+e:r:e}function jre(r,e,t,n,i,s){let o=r.textDirection==_n.RTL,l=o,u=!1,h="top",f,p,g=e.left-i.left,y=i.right-e.right,w=n.right-n.left,_=n.bottom-n.top;if(l&&g<Math.min(w,y)?l=!1:!l&&y<Math.min(w,g)&&(l=!0),w<=(l?g:y))f=Math.max(i.top,Math.min(t.top,i.bottom-_))-e.top,p=Math.min(400,l?g:y);else{u=!0,p=Math.min(400,(o?e.right:i.right-e.left)-30);let A=i.bottom-e.bottom;A>=_||A>e.top?f=t.bottom-e.top:(h="bottom",f=e.bottom-t.top)}let E=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${f/E}px; max-width: ${p/b}px`,class:"cm-completionInfo-"+(u?o?"left-narrow":"right-narrow":l?"left":"right")}}function Hre(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let l=t.displayLabel||t.label,u=0;for(let h=0;h<s.length;){let f=s[h++],p=s[h++];f>u&&o.appendChild(document.createTextNode(l.slice(u,f)));let g=o.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(l.slice(f,p))),g.className="cm-completionMatchedText",u=p}return u<l.length&&o.appendChild(document.createTextNode(l.slice(u))),o},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function qb(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class qre{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,l=e.state.facet(gr);this.optionContent=Hre(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=qb(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(t).open;for(let f=u.target,p;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(p=/-(\d+)$/.exec(f.id))&&+p[1]<h.length){this.applyCompletion(e,h[+p[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(gr).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:pm.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:s,selected:o,disabled:l}=n.open;(!i.open||i.open.options!=s)&&(this.range=qb(s.length,o,e.state.facet(gr).maxRenderedOptions),this.showOptions(s,n.id)),this.updateSel(),l!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=qb(t.options.length,t.selected,this.view.state.facet(gr).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:i}=n;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(n);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>_i(this.view.state,o,"completion info")):this.addInfoPane(s,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;n.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&Gre(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(gr).positionInfo(this.view,t,i,n,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=n.from;o<n.to;o++){let{completion:l,match:u}=e[o],{section:h}=l;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(o>n.from||n.from==0))if(s=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let y=i.appendChild(document.createElement("completion-section"));y.textContent=g}}const f=i.appendChild(document.createElement("li"));f.id=t+"-"+o,f.setAttribute("role","option");let p=this.optionClass(l);p&&(f.className=p);for(let g of this.optionContent){let y=g(l,this.view.state,this.view,u);y&&f.appendChild(y)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Wre(r,e){return t=>new qre(t,r,e)}function Gre(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.height/r.offsetHeight;n.top<t.top?r.scrollTop-=(t.top-n.top)/i:n.bottom>t.bottom&&(r.scrollTop+=(n.bottom-t.bottom)/i)}function OM(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function Kre(r,e){let t=[],n=null,i=h=>{t.push(h);let{section:f}=h.completion;if(f){n||(n=[]);let p=typeof f=="string"?f:f.name;n.some(g=>g.name==p)||n.push(typeof f=="string"?{name:p}:f)}},s=e.facet(gr);for(let h of r)if(h.hasResult()){let f=h.result.getMatch;if(h.result.filter===!1)for(let p of h.result.options)i(new kM(p,h.source,f?f(p):[],1e9-t.length));else{let p=e.sliceDoc(h.from,h.to),g,y=s.filterStrict?new zre(p):new Ure(p);for(let w of h.result.options)if(g=y.match(w.label)){let _=w.displayLabel?f?f(w,g.matched):[]:g.matched;i(new kM(w,h.source,_,g.score+(w.boost||0)))}}}if(n){let h=Object.create(null),f=0,p=(g,y)=>{var w,_;return((w=g.rank)!==null&&w!==void 0?w:1e9)-((_=y.rank)!==null&&_!==void 0?_:1e9)||(g.name<y.name?-1:1)};for(let g of n.sort(p))f-=1e5,h[g.name]=f;for(let g of t){let{section:y}=g.completion;y&&(g.score+=h[typeof y=="string"?y:y.name])}}let o=[],l=null,u=s.compareCompletions;for(let h of t.sort((f,p)=>p.score-f.score||u(f.completion,p.completion))){let f=h.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?o.push(h):OM(h.completion)>OM(l)&&(o[o.length-1]=h),l=h.completion}return o}class Oh{constructor(e,t,n,i,s,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Oh(this.options,NM(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,s,o){if(i&&!o&&e.some(h=>h.isPending))return i.setDisabled();let l=Kre(e,t);if(!l.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=t.facet(gr).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let f=0;f<l.length;f++)if(l[f].completion==h){u=f;break}}return new Oh(l,NM(n,u),{pos:e.reduce((h,f)=>f.hasResult()?Math.min(h,f.from):h,1e8),create:Jre,above:s.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Oh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Oh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Vv{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new Vv(Qre,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(gr),s=(n.override||t.languageDataAt("autocomplete",sc(t)).map(Vre)).map(u=>(this.active.find(f=>f.source==u)||new Ss(u,this.active.some(f=>f.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((u,h)=>u==this.active[h])&&(s=this.active);let o=this.open,l=e.effects.some(u=>u.is(zC));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!$re(s,this.active)||l?o=Oh.build(s,t,this.id,o,n,l):o&&o.disabled&&!s.some(u=>u.isPending)&&(o=null),!o&&s.every(u=>!u.isPending)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new Ss(u.source,0):u));for(let u of e.effects)u.is(eF)&&(o=o&&o.setSelected(u.value,this.id));return s==this.active&&o==this.open?this:new Vv(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Yre:Xre}}function $re(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let i=t==r.length,s=n==e.length;if(i||s)return i==s;if(r[t++].result!=e[n++].result)return!1}}const Yre={"aria-autocomplete":"list"},Xre={};function NM(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const Qre=[];function J9(r,e){if(r.isUserEvent("input.complete")){let n=r.annotation(Z9);if(n&&e.activateOnCompletion(n))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class Ss{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=J9(e,t),i=this;(n&8||n&16&&this.touches(e))&&(i=new Ss(i.source,0)),n&4&&i.state==0&&(i=new Ss(this.source,1)),i=i.updateFor(e,n);for(let s of e.effects)if(s.is(Fv))i=new Ss(i.source,1,s.value);else if(s.is(pm))i=new Ss(i.source,0);else if(s.is(zC))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(sc(e.state))}}class Kh extends Ss{constructor(e,t,n,i,s,o){super(e,3,t),this.limit=n,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=sc(e.state);if(l>o||!i||t&2&&(sc(e.startState)==this.from||l<this.limit))return new Ss(this.source,t&4?1:0);let u=e.changes.mapPos(this.limit);return Zre(i.validFor,e.state,s,o)?new Kh(this.source,this.explicit,u,i,s,o):i.update&&(i=i.update(i,s,o,new X9(e.state,l,!1)))?new Kh(this.source,this.explicit,u,i,i.from,(n=i.to)!==null&&n!==void 0?n:sc(e.state)):new Ss(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Kh(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ss(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Zre(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):Q9(r,!0).test(i)}const zC=Et.define({map(r,e){return r.map(t=>t.map(e))}}),eF=Et.define(),vi=Lr.define({create(){return Vv.start()},update(r,e){return r.update(e)},provide:r=>[RC.from(r,e=>e.tooltip),Xe.contentAttributes.from(r,e=>e.attrs)]});function jC(r,e){const t=e.completion.apply||e.completion.label;let n=r.state.field(vi).active.find(i=>i.source==e.source);return n instanceof Kh?(typeof t=="string"?r.dispatch(Object.assign(Object.assign({},Fre(r.state,t,n.from,n.to)),{annotations:Z9.of(e.completion)})):t(r,e.completion,n.from,n.to),!0):!1}const Jre=Wre(vi,jC);function Hy(r,e="option"){return t=>{let n=t.state.field(vi,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(gr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=UB(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,l=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:eF.of(l)}),!0}}const eie=r=>{let e=r.state.field(vi,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(gr).interactionDelay?!1:jC(r,e.open.options[e.open.selected])},MM=r=>r.state.field(vi,!1)?(r.dispatch({effects:Fv.of(!0)}),!0):!1,tie=r=>{let e=r.state.field(vi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:pm.of(null)}),!0)};class nie{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const rie=50,iie=1e3,sie=Vn.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(vi).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(vi),t=r.state.facet(gr);if(!r.selectionSet&&!r.docChanged&&r.startState.field(vi)==e)return;let n=r.transactions.some(s=>{let o=J9(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(n||o.context.abortOnDocChange&&r.docChanged||o.updates.length+r.transactions.length>rie&&Date.now()-o.time>iie){for(let l of o.context.abortListeners)try{l()}catch(u){_i(this.view.state,u)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(o=>o.is(Fv)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(vi);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(gr).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=sc(e),n=new X9(e,t,r.explicit,this.view),i=new nie(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:pm.of(null)}),_i(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(gr).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(gr),n=this.view.state.field(vi);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=sc(s.updates.length?s.updates[0].startState:this.view.state),u=Math.min(l,s.done.from+(s.active.explicit?0:1)),h=new Kh(s.active.source,s.active.explicit,u,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:l);for(let f of s.updates)h=h.update(f,t);if(h.hasResult()){e.push(h);continue}}let o=n.active.find(l=>l.source==s.active.source);if(o&&o.isPending)if(s.done==null){let l=new Ss(s.active.source,0);for(let u of s.updates)l=l.update(u,t);l.isPending||e.push(l)}else this.startQuery(o)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:zC.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(vi,!1);if(e&&e.tooltip&&this.view.state.facet(gr).closeOnBlur){let t=e.open&&UB(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:pm.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Fv.of(!1)}),20),this.composing=0}}}),oie=typeof navigator=="object"&&/Win/.test(navigator.platform),aie=Cc.highest(Xe.domEventHandlers({keydown(r,e){let t=e.state.field(vi,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(oie&&r.altKey)||r.metaKey)return!1;let n=t.open.options[t.open.selected],i=t.active.find(o=>o.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&jC(e,n),!1}})),lie=Xe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),mm={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Qu=Et.define({map(r,e){let t=e.mapPos(r,-1,li.TrackAfter);return t??void 0}}),HC=new class extends mc{};HC.startSide=1;HC.endSide=-1;const tF=Lr.define({create(){return Gt.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(Qu)&&(r=r.update({add:[HC.range(t.value,t.value+1)]}));return r}});function uie(){return[hie,tF]}const Wb="()[]{}<>";function nF(r){for(let e=0;e<Wb.length;e+=2)if(Wb.charCodeAt(e)==r)return Wb.charAt(e+1);return dC(r<128?r:r+1)}function rF(r,e){return r.languageDataAt("closeBrackets",e)[0]||mm}const cie=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),hie=Xe.inputHandler.of((r,e,t,n)=>{if((cie?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&_o(gi(n,0))==1||e!=i.from||t!=i.to)return!1;let s=pie(r.state,n);return s?(r.dispatch(s),!0):!1}),fie=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=rF(r,r.selection.main.head).brackets||mm.brackets,i=null,s=r.changeByRange(o=>{if(o.empty){let l=mie(r.doc,o.head);for(let u of n)if(u==l&&Ow(r.doc,o.head)==nF(gi(u,0)))return{changes:{from:o.head-u.length,to:o.head+u.length},range:Ue.cursor(o.head-u.length)}}return{range:i=o}});return i||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},die=[{key:"Backspace",run:fie}];function pie(r,e){let t=rF(r,r.selection.main.head),n=t.brackets||mm.brackets;for(let i of n){let s=nF(gi(i,0));if(e==i)return s==i?vie(r,i,n.indexOf(i+i+i)>-1,t):gie(r,i,s,t.before||mm.before);if(e==s&&iF(r,r.selection.main.from))return yie(r,i,s)}return null}function iF(r,e){let t=!1;return r.field(tF).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function Ow(r,e){let t=r.sliceString(e,e+2);return t.slice(0,_o(gi(t,0)))}function mie(r,e){let t=r.sliceString(e-2,e);return _o(gi(t,0))==t.length?t:t.slice(1)}function gie(r,e,t,n){let i=null,s=r.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Qu.of(o.to+e.length),range:Ue.range(o.anchor+e.length,o.head+e.length)};let l=Ow(r.doc,o.head);return!l||/\s/.test(l)||n.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:Qu.of(o.head+e.length),range:Ue.cursor(o.head+e.length)}:{range:i=o}});return i?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function yie(r,e,t){let n=null,i=r.changeByRange(s=>s.empty&&Ow(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Ue.cursor(s.head+t.length)}:n={range:s});return n?null:r.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function vie(r,e,t,n){let i=n.stringPrefixes||mm.stringPrefixes,s=null,o=r.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:Qu.of(l.to+e.length),range:Ue.range(l.anchor+e.length,l.head+e.length)};let u=l.head,h=Ow(r.doc,u),f;if(h==e){if(PM(r,u))return{changes:{insert:e+e,from:u},effects:Qu.of(u+e.length),range:Ue.cursor(u+e.length)};if(iF(r,u)){let g=t&&r.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+g.length,insert:g},range:Ue.cursor(u+g.length)}}}else{if(t&&r.sliceDoc(u-2*e.length,u)==e+e&&(f=LM(r,u-2*e.length,i))>-1&&PM(r,f))return{changes:{insert:e+e+e+e,from:u},effects:Qu.of(u+e.length),range:Ue.cursor(u+e.length)};if(r.charCategorizer(u)(h)!=En.Word&&LM(r,u,i)>-1&&!wie(r,u,e,i))return{changes:{insert:e+e,from:u},effects:Qu.of(u+e.length),range:Ue.cursor(u+e.length)}}return{range:s=l}});return s?null:r.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function PM(r,e){let t=Xr(r).resolveInner(e+1);return t.parent&&t.from==e}function wie(r,e,t,n){let i=Xr(r).resolveInner(e,-1),s=n.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),u=l.indexOf(t);if(!u||u>-1&&n.indexOf(l.slice(0,u))>-1){let f=i.firstChild;for(;f&&f.from==i.from&&f.to-f.from>t.length+u;){if(r.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function LM(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=En.Word)return e;for(let i of t){let s=e-i.length;if(r.sliceDoc(s,e)==i&&n(r.sliceDoc(s-1,s))!=En.Word)return s}return-1}function _ie(r={}){return[aie,vi,gr.of(r),sie,bie,lie]}const sF=[{key:"Ctrl-Space",run:MM},{mac:"Alt-`",run:MM},{key:"Escape",run:tie},{key:"ArrowDown",run:Hy(!0)},{key:"ArrowUp",run:Hy(!1)},{key:"PageDown",run:Hy(!0,"page")},{key:"PageUp",run:Hy(!1,"page")},{key:"Enter",run:eie}],bie=Cc.highest(Ew.computeN([gr],r=>r.facet(gr).defaultKeymap?[sF]:[]));class BM{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Wu{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=n.facet(gm).markerFilter;i&&(e=i(e,n));let s=e.slice().sort((f,p)=>f.from-p.from||f.to-p.to),o=new Oa,l=[],u=0;for(let f=0;;){let p=f==s.length?null:s[f];if(!p&&!l.length)break;let g,y;for(l.length?(g=u,y=l.reduce((_,E)=>Math.min(_,E.to),p&&p.from>g?p.from:1e8)):(g=p.from,y=p.to,l.push(p),f++);f<s.length;){let _=s[f];if(_.from==g&&(_.to>_.from||_.to==g))l.push(_),f++,y=Math.min(_.to,y);else{y=Math.min(_.from,y);break}}let w=Mie(l);if(l.some(_=>_.from==_.to||_.from==_.to-1&&n.doc.lineAt(_.from).to==_.from))o.add(g,g,ht.widget({widget:new Die(w),diagnostics:l.slice()}));else{let _=l.reduce((E,b)=>b.markClass?E+" "+b.markClass:E,"");o.add(g,y,ht.mark({class:"cm-lintRange cm-lintRange-"+w+_,diagnostics:l.slice(),inclusiveEnd:l.some(E=>E.to>y)}))}u=y;for(let _=0;_<l.length;_++)l[_].to<=u&&l.splice(_--,1)}let h=o.finish();return new Wu(h,t,bf(h))}}function bf(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!n)n=new BM(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new BM(n.from,s,n.diagnostic)}}),n}function Sie(r,e){let t=e.pos,n=e.end||t,i=r.state.facet(gm).hideOn(r,t,n);if(i!=null)return i;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(o=>o.is(oF))||r.changes.touchesRange(s.from,Math.max(s.to,n)))}function Eie(r,e){return r.field(Ki,!1)?e:e.concat(Et.appendConfig.of(Pie))}const oF=Et.define(),qC=Et.define(),aF=Et.define(),Ki=Lr.define({create(){return new Wu(ht.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),n=null,i=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);n=bf(t,r.selected.diagnostic,s)||bf(t,null,s)}!t.size&&i&&e.state.facet(gm).autoPanel&&(i=null),r=new Wu(t,i,n)}for(let t of e.effects)if(t.is(oF)){let n=e.state.facet(gm).autoPanel?t.value.length?ym.open:null:r.panel;r=Wu.init(t.value,n,e.state)}else t.is(qC)?r=new Wu(r.diagnostics,t.value?ym.open:null,r.selected):t.is(aF)&&(r=new Wu(r.diagnostics,r.panel,t.value));return r},provide:r=>[cm.from(r,e=>e.panel),Xe.decorations.from(r,e=>e.diagnostics)]}),xie=ht.mark({class:"cm-lintRange cm-lintRange-active"});function Tie(r,e,t){let{diagnostics:n}=r.state.field(Ki),i,s=-1,o=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(u,h,{spec:f})=>{if(e>=u&&e<=h&&(u==h||(e>u||t>0)&&(e<h||t<0)))return i=f.diagnostics,s=u,o=h,!1});let l=r.state.facet(gm).tooltipFilter;return i&&l&&(i=l(i,r.state)),i?{pos:s,end:o,above:r.state.doc.lineAt(s).to<o,create(){return{dom:Aie(r,i)}}}:null}function Aie(r,e){return fn("ul",{class:"cm-tooltip-lint"},e.map(t=>uF(r,t,!1)))}const Cie=r=>{let e=r.state.field(Ki,!1);(!e||!e.panel)&&r.dispatch({effects:Eie(r.state,[qC.of(!0)])});let t=um(r,ym.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},FM=r=>{let e=r.state.field(Ki,!1);return!e||!e.panel?!1:(r.dispatch({effects:qC.of(!1)}),!0)},Rie=r=>{let e=r.state.field(Ki,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},kie=[{key:"Mod-Shift-m",run:Cie,preventDefault:!0},{key:"F8",run:Rie}],gm=tt.define({combine(r){return Object.assign({sources:r.map(e=>e.source).filter(e=>e!=null)},Ho(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))}});function lF(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function uF(r,e,t){var n;let i=t?lF(e.actions):[];return fn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},fn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,o)=>{let l=!1,u=g=>{if(g.preventDefault(),l)return;l=!0;let y=bf(r.state.field(Ki).diagnostics,e);y&&s.apply(r,y.from,y.to)},{name:h}=s,f=i[o]?h.indexOf(i[o]):-1,p=f<0?h:[h.slice(0,f),fn("u",h.slice(f,f+1)),h.slice(f+1)];return fn("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${h}${f<0?"":` (access key "${i[o]})"`}.`},p)}),e.source&&fn("div",{class:"cm-diagnosticSource"},e.source))}class Die extends La{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return fn("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class VM{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=uF(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class ym{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)FM(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=lF(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==i.keyCode){let u=bf(this.view.state.field(Ki).diagnostics,s);u&&s.actions[l].apply(e,u.from,u.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=fn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=fn("div",{class:"cm-panel-lint"},this.list,fn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>FM(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ki).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ki),n=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(l,u,{spec:h})=>{for(let f of h.diagnostics){if(o.has(f))continue;o.add(f);let p=-1,g;for(let y=n;y<this.items.length;y++)if(this.items[y].diagnostic==f){p=y;break}p<0?(g=new VM(this.view,f),this.items.splice(n,0,g),i=!0):(g=this.items[p],p>n&&(this.items.splice(n,p-n),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new VM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:u})=>{let h=u.height/this.list.offsetHeight;l.top<u.top?this.list.scrollTop-=(u.top-l.top)/h:l.bottom>u.bottom&&(this.list.scrollTop+=(l.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ki),n=bf(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:aF.of(n)})}static open(e){return new ym(e)}}function Iie(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function qy(r){return Iie(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Oie=Xe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:qy("#d11")},".cm-lintRange-warning":{backgroundImage:qy("orange")},".cm-lintRange-info":{backgroundImage:qy("#999")},".cm-lintRange-hint":{backgroundImage:qy("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Nie(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function Mie(r){let e="hint",t=1;for(let n of r){let i=Nie(n.severity);i>t&&(t=i,e=n.severity)}return e}const Pie=[Ki,Xe.decorations.compute([Ki],r=>{let{selected:e,panel:t}=r.field(Ki);return!e||!t||e.from==e.to?ht.none:ht.set([xie.range(e.from,e.to)])}),Cee(Tie,{hideOn:Sie}),Oie];var UM=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(die)),e.defaultKeymap!==!1&&(n=n.concat(ore)),e.searchKeymap!==!1&&(n=n.concat(Ore)),e.historyKeymap!==!1&&(n=n.concat(mne)),e.foldKeymap!==!1&&(n=n.concat(kte)),e.completionKeymap!==!1&&(n=n.concat(sF)),e.lintKeymap!==!1&&(n=n.concat(kie));var i=[];return e.lineNumbers!==!1&&i.push(Fee()),e.highlightActiveLineGutter!==!1&&i.push(zee()),e.highlightSpecialChars!==!1&&i.push(nee()),e.history!==!1&&i.push(one()),e.foldGutter!==!1&&i.push(Nte()),e.drawSelection!==!1&&i.push(WJ()),e.dropCursor!==!1&&i.push(XJ()),e.allowMultipleSelections!==!1&&i.push(Ft.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(wte()),e.syntaxHighlighting!==!1&&i.push(s9(Bte,{fallback:!0})),e.bracketMatching!==!1&&i.push(qte()),e.closeBrackets!==!1&&i.push(uie()),e.autocompletion!==!1&&i.push(_ie()),e.rectangularSelection!==!1&&i.push(gee()),t!==!1&&i.push(wee()),e.highlightActiveLine!==!1&&i.push(lee()),e.highlightSelectionMatches!==!1&&i.push(dre()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Tw.of(" ".repeat(e.tabSize))),i.concat([Ew.of(n.flat())]).filter(Boolean)};const Lie="#e5c07b",zM="#e06c75",Bie="#56b6c2",Fie="#ffffff",D0="#abb2bf",LT="#7d8799",Vie="#61afef",Uie="#98c379",jM="#d19a66",zie="#c678dd",jie="#21252b",HM="#2c313a",qM="#282c34",Gb="#353a42",Hie="#3E4451",WM="#528bff",qie=Xe.theme({"&":{color:D0,backgroundColor:qM},".cm-content":{caretColor:WM},".cm-cursor, .cm-dropCursor":{borderLeftColor:WM},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Hie},".cm-panels":{backgroundColor:jie,color:D0},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:qM,color:LT,border:"none"},".cm-activeLineGutter":{backgroundColor:HM},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Gb},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Gb,borderBottomColor:Gb},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:HM,color:D0}}},{dark:!0}),Wie=Um.define([{tag:Me.keyword,color:zie},{tag:[Me.name,Me.deleted,Me.character,Me.propertyName,Me.macroName],color:zM},{tag:[Me.function(Me.variableName),Me.labelName],color:Vie},{tag:[Me.color,Me.constant(Me.name),Me.standard(Me.name)],color:jM},{tag:[Me.definition(Me.name),Me.separator],color:D0},{tag:[Me.typeName,Me.className,Me.number,Me.changed,Me.annotation,Me.modifier,Me.self,Me.namespace],color:Lie},{tag:[Me.operator,Me.operatorKeyword,Me.url,Me.escape,Me.regexp,Me.link,Me.special(Me.string)],color:Bie},{tag:[Me.meta,Me.comment],color:LT},{tag:Me.strong,fontWeight:"bold"},{tag:Me.emphasis,fontStyle:"italic"},{tag:Me.strikethrough,textDecoration:"line-through"},{tag:Me.link,color:LT,textDecoration:"underline"},{tag:Me.heading,fontWeight:"bold",color:zM},{tag:[Me.atom,Me.bool,Me.special(Me.variableName)],color:jM},{tag:[Me.processingInstruction,Me.string,Me.inserted],color:Uie},{tag:Me.invalid,color:Fie}]),Gie=[qie,s9(Wie)];var Kie=Xe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),$ie=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:l=!0}=e,u=[];switch(t&&u.unshift(Ew.of([are])),l&&(typeof l=="boolean"?u.unshift(UM()):u.unshift(UM(l))),o&&u.unshift(fee(o)),s){case"light":u.push(Kie);break;case"dark":u.push(Gie);break;case"none":break;default:u.push(s);break}return n===!1&&u.push(Xe.editable.of(!1)),i&&u.push(Ft.readOnly.of(!0)),[...u]},Yie=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(e=>r.state.sliceDoc(e.from,e.to)),selectedText:r.state.selection.ranges.some(e=>!e.empty)});class Xie{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class GM{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var Kb=null,Qie=()=>typeof window>"u"?new GM:(Kb||(Kb=new GM),Kb),KM=jo.define(),Zie=200,Jie=[];function ese(r){var{value:e,selection:t,onChange:n,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:l=Jie,autoFocus:u,theme:h="light",height:f=null,minHeight:p=null,maxHeight:g=null,width:y=null,minWidth:w=null,maxWidth:_=null,placeholder:E="",editable:b=!0,readOnly:A=!1,indentWithTab:T=!0,basicSetup:x=!0,root:D,initialState:M}=r,[O,P]=ge.useState(),[C,W]=ge.useState(),[$,N]=ge.useState(),F=ge.useState(()=>({current:null}))[0],B=ge.useState(()=>({current:null}))[0],ae=Xe.theme({"&":{height:f,minHeight:p,maxHeight:g,width:y,minWidth:w,maxWidth:_},"& .cm-scroller":{height:"100% !important"}}),Q=Xe.updateListener.of(fe=>{if(fe.docChanged&&typeof n=="function"&&!fe.transactions.some(K=>K.annotation(KM))){F.current?F.current.reset():(F.current=new Xie(()=>{if(B.current){var K=B.current;B.current=null,K()}F.current=null},Zie),Qie().add(F.current));var ee=fe.state.doc,J=ee.toString();n(J,fe)}i&&i(Yie(fe))}),Y=$ie({theme:h,editable:b,readOnly:A,placeholder:E,indentWithTab:T,basicSetup:x}),pe=[Q,ae,...Y];return o&&typeof o=="function"&&pe.push(Xe.updateListener.of(o)),pe=pe.concat(l),ge.useLayoutEffect(()=>{if(O&&!$){var fe={doc:e,selection:t,extensions:pe},ee=M?Ft.fromJSON(M.json,fe,M.fields):Ft.create(fe);if(N(ee),!C){var J=new Xe({state:ee,parent:O,root:D});W(J),s&&s(J,ee)}}return()=>{C&&(N(void 0),W(void 0))}},[O,$]),ge.useEffect(()=>{r.container&&P(r.container)},[r.container]),ge.useEffect(()=>()=>{C&&(C.destroy(),W(void 0)),F.current&&(F.current.cancel(),F.current=null)},[C]),ge.useEffect(()=>{u&&C&&C.focus()},[u,C]),ge.useEffect(()=>{C&&C.dispatch({effects:Et.reconfigure.of(pe)})},[h,l,f,p,g,y,w,_,E,b,A,T,x,n,o]),ge.useEffect(()=>{if(e!==void 0){var fe=C?C.state.doc.toString():"";if(C&&e!==fe){var ee=F.current&&!F.current.isDone,J=()=>{C&&e!==C.state.doc.toString()&&C.dispatch({changes:{from:0,to:C.state.doc.toString().length,insert:e||""},annotations:[KM.of(!0)]})};ee?B.current=J:J()}}},[e,C]),{state:$,setState:N,view:C,setView:W,container:O,setContainer:P}}var tse=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],nse=ge.forwardRef((r,e)=>{var{className:t,value:n="",selection:i,extensions:s=[],onChange:o,onStatistics:l,onCreateEditor:u,onUpdate:h,autoFocus:f,theme:p="light",height:g,minHeight:y,maxHeight:w,width:_,minWidth:E,maxWidth:b,basicSetup:A,placeholder:T,indentWithTab:x,editable:D,readOnly:M,root:O,initialState:P}=r,C=UQ(r,tse),W=ge.useRef(null),{state:$,view:N,container:F,setContainer:B}=ese({root:O,value:n,autoFocus:f,theme:p,height:g,minHeight:y,maxHeight:w,width:_,minWidth:E,maxWidth:b,basicSetup:A,placeholder:T,indentWithTab:x,editable:D,readOnly:M,selection:i,onChange:o,onStatistics:l,onCreateEditor:u,onUpdate:h,extensions:s,initialState:P});ge.useImperativeHandle(e,()=>({editor:W.current,state:$,view:N}),[W,F,$,N]);var ae=ge.useCallback(Y=>{W.current=Y,B(Y)},[B]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var Q=typeof p=="string"?"cm-theme-"+p:"cm-theme";return le.jsx("div",zx({ref:ae,className:""+Q+(t?" "+t:"")},C))});nse.displayName="CodeMirror";const Wy="/Note_App-react/assets/searchicon-h3KKiPjD.png",$b="/Note_App-react/assets/mini-BJnXvPg6.png",rse="/Note_App-react/assets/great-CfzCEWiq.png",ise="/Note_App-react/assets/notess-BEf0-GyN.png";var sse=Object.defineProperty,ose=Object.defineProperties,ase=Object.getOwnPropertyDescriptors,$M=Object.getOwnPropertySymbols,lse=Object.prototype.hasOwnProperty,use=Object.prototype.propertyIsEnumerable,BT=(r,e,t)=>e in r?sse(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wt=(r,e)=>{for(var t in e||(e={}))lse.call(e,t)&&BT(r,t,e[t]);if($M)for(var t of $M(e))use.call(e,t)&&BT(r,t,e[t]);return r},Sf=(r,e)=>ose(r,ase(e)),Be=(r,e,t)=>BT(r,typeof e!="symbol"?e+"":e,t),cse=(r,e,t)=>new Promise((n,i)=>{var s=u=>{try{l(t.next(u))}catch(h){i(h)}},o=u=>{try{l(t.throw(u))}catch(h){i(h)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);l((t=t.apply(r,e)).next())});class Uv{constructor(e){Be(this,"rootKey"),this.rootKey=e}}const hse=Object.seal({});class qe extends Uv{constructor(e){super(e),Be(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const n=this.root.map(i=>i instanceof Uv?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((t=n[0])!=null&&t._attr)?n[0]:n:hse}}addChildElement(e){return this.root.push(e),this}}class Nw extends qe{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class wt extends Uv{constructor(e){super("_attr"),Be(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;t[s]=i}}),{_attr:t}}}class Mw extends Uv{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Sf(Wt({},n),{[i]:s}),{})}}}class Un extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cF(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Yb={},Gy={exports:{}},YM;function WC(){if(YM)return Gy.exports;YM=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(D,M,O){return Function.prototype.apply.call(D,M,O)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:t=function(D){return Object.getOwnPropertyNames(D)};function n(x){console&&console.warn&&console.warn(x)}var i=Number.isNaN||function(D){return D!==D};function s(){s.init.call(this)}Gy.exports=s,Gy.exports.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function l(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");o=x}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function u(x){return x._maxListeners===void 0?s.defaultMaxListeners:x._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(D){for(var M=[],O=1;O<arguments.length;O++)M.push(arguments[O]);var P=D==="error",C=this._events;if(C!==void 0)P=P&&C.error===void 0;else if(!P)return!1;if(P){var W;if(M.length>0&&(W=M[0]),W instanceof Error)throw W;var $=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw $.context=W,$}var N=C[D];if(N===void 0)return!1;if(typeof N=="function")e(N,this,M);else for(var F=N.length,B=w(N,F),O=0;O<F;++O)e(B[O],this,M);return!0};function h(x,D,M,O){var P,C,W;if(l(M),C=x._events,C===void 0?(C=x._events=Object.create(null),x._eventsCount=0):(C.newListener!==void 0&&(x.emit("newListener",D,M.listener?M.listener:M),C=x._events),W=C[D]),W===void 0)W=C[D]=M,++x._eventsCount;else if(typeof W=="function"?W=C[D]=O?[M,W]:[W,M]:O?W.unshift(M):W.push(M),P=u(x),P>0&&W.length>P&&!W.warned){W.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=x,$.type=D,$.count=W.length,n($)}return x}s.prototype.addListener=function(D,M){return h(this,D,M,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(D,M){return h(this,D,M,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(x,D,M){var O={fired:!1,wrapFn:void 0,target:x,type:D,listener:M},P=f.bind(O);return P.listener=M,O.wrapFn=P,P}s.prototype.once=function(D,M){return l(M),this.on(D,p(this,D,M)),this},s.prototype.prependOnceListener=function(D,M){return l(M),this.prependListener(D,p(this,D,M)),this},s.prototype.removeListener=function(D,M){var O,P,C,W,$;if(l(M),P=this._events,P===void 0)return this;if(O=P[D],O===void 0)return this;if(O===M||O.listener===M)--this._eventsCount===0?this._events=Object.create(null):(delete P[D],P.removeListener&&this.emit("removeListener",D,O.listener||M));else if(typeof O!="function"){for(C=-1,W=O.length-1;W>=0;W--)if(O[W]===M||O[W].listener===M){$=O[W].listener,C=W;break}if(C<0)return this;C===0?O.shift():_(O,C),O.length===1&&(P[D]=O[0]),P.removeListener!==void 0&&this.emit("removeListener",D,$||M)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(D){var M,O,P;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[D]),this;if(arguments.length===0){var C=Object.keys(O),W;for(P=0;P<C.length;++P)W=C[P],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(M=O[D],typeof M=="function")this.removeListener(D,M);else if(M!==void 0)for(P=M.length-1;P>=0;P--)this.removeListener(D,M[P]);return this};function g(x,D,M){var O=x._events;if(O===void 0)return[];var P=O[D];return P===void 0?[]:typeof P=="function"?M?[P.listener||P]:[P]:M?E(P):w(P,P.length)}s.prototype.listeners=function(D){return g(this,D,!0)},s.prototype.rawListeners=function(D){return g(this,D,!1)},s.listenerCount=function(x,D){return typeof x.listenerCount=="function"?x.listenerCount(D):y.call(x,D)},s.prototype.listenerCount=y;function y(x){var D=this._events;if(D!==void 0){var M=D[x];if(typeof M=="function")return 1;if(M!==void 0)return M.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function w(x,D){for(var M=new Array(D),O=0;O<D;++O)M[O]=x[O];return M}function _(x,D){for(;D+1<x.length;D++)x[D]=x[D+1];x.pop()}function E(x){for(var D=new Array(x.length),M=0;M<D.length;++M)D[M]=x[M].listener||x[M];return D}function b(x,D){return new Promise(function(M,O){function P(W){x.removeListener(D,C),O(W)}function C(){typeof x.removeListener=="function"&&x.removeListener("error",P),M([].slice.call(arguments))}T(x,D,C,{once:!0}),D!=="error"&&A(x,P,{once:!0})})}function A(x,D,M){typeof x.on=="function"&&T(x,"error",D,M)}function T(x,D,M,O){if(typeof x.on=="function")O.once?x.once(D,M):x.on(D,M);else if(typeof x.addEventListener=="function")x.addEventListener(D,function P(C){O.once&&x.removeEventListener(D,P),M(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return Gy.exports}var Ky={exports:{}},XM;function su(){return XM||(XM=1,typeof Object.create=="function"?Ky.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ky.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Ky.exports}function fse(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hF={exports:{}},zn=hF.exports={},go,yo;function FT(){throw new Error("setTimeout has not been defined")}function VT(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?go=setTimeout:go=FT}catch{go=FT}try{typeof clearTimeout=="function"?yo=clearTimeout:yo=VT}catch{yo=VT}})();function fF(r){if(go===setTimeout)return setTimeout(r,0);if((go===FT||!go)&&setTimeout)return go=setTimeout,setTimeout(r,0);try{return go(r,0)}catch{try{return go.call(null,r,0)}catch{return go.call(this,r,0)}}}function dse(r){if(yo===clearTimeout)return clearTimeout(r);if((yo===VT||!yo)&&clearTimeout)return yo=clearTimeout,clearTimeout(r);try{return yo(r)}catch{try{return yo.call(null,r)}catch{return yo.call(this,r)}}}var ba=[],$h=!1,Zu,I0=-1;function pse(){!$h||!Zu||($h=!1,Zu.length?ba=Zu.concat(ba):I0=-1,ba.length&&dF())}function dF(){if(!$h){var r=fF(pse);$h=!0;for(var e=ba.length;e;){for(Zu=ba,ba=[];++I0<e;)Zu&&Zu[I0].run();I0=-1,e=ba.length}Zu=null,$h=!1,dse(r)}}zn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];ba.push(new pF(r,e)),ba.length===1&&!$h&&fF(dF)};function pF(r,e){this.fun=r,this.array=e}pF.prototype.run=function(){this.fun.apply(null,this.array)};zn.title="browser";zn.browser=!0;zn.env={};zn.argv=[];zn.version="";zn.versions={};function Ba(){}zn.on=Ba;zn.addListener=Ba;zn.once=Ba;zn.off=Ba;zn.removeListener=Ba;zn.removeAllListeners=Ba;zn.emit=Ba;zn.prependListener=Ba;zn.prependOnceListener=Ba;zn.listeners=function(r){return[]};zn.binding=function(r){throw new Error("process.binding is not supported")};zn.cwd=function(){return"/"};zn.chdir=function(r){throw new Error("process.chdir is not supported")};zn.umask=function(){return 0};var mse=hF.exports;const Ct=fse(mse);var Xb,QM;function mF(){return QM||(QM=1,Xb=WC().EventEmitter),Xb}var Qb={},Qd={},ZM;function gse(){if(ZM)return Qd;ZM=1,Qd.byteLength=l,Qd.toByteArray=h,Qd.fromByteArray=g;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(y){var w=y.length;if(w%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=y.indexOf("=");_===-1&&(_=w);var E=_===w?0:4-_%4;return[_,E]}function l(y){var w=o(y),_=w[0],E=w[1];return(_+E)*3/4-E}function u(y,w,_){return(w+_)*3/4-_}function h(y){var w,_=o(y),E=_[0],b=_[1],A=new t(u(y,E,b)),T=0,x=b>0?E-4:E,D;for(D=0;D<x;D+=4)w=e[y.charCodeAt(D)]<<18|e[y.charCodeAt(D+1)]<<12|e[y.charCodeAt(D+2)]<<6|e[y.charCodeAt(D+3)],A[T++]=w>>16&255,A[T++]=w>>8&255,A[T++]=w&255;return b===2&&(w=e[y.charCodeAt(D)]<<2|e[y.charCodeAt(D+1)]>>4,A[T++]=w&255),b===1&&(w=e[y.charCodeAt(D)]<<10|e[y.charCodeAt(D+1)]<<4|e[y.charCodeAt(D+2)]>>2,A[T++]=w>>8&255,A[T++]=w&255),A}function f(y){return r[y>>18&63]+r[y>>12&63]+r[y>>6&63]+r[y&63]}function p(y,w,_){for(var E,b=[],A=w;A<_;A+=3)E=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(y[A+2]&255),b.push(f(E));return b.join("")}function g(y){for(var w,_=y.length,E=_%3,b=[],A=16383,T=0,x=_-E;T<x;T+=A)b.push(p(y,T,T+A>x?x:T+A));return E===1?(w=y[_-1],b.push(r[w>>2]+r[w<<4&63]+"==")):E===2&&(w=(y[_-2]<<8)+y[_-1],b.push(r[w>>10]+r[w>>4&63]+r[w<<2&63]+"=")),b.join("")}return Qd}var $y={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var JM;function yse(){return JM||(JM=1,$y.read=function(r,e,t,n,i){var s,o,l=i*8-n-1,u=(1<<l)-1,h=u>>1,f=-7,p=t?i-1:0,g=t?-1:1,y=r[e+p];for(p+=g,s=y&(1<<-f)-1,y>>=-f,f+=l;f>0;s=s*256+r[e+p],p+=g,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+r[e+p],p+=g,f-=8);if(s===0)s=1-h;else{if(s===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(y?-1:1)*o*Math.pow(2,s-n)},$y.write=function(r,e,t,n,i,s){var o,l,u,h=s*8-i-1,f=(1<<h)-1,p=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,w=n?1:-1,_=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=g/u:e+=g*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=f?(l=0,o=f):o+p>=1?(l=(e*u-1)*Math.pow(2,i),o=o+p):(l=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;r[t+y]=l&255,y+=w,l/=256,i-=8);for(o=o<<i|l,h+=i;h>0;r[t+y]=o&255,y+=w,o/=256,h-=8);r[t+y-w]|=_*128}),$y}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var eP;function Pw(){return eP||(eP=1,function(r){var e=gse(),t=yse(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=A,r.INSPECT_MAX_BYTES=50;var i=2147483647;r.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var H=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(H,k),H.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');var k=new Uint8Array(H);return Object.setPrototypeOf(k,l.prototype),k}function l(H,k,I){if(typeof H=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(H)}return u(H,k,I)}l.poolSize=8192;function u(H,k,I){if(typeof H=="string")return g(H,k);if(ArrayBuffer.isView(H))return w(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(be(H,ArrayBuffer)||H&&be(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(H,SharedArrayBuffer)||H&&be(H.buffer,SharedArrayBuffer)))return _(H,k,I);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var U=H.valueOf&&H.valueOf();if(U!=null&&U!==H)return l.from(U,k,I);var oe=E(H);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return l.from(H[Symbol.toPrimitive]("string"),k,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}l.from=function(H,k,I){return u(H,k,I)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function f(H,k,I){return h(H),H<=0?o(H):k!==void 0?typeof I=="string"?o(H).fill(k,I):o(H).fill(k):o(H)}l.alloc=function(H,k,I){return f(H,k,I)};function p(H){return h(H),o(H<0?0:b(H)|0)}l.allocUnsafe=function(H){return p(H)},l.allocUnsafeSlow=function(H){return p(H)};function g(H,k){if((typeof k!="string"||k==="")&&(k="utf8"),!l.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var I=T(H,k)|0,U=o(I),oe=U.write(H,k);return oe!==I&&(U=U.slice(0,oe)),U}function y(H){for(var k=H.length<0?0:b(H.length)|0,I=o(k),U=0;U<k;U+=1)I[U]=H[U]&255;return I}function w(H){if(be(H,Uint8Array)){var k=new Uint8Array(H);return _(k.buffer,k.byteOffset,k.byteLength)}return y(H)}function _(H,k,I){if(k<0||H.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<k+(I||0))throw new RangeError('"length" is outside of buffer bounds');var U;return k===void 0&&I===void 0?U=new Uint8Array(H):I===void 0?U=new Uint8Array(H,k):U=new Uint8Array(H,k,I),Object.setPrototypeOf(U,l.prototype),U}function E(H){if(l.isBuffer(H)){var k=b(H.length)|0,I=o(k);return I.length===0||H.copy(I,0,0,k),I}if(H.length!==void 0)return typeof H.length!="number"||V(H.length)?o(0):y(H);if(H.type==="Buffer"&&Array.isArray(H.data))return y(H.data)}function b(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function A(H){return+H!=H&&(H=0),l.alloc(+H)}l.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==l.prototype},l.compare=function(k,I){if(be(k,Uint8Array)&&(k=l.from(k,k.offset,k.byteLength)),be(I,Uint8Array)&&(I=l.from(I,I.offset,I.byteLength)),!l.isBuffer(k)||!l.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===I)return 0;for(var U=k.length,oe=I.length,me=0,ue=Math.min(U,oe);me<ue;++me)if(k[me]!==I[me]){U=k[me],oe=I[me];break}return U<oe?-1:oe<U?1:0},l.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(k,I){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return l.alloc(0);var U;if(I===void 0)for(I=0,U=0;U<k.length;++U)I+=k[U].length;var oe=l.allocUnsafe(I),me=0;for(U=0;U<k.length;++U){var ue=k[U];if(be(ue,Uint8Array))me+ue.length>oe.length?l.from(ue).copy(oe,me):Uint8Array.prototype.set.call(oe,ue,me);else if(l.isBuffer(ue))ue.copy(oe,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=ue.length}return oe};function T(H,k){if(l.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||be(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var I=H.length,U=arguments.length>2&&arguments[2]===!0;if(!U&&I===0)return 0;for(var oe=!1;;)switch(k){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return z(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return X(H).length;default:if(oe)return U?-1:z(H).length;k=(""+k).toLowerCase(),oe=!0}}l.byteLength=T;function x(H,k,I){var U=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,k>>>=0,I<=k))return"";for(H||(H="utf8");;)switch(H){case"hex":return fe(this,k,I);case"utf8":case"utf-8":return B(this,k,I);case"ascii":return Y(this,k,I);case"latin1":case"binary":return pe(this,k,I);case"base64":return F(this,k,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,k,I);default:if(U)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),U=!0}}l.prototype._isBuffer=!0;function D(H,k,I){var U=H[k];H[k]=H[I],H[I]=U}l.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<k;I+=2)D(this,I,I+1);return this},l.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<k;I+=4)D(this,I,I+3),D(this,I+1,I+2);return this},l.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<k;I+=8)D(this,I,I+7),D(this,I+1,I+6),D(this,I+2,I+5),D(this,I+3,I+4);return this},l.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?B(this,0,k):x.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(k){if(!l.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:l.compare(this,k)===0},l.prototype.inspect=function(){var k="",I=r.INSPECT_MAX_BYTES;return k=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(k+=" ... "),"<Buffer "+k+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(k,I,U,oe,me){if(be(k,Uint8Array)&&(k=l.from(k,k.offset,k.byteLength)),!l.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(I===void 0&&(I=0),U===void 0&&(U=k?k.length:0),oe===void 0&&(oe=0),me===void 0&&(me=this.length),I<0||U>k.length||oe<0||me>this.length)throw new RangeError("out of range index");if(oe>=me&&I>=U)return 0;if(oe>=me)return-1;if(I>=U)return 1;if(I>>>=0,U>>>=0,oe>>>=0,me>>>=0,this===k)return 0;for(var ue=me-oe,De=U-I,Pe=Math.min(ue,De),Oe=this.slice(oe,me),He=k.slice(I,U),Ge=0;Ge<Pe;++Ge)if(Oe[Ge]!==He[Ge]){ue=Oe[Ge],De=He[Ge];break}return ue<De?-1:De<ue?1:0};function M(H,k,I,U,oe){if(H.length===0)return-1;if(typeof I=="string"?(U=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,V(I)&&(I=oe?0:H.length-1),I<0&&(I=H.length+I),I>=H.length){if(oe)return-1;I=H.length-1}else if(I<0)if(oe)I=0;else return-1;if(typeof k=="string"&&(k=l.from(k,U)),l.isBuffer(k))return k.length===0?-1:O(H,k,I,U,oe);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(H,k,I):Uint8Array.prototype.lastIndexOf.call(H,k,I):O(H,[k],I,U,oe);throw new TypeError("val must be string, number or Buffer")}function O(H,k,I,U,oe){var me=1,ue=H.length,De=k.length;if(U!==void 0&&(U=String(U).toLowerCase(),U==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if(H.length<2||k.length<2)return-1;me=2,ue/=2,De/=2,I/=2}function Pe(Nt,Zr){return me===1?Nt[Zr]:Nt.readUInt16BE(Zr*me)}var Oe;if(oe){var He=-1;for(Oe=I;Oe<ue;Oe++)if(Pe(H,Oe)===Pe(k,He===-1?0:Oe-He)){if(He===-1&&(He=Oe),Oe-He+1===De)return He*me}else He!==-1&&(Oe-=Oe-He),He=-1}else for(I+De>ue&&(I=ue-De),Oe=I;Oe>=0;Oe--){for(var Ge=!0,it=0;it<De;it++)if(Pe(H,Oe+it)!==Pe(k,it)){Ge=!1;break}if(Ge)return Oe}return-1}l.prototype.includes=function(k,I,U){return this.indexOf(k,I,U)!==-1},l.prototype.indexOf=function(k,I,U){return M(this,k,I,U,!0)},l.prototype.lastIndexOf=function(k,I,U){return M(this,k,I,U,!1)};function P(H,k,I,U){I=Number(I)||0;var oe=H.length-I;U?(U=Number(U),U>oe&&(U=oe)):U=oe;var me=k.length;U>me/2&&(U=me/2);for(var ue=0;ue<U;++ue){var De=parseInt(k.substr(ue*2,2),16);if(V(De))return ue;H[I+ue]=De}return ue}function C(H,k,I,U){return te(z(k,H.length-I),H,I,U)}function W(H,k,I,U){return te(se(k),H,I,U)}function $(H,k,I,U){return te(X(k),H,I,U)}function N(H,k,I,U){return te(ie(k,H.length-I),H,I,U)}l.prototype.write=function(k,I,U,oe){if(I===void 0)oe="utf8",U=this.length,I=0;else if(U===void 0&&typeof I=="string")oe=I,U=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(U)?(U=U>>>0,oe===void 0&&(oe="utf8")):(oe=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var me=this.length-I;if((U===void 0||U>me)&&(U=me),k.length>0&&(U<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var ue=!1;;)switch(oe){case"hex":return P(this,k,I,U);case"utf8":case"utf-8":return C(this,k,I,U);case"ascii":case"latin1":case"binary":return W(this,k,I,U);case"base64":return $(this,k,I,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,k,I,U);default:if(ue)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ue=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(H,k,I){return k===0&&I===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(k,I))}function B(H,k,I){I=Math.min(H.length,I);for(var U=[],oe=k;oe<I;){var me=H[oe],ue=null,De=me>239?4:me>223?3:me>191?2:1;if(oe+De<=I){var Pe,Oe,He,Ge;switch(De){case 1:me<128&&(ue=me);break;case 2:Pe=H[oe+1],(Pe&192)===128&&(Ge=(me&31)<<6|Pe&63,Ge>127&&(ue=Ge));break;case 3:Pe=H[oe+1],Oe=H[oe+2],(Pe&192)===128&&(Oe&192)===128&&(Ge=(me&15)<<12|(Pe&63)<<6|Oe&63,Ge>2047&&(Ge<55296||Ge>57343)&&(ue=Ge));break;case 4:Pe=H[oe+1],Oe=H[oe+2],He=H[oe+3],(Pe&192)===128&&(Oe&192)===128&&(He&192)===128&&(Ge=(me&15)<<18|(Pe&63)<<12|(Oe&63)<<6|He&63,Ge>65535&&Ge<1114112&&(ue=Ge))}}ue===null?(ue=65533,De=1):ue>65535&&(ue-=65536,U.push(ue>>>10&1023|55296),ue=56320|ue&1023),U.push(ue),oe+=De}return Q(U)}var ae=4096;function Q(H){var k=H.length;if(k<=ae)return String.fromCharCode.apply(String,H);for(var I="",U=0;U<k;)I+=String.fromCharCode.apply(String,H.slice(U,U+=ae));return I}function Y(H,k,I){var U="";I=Math.min(H.length,I);for(var oe=k;oe<I;++oe)U+=String.fromCharCode(H[oe]&127);return U}function pe(H,k,I){var U="";I=Math.min(H.length,I);for(var oe=k;oe<I;++oe)U+=String.fromCharCode(H[oe]);return U}function fe(H,k,I){var U=H.length;(!k||k<0)&&(k=0),(!I||I<0||I>U)&&(I=U);for(var oe="",me=k;me<I;++me)oe+=_e[H[me]];return oe}function ee(H,k,I){for(var U=H.slice(k,I),oe="",me=0;me<U.length-1;me+=2)oe+=String.fromCharCode(U[me]+U[me+1]*256);return oe}l.prototype.slice=function(k,I){var U=this.length;k=~~k,I=I===void 0?U:~~I,k<0?(k+=U,k<0&&(k=0)):k>U&&(k=U),I<0?(I+=U,I<0&&(I=0)):I>U&&(I=U),I<k&&(I=k);var oe=this.subarray(k,I);return Object.setPrototypeOf(oe,l.prototype),oe};function J(H,k,I){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+k>I)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(k,I,U){k=k>>>0,I=I>>>0,U||J(k,I,this.length);for(var oe=this[k],me=1,ue=0;++ue<I&&(me*=256);)oe+=this[k+ue]*me;return oe},l.prototype.readUintBE=l.prototype.readUIntBE=function(k,I,U){k=k>>>0,I=I>>>0,U||J(k,I,this.length);for(var oe=this[k+--I],me=1;I>0&&(me*=256);)oe+=this[k+--I]*me;return oe},l.prototype.readUint8=l.prototype.readUInt8=function(k,I){return k=k>>>0,I||J(k,1,this.length),this[k]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(k,I){return k=k>>>0,I||J(k,2,this.length),this[k]|this[k+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(k,I){return k=k>>>0,I||J(k,2,this.length),this[k]<<8|this[k+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(k,I){return k=k>>>0,I||J(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(k,I){return k=k>>>0,I||J(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},l.prototype.readIntLE=function(k,I,U){k=k>>>0,I=I>>>0,U||J(k,I,this.length);for(var oe=this[k],me=1,ue=0;++ue<I&&(me*=256);)oe+=this[k+ue]*me;return me*=128,oe>=me&&(oe-=Math.pow(2,8*I)),oe},l.prototype.readIntBE=function(k,I,U){k=k>>>0,I=I>>>0,U||J(k,I,this.length);for(var oe=I,me=1,ue=this[k+--oe];oe>0&&(me*=256);)ue+=this[k+--oe]*me;return me*=128,ue>=me&&(ue-=Math.pow(2,8*I)),ue},l.prototype.readInt8=function(k,I){return k=k>>>0,I||J(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},l.prototype.readInt16LE=function(k,I){k=k>>>0,I||J(k,2,this.length);var U=this[k]|this[k+1]<<8;return U&32768?U|4294901760:U},l.prototype.readInt16BE=function(k,I){k=k>>>0,I||J(k,2,this.length);var U=this[k+1]|this[k]<<8;return U&32768?U|4294901760:U},l.prototype.readInt32LE=function(k,I){return k=k>>>0,I||J(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},l.prototype.readInt32BE=function(k,I){return k=k>>>0,I||J(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},l.prototype.readFloatLE=function(k,I){return k=k>>>0,I||J(k,4,this.length),t.read(this,k,!0,23,4)},l.prototype.readFloatBE=function(k,I){return k=k>>>0,I||J(k,4,this.length),t.read(this,k,!1,23,4)},l.prototype.readDoubleLE=function(k,I){return k=k>>>0,I||J(k,8,this.length),t.read(this,k,!0,52,8)},l.prototype.readDoubleBE=function(k,I){return k=k>>>0,I||J(k,8,this.length),t.read(this,k,!1,52,8)};function K(H,k,I,U,oe,me){if(!l.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>oe||k<me)throw new RangeError('"value" argument is out of bounds');if(I+U>H.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(k,I,U,oe){if(k=+k,I=I>>>0,U=U>>>0,!oe){var me=Math.pow(2,8*U)-1;K(this,k,I,U,me,0)}var ue=1,De=0;for(this[I]=k&255;++De<U&&(ue*=256);)this[I+De]=k/ue&255;return I+U},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(k,I,U,oe){if(k=+k,I=I>>>0,U=U>>>0,!oe){var me=Math.pow(2,8*U)-1;K(this,k,I,U,me,0)}var ue=U-1,De=1;for(this[I+ue]=k&255;--ue>=0&&(De*=256);)this[I+ue]=k/De&255;return I+U},l.prototype.writeUint8=l.prototype.writeUInt8=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,1,255,0),this[I]=k&255,I+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,2,65535,0),this[I]=k&255,this[I+1]=k>>>8,I+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,2,65535,0),this[I]=k>>>8,this[I+1]=k&255,I+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,4,4294967295,0),this[I+3]=k>>>24,this[I+2]=k>>>16,this[I+1]=k>>>8,this[I]=k&255,I+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,4,4294967295,0),this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255,I+4},l.prototype.writeIntLE=function(k,I,U,oe){if(k=+k,I=I>>>0,!oe){var me=Math.pow(2,8*U-1);K(this,k,I,U,me-1,-me)}var ue=0,De=1,Pe=0;for(this[I]=k&255;++ue<U&&(De*=256);)k<0&&Pe===0&&this[I+ue-1]!==0&&(Pe=1),this[I+ue]=(k/De>>0)-Pe&255;return I+U},l.prototype.writeIntBE=function(k,I,U,oe){if(k=+k,I=I>>>0,!oe){var me=Math.pow(2,8*U-1);K(this,k,I,U,me-1,-me)}var ue=U-1,De=1,Pe=0;for(this[I+ue]=k&255;--ue>=0&&(De*=256);)k<0&&Pe===0&&this[I+ue+1]!==0&&(Pe=1),this[I+ue]=(k/De>>0)-Pe&255;return I+U},l.prototype.writeInt8=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,1,127,-128),k<0&&(k=255+k+1),this[I]=k&255,I+1},l.prototype.writeInt16LE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,2,32767,-32768),this[I]=k&255,this[I+1]=k>>>8,I+2},l.prototype.writeInt16BE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,2,32767,-32768),this[I]=k>>>8,this[I+1]=k&255,I+2},l.prototype.writeInt32LE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,4,2147483647,-2147483648),this[I]=k&255,this[I+1]=k>>>8,this[I+2]=k>>>16,this[I+3]=k>>>24,I+4},l.prototype.writeInt32BE=function(k,I,U){return k=+k,I=I>>>0,U||K(this,k,I,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255,I+4};function re(H,k,I,U,oe,me){if(I+U>H.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function he(H,k,I,U,oe){return k=+k,I=I>>>0,oe||re(H,k,I,4),t.write(H,k,I,U,23,4),I+4}l.prototype.writeFloatLE=function(k,I,U){return he(this,k,I,!0,U)},l.prototype.writeFloatBE=function(k,I,U){return he(this,k,I,!1,U)};function ve(H,k,I,U,oe){return k=+k,I=I>>>0,oe||re(H,k,I,8),t.write(H,k,I,U,52,8),I+8}l.prototype.writeDoubleLE=function(k,I,U){return ve(this,k,I,!0,U)},l.prototype.writeDoubleBE=function(k,I,U){return ve(this,k,I,!1,U)},l.prototype.copy=function(k,I,U,oe){if(!l.isBuffer(k))throw new TypeError("argument should be a Buffer");if(U||(U=0),!oe&&oe!==0&&(oe=this.length),I>=k.length&&(I=k.length),I||(I=0),oe>0&&oe<U&&(oe=U),oe===U||k.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),k.length-I<oe-U&&(oe=k.length-I+U);var me=oe-U;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,U,oe):Uint8Array.prototype.set.call(k,this.subarray(U,oe),I),me},l.prototype.fill=function(k,I,U,oe){if(typeof k=="string"){if(typeof I=="string"?(oe=I,I=0,U=this.length):typeof U=="string"&&(oe=U,U=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!l.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(k.length===1){var me=k.charCodeAt(0);(oe==="utf8"&&me<128||oe==="latin1")&&(k=me)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(I<0||this.length<I||this.length<U)throw new RangeError("Out of range index");if(U<=I)return this;I=I>>>0,U=U===void 0?this.length:U>>>0,k||(k=0);var ue;if(typeof k=="number")for(ue=I;ue<U;++ue)this[ue]=k;else{var De=l.isBuffer(k)?k:l.from(k,oe),Pe=De.length;if(Pe===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(ue=0;ue<U-I;++ue)this[ue+I]=De[ue%Pe]}return this};var ce=/[^+/0-9A-Za-z-_]/g;function j(H){if(H=H.split("=")[0],H=H.trim().replace(ce,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function z(H,k){k=k||1/0;for(var I,U=H.length,oe=null,me=[],ue=0;ue<U;++ue){if(I=H.charCodeAt(ue),I>55295&&I<57344){if(!oe){if(I>56319){(k-=3)>-1&&me.push(239,191,189);continue}else if(ue+1===U){(k-=3)>-1&&me.push(239,191,189);continue}oe=I;continue}if(I<56320){(k-=3)>-1&&me.push(239,191,189),oe=I;continue}I=(oe-55296<<10|I-56320)+65536}else oe&&(k-=3)>-1&&me.push(239,191,189);if(oe=null,I<128){if((k-=1)<0)break;me.push(I)}else if(I<2048){if((k-=2)<0)break;me.push(I>>6|192,I&63|128)}else if(I<65536){if((k-=3)<0)break;me.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((k-=4)<0)break;me.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return me}function se(H){for(var k=[],I=0;I<H.length;++I)k.push(H.charCodeAt(I)&255);return k}function ie(H,k){for(var I,U,oe,me=[],ue=0;ue<H.length&&!((k-=2)<0);++ue)I=H.charCodeAt(ue),U=I>>8,oe=I%256,me.push(oe),me.push(U);return me}function X(H){return e.toByteArray(j(H))}function te(H,k,I,U){for(var oe=0;oe<U&&!(oe+I>=k.length||oe>=H.length);++oe)k[oe+I]=H[oe];return oe}function be(H,k){return H instanceof k||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===k.name}function V(H){return H!==H}var _e=function(){for(var H="0123456789abcdef",k=new Array(256),I=0;I<16;++I)for(var U=I*16,oe=0;oe<16;++oe)k[U+oe]=H[I]+H[oe];return k}()}(Qb)),Qb}var Zb={},Jb={},eS,tP;function gF(){return tP||(tP=1,eS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),eS}var tS,nP;function GC(){if(nP)return tS;nP=1;var r=gF();return tS=function(){return r()&&!!Symbol.toStringTag},tS}var nS,rP;function yF(){return rP||(rP=1,nS=Object),nS}var rS,iP;function vse(){return iP||(iP=1,rS=Error),rS}var iS,sP;function wse(){return sP||(sP=1,iS=EvalError),iS}var sS,oP;function _se(){return oP||(oP=1,sS=RangeError),sS}var oS,aP;function bse(){return aP||(aP=1,oS=ReferenceError),oS}var aS,lP;function vF(){return lP||(lP=1,aS=SyntaxError),aS}var lS,uP;function Hm(){return uP||(uP=1,lS=TypeError),lS}var uS,cP;function Sse(){return cP||(cP=1,uS=URIError),uS}var cS,hP;function Ese(){return hP||(hP=1,cS=Math.abs),cS}var hS,fP;function xse(){return fP||(fP=1,hS=Math.floor),hS}var fS,dP;function Tse(){return dP||(dP=1,fS=Math.max),fS}var dS,pP;function Ase(){return pP||(pP=1,dS=Math.min),dS}var pS,mP;function Cse(){return mP||(mP=1,pS=Math.pow),pS}var mS,gP;function Rse(){return gP||(gP=1,mS=Math.round),mS}var gS,yP;function kse(){return yP||(yP=1,gS=Number.isNaN||function(e){return e!==e}),gS}var yS,vP;function Dse(){if(vP)return yS;vP=1;var r=kse();return yS=function(t){return r(t)||t===0?t:t<0?-1:1},yS}var vS,wP;function Ise(){return wP||(wP=1,vS=Object.getOwnPropertyDescriptor),vS}var wS,_P;function qm(){if(_P)return wS;_P=1;var r=Ise();if(r)try{r([],"length")}catch{r=null}return wS=r,wS}var _S,bP;function Lw(){if(bP)return _S;bP=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return _S=r,_S}var bS,SP;function Ose(){if(SP)return bS;SP=1;var r=typeof Symbol<"u"&&Symbol,e=gF();return bS=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},bS}var SS,EP;function wF(){return EP||(EP=1,SS=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),SS}var ES,xP;function _F(){if(xP)return ES;xP=1;var r=yF();return ES=r.getPrototypeOf||null,ES}var xS,TP;function Nse(){if(TP)return xS;TP=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(u,h){for(var f=[],p=0;p<u.length;p+=1)f[p]=u[p];for(var g=0;g<h.length;g+=1)f[g+u.length]=h[g];return f},s=function(u,h){for(var f=[],p=h,g=0;p<u.length;p+=1,g+=1)f[g]=u[p];return f},o=function(l,u){for(var h="",f=0;f<l.length;f+=1)h+=l[f],f+1<l.length&&(h+=u);return h};return xS=function(u){var h=this;if(typeof h!="function"||e.apply(h)!==n)throw new TypeError(r+h);for(var f=s(arguments,1),p,g=function(){if(this instanceof p){var b=h.apply(this,i(f,arguments));return Object(b)===b?b:this}return h.apply(u,i(f,arguments))},y=t(0,h.length-f.length),w=[],_=0;_<y;_++)w[_]="$"+_;if(p=Function("binder","return function ("+o(w,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var E=function(){};E.prototype=h.prototype,p.prototype=new E,E.prototype=null}return p},xS}var TS,AP;function Wm(){if(AP)return TS;AP=1;var r=Nse();return TS=Function.prototype.bind||r,TS}var AS,CP;function KC(){return CP||(CP=1,AS=Function.prototype.call),AS}var CS,RP;function bF(){return RP||(RP=1,CS=Function.prototype.apply),CS}var RS,kP;function Mse(){return kP||(kP=1,RS=typeof Reflect<"u"&&Reflect&&Reflect.apply),RS}var kS,DP;function Pse(){if(DP)return kS;DP=1;var r=Wm(),e=bF(),t=KC(),n=Mse();return kS=n||r.call(t,e),kS}var DS,IP;function Lse(){if(IP)return DS;IP=1;var r=Wm(),e=Hm(),t=KC(),n=Pse();return DS=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(r,t,s)},DS}var IS,OP;function Bse(){if(OP)return IS;OP=1;var r=Lse(),e=qm(),t;try{t=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return IS=n&&typeof n.get=="function"?r([n.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,IS}var OS,NP;function Fse(){if(NP)return OS;NP=1;var r=wF(),e=_F(),t=Bse();return OS=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,OS}var NS,MP;function Vse(){if(MP)return NS;MP=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Wm();return NS=t.call(r,e),NS}var MS,PP;function $C(){if(PP)return MS;PP=1;var r,e=yF(),t=vse(),n=wse(),i=_se(),s=bse(),o=vF(),l=Hm(),u=Sse(),h=Ese(),f=xse(),p=Tse(),g=Ase(),y=Cse(),w=Rse(),_=Dse(),E=Function,b=function(se){try{return E('"use strict"; return ('+se+").constructor;")()}catch{}},A=qm(),T=Lw(),x=function(){throw new l},D=A?function(){try{return arguments.callee,x}catch{try{return A(arguments,"callee").get}catch{return x}}}():x,M=Ose()(),O=Fse(),P=_F(),C=wF(),W=bF(),$=KC(),N={},F=typeof Uint8Array>"u"||!O?r:O(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":M&&O?O([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":N,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":M&&O?O(O([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!M||!O?r:O(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!M||!O?r:O(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":M&&O?O(""[Symbol.iterator]()):r,"%Symbol%":M?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":F,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":$,"%Function.prototype.apply%":W,"%Object.defineProperty%":T,"%Object.getPrototypeOf%":P,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":w,"%Math.sign%":_,"%Reflect.getPrototypeOf%":C};if(O)try{null.error}catch(se){var ae=O(O(se));B["%Error.prototype%"]=ae}var Q=function se(ie){var X;if(ie==="%AsyncFunction%")X=b("async function () {}");else if(ie==="%GeneratorFunction%")X=b("function* () {}");else if(ie==="%AsyncGeneratorFunction%")X=b("async function* () {}");else if(ie==="%AsyncGenerator%"){var te=se("%AsyncGeneratorFunction%");te&&(X=te.prototype)}else if(ie==="%AsyncIteratorPrototype%"){var be=se("%AsyncGenerator%");be&&O&&(X=O(be.prototype))}return B[ie]=X,X},Y={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},pe=Wm(),fe=Vse(),ee=pe.call($,Array.prototype.concat),J=pe.call(W,Array.prototype.splice),K=pe.call($,String.prototype.replace),re=pe.call($,String.prototype.slice),he=pe.call($,RegExp.prototype.exec),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ce=/\\(\\)?/g,j=function(ie){var X=re(ie,0,1),te=re(ie,-1);if(X==="%"&&te!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(te==="%"&&X!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var be=[];return K(ie,ve,function(V,_e,H,k){be[be.length]=H?K(k,ce,"$1"):_e||V}),be},z=function(ie,X){var te=ie,be;if(fe(Y,te)&&(be=Y[te],te="%"+be[0]+"%"),fe(B,te)){var V=B[te];if(V===N&&(V=Q(te)),typeof V>"u"&&!X)throw new l("intrinsic "+ie+" exists, but is not available. Please file an issue!");return{alias:be,name:te,value:V}}throw new o("intrinsic "+ie+" does not exist!")};return MS=function(ie,X){if(typeof ie!="string"||ie.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof X!="boolean")throw new l('"allowMissing" argument must be a boolean');if(he(/^%?[^%]*%?$/,ie)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var te=j(ie),be=te.length>0?te[0]:"",V=z("%"+be+"%",X),_e=V.name,H=V.value,k=!1,I=V.alias;I&&(be=I[0],J(te,ee([0,1],I)));for(var U=1,oe=!0;U<te.length;U+=1){var me=te[U],ue=re(me,0,1),De=re(me,-1);if((ue==='"'||ue==="'"||ue==="`"||De==='"'||De==="'"||De==="`")&&ue!==De)throw new o("property names with quotes must have matching quotes");if((me==="constructor"||!oe)&&(k=!0),be+="."+me,_e="%"+be+"%",fe(B,_e))H=B[_e];else if(H!=null){if(!(me in H)){if(!X)throw new l("base intrinsic for "+ie+" exists, but the property is not available.");return}if(A&&U+1>=te.length){var Pe=A(H,me);oe=!!Pe,oe&&"get"in Pe&&!("originalValue"in Pe.get)?H=Pe.get:H=H[me]}else oe=fe(H,me),H=H[me];oe&&!k&&(B[_e]=H)}}return H},MS}var PS={exports:{}},LS,LP;function Use(){if(LP)return LS;LP=1;var r=Lw(),e=vF(),t=Hm(),n=qm();return LS=function(s,o,l){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,g=!!n&&n(s,o);if(r)r(s,o,{configurable:f===null&&g?g.configurable:!f,enumerable:u===null&&g?g.enumerable:!u,value:l,writable:h===null&&g?g.writable:!h});else if(p||!u&&!h&&!f)s[o]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},LS}var BS,BP;function zse(){if(BP)return BS;BP=1;var r=Lw(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},BS=e,BS}var FS,FP;function jse(){if(FP)return FS;FP=1;var r=$C(),e=Use(),t=zse()(),n=qm(),i=Hm(),s=r("%Math.floor%");return FS=function(l,u){if(typeof l!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||s(u)!==u)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,p=!0;if("length"in l&&n){var g=n(l,"length");g&&!g.configurable&&(f=!1),g&&!g.writable&&(p=!1)}return(f||p||!h)&&(t?e(l,"length",u,!0,!0):e(l,"length",u)),l},FS}var VP;function SF(){return VP||(VP=1,function(r){var e=Wm(),t=$C(),n=jse(),i=Hm(),s=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(o,s),u=Lw(),h=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var y=l(e,o,arguments);return n(y,1+h(0,g.length-(arguments.length-1)),!0)};var f=function(){return l(e,s,arguments)};u?u(r.exports,"apply",{value:f}):r.exports.apply=f}(PS)),PS.exports}var VS,UP;function EF(){if(UP)return VS;UP=1;var r=$C(),e=SF(),t=e(r("String.prototype.indexOf"));return VS=function(i,s){var o=r(i,!!s);return typeof o=="function"&&t(i,".prototype.")>-1?e(o):o},VS}var US,zP;function Hse(){if(zP)return US;zP=1;var r=GC()(),e=EF(),t=e("Object.prototype.toString"),n=function(l){return r&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},i=function(l){return n(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,US=s?n:i,US}var zS,jP;function qse(){if(jP)return zS;jP=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=GC()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return zS=function(u){if(typeof u!="function")return!1;if(t.test(e.call(u)))return!0;if(!n){var h=r.call(u);return h==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var f=s();o=f?i(f):!1}return i(u)===o},zS}var jS,HP;function Wse(){if(HP)return jS;HP=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(A){A!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(T){try{var x=r.call(T);return i.test(x)}catch{return!1}},o=function(T){try{return s(T)?!1:(r.call(T),!0)}catch{return!1}},l=Object.prototype.toString,u="[object Object]",h="[object Function]",f="[object GeneratorFunction]",p="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,_=!(0 in[,]),E=function(){return!1};if(typeof document=="object"){var b=document.all;l.call(b)===l.call(document.all)&&(E=function(T){if((_||!T)&&(typeof T>"u"||typeof T=="object"))try{var x=l.call(T);return(x===p||x===g||x===y||x===u)&&T("")==null}catch{}return!1})}return jS=e?function(T){if(E(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;try{e(T,null,t)}catch(x){if(x!==n)return!1}return!s(T)&&o(T)}:function(T){if(E(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;if(w)return o(T);if(s(T))return!1;var x=l.call(T);return x!==h&&x!==f&&!/^\[object HTML/.test(x)?!1:o(T)},jS}var HS,qP;function Gse(){if(qP)return HS;qP=1;var r=Wse(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(u,h,f){for(var p=0,g=u.length;p<g;p++)t.call(u,p)&&(f==null?h(u[p],p,u):h.call(f,u[p],p,u))},i=function(u,h,f){for(var p=0,g=u.length;p<g;p++)f==null?h(u.charAt(p),p,u):h.call(f,u.charAt(p),p,u)},s=function(u,h,f){for(var p in u)t.call(u,p)&&(f==null?h(u[p],p,u):h.call(f,u[p],p,u))},o=function(u,h,f){if(!r(h))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=f),e.call(u)==="[object Array]"?n(u,h,p):typeof u=="string"?i(u,h,p):s(u,h,p)};return HS=o,HS}var qS,WP;function Kse(){return WP||(WP=1,qS=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),qS}var WS,GP;function $se(){if(GP)return WS;GP=1;var r=Kse(),e=typeof globalThis>"u"?Ao:globalThis;return WS=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},WS}var GS,KP;function xF(){if(KP)return GS;KP=1;var r=Gse(),e=$se(),t=SF(),n=EF(),i=qm(),s=n("Object.prototype.toString"),o=GC()(),l=typeof globalThis>"u"?Ao:globalThis,u=e(),h=n("String.prototype.slice"),f=Object.getPrototypeOf,p=n("Array.prototype.indexOf",!0)||function(E,b){for(var A=0;A<E.length;A+=1)if(E[A]===b)return A;return-1},g={__proto__:null};o&&i&&f?r(u,function(_){var E=new l[_];if(Symbol.toStringTag in E){var b=f(E),A=i(b,Symbol.toStringTag);if(!A){var T=f(b);A=i(T,Symbol.toStringTag)}g["$"+_]=t(A.get)}}):r(u,function(_){var E=new l[_],b=E.slice||E.set;b&&(g["$"+_]=t(b))});var y=function(E){var b=!1;return r(g,function(A,T){if(!b)try{"$"+A(E)===T&&(b=h(T,1))}catch{}}),b},w=function(E){var b=!1;return r(g,function(A,T){if(!b)try{A(E),b=h(T,1)}catch{}}),b};return GS=function(E){if(!E||typeof E!="object")return!1;if(!o){var b=h(s(E),8,-1);return p(u,b)>-1?b:b!=="Object"?!1:w(E)}return i?y(E):null},GS}var KS,$P;function Yse(){if($P)return KS;$P=1;var r=xF();return KS=function(t){return!!r(t)},KS}var YP;function Xse(){return YP||(YP=1,function(r){var e=Hse(),t=qse(),n=xF(),i=Yse();function s(U){return U.call.bind(U)}var o=typeof BigInt<"u",l=typeof Symbol<"u",u=s(Object.prototype.toString),h=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(o)var g=s(BigInt.prototype.valueOf);if(l)var y=s(Symbol.prototype.valueOf);function w(U,oe){if(typeof U!="object")return!1;try{return oe(U),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function _(U){return typeof Promise<"u"&&U instanceof Promise||U!==null&&typeof U=="object"&&typeof U.then=="function"&&typeof U.catch=="function"}r.isPromise=_;function E(U){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(U):i(U)||re(U)}r.isArrayBufferView=E;function b(U){return n(U)==="Uint8Array"}r.isUint8Array=b;function A(U){return n(U)==="Uint8ClampedArray"}r.isUint8ClampedArray=A;function T(U){return n(U)==="Uint16Array"}r.isUint16Array=T;function x(U){return n(U)==="Uint32Array"}r.isUint32Array=x;function D(U){return n(U)==="Int8Array"}r.isInt8Array=D;function M(U){return n(U)==="Int16Array"}r.isInt16Array=M;function O(U){return n(U)==="Int32Array"}r.isInt32Array=O;function P(U){return n(U)==="Float32Array"}r.isFloat32Array=P;function C(U){return n(U)==="Float64Array"}r.isFloat64Array=C;function W(U){return n(U)==="BigInt64Array"}r.isBigInt64Array=W;function $(U){return n(U)==="BigUint64Array"}r.isBigUint64Array=$;function N(U){return u(U)==="[object Map]"}N.working=typeof Map<"u"&&N(new Map);function F(U){return typeof Map>"u"?!1:N.working?N(U):U instanceof Map}r.isMap=F;function B(U){return u(U)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function ae(U){return typeof Set>"u"?!1:B.working?B(U):U instanceof Set}r.isSet=ae;function Q(U){return u(U)==="[object WeakMap]"}Q.working=typeof WeakMap<"u"&&Q(new WeakMap);function Y(U){return typeof WeakMap>"u"?!1:Q.working?Q(U):U instanceof WeakMap}r.isWeakMap=Y;function pe(U){return u(U)==="[object WeakSet]"}pe.working=typeof WeakSet<"u"&&pe(new WeakSet);function fe(U){return pe(U)}r.isWeakSet=fe;function ee(U){return u(U)==="[object ArrayBuffer]"}ee.working=typeof ArrayBuffer<"u"&&ee(new ArrayBuffer);function J(U){return typeof ArrayBuffer>"u"?!1:ee.working?ee(U):U instanceof ArrayBuffer}r.isArrayBuffer=J;function K(U){return u(U)==="[object DataView]"}K.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&K(new DataView(new ArrayBuffer(1),0,1));function re(U){return typeof DataView>"u"?!1:K.working?K(U):U instanceof DataView}r.isDataView=re;var he=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ve(U){return u(U)==="[object SharedArrayBuffer]"}function ce(U){return typeof he>"u"?!1:(typeof ve.working>"u"&&(ve.working=ve(new he)),ve.working?ve(U):U instanceof he)}r.isSharedArrayBuffer=ce;function j(U){return u(U)==="[object AsyncFunction]"}r.isAsyncFunction=j;function z(U){return u(U)==="[object Map Iterator]"}r.isMapIterator=z;function se(U){return u(U)==="[object Set Iterator]"}r.isSetIterator=se;function ie(U){return u(U)==="[object Generator]"}r.isGeneratorObject=ie;function X(U){return u(U)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=X;function te(U){return w(U,h)}r.isNumberObject=te;function be(U){return w(U,f)}r.isStringObject=be;function V(U){return w(U,p)}r.isBooleanObject=V;function _e(U){return o&&w(U,g)}r.isBigIntObject=_e;function H(U){return l&&w(U,y)}r.isSymbolObject=H;function k(U){return te(U)||be(U)||V(U)||_e(U)||H(U)}r.isBoxedPrimitive=k;function I(U){return typeof Uint8Array<"u"&&(J(U)||ce(U))}r.isAnyArrayBuffer=I,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(U){Object.defineProperty(r,U,{enumerable:!1,value:function(){throw new Error(U+" is not supported in userland")}})})}(Jb)),Jb}var $S,XP;function Qse(){return XP||(XP=1,$S=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),$S}var QP;function TF(){return QP||(QP=1,function(r){var e=Object.getOwnPropertyDescriptors||function(re){for(var he=Object.keys(re),ve={},ce=0;ce<he.length;ce++)ve[he[ce]]=Object.getOwnPropertyDescriptor(re,he[ce]);return ve},t=/%[sdj%]/g;r.format=function(K){if(!D(K)){for(var re=[],he=0;he<arguments.length;he++)re.push(o(arguments[he]));return re.join(" ")}for(var he=1,ve=arguments,ce=ve.length,j=String(K).replace(t,function(se){if(se==="%%")return"%";if(he>=ce)return se;switch(se){case"%s":return String(ve[he++]);case"%d":return Number(ve[he++]);case"%j":try{return JSON.stringify(ve[he++])}catch{return"[Circular]"}default:return se}}),z=ve[he];he<ce;z=ve[++he])A(z)||!C(z)?j+=" "+z:j+=" "+o(z);return j},r.deprecate=function(K,re){if(typeof Ct<"u"&&Ct.noDeprecation===!0)return K;if(typeof Ct>"u")return function(){return r.deprecate(K,re).apply(this,arguments)};var he=!1;function ve(){if(!he){if(Ct.throwDeprecation)throw new Error(re);Ct.traceDeprecation?console.trace(re):console.error(re),he=!0}return K.apply(this,arguments)}return ve};var n={},i=/^$/;if(Ct.env.NODE_DEBUG){var s=Ct.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}r.debuglog=function(K){if(K=K.toUpperCase(),!n[K])if(i.test(K)){var re=Ct.pid;n[K]=function(){var he=r.format.apply(r,arguments);console.error("%s %d: %s",K,re,he)}}else n[K]=function(){};return n[K]};function o(K,re){var he={seen:[],stylize:u};return arguments.length>=3&&(he.depth=arguments[2]),arguments.length>=4&&(he.colors=arguments[3]),b(re)?he.showHidden=re:re&&r._extend(he,re),O(he.showHidden)&&(he.showHidden=!1),O(he.depth)&&(he.depth=2),O(he.colors)&&(he.colors=!1),O(he.customInspect)&&(he.customInspect=!0),he.colors&&(he.stylize=l),f(he,K,he.depth)}r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(K,re){var he=o.styles[re];return he?"\x1B["+o.colors[he][0]+"m"+K+"\x1B["+o.colors[he][1]+"m":K}function u(K,re){return K}function h(K){var re={};return K.forEach(function(he,ve){re[he]=!0}),re}function f(K,re,he){if(K.customInspect&&re&&N(re.inspect)&&re.inspect!==r.inspect&&!(re.constructor&&re.constructor.prototype===re)){var ve=re.inspect(he,K);return D(ve)||(ve=f(K,ve,he)),ve}var ce=p(K,re);if(ce)return ce;var j=Object.keys(re),z=h(j);if(K.showHidden&&(j=Object.getOwnPropertyNames(re)),$(re)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return g(re);if(j.length===0){if(N(re)){var se=re.name?": "+re.name:"";return K.stylize("[Function"+se+"]","special")}if(P(re))return K.stylize(RegExp.prototype.toString.call(re),"regexp");if(W(re))return K.stylize(Date.prototype.toString.call(re),"date");if($(re))return g(re)}var ie="",X=!1,te=["{","}"];if(E(re)&&(X=!0,te=["[","]"]),N(re)){var be=re.name?": "+re.name:"";ie=" [Function"+be+"]"}if(P(re)&&(ie=" "+RegExp.prototype.toString.call(re)),W(re)&&(ie=" "+Date.prototype.toUTCString.call(re)),$(re)&&(ie=" "+g(re)),j.length===0&&(!X||re.length==0))return te[0]+ie+te[1];if(he<0)return P(re)?K.stylize(RegExp.prototype.toString.call(re),"regexp"):K.stylize("[Object]","special");K.seen.push(re);var V;return X?V=y(K,re,he,z,j):V=j.map(function(_e){return w(K,re,he,z,_e,X)}),K.seen.pop(),_(V,ie,te)}function p(K,re){if(O(re))return K.stylize("undefined","undefined");if(D(re)){var he="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(he,"string")}if(x(re))return K.stylize(""+re,"number");if(b(re))return K.stylize(""+re,"boolean");if(A(re))return K.stylize("null","null")}function g(K){return"["+Error.prototype.toString.call(K)+"]"}function y(K,re,he,ve,ce){for(var j=[],z=0,se=re.length;z<se;++z)pe(re,String(z))?j.push(w(K,re,he,ve,String(z),!0)):j.push("");return ce.forEach(function(ie){ie.match(/^\d+$/)||j.push(w(K,re,he,ve,ie,!0))}),j}function w(K,re,he,ve,ce,j){var z,se,ie;if(ie=Object.getOwnPropertyDescriptor(re,ce)||{value:re[ce]},ie.get?ie.set?se=K.stylize("[Getter/Setter]","special"):se=K.stylize("[Getter]","special"):ie.set&&(se=K.stylize("[Setter]","special")),pe(ve,ce)||(z="["+ce+"]"),se||(K.seen.indexOf(ie.value)<0?(A(he)?se=f(K,ie.value,null):se=f(K,ie.value,he-1),se.indexOf(`
`)>-1&&(j?se=se.split(`
`).map(function(X){return"  "+X}).join(`
`).slice(2):se=`
`+se.split(`
`).map(function(X){return"   "+X}).join(`
`))):se=K.stylize("[Circular]","special")),O(z)){if(j&&ce.match(/^\d+$/))return se;z=JSON.stringify(""+ce),z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(z=z.slice(1,-1),z=K.stylize(z,"name")):(z=z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),z=K.stylize(z,"string"))}return z+": "+se}function _(K,re,he){var ve=K.reduce(function(ce,j){return j.indexOf(`
`)>=0,ce+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?he[0]+(re===""?"":re+`
 `)+" "+K.join(`,
  `)+" "+he[1]:he[0]+re+" "+K.join(", ")+" "+he[1]}r.types=Xse();function E(K){return Array.isArray(K)}r.isArray=E;function b(K){return typeof K=="boolean"}r.isBoolean=b;function A(K){return K===null}r.isNull=A;function T(K){return K==null}r.isNullOrUndefined=T;function x(K){return typeof K=="number"}r.isNumber=x;function D(K){return typeof K=="string"}r.isString=D;function M(K){return typeof K=="symbol"}r.isSymbol=M;function O(K){return K===void 0}r.isUndefined=O;function P(K){return C(K)&&B(K)==="[object RegExp]"}r.isRegExp=P,r.types.isRegExp=P;function C(K){return typeof K=="object"&&K!==null}r.isObject=C;function W(K){return C(K)&&B(K)==="[object Date]"}r.isDate=W,r.types.isDate=W;function $(K){return C(K)&&(B(K)==="[object Error]"||K instanceof Error)}r.isError=$,r.types.isNativeError=$;function N(K){return typeof K=="function"}r.isFunction=N;function F(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}r.isPrimitive=F,r.isBuffer=Qse();function B(K){return Object.prototype.toString.call(K)}function ae(K){return K<10?"0"+K.toString(10):K.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Y(){var K=new Date,re=[ae(K.getHours()),ae(K.getMinutes()),ae(K.getSeconds())].join(":");return[K.getDate(),Q[K.getMonth()],re].join(" ")}r.log=function(){console.log("%s - %s",Y(),r.format.apply(r,arguments))},r.inherits=su(),r._extend=function(K,re){if(!re||!C(re))return K;for(var he=Object.keys(re),ve=he.length;ve--;)K[he[ve]]=re[he[ve]];return K};function pe(K,re){return Object.prototype.hasOwnProperty.call(K,re)}var fe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(fe&&re[fe]){var he=re[fe];if(typeof he!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(he,fe,{value:he,enumerable:!1,writable:!1,configurable:!0}),he}function he(){for(var ve,ce,j=new Promise(function(ie,X){ve=ie,ce=X}),z=[],se=0;se<arguments.length;se++)z.push(arguments[se]);z.push(function(ie,X){ie?ce(ie):ve(X)});try{re.apply(this,z)}catch(ie){ce(ie)}return j}return Object.setPrototypeOf(he,Object.getPrototypeOf(re)),fe&&Object.defineProperty(he,fe,{value:he,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(he,e(re))},r.promisify.custom=fe;function ee(K,re){if(!K){var he=new Error("Promise was rejected with a falsy value");he.reason=K,K=he}return re(K)}function J(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var he=[],ve=0;ve<arguments.length;ve++)he.push(arguments[ve]);var ce=he.pop();if(typeof ce!="function")throw new TypeError("The last argument must be of type Function");var j=this,z=function(){return ce.apply(j,arguments)};K.apply(this,he).then(function(se){Ct.nextTick(z.bind(null,null,se))},function(se){Ct.nextTick(ee.bind(null,se,z))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(K)),Object.defineProperties(re,e(K)),re}r.callbackify=J}(Zb)),Zb}var YS,ZP;function Zse(){if(ZP)return YS;ZP=1;function r(g,y){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(g);y&&(_=_.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),w.push.apply(w,_)}return w}function e(g){for(var y=1;y<arguments.length;y++){var w=arguments[y]!=null?arguments[y]:{};y%2?r(Object(w),!0).forEach(function(_){t(g,_,w[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):r(Object(w)).forEach(function(_){Object.defineProperty(g,_,Object.getOwnPropertyDescriptor(w,_))})}return g}function t(g,y,w){return y in g?Object.defineProperty(g,y,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[y]=w,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function i(g,y){for(var w=0;w<y.length;w++){var _=y[w];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}function s(g,y,w){return y&&i(g.prototype,y),g}var o=Pw(),l=o.Buffer,u=TF(),h=u.inspect,f=h&&h.custom||"inspect";function p(g,y,w){l.prototype.copy.call(g,y,w)}return YS=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(w){var _={data:w,next:null};this.length>0?this.tail.next=_:this.head=_,this.tail=_,++this.length}},{key:"unshift",value:function(w){var _={data:w,next:this.head};this.length===0&&(this.tail=_),this.head=_,++this.length}},{key:"shift",value:function(){if(this.length!==0){var w=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,w}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(w){if(this.length===0)return"";for(var _=this.head,E=""+_.data;_=_.next;)E+=w+_.data;return E}},{key:"concat",value:function(w){if(this.length===0)return l.alloc(0);for(var _=l.allocUnsafe(w>>>0),E=this.head,b=0;E;)p(E.data,_,b),b+=E.data.length,E=E.next;return _}},{key:"consume",value:function(w,_){var E;return w<this.head.data.length?(E=this.head.data.slice(0,w),this.head.data=this.head.data.slice(w)):w===this.head.data.length?E=this.shift():E=_?this._getString(w):this._getBuffer(w),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(w){var _=this.head,E=1,b=_.data;for(w-=b.length;_=_.next;){var A=_.data,T=w>A.length?A.length:w;if(T===A.length?b+=A:b+=A.slice(0,w),w-=T,w===0){T===A.length?(++E,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=A.slice(T));break}++E}return this.length-=E,b}},{key:"_getBuffer",value:function(w){var _=l.allocUnsafe(w),E=this.head,b=1;for(E.data.copy(_),w-=E.data.length;E=E.next;){var A=E.data,T=w>A.length?A.length:w;if(A.copy(_,_.length-w,0,T),w-=T,w===0){T===A.length?(++b,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=A.slice(T));break}++b}return this.length-=b,_}},{key:f,value:function(w,_){return h(this,e({},_,{depth:0,customInspect:!1}))}}]),g}(),YS}var XS,JP;function AF(){if(JP)return XS;JP=1;function r(o,l){var u=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ct.nextTick(i,this,o)):Ct.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?Ct.nextTick(t,u):(u._writableState.errorEmitted=!0,Ct.nextTick(e,u,p)):Ct.nextTick(e,u,p):l?(Ct.nextTick(t,u),l(p)):Ct.nextTick(t,u)}),this)}function e(o,l){i(o,l),t(o)}function t(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var u=o._readableState,h=o._writableState;u&&u.autoDestroy||h&&h.autoDestroy?o.destroy(l):o.emit("error",l)}return XS={destroy:r,undestroy:n,errorOrDestroy:s},XS}var QS={},e4;function Uf(){if(e4)return QS;e4=1;function r(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var e={};function t(l,u,h){h||(h=Error);function f(g,y,w){return typeof u=="string"?u:u(g,y,w)}var p=function(g){r(y,g);function y(w,_,E){return g.call(this,f(w,_,E))||this}return y}(h);p.prototype.name=h.name,p.prototype.code=l,e[l]=p}function n(l,u){if(Array.isArray(l)){var h=l.length;return l=l.map(function(f){return String(f)}),h>2?"one of ".concat(u," ").concat(l.slice(0,h-1).join(", "),", or ")+l[h-1]:h===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}else return"of ".concat(u," ").concat(String(l))}function i(l,u,h){return l.substr(0,u.length)===u}function s(l,u,h){return(h===void 0||h>l.length)&&(h=l.length),l.substring(h-u.length,h)===u}function o(l,u,h){return typeof h!="number"&&(h=0),h+u.length>l.length?!1:l.indexOf(u,h)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,u,h){var f;typeof u=="string"&&i(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var p;if(s(l," argument"))p="The ".concat(l," ").concat(f," ").concat(n(u,"type"));else{var g=o(l,".")?"property":"argument";p='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(n(u,"type"))}return p+=". Received type ".concat(typeof h),p},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),QS.codes=e,QS}var ZS,t4;function CF(){if(t4)return ZS;t4=1;var r=Uf().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function t(n,i,s,o){var l=e(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var u=o?s:"highWaterMark";throw new r(u,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return ZS={getHighWaterMark:t},ZS}var JS,n4;function Jse(){if(n4)return JS;n4=1,JS=r;function r(t,n){if(e("noDeprecation"))return t;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!Ao.localStorage)return!1}catch{return!1}var n=Ao.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return JS}var eE,r4;function RF(){if(r4)return eE;r4=1,eE=P;function r(ce){var j=this;this.next=null,this.entry=null,this.finish=function(){ve(j,ce)}}var e;P.WritableState=M;var t={deprecate:Jse()},n=mF(),i=Pw().Buffer,s=Ao.Uint8Array||function(){};function o(ce){return i.from(ce)}function l(ce){return i.isBuffer(ce)||ce instanceof s}var u=AF(),h=CF(),f=h.getHighWaterMark,p=Uf().codes,g=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,w=p.ERR_MULTIPLE_CALLBACK,_=p.ERR_STREAM_CANNOT_PIPE,E=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,A=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,x=u.errorOrDestroy;su()(P,n);function D(){}function M(ce,j,z){e=e||Ef(),ce=ce||{},typeof z!="boolean"&&(z=j instanceof e),this.objectMode=!!ce.objectMode,z&&(this.objectMode=this.objectMode||!!ce.writableObjectMode),this.highWaterMark=f(this,ce,"writableHighWaterMark",z),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var se=ce.decodeStrings===!1;this.decodeStrings=!se,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){Q(j,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}M.prototype.getBuffer=function(){for(var j=this.bufferedRequest,z=[];j;)z.push(j),j=j.next;return z},function(){try{Object.defineProperty(M.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(j){return O.call(this,j)?!0:this!==P?!1:j&&j._writableState instanceof M}})):O=function(j){return j instanceof this};function P(ce){e=e||Ef();var j=this instanceof e;if(!j&&!O.call(P,this))return new P(ce);this._writableState=new M(ce,this,j),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),n.call(this)}P.prototype.pipe=function(){x(this,new _)};function C(ce,j){var z=new A;x(ce,z),Ct.nextTick(j,z)}function W(ce,j,z,se){var ie;return z===null?ie=new b:typeof z!="string"&&!j.objectMode&&(ie=new g("chunk",["string","Buffer"],z)),ie?(x(ce,ie),Ct.nextTick(se,ie),!1):!0}P.prototype.write=function(ce,j,z){var se=this._writableState,ie=!1,X=!se.objectMode&&l(ce);return X&&!i.isBuffer(ce)&&(ce=o(ce)),typeof j=="function"&&(z=j,j=null),X?j="buffer":j||(j=se.defaultEncoding),typeof z!="function"&&(z=D),se.ending?C(this,z):(X||W(this,se,ce,z))&&(se.pendingcb++,ie=N(this,se,X,ce,j,z)),ie},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&fe(this,ce))},P.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new T(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function $(ce,j,z){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof j=="string"&&(j=i.from(j,z)),j}Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(ce,j,z,se,ie,X){if(!z){var te=$(j,se,ie);se!==te&&(z=!0,ie="buffer",se=te)}var be=j.objectMode?1:se.length;j.length+=be;var V=j.length<j.highWaterMark;if(V||(j.needDrain=!0),j.writing||j.corked){var _e=j.lastBufferedRequest;j.lastBufferedRequest={chunk:se,encoding:ie,isBuf:z,callback:X,next:null},_e?_e.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else F(ce,j,!1,be,se,ie,X);return V}function F(ce,j,z,se,ie,X,te){j.writelen=se,j.writecb=te,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new E("write")):z?ce._writev(ie,j.onwrite):ce._write(ie,X,j.onwrite),j.sync=!1}function B(ce,j,z,se,ie){--j.pendingcb,z?(Ct.nextTick(ie,se),Ct.nextTick(re,ce,j),ce._writableState.errorEmitted=!0,x(ce,se)):(ie(se),ce._writableState.errorEmitted=!0,x(ce,se),re(ce,j))}function ae(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function Q(ce,j){var z=ce._writableState,se=z.sync,ie=z.writecb;if(typeof ie!="function")throw new w;if(ae(z),j)B(ce,z,se,j,ie);else{var X=ee(z)||ce.destroyed;!X&&!z.corked&&!z.bufferProcessing&&z.bufferedRequest&&fe(ce,z),se?Ct.nextTick(Y,ce,z,X,ie):Y(ce,z,X,ie)}}function Y(ce,j,z,se){z||pe(ce,j),j.pendingcb--,se(),re(ce,j)}function pe(ce,j){j.length===0&&j.needDrain&&(j.needDrain=!1,ce.emit("drain"))}function fe(ce,j){j.bufferProcessing=!0;var z=j.bufferedRequest;if(ce._writev&&z&&z.next){var se=j.bufferedRequestCount,ie=new Array(se),X=j.corkedRequestsFree;X.entry=z;for(var te=0,be=!0;z;)ie[te]=z,z.isBuf||(be=!1),z=z.next,te+=1;ie.allBuffers=be,F(ce,j,!0,j.length,ie,"",X.finish),j.pendingcb++,j.lastBufferedRequest=null,X.next?(j.corkedRequestsFree=X.next,X.next=null):j.corkedRequestsFree=new r(j),j.bufferedRequestCount=0}else{for(;z;){var V=z.chunk,_e=z.encoding,H=z.callback,k=j.objectMode?1:V.length;if(F(ce,j,!1,k,V,_e,H),z=z.next,j.bufferedRequestCount--,j.writing)break}z===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=z,j.bufferProcessing=!1}P.prototype._write=function(ce,j,z){z(new y("_write()"))},P.prototype._writev=null,P.prototype.end=function(ce,j,z){var se=this._writableState;return typeof ce=="function"?(z=ce,ce=null,j=null):typeof j=="function"&&(z=j,j=null),ce!=null&&this.write(ce,j),se.corked&&(se.corked=1,this.uncork()),se.ending||he(this,se,z),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function J(ce,j){ce._final(function(z){j.pendingcb--,z&&x(ce,z),j.prefinished=!0,ce.emit("prefinish"),re(ce,j)})}function K(ce,j){!j.prefinished&&!j.finalCalled&&(typeof ce._final=="function"&&!j.destroyed?(j.pendingcb++,j.finalCalled=!0,Ct.nextTick(J,ce,j)):(j.prefinished=!0,ce.emit("prefinish")))}function re(ce,j){var z=ee(j);if(z&&(K(ce,j),j.pendingcb===0&&(j.finished=!0,ce.emit("finish"),j.autoDestroy))){var se=ce._readableState;(!se||se.autoDestroy&&se.endEmitted)&&ce.destroy()}return z}function he(ce,j,z){j.ending=!0,re(ce,j),z&&(j.finished?Ct.nextTick(z):ce.once("finish",z)),j.ended=!0,ce.writable=!1}function ve(ce,j,z){var se=ce.entry;for(ce.entry=null;se;){var ie=se.callback;j.pendingcb--,ie(z),se=se.next}j.corkedRequestsFree.next=ce}return Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),P.prototype.destroy=u.destroy,P.prototype._undestroy=u.undestroy,P.prototype._destroy=function(ce,j){j(ce)},eE}var tE,i4;function Ef(){if(i4)return tE;i4=1;var r=Object.keys||function(h){var f=[];for(var p in h)f.push(p);return f};tE=o;var e=kF(),t=RF();su()(o,e);for(var n=r(t.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=t.prototype[s])}function o(h){if(!(this instanceof o))return new o(h);e.call(this,h),t.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Ct.nextTick(u,this)}function u(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),tE}var nE={},Yy={exports:{}},s4;function eoe(){return s4||(s4=1,function(r,e){var t=Pw(),n=t.Buffer;function i(o,l){for(var u in o)l[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=s);function s(o,l,u){return n(o,l,u)}i(n,s),s.from=function(o,l,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,u)},s.alloc=function(o,l,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return l!==void 0?typeof u=="string"?h.fill(l,u):h.fill(l):h.fill(0),h},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}}(Yy,Yy.exports)),Yy.exports}var o4;function UT(){if(o4)return nE;o4=1;var r=eoe().Buffer,e=r.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(b){if(!b)return"utf8";for(var A;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(A)return;b=(""+b).toLowerCase(),A=!0}}function n(b){var A=t(b);if(typeof A!="string"&&(r.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return A||b}nE.StringDecoder=i;function i(b){this.encoding=n(b);var A;switch(this.encoding){case"utf16le":this.text=p,this.end=g,A=4;break;case"utf8":this.fillLast=u,A=4;break;case"base64":this.text=y,this.end=w,A=3;break;default:this.write=_,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(A)}i.prototype.write=function(b){if(b.length===0)return"";var A,T;if(this.lastNeed){if(A=this.fillLast(b),A===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<b.length?A?A+this.text(b,T):this.text(b,T):A||""},i.prototype.end=f,i.prototype.text=h,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function s(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,A,T){var x=A.length-1;if(x<T)return 0;var D=s(A[x]);return D>=0?(D>0&&(b.lastNeed=D-1),D):--x<T||D===-2?0:(D=s(A[x]),D>=0?(D>0&&(b.lastNeed=D-2),D):--x<T||D===-2?0:(D=s(A[x]),D>=0?(D>0&&(D===2?D=0:b.lastNeed=D-3),D):0))}function l(b,A,T){if((A[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return b.lastNeed=2,""}}function u(b){var A=this.lastTotal-this.lastNeed,T=l(this,b);if(T!==void 0)return T;if(this.lastNeed<=b.length)return b.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,A,0,b.length),this.lastNeed-=b.length}function h(b,A){var T=o(this,b,A);if(!this.lastNeed)return b.toString("utf8",A);this.lastTotal=T;var x=b.length-(T-this.lastNeed);return b.copy(this.lastChar,0,x),b.toString("utf8",A,x)}function f(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+"":A}function p(b,A){if((b.length-A)%2===0){var T=b.toString("utf16le",A);if(T){var x=T.charCodeAt(T.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",A,b.length-1)}function g(b){var A=b&&b.length?this.write(b):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,T)}return A}function y(b,A){var T=(b.length-A)%3;return T===0?b.toString("base64",A):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",A,b.length-T))}function w(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function _(b){return b.toString(this.encoding)}function E(b){return b&&b.length?this.write(b):""}return nE}var rE,a4;function YC(){if(a4)return rE;a4=1;var r=Uf().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];s.apply(this,u)}}}function t(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=e(l||t);var u=o.readable||o.readable!==!1&&s.readable,h=o.writable||o.writable!==!1&&s.writable,f=function(){s.writable||g()},p=s._writableState&&s._writableState.finished,g=function(){h=!1,p=!0,u||l.call(s)},y=s._readableState&&s._readableState.endEmitted,w=function(){u=!1,y=!0,h||l.call(s)},_=function(T){l.call(s,T)},E=function(){var T;if(u&&!y)return(!s._readableState||!s._readableState.ended)&&(T=new r),l.call(s,T);if(h&&!p)return(!s._writableState||!s._writableState.ended)&&(T=new r),l.call(s,T)},b=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",E),s.req?b():s.on("request",b)):h&&!s._writableState&&(s.on("end",f),s.on("close",f)),s.on("end",w),s.on("finish",g),o.error!==!1&&s.on("error",_),s.on("close",E),function(){s.removeListener("complete",g),s.removeListener("abort",E),s.removeListener("request",b),s.req&&s.req.removeListener("finish",g),s.removeListener("end",f),s.removeListener("close",f),s.removeListener("finish",g),s.removeListener("end",w),s.removeListener("error",_),s.removeListener("close",E)}}return rE=i,rE}var iE,l4;function toe(){if(l4)return iE;l4=1;var r;function e(b,A,T){return A in b?Object.defineProperty(b,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[A]=T,b}var t=YC(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function f(b,A){return{value:b,done:A}}function p(b){var A=b[n];if(A!==null){var T=b[h].read();T!==null&&(b[l]=null,b[n]=null,b[i]=null,A(f(T,!1)))}}function g(b){Ct.nextTick(p,b)}function y(b,A){return function(T,x){b.then(function(){if(A[o]){T(f(void 0,!0));return}A[u](T,x)},x)}}var w=Object.getPrototypeOf(function(){}),_=Object.setPrototypeOf((r={get stream(){return this[h]},next:function(){var A=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[o])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(O,P){Ct.nextTick(function(){A[s]?P(A[s]):O(f(void 0,!0))})});var x=this[l],D;if(x)D=new Promise(y(x,this));else{var M=this[h].read();if(M!==null)return Promise.resolve(f(M,!1));D=new Promise(this[u])}return this[l]=D,D}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var A=this;return new Promise(function(T,x){A[h].destroy(null,function(D){if(D){x(D);return}T(f(void 0,!0))})})}),r),w),E=function(A){var T,x=Object.create(_,(T={},e(T,h,{value:A,writable:!0}),e(T,n,{value:null,writable:!0}),e(T,i,{value:null,writable:!0}),e(T,s,{value:null,writable:!0}),e(T,o,{value:A._readableState.endEmitted,writable:!0}),e(T,u,{value:function(M,O){var P=x[h].read();P?(x[l]=null,x[n]=null,x[i]=null,M(f(P,!1))):(x[n]=M,x[i]=O)},writable:!0}),T));return x[l]=null,t(A,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var M=x[i];M!==null&&(x[l]=null,x[n]=null,x[i]=null,M(D)),x[s]=D;return}var O=x[n];O!==null&&(x[l]=null,x[n]=null,x[i]=null,O(f(void 0,!0))),x[o]=!0}),A.on("readable",g.bind(null,x)),x};return iE=E,iE}var sE,u4;function noe(){return u4||(u4=1,sE=function(){throw new Error("Readable.from is not available in the browser")}),sE}var oE,c4;function kF(){if(c4)return oE;c4=1,oE=C;var r;C.ReadableState=P,WC().EventEmitter;var e=function(te,be){return te.listeners(be).length},t=mF(),n=Pw().Buffer,i=Ao.Uint8Array||function(){};function s(X){return n.from(X)}function o(X){return n.isBuffer(X)||X instanceof i}var l=TF(),u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var h=Zse(),f=AF(),p=CF(),g=p.getHighWaterMark,y=Uf().codes,w=y.ERR_INVALID_ARG_TYPE,_=y.ERR_STREAM_PUSH_AFTER_EOF,E=y.ERR_METHOD_NOT_IMPLEMENTED,b=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,T,x;su()(C,t);var D=f.errorOrDestroy,M=["error","close","destroy","pause","resume"];function O(X,te,be){if(typeof X.prependListener=="function")return X.prependListener(te,be);!X._events||!X._events[te]?X.on(te,be):Array.isArray(X._events[te])?X._events[te].unshift(be):X._events[te]=[be,X._events[te]]}function P(X,te,be){r=r||Ef(),X=X||{},typeof be!="boolean"&&(be=te instanceof r),this.objectMode=!!X.objectMode,be&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=g(this,X,"readableHighWaterMark",be),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(A||(A=UT().StringDecoder),this.decoder=new A(X.encoding),this.encoding=X.encoding)}function C(X){if(r=r||Ef(),!(this instanceof C))return new C(X);var te=this instanceof r;this._readableState=new P(X,this,te),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),t.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(te){this._readableState&&(this._readableState.destroyed=te)}}),C.prototype.destroy=f.destroy,C.prototype._undestroy=f.undestroy,C.prototype._destroy=function(X,te){te(X)},C.prototype.push=function(X,te){var be=this._readableState,V;return be.objectMode?V=!0:typeof X=="string"&&(te=te||be.defaultEncoding,te!==be.encoding&&(X=n.from(X,te),te=""),V=!0),W(this,X,te,!1,V)},C.prototype.unshift=function(X){return W(this,X,null,!0,!1)};function W(X,te,be,V,_e){u("readableAddChunk",te);var H=X._readableState;if(te===null)H.reading=!1,Q(X,H);else{var k;if(_e||(k=N(H,te)),k)D(X,k);else if(H.objectMode||te&&te.length>0)if(typeof te!="string"&&!H.objectMode&&Object.getPrototypeOf(te)!==n.prototype&&(te=s(te)),V)H.endEmitted?D(X,new b):$(X,H,te,!0);else if(H.ended)D(X,new _);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!be?(te=H.decoder.write(te),H.objectMode||te.length!==0?$(X,H,te,!1):fe(X,H)):$(X,H,te,!1)}else V||(H.reading=!1,fe(X,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function $(X,te,be,V){te.flowing&&te.length===0&&!te.sync?(te.awaitDrain=0,X.emit("data",be)):(te.length+=te.objectMode?1:be.length,V?te.buffer.unshift(be):te.buffer.push(be),te.needReadable&&Y(X)),fe(X,te)}function N(X,te){var be;return!o(te)&&typeof te!="string"&&te!==void 0&&!X.objectMode&&(be=new w("chunk",["string","Buffer","Uint8Array"],te)),be}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(X){A||(A=UT().StringDecoder);var te=new A(X);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,V="";be!==null;)V+=te.write(be.data),be=be.next;return this._readableState.buffer.clear(),V!==""&&this._readableState.buffer.push(V),this._readableState.length=V.length,this};var F=1073741824;function B(X){return X>=F?X=F:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function ae(X,te){return X<=0||te.length===0&&te.ended?0:te.objectMode?1:X!==X?te.flowing&&te.length?te.buffer.head.data.length:te.length:(X>te.highWaterMark&&(te.highWaterMark=B(X)),X<=te.length?X:te.ended?te.length:(te.needReadable=!0,0))}C.prototype.read=function(X){u("read",X),X=parseInt(X,10);var te=this._readableState,be=X;if(X!==0&&(te.emittedReadable=!1),X===0&&te.needReadable&&((te.highWaterMark!==0?te.length>=te.highWaterMark:te.length>0)||te.ended))return u("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?z(this):Y(this),null;if(X=ae(X,te),X===0&&te.ended)return te.length===0&&z(this),null;var V=te.needReadable;u("need readable",V),(te.length===0||te.length-X<te.highWaterMark)&&(V=!0,u("length less than watermark",V)),te.ended||te.reading?(V=!1,u("reading or ended",V)):V&&(u("do read"),te.reading=!0,te.sync=!0,te.length===0&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(X=ae(be,te)));var _e;return X>0?_e=j(X,te):_e=null,_e===null?(te.needReadable=te.length<=te.highWaterMark,X=0):(te.length-=X,te.awaitDrain=0),te.length===0&&(te.ended||(te.needReadable=!0),be!==X&&te.ended&&z(this)),_e!==null&&this.emit("data",_e),_e};function Q(X,te){if(u("onEofChunk"),!te.ended){if(te.decoder){var be=te.decoder.end();be&&be.length&&(te.buffer.push(be),te.length+=te.objectMode?1:be.length)}te.ended=!0,te.sync?Y(X):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,pe(X)))}}function Y(X){var te=X._readableState;u("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(u("emitReadable",te.flowing),te.emittedReadable=!0,Ct.nextTick(pe,X))}function pe(X){var te=X._readableState;u("emitReadable_",te.destroyed,te.length,te.ended),!te.destroyed&&(te.length||te.ended)&&(X.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,ce(X)}function fe(X,te){te.readingMore||(te.readingMore=!0,Ct.nextTick(ee,X,te))}function ee(X,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&te.length===0);){var be=te.length;if(u("maybeReadMore read 0"),X.read(0),be===te.length)break}te.readingMore=!1}C.prototype._read=function(X){D(this,new E("_read()"))},C.prototype.pipe=function(X,te){var be=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=X;break;case 1:V.pipes=[V.pipes,X];break;default:V.pipes.push(X);break}V.pipesCount+=1,u("pipe count=%d opts=%j",V.pipesCount,te);var _e=(!te||te.end!==!1)&&X!==Ct.stdout&&X!==Ct.stderr,H=_e?I:He;V.endEmitted?Ct.nextTick(H):be.once("end",H),X.on("unpipe",k);function k(Ge,it){u("onunpipe"),Ge===be&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,me())}function I(){u("onend"),X.end()}var U=J(be);X.on("drain",U);var oe=!1;function me(){u("cleanup"),X.removeListener("close",Pe),X.removeListener("finish",Oe),X.removeListener("drain",U),X.removeListener("error",De),X.removeListener("unpipe",k),be.removeListener("end",I),be.removeListener("end",He),be.removeListener("data",ue),oe=!0,V.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&U()}be.on("data",ue);function ue(Ge){u("ondata");var it=X.write(Ge);u("dest.write",it),it===!1&&((V.pipesCount===1&&V.pipes===X||V.pipesCount>1&&ie(V.pipes,X)!==-1)&&!oe&&(u("false write response, pause",V.awaitDrain),V.awaitDrain++),be.pause())}function De(Ge){u("onerror",Ge),He(),X.removeListener("error",De),e(X,"error")===0&&D(X,Ge)}O(X,"error",De);function Pe(){X.removeListener("finish",Oe),He()}X.once("close",Pe);function Oe(){u("onfinish"),X.removeListener("close",Pe),He()}X.once("finish",Oe);function He(){u("unpipe"),be.unpipe(X)}return X.emit("pipe",be),V.flowing||(u("pipe resume"),be.resume()),X};function J(X){return function(){var be=X._readableState;u("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,be.awaitDrain===0&&e(X,"data")&&(be.flowing=!0,ce(X))}}C.prototype.unpipe=function(X){var te=this._readableState,be={hasUnpiped:!1};if(te.pipesCount===0)return this;if(te.pipesCount===1)return X&&X!==te.pipes?this:(X||(X=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,X&&X.emit("unpipe",this,be),this);if(!X){var V=te.pipes,_e=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var H=0;H<_e;H++)V[H].emit("unpipe",this,{hasUnpiped:!1});return this}var k=ie(te.pipes,X);return k===-1?this:(te.pipes.splice(k,1),te.pipesCount-=1,te.pipesCount===1&&(te.pipes=te.pipes[0]),X.emit("unpipe",this,be),this)},C.prototype.on=function(X,te){var be=t.prototype.on.call(this,X,te),V=this._readableState;return X==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):X==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,u("on readable",V.length,V.reading),V.length?Y(this):V.reading||Ct.nextTick(re,this)),be},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(X,te){var be=t.prototype.removeListener.call(this,X,te);return X==="readable"&&Ct.nextTick(K,this),be},C.prototype.removeAllListeners=function(X){var te=t.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&Ct.nextTick(K,this),te};function K(X){var te=X._readableState;te.readableListening=X.listenerCount("readable")>0,te.resumeScheduled&&!te.paused?te.flowing=!0:X.listenerCount("data")>0&&X.resume()}function re(X){u("readable nexttick read 0"),X.read(0)}C.prototype.resume=function(){var X=this._readableState;return X.flowing||(u("resume"),X.flowing=!X.readableListening,he(this,X)),X.paused=!1,this};function he(X,te){te.resumeScheduled||(te.resumeScheduled=!0,Ct.nextTick(ve,X,te))}function ve(X,te){u("resume",te.reading),te.reading||X.read(0),te.resumeScheduled=!1,X.emit("resume"),ce(X),te.flowing&&!te.reading&&X.read(0)}C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ce(X){var te=X._readableState;for(u("flow",te.flowing);te.flowing&&X.read()!==null;);}C.prototype.wrap=function(X){var te=this,be=this._readableState,V=!1;X.on("end",function(){if(u("wrapped end"),be.decoder&&!be.ended){var k=be.decoder.end();k&&k.length&&te.push(k)}te.push(null)}),X.on("data",function(k){if(u("wrapped data"),be.decoder&&(k=be.decoder.write(k)),!(be.objectMode&&k==null)&&!(!be.objectMode&&(!k||!k.length))){var I=te.push(k);I||(V=!0,X.pause())}});for(var _e in X)this[_e]===void 0&&typeof X[_e]=="function"&&(this[_e]=function(I){return function(){return X[I].apply(X,arguments)}}(_e));for(var H=0;H<M.length;H++)X.on(M[H],this.emit.bind(this,M[H]));return this._read=function(k){u("wrapped _read",k),V&&(V=!1,X.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=toe()),T(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}}),C._fromList=j,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function j(X,te){if(te.length===0)return null;var be;return te.objectMode?be=te.buffer.shift():!X||X>=te.length?(te.decoder?be=te.buffer.join(""):te.buffer.length===1?be=te.buffer.first():be=te.buffer.concat(te.length),te.buffer.clear()):be=te.buffer.consume(X,te.decoder),be}function z(X){var te=X._readableState;u("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,Ct.nextTick(se,te,X))}function se(X,te){if(u("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,te.readable=!1,te.emit("end"),X.autoDestroy)){var be=te._writableState;(!be||be.autoDestroy&&be.finished)&&te.destroy()}}typeof Symbol=="function"&&(C.from=function(X,te){return x===void 0&&(x=noe()),x(C,X,te)});function ie(X,te){for(var be=0,V=X.length;be<V;be++)if(X[be]===te)return be;return-1}return oE}var aE,h4;function DF(){if(h4)return aE;h4=1,aE=l;var r=Uf().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=r.ERR_TRANSFORM_WITH_LENGTH_0,s=Ef();su()(l,s);function o(f,p){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new t);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),y(f);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){h(f,p,g)}):h(this,null,null)}l.prototype.push=function(f,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,p)},l.prototype._transform=function(f,p,g){g(new e("_transform()"))},l.prototype._write=function(f,p,g){var y=this._transformState;if(y.writecb=g,y.writechunk=f,y.writeencoding=p,!y.transforming){var w=this._readableState;(y.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},l.prototype._read=function(f){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},l.prototype._destroy=function(f,p){s.prototype._destroy.call(this,f,function(g){p(g)})};function h(f,p,g){if(p)return f.emit("error",p);if(g!=null&&f.push(g),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return aE}var lE,f4;function roe(){if(f4)return lE;f4=1,lE=e;var r=DF();su()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,i){i(null,t)},lE}var uE,d4;function ioe(){if(d4)return uE;d4=1;var r;function e(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var t=Uf().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,y,w,_){_=e(_);var E=!1;g.on("close",function(){E=!0}),r===void 0&&(r=YC()),r(g,{readable:y,writable:w},function(A){if(A)return _(A);E=!0,_()});var b=!1;return function(A){if(!E&&!b){if(b=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();_(A||new i("pipe"))}}}function u(g){g()}function h(g,y){return g.pipe(y)}function f(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function p(){for(var g=arguments.length,y=new Array(g),w=0;w<g;w++)y[w]=arguments[w];var _=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var E,b=y.map(function(A,T){var x=T<y.length-1,D=T>0;return l(A,x,D,function(M){E||(E=M),M&&b.forEach(u),!x&&(b.forEach(u),_(E))})});return y.reduce(h)}return uE=p,uE}var cE,p4;function XC(){if(p4)return cE;p4=1,cE=t;var r=WC().EventEmitter,e=su();e(t,r),t.Readable=kF(),t.Writable=RF(),t.Duplex=Ef(),t.Transform=DF(),t.PassThrough=roe(),t.finished=YC(),t.pipeline=ioe(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(n,i){var s=this;function o(y){n.writable&&n.write(y)===!1&&s.pause&&s.pause()}s.on("data",o);function l(){s.readable&&s.resume&&s.resume()}n.on("drain",l),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",h),s.on("close",f));var u=!1;function h(){u||(u=!0,n.end())}function f(){u||(u=!0,typeof n.destroy=="function"&&n.destroy())}function p(y){if(g(),r.listenerCount(this,"error")===0)throw y}s.on("error",p),n.on("error",p);function g(){s.removeListener("data",o),n.removeListener("drain",l),s.removeListener("end",h),s.removeListener("close",f),s.removeListener("error",p),n.removeListener("error",p),s.removeListener("end",g),s.removeListener("close",g),n.removeListener("close",g)}return s.on("end",g),s.on("close",g),n.on("close",g),n.emit("pipe",s),n},cE}var m4;function soe(){return m4||(m4=1,function(r){(function(e){e.parser=function(j,z){return new n(j,z)},e.SAXParser=n,e.SAXStream=f,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(j,z){if(!(this instanceof n))return new n(j,z);var se=this;s(se),se.q=se.c="",se.bufferCheckPosition=e.MAX_BUFFER_LENGTH,se.opt=z||{},se.opt.lowercase=se.opt.lowercase||se.opt.lowercasetags,se.looseCase=se.opt.lowercase?"toLowerCase":"toUpperCase",se.tags=[],se.closed=se.closedRoot=se.sawRoot=!1,se.tag=se.error=null,se.strict=!!j,se.noscript=!!(j||se.opt.noscript),se.state=C.BEGIN,se.strictEntities=se.opt.strictEntities,se.ENTITIES=se.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),se.attribList=[],se.opt.xmlns&&(se.ns=Object.create(_)),se.trackPosition=se.opt.position!==!1,se.trackPosition&&(se.position=se.line=se.column=0),$(se,"onready")}Object.create||(Object.create=function(j){function z(){}z.prototype=j;var se=new z;return se}),Object.keys||(Object.keys=function(j){var z=[];for(var se in j)j.hasOwnProperty(se)&&z.push(se);return z});function i(j){for(var z=Math.max(e.MAX_BUFFER_LENGTH,10),se=0,ie=0,X=t.length;ie<X;ie++){var te=j[t[ie]].length;if(te>z)switch(t[ie]){case"textNode":F(j);break;case"cdata":N(j,"oncdata",j.cdata),j.cdata="";break;case"script":N(j,"onscript",j.script),j.script="";break;default:ae(j,"Max buffer length exceeded: "+t[ie])}se=Math.max(se,te)}var be=e.MAX_BUFFER_LENGTH-se;j.bufferCheckPosition=be+j.position}function s(j){for(var z=0,se=t.length;z<se;z++)j[t[z]]=""}function o(j){F(j),j.cdata!==""&&(N(j,"oncdata",j.cdata),j.cdata=""),j.script!==""&&(N(j,"onscript",j.script),j.script="")}n.prototype={end:function(){Q(this)},write:ce,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var l;try{l=XC().Stream}catch{l=function(){}}var u=e.EVENTS.filter(function(j){return j!=="error"&&j!=="end"});function h(j,z){return new f(j,z)}function f(j,z){if(!(this instanceof f))return new f(j,z);l.apply(this),this._parser=new n(j,z),this.writable=!0,this.readable=!0;var se=this;this._parser.onend=function(){se.emit("end")},this._parser.onerror=function(ie){se.emit("error",ie),se._parser.error=null},this._decoder=null,u.forEach(function(ie){Object.defineProperty(se,"on"+ie,{get:function(){return se._parser["on"+ie]},set:function(X){if(!X)return se.removeAllListeners(ie),se._parser["on"+ie]=X,X;se.on(ie,X)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(l.prototype,{constructor:{value:f}}),f.prototype.write=function(j){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(j)){if(!this._decoder){var z=UT().StringDecoder;this._decoder=new z("utf8")}j=this._decoder.write(j)}return this._parser.write(j.toString()),this.emit("data",j),!0},f.prototype.end=function(j){return j&&j.length&&this.write(j),this._parser.end(),!0},f.prototype.on=function(j,z){var se=this;return!se._parser["on"+j]&&u.indexOf(j)!==-1&&(se._parser["on"+j]=function(){var ie=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.splice(0,0,j),se.emit.apply(se,ie)}),l.prototype.on.call(se,j,z)};var p="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",w="http://www.w3.org/2000/xmlns/",_={xml:y,xmlns:w},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x(j){return j===" "||j===`
`||j==="\r"||j==="	"}function D(j){return j==='"'||j==="'"}function M(j){return j===">"||x(j)}function O(j,z){return j.test(z)}function P(j,z){return!O(j,z)}var C=0;e.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(j){var z=e.ENTITIES[j],se=typeof z=="number"?String.fromCharCode(z):z;e.ENTITIES[j]=se});for(var W in e.STATE)e.STATE[e.STATE[W]]=W;C=e.STATE;function $(j,z,se){j[z]&&j[z](se)}function N(j,z,se){j.textNode&&F(j),$(j,z,se)}function F(j){j.textNode=B(j.opt,j.textNode),j.textNode&&$(j,"ontext",j.textNode),j.textNode=""}function B(j,z){return j.trim&&(z=z.trim()),j.normalize&&(z=z.replace(/\s+/g," ")),z}function ae(j,z){return F(j),j.trackPosition&&(z+=`
Line: `+j.line+`
Column: `+j.column+`
Char: `+j.c),z=new Error(z),j.error=z,$(j,"onerror",z),j}function Q(j){return j.sawRoot&&!j.closedRoot&&Y(j,"Unclosed root tag"),j.state!==C.BEGIN&&j.state!==C.BEGIN_WHITESPACE&&j.state!==C.TEXT&&ae(j,"Unexpected end"),F(j),j.c="",j.closed=!0,$(j,"onend"),n.call(j,j.strict,j.opt),j}function Y(j,z){if(typeof j!="object"||!(j instanceof n))throw new Error("bad call to strictFail");j.strict&&ae(j,z)}function pe(j){j.strict||(j.tagName=j.tagName[j.looseCase]());var z=j.tags[j.tags.length-1]||j,se=j.tag={name:j.tagName,attributes:{}};j.opt.xmlns&&(se.ns=z.ns),j.attribList.length=0,N(j,"onopentagstart",se)}function fe(j,z){var se=j.indexOf(":"),ie=se<0?["",j]:j.split(":"),X=ie[0],te=ie[1];return z&&j==="xmlns"&&(X="xmlns",te=""),{prefix:X,local:te}}function ee(j){if(j.strict||(j.attribName=j.attribName[j.looseCase]()),j.attribList.indexOf(j.attribName)!==-1||j.tag.attributes.hasOwnProperty(j.attribName)){j.attribName=j.attribValue="";return}if(j.opt.xmlns){var z=fe(j.attribName,!0),se=z.prefix,ie=z.local;if(se==="xmlns")if(ie==="xml"&&j.attribValue!==y)Y(j,"xml: prefix must be bound to "+y+`
Actual: `+j.attribValue);else if(ie==="xmlns"&&j.attribValue!==w)Y(j,"xmlns: prefix must be bound to "+w+`
Actual: `+j.attribValue);else{var X=j.tag,te=j.tags[j.tags.length-1]||j;X.ns===te.ns&&(X.ns=Object.create(te.ns)),X.ns[ie]=j.attribValue}j.attribList.push([j.attribName,j.attribValue])}else j.tag.attributes[j.attribName]=j.attribValue,N(j,"onattribute",{name:j.attribName,value:j.attribValue});j.attribName=j.attribValue=""}function J(j,z){if(j.opt.xmlns){var se=j.tag,ie=fe(j.tagName);se.prefix=ie.prefix,se.local=ie.local,se.uri=se.ns[ie.prefix]||"",se.prefix&&!se.uri&&(Y(j,"Unbound namespace prefix: "+JSON.stringify(j.tagName)),se.uri=ie.prefix);var X=j.tags[j.tags.length-1]||j;se.ns&&X.ns!==se.ns&&Object.keys(se.ns).forEach(function(ue){N(j,"onopennamespace",{prefix:ue,uri:se.ns[ue]})});for(var te=0,be=j.attribList.length;te<be;te++){var V=j.attribList[te],_e=V[0],H=V[1],k=fe(_e,!0),I=k.prefix,U=k.local,oe=I===""?"":se.ns[I]||"",me={name:_e,value:H,prefix:I,local:U,uri:oe};I&&I!=="xmlns"&&!oe&&(Y(j,"Unbound namespace prefix: "+JSON.stringify(I)),me.uri=I),j.tag.attributes[_e]=me,N(j,"onattribute",me)}j.attribList.length=0}j.tag.isSelfClosing=!!z,j.sawRoot=!0,j.tags.push(j.tag),N(j,"onopentag",j.tag),z||(!j.noscript&&j.tagName.toLowerCase()==="script"?j.state=C.SCRIPT:j.state=C.TEXT,j.tag=null,j.tagName=""),j.attribName=j.attribValue="",j.attribList.length=0}function K(j){if(!j.tagName){Y(j,"Weird empty close tag."),j.textNode+="</>",j.state=C.TEXT;return}if(j.script){if(j.tagName!=="script"){j.script+="</"+j.tagName+">",j.tagName="",j.state=C.SCRIPT;return}N(j,"onscript",j.script),j.script=""}var z=j.tags.length,se=j.tagName;j.strict||(se=se[j.looseCase]());for(var ie=se;z--;){var X=j.tags[z];if(X.name!==ie)Y(j,"Unexpected close tag");else break}if(z<0){Y(j,"Unmatched closing tag: "+j.tagName),j.textNode+="</"+j.tagName+">",j.state=C.TEXT;return}j.tagName=se;for(var te=j.tags.length;te-- >z;){var be=j.tag=j.tags.pop();j.tagName=j.tag.name,N(j,"onclosetag",j.tagName);var V={};for(var _e in be.ns)V[_e]=be.ns[_e];var H=j.tags[j.tags.length-1]||j;j.opt.xmlns&&be.ns!==H.ns&&Object.keys(be.ns).forEach(function(k){var I=be.ns[k];N(j,"onclosenamespace",{prefix:k,uri:I})})}z===0&&(j.closedRoot=!0),j.tagName=j.attribValue=j.attribName="",j.attribList.length=0,j.state=C.TEXT}function re(j){var z=j.entity,se=z.toLowerCase(),ie,X="";return j.ENTITIES[z]?j.ENTITIES[z]:j.ENTITIES[se]?j.ENTITIES[se]:(z=se,z.charAt(0)==="#"&&(z.charAt(1)==="x"?(z=z.slice(2),ie=parseInt(z,16),X=ie.toString(16)):(z=z.slice(1),ie=parseInt(z,10),X=ie.toString(10))),z=z.replace(/^0+/,""),isNaN(ie)||X.toLowerCase()!==z?(Y(j,"Invalid character entity"),"&"+j.entity+";"):String.fromCodePoint(ie))}function he(j,z){z==="<"?(j.state=C.OPEN_WAKA,j.startTagPosition=j.position):x(z)||(Y(j,"Non-whitespace before first tag."),j.textNode=z,j.state=C.TEXT)}function ve(j,z){var se="";return z<j.length&&(se=j.charAt(z)),se}function ce(j){var z=this;if(this.error)throw this.error;if(z.closed)return ae(z,"Cannot write after close. Assign an onready handler.");if(j===null)return Q(z);typeof j=="object"&&(j=j.toString());for(var se=0,ie="";ie=ve(j,se++),z.c=ie,!!ie;)switch(z.trackPosition&&(z.position++,ie===`
`?(z.line++,z.column=0):z.column++),z.state){case C.BEGIN:if(z.state=C.BEGIN_WHITESPACE,ie==="\uFEFF")continue;he(z,ie);continue;case C.BEGIN_WHITESPACE:he(z,ie);continue;case C.TEXT:if(z.sawRoot&&!z.closedRoot){for(var X=se-1;ie&&ie!=="<"&&ie!=="&";)ie=ve(j,se++),ie&&z.trackPosition&&(z.position++,ie===`
`?(z.line++,z.column=0):z.column++);z.textNode+=j.substring(X,se-1)}ie==="<"&&!(z.sawRoot&&z.closedRoot&&!z.strict)?(z.state=C.OPEN_WAKA,z.startTagPosition=z.position):(!x(ie)&&(!z.sawRoot||z.closedRoot)&&Y(z,"Text data outside of root node."),ie==="&"?z.state=C.TEXT_ENTITY:z.textNode+=ie);continue;case C.SCRIPT:ie==="<"?z.state=C.SCRIPT_ENDING:z.script+=ie;continue;case C.SCRIPT_ENDING:ie==="/"?z.state=C.CLOSE_TAG:(z.script+="<"+ie,z.state=C.SCRIPT);continue;case C.OPEN_WAKA:if(ie==="!")z.state=C.SGML_DECL,z.sgmlDecl="";else if(!x(ie))if(O(E,ie))z.state=C.OPEN_TAG,z.tagName=ie;else if(ie==="/")z.state=C.CLOSE_TAG,z.tagName="";else if(ie==="?")z.state=C.PROC_INST,z.procInstName=z.procInstBody="";else{if(Y(z,"Unencoded <"),z.startTagPosition+1<z.position){var te=z.position-z.startTagPosition;ie=new Array(te).join(" ")+ie}z.textNode+="<"+ie,z.state=C.TEXT}continue;case C.SGML_DECL:(z.sgmlDecl+ie).toUpperCase()===p?(N(z,"onopencdata"),z.state=C.CDATA,z.sgmlDecl="",z.cdata=""):z.sgmlDecl+ie==="--"?(z.state=C.COMMENT,z.comment="",z.sgmlDecl=""):(z.sgmlDecl+ie).toUpperCase()===g?(z.state=C.DOCTYPE,(z.doctype||z.sawRoot)&&Y(z,"Inappropriately located doctype declaration"),z.doctype="",z.sgmlDecl=""):ie===">"?(N(z,"onsgmldeclaration",z.sgmlDecl),z.sgmlDecl="",z.state=C.TEXT):(D(ie)&&(z.state=C.SGML_DECL_QUOTED),z.sgmlDecl+=ie);continue;case C.SGML_DECL_QUOTED:ie===z.q&&(z.state=C.SGML_DECL,z.q=""),z.sgmlDecl+=ie;continue;case C.DOCTYPE:ie===">"?(z.state=C.TEXT,N(z,"ondoctype",z.doctype),z.doctype=!0):(z.doctype+=ie,ie==="["?z.state=C.DOCTYPE_DTD:D(ie)&&(z.state=C.DOCTYPE_QUOTED,z.q=ie));continue;case C.DOCTYPE_QUOTED:z.doctype+=ie,ie===z.q&&(z.q="",z.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:z.doctype+=ie,ie==="]"?z.state=C.DOCTYPE:D(ie)&&(z.state=C.DOCTYPE_DTD_QUOTED,z.q=ie);continue;case C.DOCTYPE_DTD_QUOTED:z.doctype+=ie,ie===z.q&&(z.state=C.DOCTYPE_DTD,z.q="");continue;case C.COMMENT:ie==="-"?z.state=C.COMMENT_ENDING:z.comment+=ie;continue;case C.COMMENT_ENDING:ie==="-"?(z.state=C.COMMENT_ENDED,z.comment=B(z.opt,z.comment),z.comment&&N(z,"oncomment",z.comment),z.comment=""):(z.comment+="-"+ie,z.state=C.COMMENT);continue;case C.COMMENT_ENDED:ie!==">"?(Y(z,"Malformed comment"),z.comment+="--"+ie,z.state=C.COMMENT):z.state=C.TEXT;continue;case C.CDATA:ie==="]"?z.state=C.CDATA_ENDING:z.cdata+=ie;continue;case C.CDATA_ENDING:ie==="]"?z.state=C.CDATA_ENDING_2:(z.cdata+="]"+ie,z.state=C.CDATA);continue;case C.CDATA_ENDING_2:ie===">"?(z.cdata&&N(z,"oncdata",z.cdata),N(z,"onclosecdata"),z.cdata="",z.state=C.TEXT):ie==="]"?z.cdata+="]":(z.cdata+="]]"+ie,z.state=C.CDATA);continue;case C.PROC_INST:ie==="?"?z.state=C.PROC_INST_ENDING:x(ie)?z.state=C.PROC_INST_BODY:z.procInstName+=ie;continue;case C.PROC_INST_BODY:if(!z.procInstBody&&x(ie))continue;ie==="?"?z.state=C.PROC_INST_ENDING:z.procInstBody+=ie;continue;case C.PROC_INST_ENDING:ie===">"?(N(z,"onprocessinginstruction",{name:z.procInstName,body:z.procInstBody}),z.procInstName=z.procInstBody="",z.state=C.TEXT):(z.procInstBody+="?"+ie,z.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:O(b,ie)?z.tagName+=ie:(pe(z),ie===">"?J(z):ie==="/"?z.state=C.OPEN_TAG_SLASH:(x(ie)||Y(z,"Invalid character in tag name"),z.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:ie===">"?(J(z,!0),K(z)):(Y(z,"Forward-slash in opening tag not followed by >"),z.state=C.ATTRIB);continue;case C.ATTRIB:if(x(ie))continue;ie===">"?J(z):ie==="/"?z.state=C.OPEN_TAG_SLASH:O(E,ie)?(z.attribName=ie,z.attribValue="",z.state=C.ATTRIB_NAME):Y(z,"Invalid attribute name");continue;case C.ATTRIB_NAME:ie==="="?z.state=C.ATTRIB_VALUE:ie===">"?(Y(z,"Attribute without value"),z.attribValue=z.attribName,ee(z),J(z)):x(ie)?z.state=C.ATTRIB_NAME_SAW_WHITE:O(b,ie)?z.attribName+=ie:Y(z,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if(ie==="=")z.state=C.ATTRIB_VALUE;else{if(x(ie))continue;Y(z,"Attribute without value"),z.tag.attributes[z.attribName]="",z.attribValue="",N(z,"onattribute",{name:z.attribName,value:""}),z.attribName="",ie===">"?J(z):O(E,ie)?(z.attribName=ie,z.state=C.ATTRIB_NAME):(Y(z,"Invalid attribute name"),z.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(x(ie))continue;D(ie)?(z.q=ie,z.state=C.ATTRIB_VALUE_QUOTED):(Y(z,"Unquoted attribute value"),z.state=C.ATTRIB_VALUE_UNQUOTED,z.attribValue=ie);continue;case C.ATTRIB_VALUE_QUOTED:if(ie!==z.q){ie==="&"?z.state=C.ATTRIB_VALUE_ENTITY_Q:z.attribValue+=ie;continue}ee(z),z.q="",z.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:x(ie)?z.state=C.ATTRIB:ie===">"?J(z):ie==="/"?z.state=C.OPEN_TAG_SLASH:O(E,ie)?(Y(z,"No whitespace between attributes"),z.attribName=ie,z.attribValue="",z.state=C.ATTRIB_NAME):Y(z,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!M(ie)){ie==="&"?z.state=C.ATTRIB_VALUE_ENTITY_U:z.attribValue+=ie;continue}ee(z),ie===">"?J(z):z.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(z.tagName)ie===">"?K(z):O(b,ie)?z.tagName+=ie:z.script?(z.script+="</"+z.tagName,z.tagName="",z.state=C.SCRIPT):(x(ie)||Y(z,"Invalid tagname in closing tag"),z.state=C.CLOSE_TAG_SAW_WHITE);else{if(x(ie))continue;P(E,ie)?z.script?(z.script+="</"+ie,z.state=C.SCRIPT):Y(z,"Invalid tagname in closing tag."):z.tagName=ie}continue;case C.CLOSE_TAG_SAW_WHITE:if(x(ie))continue;ie===">"?K(z):Y(z,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var be,V;switch(z.state){case C.TEXT_ENTITY:be=C.TEXT,V="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:be=C.ATTRIB_VALUE_QUOTED,V="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:be=C.ATTRIB_VALUE_UNQUOTED,V="attribValue";break}ie===";"?(z[V]+=re(z),z.entity="",z.state=be):O(z.entity.length?T:A,ie)?z.entity+=ie:(Y(z,"Invalid character in entity name"),z[V]+="&"+z.entity+ie,z.entity="",z.state=be);continue;default:throw new Error(z,"Unknown state: "+z.state)}return z.position>=z.bufferCheckPosition&&i(z),z}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var j=String.fromCharCode,z=Math.floor,se=function(){var ie=16384,X=[],te,be,V=-1,_e=arguments.length;if(!_e)return"";for(var H="";++V<_e;){var k=Number(arguments[V]);if(!isFinite(k)||k<0||k>1114111||z(k)!==k)throw RangeError("Invalid code point: "+k);k<=65535?X.push(k):(k-=65536,te=(k>>10)+55296,be=k%1024+56320,X.push(te,be)),(V+1===_e||X.length>ie)&&(H+=j.apply(null,X),X.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:se,configurable:!0,writable:!0}):String.fromCodePoint=se}()})(r)}(Yb)),Yb}var hE,g4;function QC(){return g4||(g4=1,hE={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),hE}var fE,y4;function ZC(){if(y4)return fE;y4=1;var r=QC().isArray;return fE={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},fE}var dE,v4;function IF(){if(v4)return dE;v4=1;var r=soe(),e=ZC(),t=QC().isArray,n,i;function s(b){return n=e.copyOptions(b),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(b){var A=Number(b);if(!isNaN(A))return A;var T=b.toLowerCase();return T==="true"?!0:T==="false"?!1:b}function l(b,A){var T;if(n.compact){if(!i[n[b+"Key"]]&&(t(n.alwaysArray)?n.alwaysArray.indexOf(n[b+"Key"])!==-1:n.alwaysArray)&&(i[n[b+"Key"]]=[]),i[n[b+"Key"]]&&!t(i[n[b+"Key"]])&&(i[n[b+"Key"]]=[i[n[b+"Key"]]]),b+"Fn"in n&&typeof A=="string"&&(A=n[b+"Fn"](A,i)),b==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(T in A)if(A.hasOwnProperty(T))if("instructionFn"in n)A[T]=n.instructionFn(A[T],T,i);else{var x=A[T];delete A[T],A[n.instructionNameFn(T,x,i)]=x}}t(i[n[b+"Key"]])?i[n[b+"Key"]].push(A):i[n[b+"Key"]]=A}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var D={};if(D[n.typeKey]=b,b==="instruction"){for(T in A)if(A.hasOwnProperty(T))break;D[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(T,A,i):T,n.instructionHasAttributes?(D[n.attributesKey]=A[T][n.attributesKey],"instructionFn"in n&&(D[n.attributesKey]=n.instructionFn(D[n.attributesKey],T,i))):("instructionFn"in n&&(A[T]=n.instructionFn(A[T],T,i)),D[n.instructionKey]=A[T])}else b+"Fn"in n&&(A=n[b+"Fn"](A,i)),D[n[b+"Key"]]=A;n.addParent&&(D[n.parentKey]=i),i[n.elementsKey].push(D)}}function u(b){if("attributesFn"in n&&b&&(b=n.attributesFn(b,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&b){var A;for(A in b)if(b.hasOwnProperty(A)&&(n.trim&&(b[A]=b[A].trim()),n.nativeTypeAttributes&&(b[A]=o(b[A])),"attributeValueFn"in n&&(b[A]=n.attributeValueFn(b[A],A,i)),"attributeNameFn"in n)){var T=b[A];delete b[A],b[n.attributeNameFn(A,b[A],i)]=T}}return b}function h(b){var A={};if(b.body&&(b.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var T=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,x;(x=T.exec(b.body))!==null;)A[x[1]]=x[2]||x[3]||x[4];A=u(A)}if(b.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(A).length&&(i[n.declarationKey][n.attributesKey]=A),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(b.body=b.body.trim());var D={};n.instructionHasAttributes&&Object.keys(A).length?(D[b.name]={},D[b.name][n.attributesKey]=A):D[b.name]=b.body,l("instruction",D)}}function f(b,A){var T;if(typeof b=="object"&&(A=b.attributes,b=b.name),A=u(A),"elementNameFn"in n&&(b=n.elementNameFn(b,i)),n.compact){if(T={},!n.ignoreAttributes&&A&&Object.keys(A).length){T[n.attributesKey]={};var x;for(x in A)A.hasOwnProperty(x)&&(T[n.attributesKey][x]=A[x])}!(b in i)&&(t(n.alwaysArray)?n.alwaysArray.indexOf(b)!==-1:n.alwaysArray)&&(i[b]=[]),i[b]&&!t(i[b])&&(i[b]=[i[b]]),t(i[b])?i[b].push(T):i[b]=T}else i[n.elementsKey]||(i[n.elementsKey]=[]),T={},T[n.typeKey]="element",T[n.nameKey]=b,!n.ignoreAttributes&&A&&Object.keys(A).length&&(T[n.attributesKey]=A),n.alwaysChildren&&(T[n.elementsKey]=[]),i[n.elementsKey].push(T);T[n.parentKey]=i,i=T}function p(b){n.ignoreText||!b.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(b=b.trim()),n.nativeType&&(b=o(b)),n.sanitize&&(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",b))}function g(b){n.ignoreComment||(n.trim&&(b=b.trim()),l("comment",b))}function y(b){var A=i[n.parentKey];n.addParent||delete i[n.parentKey],i=A}function w(b){n.ignoreCdata||(n.trim&&(b=b.trim()),l("cdata",b))}function _(b){n.ignoreDoctype||(b=b.replace(/^ /,""),n.trim&&(b=b.trim()),l("doctype",b))}function E(b){b.note=b}return dE=function(b,A){var T=r.parser(!0,{}),x={};if(i=x,n=s(A),T.opt={strictEntities:!0},T.onopentag=f,T.ontext=p,T.oncomment=g,T.onclosetag=y,T.onerror=E,T.oncdata=w,T.ondoctype=_,T.onprocessinginstruction=h,T.write(b).close(),x[n.elementsKey]){var D=x[n.elementsKey];delete x[n.elementsKey],x[n.elementsKey]=D,delete x.text}return x},dE}var pE,w4;function ooe(){if(w4)return pE;w4=1;var r=ZC(),e=IF();function t(n){var i=r.copyOptions(n);return r.ensureSpacesExists(i),i}return pE=function(n,i){var s,o,l,u;return s=t(i),o=e(n,s),u="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?l=JSON.stringify(o,function(h,f){return h===u?"_":f},s.spaces):l=JSON.stringify(o,null,s.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},pE}var mE,_4;function OF(){if(_4)return mE;_4=1;var r=ZC(),e=QC().isArray,t,n;function i(T){var x=r.copyOptions(T);return r.ensureFlagExists("ignoreDeclaration",x),r.ensureFlagExists("ignoreInstruction",x),r.ensureFlagExists("ignoreAttributes",x),r.ensureFlagExists("ignoreText",x),r.ensureFlagExists("ignoreComment",x),r.ensureFlagExists("ignoreCdata",x),r.ensureFlagExists("ignoreDoctype",x),r.ensureFlagExists("compact",x),r.ensureFlagExists("indentText",x),r.ensureFlagExists("indentCdata",x),r.ensureFlagExists("indentAttributes",x),r.ensureFlagExists("indentInstruction",x),r.ensureFlagExists("fullTagEmptyElement",x),r.ensureFlagExists("noQuotesForNativeAttributes",x),r.ensureSpacesExists(x),typeof x.spaces=="number"&&(x.spaces=Array(x.spaces+1).join(" ")),r.ensureKeyExists("declaration",x),r.ensureKeyExists("instruction",x),r.ensureKeyExists("attributes",x),r.ensureKeyExists("text",x),r.ensureKeyExists("comment",x),r.ensureKeyExists("cdata",x),r.ensureKeyExists("doctype",x),r.ensureKeyExists("type",x),r.ensureKeyExists("name",x),r.ensureKeyExists("elements",x),r.checkFnExists("doctype",x),r.checkFnExists("instruction",x),r.checkFnExists("cdata",x),r.checkFnExists("comment",x),r.checkFnExists("text",x),r.checkFnExists("instructionName",x),r.checkFnExists("elementName",x),r.checkFnExists("attributeName",x),r.checkFnExists("attributeValue",x),r.checkFnExists("attributes",x),r.checkFnExists("fullTagEmptyElement",x),x}function s(T,x,D){return(!D&&T.spaces?`
`:"")+Array(x+1).join(T.spaces)}function o(T,x,D){if(x.ignoreAttributes)return"";"attributesFn"in x&&(T=x.attributesFn(T,n,t));var M,O,P,C,W=[];for(M in T)T.hasOwnProperty(M)&&T[M]!==null&&T[M]!==void 0&&(C=x.noQuotesForNativeAttributes&&typeof T[M]!="string"?"":'"',O=""+T[M],O=O.replace(/"/g,"&quot;"),P="attributeNameFn"in x?x.attributeNameFn(M,O,n,t):M,W.push(x.spaces&&x.indentAttributes?s(x,D+1,!1):" "),W.push(P+"="+C+("attributeValueFn"in x?x.attributeValueFn(O,M,n,t):O)+C));return T&&Object.keys(T).length&&x.spaces&&x.indentAttributes&&W.push(s(x,D,!1)),W.join("")}function l(T,x,D){return t=T,n="xml",x.ignoreDeclaration?"":"<?xml"+o(T[x.attributesKey],x,D)+"?>"}function u(T,x,D){if(x.ignoreInstruction)return"";var M;for(M in T)if(T.hasOwnProperty(M))break;var O="instructionNameFn"in x?x.instructionNameFn(M,T[M],n,t):M;if(typeof T[M]=="object")return t=T,n=O,"<?"+O+o(T[M][x.attributesKey],x,D)+"?>";var P=T[M]?T[M]:"";return"instructionFn"in x&&(P=x.instructionFn(P,M,n,t)),"<?"+O+(P?" "+P:"")+"?>"}function h(T,x){return x.ignoreComment?"":"<!--"+("commentFn"in x?x.commentFn(T,n,t):T)+"-->"}function f(T,x){return x.ignoreCdata?"":"<![CDATA["+("cdataFn"in x?x.cdataFn(T,n,t):T.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function p(T,x){return x.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in x?x.doctypeFn(T,n,t):T)+">"}function g(T,x){return x.ignoreText?"":(T=""+T,T=T.replace(/&amp;/g,"&"),T=T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in x?x.textFn(T,n,t):T)}function y(T,x){var D;if(T.elements&&T.elements.length)for(D=0;D<T.elements.length;++D)switch(T.elements[D][x.typeKey]){case"text":if(x.indentText)return!0;break;case"cdata":if(x.indentCdata)return!0;break;case"instruction":if(x.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function w(T,x,D){t=T,n=T.name;var M=[],O="elementNameFn"in x?x.elementNameFn(T.name,T):T.name;M.push("<"+O),T[x.attributesKey]&&M.push(o(T[x.attributesKey],x,D));var P=T[x.elementsKey]&&T[x.elementsKey].length||T[x.attributesKey]&&T[x.attributesKey]["xml:space"]==="preserve";return P||("fullTagEmptyElementFn"in x?P=x.fullTagEmptyElementFn(T.name,T):P=x.fullTagEmptyElement),P?(M.push(">"),T[x.elementsKey]&&T[x.elementsKey].length&&(M.push(_(T[x.elementsKey],x,D+1)),t=T,n=T.name),M.push(x.spaces&&y(T,x)?`
`+Array(D+1).join(x.spaces):""),M.push("</"+O+">")):M.push("/>"),M.join("")}function _(T,x,D,M){return T.reduce(function(O,P){var C=s(x,D,M&&!O);switch(P.type){case"element":return O+C+w(P,x,D);case"comment":return O+C+h(P[x.commentKey],x);case"doctype":return O+C+p(P[x.doctypeKey],x);case"cdata":return O+(x.indentCdata?C:"")+f(P[x.cdataKey],x);case"text":return O+(x.indentText?C:"")+g(P[x.textKey],x);case"instruction":var W={};return W[P[x.nameKey]]=P[x.attributesKey]?P:P[x.instructionKey],O+(x.indentInstruction?C:"")+u(W,x,D)}},"")}function E(T,x,D){var M;for(M in T)if(T.hasOwnProperty(M))switch(M){case x.parentKey:case x.attributesKey:break;case x.textKey:if(x.indentText||D)return!0;break;case x.cdataKey:if(x.indentCdata||D)return!0;break;case x.instructionKey:if(x.indentInstruction||D)return!0;break;case x.doctypeKey:case x.commentKey:return!0;default:return!0}return!1}function b(T,x,D,M,O){t=T,n=x;var P="elementNameFn"in D?D.elementNameFn(x,T):x;if(typeof T>"u"||T===null||T==="")return"fullTagEmptyElementFn"in D&&D.fullTagEmptyElementFn(x,T)||D.fullTagEmptyElement?"<"+P+"></"+P+">":"<"+P+"/>";var C=[];if(x){if(C.push("<"+P),typeof T!="object")return C.push(">"+g(T,D)+"</"+P+">"),C.join("");T[D.attributesKey]&&C.push(o(T[D.attributesKey],D,M));var W=E(T,D,!0)||T[D.attributesKey]&&T[D.attributesKey]["xml:space"]==="preserve";if(W||("fullTagEmptyElementFn"in D?W=D.fullTagEmptyElementFn(x,T):W=D.fullTagEmptyElement),W)C.push(">");else return C.push("/>"),C.join("")}return C.push(A(T,D,M+1,!1)),t=T,n=x,x&&C.push((O?s(D,M,!1):"")+"</"+P+">"),C.join("")}function A(T,x,D,M){var O,P,C,W=[];for(P in T)if(T.hasOwnProperty(P))for(C=e(T[P])?T[P]:[T[P]],O=0;O<C.length;++O){switch(P){case x.declarationKey:W.push(l(C[O],x,D));break;case x.instructionKey:W.push((x.indentInstruction?s(x,D,M):"")+u(C[O],x,D));break;case x.attributesKey:case x.parentKey:break;case x.textKey:W.push((x.indentText?s(x,D,M):"")+g(C[O],x));break;case x.cdataKey:W.push((x.indentCdata?s(x,D,M):"")+f(C[O],x));break;case x.doctypeKey:W.push(s(x,D,M)+p(C[O],x));break;case x.commentKey:W.push(s(x,D,M)+h(C[O],x));break;default:W.push(s(x,D,M)+b(C[O],P,x,D,E(C[O],x)))}M=M&&!W.length}return W.join("")}return mE=function(T,x){x=i(x);var D=[];return t=T,n="_root_",x.compact?D.push(A(T,x,0,!0)):(T[x.declarationKey]&&D.push(l(T[x.declarationKey],x,0)),T[x.elementsKey]&&T[x.elementsKey].length&&D.push(_(T[x.elementsKey],x,0,!D.length))),D.join("")},mE}var gE,b4;function aoe(){if(b4)return gE;b4=1;var r=OF();return gE=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return r(n,t)},gE}var yE,S4;function loe(){if(S4)return yE;S4=1;var r=IF(),e=ooe(),t=OF(),n=aoe();return yE={xml2js:r,xml2json:e,js2xml:t,json2xml:n},yE}var NF=loe();const JC=r=>{switch(r.type){case void 0:case"element":const e=new coe(r.name,r.attributes),t=r.elements||[];for(const n of t){const i=JC(n);i!==void 0&&e.push(i)}return e;case"text":return r.text;default:return}};class uoe extends wt{}class coe extends qe{static fromXmlString(e){const t=NF.xml2js(e,{compact:!1});return JC(t)}constructor(e,t){super(e),t&&this.root.push(new uoe(t))}push(e){this.root.push(e)}}class hoe extends qe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class MF extends qe{constructor(e,t){super(e),t&&(this.root=t.root)}}const Ci=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},Bw=r=>{const e=Ci(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},PF=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},E4=r=>PF(r,1),LF=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},BF=r=>{const e=LF(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},xf=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return PF(e,3)},Ju=r=>typeof r=="string"?LF(r):Ci(r),foe=r=>typeof r=="string"?BF(r):Bw(r),Bs=r=>typeof r=="string"?BF(r):Bw(r),doe=Bw,poe=Bw,moe=r=>r.toISOString();class We extends qe{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new Un({val:t}))}}class vE extends qe{constructor(e,t){super(e),this.root.push(new Un({val:foe(t)}))}}class Yh extends qe{constructor(e,t){super(e),this.root.push(new Un({val:t}))}}const Zd=(r,e)=>new Vo({name:r,attributes:{value:{key:"w:val",value:e}}});class Pp extends qe{constructor(e,t){super(e),this.root.push(new Un({val:t}))}}class Bu extends qe{constructor(e,t){super(e),this.root.push(t)}}class Vo extends qe{constructor({name:e,attributes:t,children:n}){super(e),t&&this.root.push(new Mw(t)),n&&this.root.push(...n)}}const fo={START:"start",LEFT:"left"};class goe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class yoe extends qe{constructor(e){super("w:jc"),this.root.push(new goe({val:e}))}}class On extends qe{constructor(e,{color:t,size:n,space:i,style:s}){super(e),this.root.push(new voe({style:s,color:t===void 0?void 0:xf(t),size:n===void 0?void 0:doe(n),space:i===void 0?void 0:poe(i)}))}}class voe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const eR={SINGLE:"single",NONE:"none"};class woe extends Nw{constructor(e){super("w:pBdr"),e.top&&this.root.push(new On("w:top",e.top)),e.bottom&&this.root.push(new On("w:bottom",e.bottom)),e.left&&this.root.push(new On("w:left",e.left)),e.right&&this.root.push(new On("w:right",e.right))}}class _oe extends qe{constructor(){super("w:pBdr");const e=new On("w:bottom",{color:"auto",space:1,style:eR.SINGLE,size:6});this.root.push(e)}}class boe extends qe{constructor({start:e,end:t,left:n,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new Mw({start:{key:"w:start",value:e===void 0?void 0:Ju(e)},end:{key:"w:end",value:t===void 0?void 0:Ju(t)},left:{key:"w:left",value:n===void 0?void 0:Ju(n)},right:{key:"w:right",value:i===void 0?void 0:Ju(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Bs(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:Bs(o)}}))}}let Soe=class extends qe{constructor(){super("w:br")}};const tR={BEGIN:"begin",END:"end",SEPARATE:"separate"};class nR extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Xy extends qe{constructor(e){super("w:fldChar"),this.root.push(new nR({type:tR.BEGIN,dirty:e}))}}class Qy extends qe{constructor(e){super("w:fldChar"),this.root.push(new nR({type:tR.SEPARATE,dirty:e}))}}class Zy extends qe{constructor(e){super("w:fldChar"),this.root.push(new nR({type:tR.END,dirty:e}))}}const Tf={DEFAULT:"default",PRESERVE:"preserve"};class Af extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{space:"xml:space"})}}class Eoe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("PAGE")}}class xoe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("NUMPAGES")}}class Toe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("SECTIONPAGES")}}class Aoe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("SECTION")}}class Coe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class FF extends qe{constructor({fill:e,color:t,type:n}){super("w:shd"),this.root.push(new Coe({fill:e===void 0?void 0:xf(e),color:t===void 0?void 0:xf(t),type:n}))}}class Roe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const koe={DOT:"dot"};class Doe extends qe{constructor(e){super("w:em"),this.root.push(new Un({val:e}))}}class Ioe extends Doe{constructor(e=koe.DOT){super(e)}}class Ooe extends qe{constructor(e){super("w:spacing"),this.root.push(new Un({val:Ju(e)}))}}class Noe extends qe{constructor(e){super("w:color"),this.root.push(new Un({val:xf(e)}))}}class Moe extends qe{constructor(e){super("w:highlight"),this.root.push(new Un({val:e}))}}class Poe extends qe{constructor(e){super("w:highlightCs"),this.root.push(new Un({val:e}))}}const Loe=r=>new Vo({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class x4 extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class wE extends qe{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new x4({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const n=e;this.root.push(new x4(n))}}}let VF=class extends qe{constructor(e){super("w:vertAlign"),this.root.push(new Un({val:e}))}};class Boe extends VF{constructor(){super("superscript")}}class Foe extends VF{constructor(){super("subscript")}}const UF={SINGLE:"single"};class Voe extends qe{constructor(e=UF.SINGLE,t){super("w:u"),this.root.push(new Un({val:e,color:t===void 0?void 0:xf(t)}))}}class Rc extends Nw{constructor(e){var t,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Yh("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new wE(e.font)):"name"in e.font?this.push(new wE(e.font.name,e.font.hint)):this.push(new wE(e.font))),e.bold!==void 0&&this.push(new We("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new We("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new We("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new We("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new We("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new We("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new We("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new We("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new We("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new We("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new We("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new We("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new We("w:vanish",e.vanish)),e.color&&this.push(new Noe(e.color)),e.characterSpacing&&this.push(new Ooe(e.characterSpacing)),e.scale!==void 0&&this.push(new Pp("w:w",e.scale)),e.kern&&this.push(new vE("w:kern",e.kern)),e.position&&this.push(new Yh("w:position",e.position)),e.size!==void 0&&this.push(new vE("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new vE("w:szCs",i)),e.highlight&&this.push(new Moe(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new Poe(s)),e.underline&&this.push(new Voe(e.underline.type,e.underline.color)),e.effect&&this.push(new Yh("w:effect",e.effect)),e.border&&this.push(new On("w:bdr",e.border)),e.shading&&this.push(new FF(e.shading)),e.subScript&&this.push(new Foe),e.superScript&&this.push(new Boe),e.rightToLeft!==void 0&&this.push(new We("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new Ioe(e.emphasisMark.type)),e.language&&this.push(Loe(e.language)),e.specVanish&&this.push(new We("w:specVanish",e.vanish)),e.math&&this.push(new We("w:oMath",e.math)),e.revision&&this.push(new Uoe(e.revision))}push(e){this.root.push(e)}}class Uoe extends qe{constructor(e){super("w:rPrChange"),this.root.push(new Roe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Rc(e))}}class T4 extends qe{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new Af({space:Tf.PRESERVE})),this.root.push(e)):(this.root.push(new Af({space:(t=e.space)!=null?t:Tf.DEFAULT})),this.root.push(e.text))}}const Jy={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class Fw extends qe{constructor(e){if(super("w:r"),Be(this,"properties"),this.properties=new Rc(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new Soe);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case Jy.CURRENT:this.root.push(new Xy),this.root.push(new Eoe),this.root.push(new Qy),this.root.push(new Zy);break;case Jy.TOTAL_PAGES:this.root.push(new Xy),this.root.push(new xoe),this.root.push(new Qy),this.root.push(new Zy);break;case Jy.TOTAL_PAGES_IN_SECTION:this.root.push(new Xy),this.root.push(new Toe),this.root.push(new Qy),this.root.push(new Zy);break;case Jy.CURRENT_SECTION:this.root.push(new Xy),this.root.push(new Aoe),this.root.push(new Qy),this.root.push(new Zy);break;default:this.root.push(new T4(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new T4(e.text))}}class zv extends Fw{constructor(e){super(typeof e=="string"?{text:e}:e)}}var _E={},ln={},bE,A4;function Gm(){if(A4)return bE;A4=1,bE=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},bE}var C4;function Wo(){if(C4)return ln;C4=1;var r=Gm(),e=su();ln.inherits=e;function t(N,F){return(N.charCodeAt(F)&64512)!==55296||F<0||F+1>=N.length?!1:(N.charCodeAt(F+1)&64512)===56320}function n(N,F){if(Array.isArray(N))return N.slice();if(!N)return[];var B=[];if(typeof N=="string")if(F){if(F==="hex")for(N=N.replace(/[^a-z0-9]+/ig,""),N.length%2!==0&&(N="0"+N),Q=0;Q<N.length;Q+=2)B.push(parseInt(N[Q]+N[Q+1],16))}else for(var ae=0,Q=0;Q<N.length;Q++){var Y=N.charCodeAt(Q);Y<128?B[ae++]=Y:Y<2048?(B[ae++]=Y>>6|192,B[ae++]=Y&63|128):t(N,Q)?(Y=65536+((Y&1023)<<10)+(N.charCodeAt(++Q)&1023),B[ae++]=Y>>18|240,B[ae++]=Y>>12&63|128,B[ae++]=Y>>6&63|128,B[ae++]=Y&63|128):(B[ae++]=Y>>12|224,B[ae++]=Y>>6&63|128,B[ae++]=Y&63|128)}else for(Q=0;Q<N.length;Q++)B[Q]=N[Q]|0;return B}ln.toArray=n;function i(N){for(var F="",B=0;B<N.length;B++)F+=l(N[B].toString(16));return F}ln.toHex=i;function s(N){var F=N>>>24|N>>>8&65280|N<<8&16711680|(N&255)<<24;return F>>>0}ln.htonl=s;function o(N,F){for(var B="",ae=0;ae<N.length;ae++){var Q=N[ae];F==="little"&&(Q=s(Q)),B+=u(Q.toString(16))}return B}ln.toHex32=o;function l(N){return N.length===1?"0"+N:N}ln.zero2=l;function u(N){return N.length===7?"0"+N:N.length===6?"00"+N:N.length===5?"000"+N:N.length===4?"0000"+N:N.length===3?"00000"+N:N.length===2?"000000"+N:N.length===1?"0000000"+N:N}ln.zero8=u;function h(N,F,B,ae){var Q=B-F;r(Q%4===0);for(var Y=new Array(Q/4),pe=0,fe=F;pe<Y.length;pe++,fe+=4){var ee;ae==="big"?ee=N[fe]<<24|N[fe+1]<<16|N[fe+2]<<8|N[fe+3]:ee=N[fe+3]<<24|N[fe+2]<<16|N[fe+1]<<8|N[fe],Y[pe]=ee>>>0}return Y}ln.join32=h;function f(N,F){for(var B=new Array(N.length*4),ae=0,Q=0;ae<N.length;ae++,Q+=4){var Y=N[ae];F==="big"?(B[Q]=Y>>>24,B[Q+1]=Y>>>16&255,B[Q+2]=Y>>>8&255,B[Q+3]=Y&255):(B[Q+3]=Y>>>24,B[Q+2]=Y>>>16&255,B[Q+1]=Y>>>8&255,B[Q]=Y&255)}return B}ln.split32=f;function p(N,F){return N>>>F|N<<32-F}ln.rotr32=p;function g(N,F){return N<<F|N>>>32-F}ln.rotl32=g;function y(N,F){return N+F>>>0}ln.sum32=y;function w(N,F,B){return N+F+B>>>0}ln.sum32_3=w;function _(N,F,B,ae){return N+F+B+ae>>>0}ln.sum32_4=_;function E(N,F,B,ae,Q){return N+F+B+ae+Q>>>0}ln.sum32_5=E;function b(N,F,B,ae){var Q=N[F],Y=N[F+1],pe=ae+Y>>>0,fe=(pe<ae?1:0)+B+Q;N[F]=fe>>>0,N[F+1]=pe}ln.sum64=b;function A(N,F,B,ae){var Q=F+ae>>>0,Y=(Q<F?1:0)+N+B;return Y>>>0}ln.sum64_hi=A;function T(N,F,B,ae){var Q=F+ae;return Q>>>0}ln.sum64_lo=T;function x(N,F,B,ae,Q,Y,pe,fe){var ee=0,J=F;J=J+ae>>>0,ee+=J<F?1:0,J=J+Y>>>0,ee+=J<Y?1:0,J=J+fe>>>0,ee+=J<fe?1:0;var K=N+B+Q+pe+ee;return K>>>0}ln.sum64_4_hi=x;function D(N,F,B,ae,Q,Y,pe,fe){var ee=F+ae+Y+fe;return ee>>>0}ln.sum64_4_lo=D;function M(N,F,B,ae,Q,Y,pe,fe,ee,J){var K=0,re=F;re=re+ae>>>0,K+=re<F?1:0,re=re+Y>>>0,K+=re<Y?1:0,re=re+fe>>>0,K+=re<fe?1:0,re=re+J>>>0,K+=re<J?1:0;var he=N+B+Q+pe+ee+K;return he>>>0}ln.sum64_5_hi=M;function O(N,F,B,ae,Q,Y,pe,fe,ee,J){var K=F+ae+Y+fe+J;return K>>>0}ln.sum64_5_lo=O;function P(N,F,B){var ae=F<<32-B|N>>>B;return ae>>>0}ln.rotr64_hi=P;function C(N,F,B){var ae=N<<32-B|F>>>B;return ae>>>0}ln.rotr64_lo=C;function W(N,F,B){return N>>>B}ln.shr64_hi=W;function $(N,F,B){var ae=N<<32-B|F>>>B;return ae>>>0}return ln.shr64_lo=$,ln}var SE={},R4;function Km(){if(R4)return SE;R4=1;var r=Wo(),e=Gm();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return SE.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-o,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,l=new Array(o+this.padLength);l[0]=128;for(var u=1;u<o;u++)l[u]=0;if(i<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)l[u++]=0;l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=i>>>24&255,l[u++]=i>>>16&255,l[u++]=i>>>8&255,l[u++]=i&255}else for(l[u++]=i&255,l[u++]=i>>>8&255,l[u++]=i>>>16&255,l[u++]=i>>>24&255,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,h=8;h<this.padLength;h++)l[u++]=0;return l},SE}var Fu={},co={},k4;function zF(){if(k4)return co;k4=1;var r=Wo(),e=r.rotr32;function t(f,p,g,y){if(f===0)return n(p,g,y);if(f===1||f===3)return s(p,g,y);if(f===2)return i(p,g,y)}co.ft_1=t;function n(f,p,g){return f&p^~f&g}co.ch32=n;function i(f,p,g){return f&p^f&g^p&g}co.maj32=i;function s(f,p,g){return f^p^g}co.p32=s;function o(f){return e(f,2)^e(f,13)^e(f,22)}co.s0_256=o;function l(f){return e(f,6)^e(f,11)^e(f,25)}co.s1_256=l;function u(f){return e(f,7)^e(f,18)^f>>>3}co.g0_256=u;function h(f){return e(f,17)^e(f,19)^f>>>10}return co.g1_256=h,co}var EE,D4;function zoe(){if(D4)return EE;D4=1;var r=Wo(),e=Km(),t=zF(),n=r.rotl32,i=r.sum32,s=r.sum32_5,o=t.ft_1,l=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(h,l),EE=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(p,g){for(var y=this.W,w=0;w<16;w++)y[w]=p[g+w];for(;w<y.length;w++)y[w]=n(y[w-3]^y[w-8]^y[w-14]^y[w-16],1);var _=this.h[0],E=this.h[1],b=this.h[2],A=this.h[3],T=this.h[4];for(w=0;w<y.length;w++){var x=~~(w/20),D=s(n(_,5),o(x,E,b,A),T,y[w],u[x]);T=A,A=b,b=n(E,30),E=_,_=D}this.h[0]=i(this.h[0],_),this.h[1]=i(this.h[1],E),this.h[2]=i(this.h[2],b),this.h[3]=i(this.h[3],A),this.h[4]=i(this.h[4],T)},h.prototype._digest=function(p){return p==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},EE}var xE,I4;function jF(){if(I4)return xE;I4=1;var r=Wo(),e=Km(),t=zF(),n=Gm(),i=r.sum32,s=r.sum32_4,o=r.sum32_5,l=t.ch32,u=t.maj32,h=t.s0_256,f=t.s1_256,p=t.g0_256,g=t.g1_256,y=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _(){if(!(this instanceof _))return new _;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return r.inherits(_,y),xE=_,_.blockSize=512,_.outSize=256,_.hmacStrength=192,_.padLength=64,_.prototype._update=function(b,A){for(var T=this.W,x=0;x<16;x++)T[x]=b[A+x];for(;x<T.length;x++)T[x]=s(g(T[x-2]),T[x-7],p(T[x-15]),T[x-16]);var D=this.h[0],M=this.h[1],O=this.h[2],P=this.h[3],C=this.h[4],W=this.h[5],$=this.h[6],N=this.h[7];for(n(this.k.length===T.length),x=0;x<T.length;x++){var F=o(N,f(C),l(C,W,$),this.k[x],T[x]),B=i(h(D),u(D,M,O));N=$,$=W,W=C,C=i(P,F),P=O,O=M,M=D,D=i(F,B)}this.h[0]=i(this.h[0],D),this.h[1]=i(this.h[1],M),this.h[2]=i(this.h[2],O),this.h[3]=i(this.h[3],P),this.h[4]=i(this.h[4],C),this.h[5]=i(this.h[5],W),this.h[6]=i(this.h[6],$),this.h[7]=i(this.h[7],N)},_.prototype._digest=function(b){return b==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},xE}var TE,O4;function joe(){if(O4)return TE;O4=1;var r=Wo(),e=jF();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),TE=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},TE}var AE,N4;function HF(){if(N4)return AE;N4=1;var r=Wo(),e=Km(),t=Gm(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,o=r.shr64_lo,l=r.sum64,u=r.sum64_hi,h=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,y=r.sum64_5_lo,w=e.BlockHash,_=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=_,this.W=new Array(160)}r.inherits(E,w),AE=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(B,ae){for(var Q=this.W,Y=0;Y<32;Y++)Q[Y]=B[ae+Y];for(;Y<Q.length;Y+=2){var pe=$(Q[Y-4],Q[Y-3]),fe=N(Q[Y-4],Q[Y-3]),ee=Q[Y-14],J=Q[Y-13],K=C(Q[Y-30],Q[Y-29]),re=W(Q[Y-30],Q[Y-29]),he=Q[Y-32],ve=Q[Y-31];Q[Y]=f(pe,fe,ee,J,K,re,he,ve),Q[Y+1]=p(pe,fe,ee,J,K,re,he,ve)}},E.prototype._update=function(B,ae){this._prepareBlock(B,ae);var Q=this.W,Y=this.h[0],pe=this.h[1],fe=this.h[2],ee=this.h[3],J=this.h[4],K=this.h[5],re=this.h[6],he=this.h[7],ve=this.h[8],ce=this.h[9],j=this.h[10],z=this.h[11],se=this.h[12],ie=this.h[13],X=this.h[14],te=this.h[15];t(this.k.length===Q.length);for(var be=0;be<Q.length;be+=2){var V=X,_e=te,H=O(ve,ce),k=P(ve,ce),I=b(ve,ce,j,z,se),U=A(ve,ce,j,z,se,ie),oe=this.k[be],me=this.k[be+1],ue=Q[be],De=Q[be+1],Pe=g(V,_e,H,k,I,U,oe,me,ue,De),Oe=y(V,_e,H,k,I,U,oe,me,ue,De);V=D(Y,pe),_e=M(Y,pe),H=T(Y,pe,fe,ee,J),k=x(Y,pe,fe,ee,J,K);var He=u(V,_e,H,k),Ge=h(V,_e,H,k);X=se,te=ie,se=j,ie=z,j=ve,z=ce,ve=u(re,he,Pe,Oe),ce=h(he,he,Pe,Oe),re=J,he=K,J=fe,K=ee,fe=Y,ee=pe,Y=u(Pe,Oe,He,Ge),pe=h(Pe,Oe,He,Ge)}l(this.h,0,Y,pe),l(this.h,2,fe,ee),l(this.h,4,J,K),l(this.h,6,re,he),l(this.h,8,ve,ce),l(this.h,10,j,z),l(this.h,12,se,ie),l(this.h,14,X,te)},E.prototype._digest=function(B){return B==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function b(F,B,ae,Q,Y){var pe=F&ae^~F&Y;return pe<0&&(pe+=4294967296),pe}function A(F,B,ae,Q,Y,pe){var fe=B&Q^~B&pe;return fe<0&&(fe+=4294967296),fe}function T(F,B,ae,Q,Y){var pe=F&ae^F&Y^ae&Y;return pe<0&&(pe+=4294967296),pe}function x(F,B,ae,Q,Y,pe){var fe=B&Q^B&pe^Q&pe;return fe<0&&(fe+=4294967296),fe}function D(F,B){var ae=n(F,B,28),Q=n(B,F,2),Y=n(B,F,7),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}function M(F,B){var ae=i(F,B,28),Q=i(B,F,2),Y=i(B,F,7),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}function O(F,B){var ae=n(F,B,14),Q=n(F,B,18),Y=n(B,F,9),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}function P(F,B){var ae=i(F,B,14),Q=i(F,B,18),Y=i(B,F,9),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}function C(F,B){var ae=n(F,B,1),Q=n(F,B,8),Y=s(F,B,7),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}function W(F,B){var ae=i(F,B,1),Q=i(F,B,8),Y=o(F,B,7),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}function $(F,B){var ae=n(F,B,19),Q=n(B,F,29),Y=s(F,B,6),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}function N(F,B){var ae=i(F,B,19),Q=i(B,F,29),Y=o(F,B,6),pe=ae^Q^Y;return pe<0&&(pe+=4294967296),pe}return AE}var CE,M4;function Hoe(){if(M4)return CE;M4=1;var r=Wo(),e=HF();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),CE=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},CE}var P4;function qoe(){return P4||(P4=1,Fu.sha1=zoe(),Fu.sha224=joe(),Fu.sha256=jF(),Fu.sha384=Hoe(),Fu.sha512=HF()),Fu}var RE={},L4;function Woe(){if(L4)return RE;L4=1;var r=Wo(),e=Km(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,o=e.BlockHash;function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(l,o),RE.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(E,b){for(var A=this.h[0],T=this.h[1],x=this.h[2],D=this.h[3],M=this.h[4],O=A,P=T,C=x,W=D,$=M,N=0;N<80;N++){var F=n(t(s(A,u(N,T,x,D),E[p[N]+b],h(N)),y[N]),M);A=M,M=D,D=t(x,10),x=T,T=F,F=n(t(s(O,u(79-N,P,C,W),E[g[N]+b],f(N)),w[N]),$),O=$,$=W,W=t(C,10),C=P,P=F}F=i(this.h[1],x,W),this.h[1]=i(this.h[2],D,$),this.h[2]=i(this.h[3],M,O),this.h[3]=i(this.h[4],A,P),this.h[4]=i(this.h[0],T,C),this.h[0]=F},l.prototype._digest=function(E){return E==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function u(_,E,b,A){return _<=15?E^b^A:_<=31?E&b|~E&A:_<=47?(E|~b)^A:_<=63?E&A|b&~A:E^(b|~A)}function h(_){return _<=15?0:_<=31?1518500249:_<=47?1859775393:_<=63?2400959708:2840853838}function f(_){return _<=15?1352829926:_<=31?1548603684:_<=47?1836072691:_<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return RE}var kE,B4;function Goe(){if(B4)return kE;B4=1;var r=Wo(),e=Gm();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return kE=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},kE}var F4;function Koe(){return F4||(F4=1,function(r){var e=r;e.utils=Wo(),e.common=Km(),e.sha=qoe(),e.ripemd=Woe(),e.hmac=Goe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(_E)),_E}Koe();let $oe="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Yoe=(r,e=21)=>(t=e)=>{let n="",i=t|0;for(;i--;)n+=r[Math.random()*r.length|0];return n},Xoe=(r=21)=>{let e="",t=r|0;for(;t--;)e+=$oe[Math.random()*64|0];return e};const Ms=r=>Math.floor(r*72*20),rR=(r=0)=>{let e=r;return()=>++e},Qoe=()=>rR(),Zoe=()=>rR(1),Joe=()=>rR(),eae=()=>Xoe().toLowerCase(),Jd=r=>Yoe("1234567890abcdef",r)(),tae=()=>`${Jd(8)}-${Jd(4)}-${Jd(4)}-${Jd(4)}-${Jd(12)}`;class nae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class rae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const iae={EXTERNAL:"External"};class sae extends qe{constructor(e,t,n,i){super("Relationship"),this.root.push(new rae({id:e,type:t,target:n,targetMode:i}))}}class kc extends qe{constructor(){super("Relationships"),this.root.push(new nae({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,n,i){const s=new sae(`rId${e}`,t,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class oae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class aae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class lae extends qe{constructor({id:e,initials:t,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new oae({id:e,initials:t,author:n,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class uae extends qe{constructor({children:e}){super("w:comments"),Be(this,"relationships"),this.root.push(new aae({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new lae(t));this.relationships=new kc}get Relationships(){return this.relationships}}class cae extends qe{constructor(){super("w:pageBreakBefore")}}const zT={AUTO:"auto"};class hae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class fae extends qe{constructor(e){super("w:spacing"),this.root.push(new hae(e))}}let e0=class extends qe{constructor(e){super("w:pStyle"),this.root.push(new Un({val:e}))}};class dae extends qe{constructor(e){super("w:tabs");for(const t of e)this.root.push(new mae(t))}}const V4={LEFT:"left",RIGHT:"right"};class pae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class mae extends qe{constructor({type:e,position:t,leader:n}){super("w:tab"),this.root.push(new pae({val:e,pos:t,leader:n}))}}class DE extends qe{constructor(e,t){super("w:numPr"),this.root.push(new gae(t)),this.root.push(new yae(e))}}class gae extends qe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Un({val:e}))}}class yae extends qe{constructor(e){super("w:numId"),this.root.push(new Un({val:typeof e=="string"?`{${e}}`:e}))}}class vae extends qe{constructor(){super(...arguments),Be(this,"fileChild",Symbol())}}class wae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class _ae extends qe{constructor(e,t,n){super("w:hyperlink"),Be(this,"linkId"),this.linkId=t;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new wae(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class bae extends qe{constructor(e){super("w:externalHyperlink"),this.options=e}}class Sae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Eae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id"})}}class xae{constructor(e){Be(this,"bookmarkUniqueNumericId",Joe()),Be(this,"start"),Be(this,"children"),Be(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new Tae(e.id,t),this.children=e.children,this.end=new Aae(t)}}class Tae extends qe{constructor(e,t){super("w:bookmarkStart");const n=new Sae({name:e,id:t});this.root.push(n)}}class Aae extends qe{constructor(e){super("w:bookmarkEnd");const t=new Eae({id:e});this.root.push(t)}}class Cae extends qe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Un({val:e}))}}const Rae={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Sf(Wt({},Rae),{BOTH:"both"});class kae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{verticalAlign:"w:val"})}}class Dae extends qe{constructor(e){super("w:vAlign"),this.root.push(new kae({verticalAlign:e}))}}class Iae extends qe{constructor({space:e,count:t,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Mw({space:{key:"w:space",value:e===void 0?void 0:Bs(e)},count:{key:"w:num",value:t===void 0?void 0:Ci(t)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const Oae=({type:r,linePitch:e,charSpace:t})=>new Vo({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:Ci(e)},charSpace:{key:"w:charSpace",value:t?Ci(t):void 0}}}),Xh={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Nae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const U4={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class IE extends qe{constructor(e,t){super(e),this.root.push(new Nae({type:t.type||Xh.DEFAULT,id:`rId${t.id}`}))}}const Mae=({countBy:r,start:e,restart:t,distance:n})=>new Vo({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:Ci(r)},start:{key:"w:start",value:e===void 0?void 0:Ci(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:n===void 0?void 0:Bs(n)}}});class z4 extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Pae extends Nw{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new z4({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new z4({})),e.pageBorderTop&&this.root.push(new On("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new On("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new On("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new On("w:right",e.pageBorderRight))}}class Lae extends qe{constructor(e,t,n,i,s,o,l){super("w:pgMar"),this.root.push(new Mw({top:{key:"w:top",value:Ju(e)},right:{key:"w:right",value:Bs(t)},bottom:{key:"w:bottom",value:Ju(n)},left:{key:"w:left",value:Bs(i)},header:{key:"w:header",value:Bs(s)},footer:{key:"w:footer",value:Bs(o)},gutter:{key:"w:gutter",value:Bs(l)}}))}}class Bae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Fae extends qe{constructor({start:e,formatType:t,separator:n}){super("w:pgNumType"),this.root.push(new Bae({start:e===void 0?void 0:Ci(e),formatType:t,separator:n}))}}const jT={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Vae=({width:r,height:e,orientation:t,code:n})=>{const i=Bs(r),s=Bs(e);return new Vo({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===jT.LANDSCAPE?s:i},height:{key:"w:h",value:t===jT.LANDSCAPE?i:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:n}}})};class Uae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class zae extends qe{constructor(e){super("w:textDirection"),this.root.push(new Uae({val:e}))}}class jae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Hae extends qe{constructor(e){super("w:type"),this.root.push(new jae({val:e}))}}const Vu={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},OE={WIDTH:11906,HEIGHT:16838,ORIENTATION:jT.PORTRAIT};class qae extends qe{constructor({page:{size:{width:e=OE.WIDTH,height:t=OE.HEIGHT,orientation:n=OE.ORIENTATION}={},margin:{top:i=Vu.TOP,right:s=Vu.RIGHT,bottom:o=Vu.BOTTOM,left:l=Vu.LEFT,header:u=Vu.HEADER,footer:h=Vu.FOOTER,gutter:f=Vu.GUTTER}={},pageNumbers:p={},borders:g,textDirection:y}={},grid:{linePitch:w=360,charSpace:_,type:E}={},headerWrapperGroup:b={},footerWrapperGroup:A={},lineNumbers:T,titlePage:x,verticalAlign:D,column:M,type:O}={}){super("w:sectPr"),this.addHeaderFooterGroup(U4.HEADER,b),this.addHeaderFooterGroup(U4.FOOTER,A),O&&this.root.push(new Hae(O)),this.root.push(Vae({width:e,height:t,orientation:n})),this.root.push(new Lae(i,s,o,l,u,h,f)),g&&this.root.push(new Pae(g)),T&&this.root.push(Mae(T)),this.root.push(new Fae(p)),M&&this.root.push(new Iae(M)),D&&this.root.push(new Dae(D)),x!==void 0&&this.root.push(new We("w:titlePg",x)),y&&this.root.push(new zae(y)),this.root.push(Oae({linePitch:w,charSpace:_,type:E}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new IE(e,{type:Xh.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new IE(e,{type:Xh.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new IE(e,{type:Xh.EVEN,id:t.even.View.ReferenceId}))}}class Wae extends qe{constructor(){super("w:body"),Be(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new qae(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new Qh({}),n=new Cf({});return n.push(e),t.addChildElement(n),t}}const j4={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class Vw extends wt{constructor(e,t){super(Wt({Ignorable:t},Object.fromEntries(e.map(n=>[n,j4[n]])))),Be(this,"xmlKeys",Wt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(j4).map(n=>[n,`xmlns:${n}`]))))}}class Gae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Kae extends qe{constructor(e){super("w:background"),this.root.push(new Gae({color:e.color===void 0?void 0:xf(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:E4(e.themeShade),themeTint:e.themeTint===void 0?void 0:E4(e.themeTint)}))}}class $ae extends qe{constructor(e){super("w:document"),Be(this,"body"),this.root.push(new Vw(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Wae,e.background&&this.root.push(new Kae(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class qF{constructor(e){Be(this,"document"),Be(this,"relationships"),this.document=new $ae(e),this.relationships=new kc}get View(){return this.document}get Relationships(){return this.relationships}}class Yae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Xae extends qe{constructor(){super("w:wordWrap"),this.root.push(new Yae({val:0}))}}const Qae=r=>{var e,t;return new Vo({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class Cf extends Nw{constructor(e){var t,n;if(super("w:pPr"),Be(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new e0(e.heading)),e.bullet&&this.push(new e0("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new e0("ListParagraph"))),e.style&&this.push(new e0(e.style)),e.keepNext!==void 0&&this.push(new We("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new We("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new cae),e.frame&&this.push(Qae(e.frame)),e.widowControl!==void 0&&this.push(new We("w:widowControl",e.widowControl)),e.bullet&&this.push(new DE(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new DE(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new DE(0,0)),e.border&&this.push(new woe(e.border)),e.thematicBreak&&this.push(new _oe),e.shading&&this.push(new FF(e.shading)),e.wordWrap&&this.push(new Xae),e.overflowPunctuation&&this.push(new We("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:V4.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:V4.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new dae(i)),e.bidirectional!==void 0&&this.push(new We("w:bidi",e.bidirectional)),e.spacing&&this.push(new fae(e.spacing)),e.indent&&this.push(new boe(e.indent)),e.contextualSpacing!==void 0&&this.push(new We("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new yoe(e.alignment)),e.outlineLevel!==void 0&&this.push(new Cae(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new We("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new We("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Rc(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof qF)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class Qh extends vae{constructor(e){if(super("w:p"),Be(this,"properties"),typeof e=="string")return this.properties=new Cf({}),this.root.push(this.properties),this.root.push(new zv(e)),this;if(this.properties=new Cf(e),this.root.push(this.properties),e.text&&this.root.push(new zv(e.text)),e.children)for(const t of e.children){if(t instanceof xae){this.root.push(t.start);for(const n of t.children)this.root.push(n);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof bae){const n=this.root.indexOf(t),i=new _ae(t.options.children,eae());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,iae.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const gh={style:eR.NONE,size:0,color:"auto"},yh={style:eR.SINGLE,size:4,color:"auto"};class Zae extends qe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new On("w:top",e.top)):this.root.push(new On("w:top",yh)),e.left?this.root.push(new On("w:left",e.left)):this.root.push(new On("w:left",yh)),e.bottom?this.root.push(new On("w:bottom",e.bottom)):this.root.push(new On("w:bottom",yh)),e.right?this.root.push(new On("w:right",e.right)):this.root.push(new On("w:right",yh)),e.insideHorizontal?this.root.push(new On("w:insideH",e.insideHorizontal)):this.root.push(new On("w:insideH",yh)),e.insideVertical?this.root.push(new On("w:insideV",e.insideVertical)):this.root.push(new On("w:insideV",yh))}}Be(Zae,"NONE",{top:gh,bottom:gh,left:gh,right:gh,insideHorizontal:gh,insideVertical:gh});class Jae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ele extends qe{constructor(){super("Properties"),this.root.push(new Jae({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class tle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class nle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class pa extends qe{constructor(e,t){super("Default"),this.root.push(new nle({contentType:e,extension:t}))}}class rle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class fs extends qe{constructor(e,t){super("Override"),this.root.push(new rle({contentType:e,partName:t}))}}class ile extends qe{constructor(){super("Types"),this.root.push(new tle({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new pa("image/png","png")),this.root.push(new pa("image/jpeg","jpeg")),this.root.push(new pa("image/jpeg","jpg")),this.root.push(new pa("image/bmp","bmp")),this.root.push(new pa("image/gif","gif")),this.root.push(new pa("image/svg+xml","svg")),this.root.push(new pa("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new pa("application/xml","xml")),this.root.push(new pa("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new fs("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class sle extends qe{constructor(e){super("cp:coreProperties"),this.root.push(new Vw(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Bu("dc:title",e.title)),e.subject&&this.root.push(new Bu("dc:subject",e.subject)),e.creator&&this.root.push(new Bu("dc:creator",e.creator)),e.keywords&&this.root.push(new Bu("cp:keywords",e.keywords)),e.description&&this.root.push(new Bu("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Bu("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Bu("cp:revision",String(e.revision))),this.root.push(new H4("dcterms:created")),this.root.push(new H4("dcterms:modified"))}}class ole extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"xsi:type"})}}class H4 extends qe{constructor(e){super(e),this.root.push(new ole({type:"dcterms:W3CDTF"})),this.root.push(moe(new Date))}}class ale extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class lle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class ule extends qe{constructor(e,t){super("property"),this.root.push(new lle({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new cle(t.value))}}class cle extends qe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class hle extends qe{constructor(e){super("Properties"),Be(this,"nextId"),Be(this,"properties",[]),this.root.push(new ale({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new ule(this.nextId++,e))}}const t0=({id:r,fontKey:e,subsetted:t},n)=>new Vo({name:n,attributes:Wt({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new We("w:subsetted",t)]:[]]}),fle=({name:r,altName:e,panose1:t,charset:n,family:i,notTrueType:s,pitch:o,sig:l,embedRegular:u,embedBold:h,embedItalic:f,embedBoldItalic:p})=>new Vo({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[Zd("w:altName",e)]:[],...t?[Zd("w:panose1",t)]:[],...n?[Zd("w:charset",n)]:[],Zd("w:family",i),...s?[new We("w:notTrueType",s)]:[],Zd("w:pitch",o),...l?[new Vo({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...u?[t0(u,"w:embedRegular")]:[],...h?[t0(h,"w:embedBold")]:[],...f?[t0(f,"w:embedItalic")]:[],...p?[t0(p,"w:embedBoldItalic")]:[]]}),dle=({name:r,index:e,fontKey:t,characterSet:n})=>fle({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),ple=r=>new Vo({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>dle({name:e.name,index:t+1,fontKey:e.fontKey}))});class mle{constructor(e){Be(this,"fontTable"),Be(this,"relationships"),Be(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Sf(Wt({},t),{fontKey:tae()})),this.fontTable=ple(this.fontOptionsWithKey),this.relationships=new kc;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class gle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let yle=class extends MF{constructor(e,t){super("w:ftr",t),Be(this,"refId"),this.refId=e,t||this.root.push(new gle({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class vle{constructor(e,t,n){Be(this,"footer"),Be(this,"relationships"),this.media=e,this.footer=new yle(t,n),this.relationships=new kc}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class wle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class _le extends qe{constructor(){super("w:footnoteRef")}}class ble extends Fw{constructor(){super({style:"FootnoteReference"}),this.root.push(new _le)}}const q4={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class NE extends qe{constructor(e){super("w:footnote"),this.root.push(new wle({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];t===0&&n.addRunToFront(new ble),this.root.push(n)}}}class Sle extends qe{constructor(){super("w:continuationSeparator")}}class Ele extends Fw{constructor(){super({}),this.root.push(new Sle)}}class xle extends qe{constructor(){super("w:separator")}}class Tle extends Fw{constructor(){super({}),this.root.push(new xle)}}class Ale extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Cle extends qe{constructor(){super("w:footnotes"),this.root.push(new Ale({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new NE({id:-1,type:q4.SEPERATOR,children:[new Qh({spacing:{after:0,line:240,lineRule:zT.AUTO},children:[new Tle]})]});this.root.push(e);const t=new NE({id:0,type:q4.CONTINUATION_SEPERATOR,children:[new Qh({spacing:{after:0,line:240,lineRule:zT.AUTO},children:[new Ele]})]});this.root.push(t)}createFootNote(e,t){const n=new NE({id:e,children:t});this.root.push(n)}}class Rle{constructor(){Be(this,"footnotess"),Be(this,"relationships"),this.footnotess=new Cle,this.relationships=new kc}get View(){return this.footnotess}get Relationships(){return this.relationships}}class kle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Dle=class extends MF{constructor(e,t){super("w:hdr",t),Be(this,"refId"),this.refId=e,t||this.root.push(new kle({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Ile{constructor(e,t,n){Be(this,"header"),Be(this,"relationships"),this.media=e,this.header=new Dle(t,n),this.relationships=new kc}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Ole{constructor(){Be(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const ma={BULLET:"bullet"};class Nle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Mle extends qe{constructor(e){super("w:numFmt"),this.root.push(new Un({val:e}))}}class Ple extends qe{constructor(e){super("w:lvlText"),this.root.push(new Un({val:e}))}}class Lle extends qe{constructor(e){super("w:lvlJc"),this.root.push(new Un({val:e}))}}class Ble extends qe{constructor(e){super("w:suff"),this.root.push(new Un({val:e}))}}class Fle extends qe{constructor(){super("w:isLgl")}}class Vle extends qe{constructor({level:e,format:t,text:n,alignment:i=fo.START,start:s=1,style:o,suffix:l,isLegalNumberingStyle:u}){if(super("w:lvl"),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.root.push(new Pp("w:start",Ci(s))),t&&this.root.push(new Mle(t)),l&&this.root.push(new Ble(l)),u&&this.root.push(new Fle),n&&this.root.push(new Ple(n)),this.root.push(new Lle(i)),this.paragraphProperties=new Cf(o&&o.paragraph),this.runProperties=new Rc(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Nle({ilvl:Ci(e),tentative:1}))}}class Ule extends Vle{}class zle extends qe{constructor(e){super("w:multiLevelType"),this.root.push(new Un({val:e}))}}class jle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class W4 extends qe{constructor(e,t){super("w:abstractNum"),Be(this,"id"),this.root.push(new jle({abstractNumId:Ci(e),restartNumberingAfterBreak:0})),this.root.push(new zle("hybridMultilevel")),this.id=e;for(const n of t)this.root.push(new Ule(n))}}class Hle extends qe{constructor(e){super("w:abstractNumId"),this.root.push(new Un({val:e}))}}class qle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{numId:"w:numId"})}}class G4 extends qe{constructor(e){if(super("w:num"),Be(this,"numId"),Be(this,"reference"),Be(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new qle({numId:Ci(e.numId)})),this.root.push(new Hle(Ci(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new Gle(t.num,t.start))}}class Wle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Gle extends qe{constructor(e,t){super("w:lvlOverride"),this.root.push(new Wle({ilvl:e})),t!==void 0&&this.root.push(new $le(t))}}class Kle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class $le extends qe{constructor(e){super("w:startOverride"),this.root.push(new Kle({val:e}))}}class Yle extends qe{constructor(e){super("w:numbering"),Be(this,"abstractNumberingMap",new Map),Be(this,"concreteNumberingMap",new Map),Be(this,"referenceConfigMap",new Map),Be(this,"abstractNumUniqueNumericId",Qoe()),Be(this,"concreteNumUniqueNumericId",Zoe()),this.root.push(new Vw(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new W4(this.abstractNumUniqueNumericId(),[{level:0,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:Ms(.5),hanging:Ms(.25)}}}},{level:1,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:Ms(1),hanging:Ms(.25)}}}},{level:2,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ms(.25)}}}},{level:3,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ms(.25)}}}},{level:4,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ms(.25)}}}},{level:5,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ms(.25)}}}},{level:6,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ms(.25)}}}},{level:7,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ms(.25)}}}},{level:8,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ms(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new G4({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new W4(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:t,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new G4(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Xle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Qle extends qe{constructor(e){super("w:compatSetting"),this.root.push(new Xle({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Zle extends qe{constructor(e){super("w:compat"),e.version&&this.root.push(new Qle(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new We("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new We("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new We("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new We("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new We("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new We("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new We("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new We("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new We("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new We("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new We("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new We("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new We("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new We("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new We("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new We("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new We("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new We("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new We("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new We("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new We("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new We("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new We("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new We("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new We("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new We("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new We("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new We("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new We("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new We("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new We("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new We("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new We("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new We("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new We("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new We("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new We("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new We("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new We("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new We("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new We("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new We("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new We("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new We("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new We("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new We("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new We("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new We("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new We("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new We("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new We("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new We("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new We("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new We("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new We("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new We("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new We("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new We("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new We("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new We("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new We("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new We("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new We("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new We("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new We("w:cachedColBalance",e.cachedColumnBalance))}}class Jle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class eue extends qe{constructor(e){var t,n,i,s,o,l,u,h;super("w:settings"),this.root.push(new Jle({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new We("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new We("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new We("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new We("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Pp("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new We("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Pp("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Pp("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new We("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Zle(Sf(Wt({},(o=e.compatibility)!=null?o:{}),{version:(h=(u=(l=e.compatibility)==null?void 0:l.version)!=null?u:e.compatibilityModeVersion)!=null?h:15})))}}class WF extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class tue extends qe{constructor(e){super("w:name"),this.root.push(new WF({val:e}))}}class nue extends qe{constructor(e){super("w:uiPriority"),this.root.push(new WF({val:Ci(e)}))}}class rue extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class GF extends qe{constructor(e,t){super("w:style"),this.root.push(new rue(e)),t.name&&this.root.push(new tue(t.name)),t.basedOn&&this.root.push(new Yh("w:basedOn",t.basedOn)),t.next&&this.root.push(new Yh("w:next",t.next)),t.link&&this.root.push(new Yh("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new nue(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new We("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new We("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new We("w:qFormat",t.quickFormat))}}class Uw extends GF{constructor(e){super({type:"paragraph",styleId:e.id},e),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.paragraphProperties=new Cf(e.paragraph),this.runProperties=new Rc(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class zw extends GF{constructor(e){super({type:"character",styleId:e.id},Wt({uiPriority:99,unhideWhenUsed:!0},e)),Be(this,"runProperties"),this.runProperties=new Rc(e.run),this.root.push(this.runProperties)}}class ou extends Uw{constructor(e){super(Wt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class iue extends ou{constructor(e){super(Wt({id:"Title",name:"Title"},e))}}class sue extends ou{constructor(e){super(Wt({id:"Heading1",name:"Heading 1"},e))}}class oue extends ou{constructor(e){super(Wt({id:"Heading2",name:"Heading 2"},e))}}class aue extends ou{constructor(e){super(Wt({id:"Heading3",name:"Heading 3"},e))}}class lue extends ou{constructor(e){super(Wt({id:"Heading4",name:"Heading 4"},e))}}class uue extends ou{constructor(e){super(Wt({id:"Heading5",name:"Heading 5"},e))}}class cue extends ou{constructor(e){super(Wt({id:"Heading6",name:"Heading 6"},e))}}class hue extends ou{constructor(e){super(Wt({id:"Strong",name:"Strong"},e))}}class fue extends Uw{constructor(e){super(Wt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class due extends Uw{constructor(e){super(Wt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:zT.AUTO}},run:{size:20}},e))}}class pue extends zw{constructor(e){super(Wt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class mue extends zw{constructor(e){super(Wt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class gue extends zw{constructor(e){super(Wt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:UF.SINGLE}}},e))}}class HT extends qe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new Uw(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new zw(t))}}class yue extends qe{constructor(e){super("w:pPrDefault"),this.root.push(new Cf(e))}}class vue extends qe{constructor(e){super("w:rPrDefault"),this.root.push(new Rc(e))}}class wue extends qe{constructor(e){super("w:docDefaults"),Be(this,"runPropertiesDefaults"),Be(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new vue(e.run),this.paragraphPropertiesDefaults=new yue(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class _ue{newInstance(e){const t=NF.xml2js(e,{compact:!1});let n;for(const o of t.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new HT({initialStyles:new hoe(n.attributes),importedStyles:i.map(o=>JC(o))})}}class K4{newInstance(e={}){var t;return{initialStyles:new Vw(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new wue((t=e.document)!=null?t:{}),new iue(Wt({run:{size:56}},e.title)),new sue(Wt({run:{color:"2E74B5",size:32}},e.heading1)),new oue(Wt({run:{color:"2E74B5",size:26}},e.heading2)),new aue(Wt({run:{color:"1F4D78",size:24}},e.heading3)),new lue(Wt({run:{color:"2E74B5",italics:!0}},e.heading4)),new uue(Wt({run:{color:"2E74B5"}},e.heading5)),new cue(Wt({run:{color:"1F4D78"}},e.heading6)),new hue(Wt({run:{bold:!0}},e.strong)),new fue(e.listParagraph||{}),new gue(e.hyperlink||{}),new pue(e.footnoteReference||{}),new due(e.footnoteText||{}),new mue(e.footnoteTextChar||{})]}}}class bue{constructor(e){Be(this,"currentRelationshipId",1),Be(this,"documentWrapper"),Be(this,"headers",[]),Be(this,"footers",[]),Be(this,"coreProperties"),Be(this,"numbering"),Be(this,"media"),Be(this,"fileRelationships"),Be(this,"footnotesWrapper"),Be(this,"settings"),Be(this,"contentTypes"),Be(this,"customProperties"),Be(this,"appProperties"),Be(this,"styles"),Be(this,"comments"),Be(this,"fontWrapper");var t,n,i,s,o,l,u,h,f,p,g,y;if(this.coreProperties=new sle(Sf(Wt({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new Yle(e.numbering?e.numbering:{config:[]}),this.comments=new uae((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new kc,this.customProperties=new hle((o=e.customProperties)!=null?o:[]),this.appProperties=new ele,this.footnotesWrapper=new Rle,this.contentTypes=new ile,this.documentWrapper=new qF({background:e.background}),this.settings=new eue({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(u=e.features)==null?void 0:u.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(h=e.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(f=e.hyphenation)==null?void 0:f.hyphenationZone,consecutiveHyphenLimit:(p=e.hyphenation)==null?void 0:p.consecutiveHyphenLimit,doNotHyphenateCaps:(g=e.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new Ole,e.externalStyles!==void 0){const w=new _ue;this.styles=w.newInstance(e.externalStyles)}else if(e.styles){const _=new K4().newInstance(e.styles.default);this.styles=new HT(Wt(Wt({},_),e.styles))}else{const w=new K4;this.styles=new HT(w.newInstance())}this.addDefaultRelationships();for(const w of e.sections)this.addSection(w);if(e.footnotes)for(const w in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(w),e.footnotes[w].children);this.fontWrapper=new mle((y=e.fonts)!=null?y:[])}addSection({headers:e={},footers:t={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Sf(Wt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const t=new Ile(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new vle(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Xh.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Xh.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var Sue=XC();function n0(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ME={exports:{}},$4;function Eue(){return $4||($4=1,function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function o(h,f){if(!i[h]){if(!n[h]){var p=typeof n0=="function"&&n0;if(!f&&p)return p(h,!0);if(l)return l(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var y=i[h]={exports:{}};n[h][0].call(y.exports,function(w){var _=n[h][1][w];return o(_||w)},y,y.exports,t,n,i,s)}return i[h].exports}for(var l=typeof n0=="function"&&n0,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(t,n,i){var s=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var h,f,p,g,y,w,_,E=[],b=0,A=u.length,T=A,x=s.getTypeOf(u)!=="string";b<u.length;)T=A-b,p=x?(h=u[b++],f=b<A?u[b++]:0,b<A?u[b++]:0):(h=u.charCodeAt(b++),f=b<A?u.charCodeAt(b++):0,b<A?u.charCodeAt(b++):0),g=h>>2,y=(3&h)<<4|f>>4,w=1<T?(15&f)<<2|p>>6:64,_=2<T?63&p:64,E.push(l.charAt(g)+l.charAt(y)+l.charAt(w)+l.charAt(_));return E.join("")},i.decode=function(u){var h,f,p,g,y,w,_=0,E=0,b="data:";if(u.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var A,T=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&T--,u.charAt(u.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=o.uint8array?new Uint8Array(0|T):new Array(0|T);_<u.length;)h=l.indexOf(u.charAt(_++))<<2|(g=l.indexOf(u.charAt(_++)))>>4,f=(15&g)<<4|(y=l.indexOf(u.charAt(_++)))>>2,p=(3&y)<<6|(w=l.indexOf(u.charAt(_++))),A[E++]=h,y!==64&&(A[E++]=f),w!==64&&(A[E++]=p);return A}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(f,p,g,y,w){this.compressedSize=f,this.uncompressedSize=p,this.crc32=g,this.compression=y,this.compressedContent=w}h.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,g){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),o=function(){for(var l,u=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[h]=l}return u}();n.exports=function(l,u){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(h,f,p,g){var y=o,w=g+p;h^=-1;for(var _=g;_<w;_++)h=h>>>8^y[255&(h^f[_])];return-1^h}(0|u,l,l.length,0):function(h,f,p,g){var y=o,w=g+p;h^=-1;for(var _=g;_<w;_++)h=h>>>8^y[255&(h^f.charCodeAt(_))];return-1^h}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";function f(p,g){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(h,p.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(y,w){var _,E="";for(_=0;_<w;_++)E+=String.fromCharCode(255&y),y>>>=8;return E}function o(y,w,_,E,b,A){var T,x,D=y.file,M=y.compression,O=A!==h.utf8encode,P=l.transformTo("string",A(D.name)),C=l.transformTo("string",h.utf8encode(D.name)),W=D.comment,$=l.transformTo("string",A(W)),N=l.transformTo("string",h.utf8encode(W)),F=C.length!==D.name.length,B=N.length!==W.length,ae="",Q="",Y="",pe=D.dir,fe=D.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};w&&!_||(ee.crc32=y.crc32,ee.compressedSize=y.compressedSize,ee.uncompressedSize=y.uncompressedSize);var J=0;w&&(J|=8),O||!F&&!B||(J|=2048);var K=0,re=0;pe&&(K|=16),b==="UNIX"?(re=798,K|=function(ve,ce){var j=ve;return ve||(j=ce?16893:33204),(65535&j)<<16}(D.unixPermissions,pe)):(re=20,K|=function(ve){return 63&(ve||0)}(D.dosPermissions)),T=fe.getUTCHours(),T<<=6,T|=fe.getUTCMinutes(),T<<=5,T|=fe.getUTCSeconds()/2,x=fe.getUTCFullYear()-1980,x<<=4,x|=fe.getUTCMonth()+1,x<<=5,x|=fe.getUTCDate(),F&&(Q=s(1,1)+s(f(P),4)+C,ae+="up"+s(Q.length,2)+Q),B&&(Y=s(1,1)+s(f($),4)+N,ae+="uc"+s(Y.length,2)+Y);var he="";return he+=`
\0`,he+=s(J,2),he+=M.magic,he+=s(T,2),he+=s(x,2),he+=s(ee.crc32,4),he+=s(ee.compressedSize,4),he+=s(ee.uncompressedSize,4),he+=s(P.length,2),he+=s(ae.length,2),{fileRecord:p.LOCAL_FILE_HEADER+he+P+ae,dirRecord:p.CENTRAL_FILE_HEADER+s(re,2)+he+s($.length,2)+"\0\0\0\0"+s(K,4)+s(E,4)+P+ae+$}}var l=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),p=t("../signature");function g(y,w,_,E){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=_,this.encodeFileName=E,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,u),g.prototype.push=function(y){var w=y.meta.percent||0,_=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:_?(w+100*(_-E-1))/_:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var w=this.streamFiles&&!y.file.dir;if(w){var _=o(y,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:_.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var w=this.streamFiles&&!y.file.dir,_=o(y,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(_.dirRecord),w)this.push({data:function(E){return p.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:_.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var _=this.bytesWritten-y,E=function(b,A,T,x,D){var M=l.transformTo("string",D(x));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(A,4)+s(T,4)+s(M.length,2)+M}(this.dirRecords.length,_,y,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var w=this;return y.on("data",function(_){w.processChunk(_)}),y.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),y.on("error",function(_){w.error(_)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var w=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var _=0;_<w.length;_++)try{w[_].error(y)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,w=0;w<y.length;w++)y[w].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(l,u,h){var f=new o(u.streamFiles,h,u.platform,u.encodeFileName),p=0;try{l.forEach(function(g,y){p++;var w=function(A,T){var x=A||T,D=s[x];if(!D)throw new Error(x+" is not a valid compression method !");return D}(y.options.compression,u.compression),_=y.options.compressionOptions||u.compressionOptions||{},E=y.dir,b=y.date;y._compressWorker(w,_).withStreamInfo("file",{name:g,dir:E,date:b,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(g){f.error(g)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),o=t("./external"),l=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function p(g){return new o.Promise(function(y,w){var _=g.decompressed.getContentWorker().pipe(new h);_.on("error",function(E){w(E)}).on("end",function(){_.streamInfo.crc32!==g.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var w=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(_){var E=new u(y);return E.load(_),E}).then(function(_){var E=[o.Promise.resolve(_)],b=_.files;if(y.checkCRC32)for(var A=0;A<b.length;A++)E.push(p(b[A]));return o.Promise.all(E)}).then(function(_){for(var E=_.shift(),b=E.files,A=0;A<b.length;A++){var T=b[A],x=T.fileNameStr,D=s.resolve(T.fileNameStr);w.file(D,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:y.createFolders}),T.dir||(w.file(D).unsafeOriginalName=x)}return E.zipComment.length&&(w.comment=E.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),o=t("../stream/GenericWorker");function l(u,h){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(l,o),l.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function o(l,u,h){s.call(this,u),this._helper=l;var f=this;l.on("data",function(p,g){f.push(p)||f._helper.pause(),h&&h(g)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(D,M,O){var P,C=l.getTypeOf(M),W=l.extend(O||{},f);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(D=b(D)),W.createFolders&&(P=E(D))&&A.call(this,P,!0);var $=C==="string"&&W.binary===!1&&W.base64===!1;O&&O.binary!==void 0||(W.binary=!$),(M instanceof p&&M.uncompressedSize===0||W.dir||!M||M.length===0)&&(W.base64=!1,W.binary=!0,M="",W.compression="STORE",C="string");var N=null;N=M instanceof p||M instanceof u?M:w.isNode&&w.isStream(M)?new _(D,M):l.prepareContent(D,M,W.binary,W.optimizedBinaryString,W.base64);var F=new g(D,N,W);this.files[D]=F}var o=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),p=t("./compressedObject"),g=t("./zipObject"),y=t("./generate"),w=t("./nodejsUtils"),_=t("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var M=D.lastIndexOf("/");return 0<M?D.substring(0,M):""},b=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},A=function(D,M){return M=M!==void 0?M:f.createFolders,D=b(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:M}),this.files[D]};function T(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var M,O,P;for(M in this.files)P=this.files[M],(O=M.slice(this.root.length,M.length))&&M.slice(0,this.root.length)===this.root&&D(O,P)},filter:function(D){var M=[];return this.forEach(function(O,P){D(O,P)&&M.push(P)}),M},file:function(D,M,O){if(arguments.length!==1)return D=this.root+D,s.call(this,D,M,O),this;if(T(D)){var P=D;return this.filter(function(W,$){return!$.dir&&P.test(W)})}var C=this.files[this.root+D];return C&&!C.dir?C:null},folder:function(D){if(!D)return this;if(T(D))return this.filter(function(C,W){return W.dir&&D.test(C)});var M=this.root+D,O=A.call(this,M),P=this.clone();return P.root=O.name,P},remove:function(D){D=this.root+D;var M=this.files[D];if(M||(D.slice(-1)!=="/"&&(D+="/"),M=this.files[D]),M&&!M.dir)delete this.files[D];else for(var O=this.filter(function(C,W){return W.name.slice(0,D.length)===D}),P=0;P<O.length;P++)delete this.files[O[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var M,O={};try{if((O=l.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");l.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var P=O.comment||this.comment||"";M=y.generateWorker(this,O,P)}catch(C){(M=new u("error")).error(C)}return new h(M,O.type||"string",O.mimeType)},generateAsync:function(D,M){return this.generateInternalStream(D).accumulate(M)},generateNodeStream:function(D,M){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(M)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function o(l){s.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===p)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),g=this.readData(4);return u===g[0]&&h===g[1]&&f===g[2]&&p===g[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,h=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=l,h},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),o=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(p){var g=s.getTypeOf(p);return s.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new h(p):o.uint8array?new f(s.transformTo("uint8array",p)):new l(s.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),o=t("../utils");function l(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,s),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),o=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(l,o),l.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=s.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),h=t("../support"),f=t("../external"),p=null;if(h.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(w,_){return new f.Promise(function(E,b){var A=[],T=w._internalType,x=w._outputType,D=w._mimeType;w.on("data",function(M,O){A.push(M),_&&_(O)}).on("error",function(M){A=[],b(M)}).on("end",function(){try{var M=function(O,P,C){switch(O){case"blob":return s.newBlob(s.transformTo("arraybuffer",P),C);case"base64":return u.encode(P);default:return s.transformTo(O,P)}}(x,function(O,P){var C,W=0,$=null,N=0;for(C=0;C<P.length;C++)N+=P[C].length;switch(O){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for($=new Uint8Array(N),C=0;C<P.length;C++)$.set(P[C],W),W+=P[C].length;return $;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+O+"'")}}(T,A),D);E(M)}catch(O){b(O)}A=[]}).resume()})}function y(w,_,E){var b=_;switch(_){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=_,this._mimeType=E,s.checkSupport(b),this._worker=w.pipe(new o(b)),w.lock()}catch(A){this._worker=new l("error"),this._worker.error(A)}}y.prototype={accumulate:function(w){return g(this,w)},on:function(w,_){var E=this;return w==="data"?this._worker.on(w,function(b){_.call(E,b.data,b.meta)}):this._worker.on(w,function(){s.delay(_,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},w)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}i.utf8encode=function(y){return o.nodebuffer?l.newBufferFrom(y,"utf-8"):function(w){var _,E,b,A,T,x=w.length,D=0;for(A=0;A<x;A++)(64512&(E=w.charCodeAt(A)))==55296&&A+1<x&&(64512&(b=w.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(b-56320),A++),D+=E<128?1:E<2048?2:E<65536?3:4;for(_=o.uint8array?new Uint8Array(D):new Array(D),A=T=0;T<D;A++)(64512&(E=w.charCodeAt(A)))==55296&&A+1<x&&(64512&(b=w.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(b-56320),A++),E<128?_[T++]=E:(E<2048?_[T++]=192|E>>>6:(E<65536?_[T++]=224|E>>>12:(_[T++]=240|E>>>18,_[T++]=128|E>>>12&63),_[T++]=128|E>>>6&63),_[T++]=128|63&E);return _}(y)},i.utf8decode=function(y){return o.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):function(w){var _,E,b,A,T=w.length,x=new Array(2*T);for(_=E=0;_<T;)if((b=w[_++])<128)x[E++]=b;else if(4<(A=h[b]))x[E++]=65533,_+=A-1;else{for(b&=A===2?31:A===3?15:7;1<A&&_<T;)b=b<<6|63&w[_++],A--;1<A?x[E++]=65533:b<65536?x[E++]=b:(b-=65536,x[E++]=55296|b>>10&1023,x[E++]=56320|1023&b)}return x.length!==E&&(x.subarray?x=x.subarray(0,E):x.length=E),s.applyFromCharCode(x)}(y=s.transformTo(o.uint8array?"uint8array":"array",y))},s.inherits(p,u),p.prototype.processChunk=function(y){var w=s.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var _=w;(w=new Uint8Array(_.length+this.leftOver.length)).set(this.leftOver,0),w.set(_,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var E=function(A,T){var x;for((T=T||A.length)>A.length&&(T=A.length),x=T-1;0<=x&&(192&A[x])==128;)x--;return x<0||x===0?T:x+h[A[x]]>T?x:T}(w),b=w;E!==w.length&&(o.uint8array?(b=w.subarray(0,E),this.leftOver=w.subarray(E,w.length)):(b=w.slice(0,E),this.leftOver=w.slice(E,w.length))),this.push({data:i.utf8decode(b),meta:y.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,s.inherits(g,u),g.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function h(_){return _}function f(_,E){for(var b=0;b<_.length;++b)E[b]=255&_.charCodeAt(b);return E}t("setimmediate"),i.newBlob=function(_,E){i.checkSupport("blob");try{return new Blob([_],{type:E})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(_),b.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(_,E,b){var A=[],T=0,x=_.length;if(x<=b)return String.fromCharCode.apply(null,_);for(;T<x;)E==="array"||E==="nodebuffer"?A.push(String.fromCharCode.apply(null,_.slice(T,Math.min(T+b,x)))):A.push(String.fromCharCode.apply(null,_.subarray(T,Math.min(T+b,x)))),T+=b;return A.join("")},stringifyByChar:function(_){for(var E="",b=0;b<_.length;b++)E+=String.fromCharCode(_[b]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function g(_){var E=65536,b=i.getTypeOf(_),A=!0;if(b==="uint8array"?A=p.applyCanBeUsed.uint8array:b==="nodebuffer"&&(A=p.applyCanBeUsed.nodebuffer),A)for(;1<E;)try{return p.stringifyByChunk(_,b,E)}catch{E=Math.floor(E/2)}return p.stringifyByChar(_)}function y(_,E){for(var b=0;b<_.length;b++)E[b]=_[b];return E}i.applyFromCharCode=g;var w={};w.string={string:h,array:function(_){return f(_,new Array(_.length))},arraybuffer:function(_){return w.string.uint8array(_).buffer},uint8array:function(_){return f(_,new Uint8Array(_.length))},nodebuffer:function(_){return f(_,l.allocBuffer(_.length))}},w.array={string:g,array:h,arraybuffer:function(_){return new Uint8Array(_).buffer},uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return l.newBufferFrom(_)}},w.arraybuffer={string:function(_){return g(new Uint8Array(_))},array:function(_){return y(new Uint8Array(_),new Array(_.byteLength))},arraybuffer:h,uint8array:function(_){return new Uint8Array(_)},nodebuffer:function(_){return l.newBufferFrom(new Uint8Array(_))}},w.uint8array={string:g,array:function(_){return y(_,new Array(_.length))},arraybuffer:function(_){return _.buffer},uint8array:h,nodebuffer:function(_){return l.newBufferFrom(_)}},w.nodebuffer={string:g,array:function(_){return y(_,new Array(_.length))},arraybuffer:function(_){return w.nodebuffer.uint8array(_).buffer},uint8array:function(_){return y(_,new Uint8Array(_.length))},nodebuffer:h},i.transformTo=function(_,E){if(E=E||"",!_)return E;i.checkSupport(_);var b=i.getTypeOf(E);return w[b][_](E)},i.resolve=function(_){for(var E=_.split("/"),b=[],A=0;A<E.length;A++){var T=E[A];T==="."||T===""&&A!==0&&A!==E.length-1||(T===".."?b.pop():b.push(T))}return b.join("/")},i.getTypeOf=function(_){return typeof _=="string"?"string":Object.prototype.toString.call(_)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(_)?"nodebuffer":s.uint8array&&_ instanceof Uint8Array?"uint8array":s.arraybuffer&&_ instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(_){if(!s[_.toLowerCase()])throw new Error(_+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(_){var E,b,A="";for(b=0;b<(_||"").length;b++)A+="\\x"+((E=_.charCodeAt(b))<16?"0":"")+E.toString(16).toUpperCase();return A},i.delay=function(_,E,b){setImmediate(function(){_.apply(b||null,E||[])})},i.inherits=function(_,E){function b(){}b.prototype=E.prototype,_.prototype=new b},i.extend=function(){var _,E,b={};for(_=0;_<arguments.length;_++)for(E in arguments[_])Object.prototype.hasOwnProperty.call(arguments[_],E)&&b[E]===void 0&&(b[E]=arguments[_][E]);return b},i.prepareContent=function(_,E,b,A,T){return u.Promise.resolve(E).then(function(x){return s.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new u.Promise(function(D,M){var O=new FileReader;O.onload=function(P){D(P.target.result)},O.onerror=function(P){M(P.target.error)},O.readAsArrayBuffer(x)}):x}).then(function(x){var D=i.getTypeOf(x);return D?(D==="arraybuffer"?x=i.transformTo("uint8array",x):D==="string"&&(T?x=o.decode(x):b&&A!==!0&&(x=function(M){return f(M,s.uint8array?new Uint8Array(M.length):new Array(M.length))}(x))),x):u.Promise.reject(new Error("Can't read the data of '"+_+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),u=t("./zipEntry"),h=t("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(p)+")")}},isSignature:function(p,g){var y=this.reader.index;this.reader.setIndex(p);var w=this.reader.readString(4)===g;return this.reader.setIndex(y),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",y=o.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,y,w=this.zip64EndOfCentralSize-44;0<w;)p=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var w=g-y;if(0<w)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),f=t("./compressions"),p=t("./support");function g(y,w){this.options=y,this.loadOptions=w}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var w,_;if(y.skip(22),this.fileNameLength=y.readInt(2),_=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(_),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(E){for(var b in f)if(Object.prototype.hasOwnProperty.call(f,b)&&f[b].magic===E)return f[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,w,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var w=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(w),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var w,_,E,b=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<b;)w=y.readInt(2),_=y.readInt(2),E=y.readData(_),this.extraFields[w]={id:w,length:_,value:E};y.setIndex(b)},handleUTF8:function(){var y=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var _=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(_)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var b=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var w=s(y.value);return w.readInt(1)!==1||u(this.fileName)!==w.readInt(4)?null:h.utf8decode(w.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var w=s(y.value);return w.readInt(1)!==1||u(this.fileComment)!==w.readInt(4)?null:h.utf8decode(w.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(w,_,E){this.name=w,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=_,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(w){var _=null,E="string";try{if(!w)throw new Error("No output type specified.");var b=(E=w.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),_=this._decompressWorker();var A=!this._dataBinary;A&&!b&&(_=_.pipe(new u.Utf8EncodeWorker)),!A&&b&&(_=_.pipe(new u.Utf8DecodeWorker))}catch(T){(_=new f("error")).error(T)}return new o(_,E,"")},async:function(w,_){return this.internalStream(w).accumulate(_)},nodeStream:function(w,_){return this.internalStream(w||"nodebuffer").toNodejsStream(_)},_compressWorker:function(w,_){if(this._data instanceof h&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(E,w,_)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)s.prototype[p[y]]=g;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var o,l,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var h=0,f=new u(w),p=s.document.createTextNode("");f.observe(p,{characterData:!0}),o=function(){p.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var _=s.document.createElement("script");_.onreadystatechange=function(){w(),_.onreadystatechange=null,_.parentNode.removeChild(_),_=null},s.document.documentElement.appendChild(_)}:function(){setTimeout(w,0)};else{var g=new s.MessageChannel;g.port1.onmessage=w,o=function(){g.port2.postMessage(0)}}var y=[];function w(){var _,E;l=!0;for(var b=y.length;b;){for(E=y,y=[],_=-1;++_<b;)E[_]();b=y.length}l=!1}n.exports=function(_){y.push(_)!==1||l||o()}}).call(this,typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function o(){}var l={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,b!==o&&_(this,b)}function g(b,A,T){this.promise=b,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function y(b,A,T){s(function(){var x;try{x=A(T)}catch(D){return l.reject(b,D)}x===b?l.reject(b,new TypeError("Cannot resolve promise with itself")):l.resolve(b,x)})}function w(b){var A=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof A=="function")return function(){A.apply(b,arguments)}}function _(b,A){var T=!1;function x(O){T||(T=!0,l.reject(b,O))}function D(O){T||(T=!0,l.resolve(b,O))}var M=E(function(){A(D,x)});M.status==="error"&&x(M.value)}function E(b,A){var T={};try{T.value=b(A),T.status="success"}catch(x){T.status="error",T.value=x}return T}(n.exports=p).prototype.finally=function(b){if(typeof b!="function")return this;var A=this.constructor;return this.then(function(T){return A.resolve(b()).then(function(){return T})},function(T){return A.resolve(b()).then(function(){throw T})})},p.prototype.catch=function(b){return this.then(null,b)},p.prototype.then=function(b,A){if(typeof b!="function"&&this.state===h||typeof A!="function"&&this.state===u)return this;var T=new this.constructor(o);return this.state!==f?y(T,this.state===h?b:A,this.outcome):this.queue.push(new g(T,b,A)),T},g.prototype.callFulfilled=function(b){l.resolve(this.promise,b)},g.prototype.otherCallFulfilled=function(b){y(this.promise,this.onFulfilled,b)},g.prototype.callRejected=function(b){l.reject(this.promise,b)},g.prototype.otherCallRejected=function(b){y(this.promise,this.onRejected,b)},l.resolve=function(b,A){var T=E(w,A);if(T.status==="error")return l.reject(b,T.value);var x=T.value;if(x)_(b,x);else{b.state=h,b.outcome=A;for(var D=-1,M=b.queue.length;++D<M;)b.queue[D].callFulfilled(A)}return b},l.reject=function(b,A){b.state=u,b.outcome=A;for(var T=-1,x=b.queue.length;++T<x;)b.queue[T].callRejected(A);return b},p.resolve=function(b){return b instanceof this?b:l.resolve(new this(o),b)},p.reject=function(b){var A=new this(o);return l.reject(A,b)},p.all=function(b){var A=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=b.length,x=!1;if(!T)return this.resolve([]);for(var D=new Array(T),M=0,O=-1,P=new this(o);++O<T;)C(b[O],O);return P;function C(W,$){A.resolve(W).then(function(N){D[$]=N,++M!==T||x||(x=!0,l.resolve(P,D))},function(N){x||(x=!0,l.reject(P,N))})}},p.race=function(b){var A=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=b.length,x=!1;if(!T)return this.resolve([]);for(var D=-1,M=new this(o);++D<T;)O=b[D],A.resolve(O).then(function(P){x||(x=!0,l.resolve(M,P))},function(P){x||(x=!0,l.reject(M,P))});var O;return M}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,p=0,g=-1,y=0,w=8;function _(b){if(!(this instanceof _))return new _(b);this.options=o.assign({level:g,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},b||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(T!==p)throw new Error(u[T]);if(A.header&&s.deflateSetHeader(this.strm,A.header),A.dictionary){var x;if(x=typeof A.dictionary=="string"?l.string2buf(A.dictionary):f.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(T=s.deflateSetDictionary(this.strm,x))!==p)throw new Error(u[T]);this._dict_set=!0}}function E(b,A){var T=new _(A);if(T.push(b,!0),T.err)throw T.msg||u[T.err];return T.result}_.prototype.push=function(b,A){var T,x,D=this.strm,M=this.options.chunkSize;if(this.ended)return!1;x=A===~~A?A:A===!0?4:0,typeof b=="string"?D.input=l.string2buf(b):f.call(b)==="[object ArrayBuffer]"?D.input=new Uint8Array(b):D.input=b,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(M),D.next_out=0,D.avail_out=M),(T=s.deflate(D,x))!==1&&T!==p)return this.onEnd(T),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(D.output,D.next_out))):this.onData(o.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&T!==1);return x===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===p):x!==2||(this.onEnd(p),!(D.avail_out=0))},_.prototype.onData=function(b){this.chunks.push(b)},_.prototype.onEnd=function(b){b===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=_,i.deflate=E,i.deflateRaw=function(b,A){return(A=A||{}).raw=!0,E(b,A)},i.gzip=function(b,A){return(A=A||{}).gzip=!0,E(b,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),p=t("./zlib/gzheader"),g=Object.prototype.toString;function y(_){if(!(this instanceof y))return new y(_);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},_||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||_&&_.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,E.windowBits);if(b!==u.Z_OK)throw new Error(h[b]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function w(_,E){var b=new y(E);if(b.push(_,!0),b.err)throw b.msg||h[b.err];return b.result}y.prototype.push=function(_,E){var b,A,T,x,D,M,O=this.strm,P=this.options.chunkSize,C=this.options.dictionary,W=!1;if(this.ended)return!1;A=E===~~E?E:E===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof _=="string"?O.input=l.binstring2buf(_):g.call(_)==="[object ArrayBuffer]"?O.input=new Uint8Array(_):O.input=_,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new o.Buf8(P),O.next_out=0,O.avail_out=P),(b=s.inflate(O,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&C&&(M=typeof C=="string"?l.string2buf(C):g.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,b=s.inflateSetDictionary(this.strm,M)),b===u.Z_BUF_ERROR&&W===!0&&(b=u.Z_OK,W=!1),b!==u.Z_STREAM_END&&b!==u.Z_OK)return this.onEnd(b),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&b!==u.Z_STREAM_END&&(O.avail_in!==0||A!==u.Z_FINISH&&A!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(O.output,O.next_out),x=O.next_out-T,D=l.buf2string(O.output,T),O.next_out=x,O.avail_out=P-x,x&&o.arraySet(O.output,O.output,T,x,0),this.onData(D)):this.onData(o.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(W=!0)}while((0<O.avail_in||O.avail_out===0)&&b!==u.Z_STREAM_END);return b===u.Z_STREAM_END&&(A=u.Z_FINISH),A===u.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u.Z_OK):A!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(O.avail_out=0))},y.prototype.onData=function(_){this.chunks.push(_)},y.prototype.onEnd=function(_){_===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},i.Inflate=y,i.inflate=w,i.inflateRaw=function(_,E){return(E=E||{}).raw=!0,w(_,E)},i.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(u[p]=f[p])}}return u},i.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var o={arraySet:function(u,h,f,p,g){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+p),g);else for(var y=0;y<p;y++)u[g+y]=h[f+y]},flattenChunks:function(u){var h,f,p,g,y,w;for(h=p=0,f=u.length;h<f;h++)p+=u[h].length;for(w=new Uint8Array(p),h=g=0,f=u.length;h<f;h++)y=u[h],w.set(y,g),g+=y.length;return w}},l={arraySet:function(u,h,f,p,g){for(var y=0;y<p;y++)u[g+y]=h[f+y]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,g){if(g<65537&&(p.subarray&&l||!p.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(p,g));for(var y="",w=0;w<g;w++)y+=String.fromCharCode(p[w]);return y}u[254]=u[254]=1,i.string2buf=function(p){var g,y,w,_,E,b=p.length,A=0;for(_=0;_<b;_++)(64512&(y=p.charCodeAt(_)))==55296&&_+1<b&&(64512&(w=p.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(w-56320),_++),A+=y<128?1:y<2048?2:y<65536?3:4;for(g=new s.Buf8(A),_=E=0;E<A;_++)(64512&(y=p.charCodeAt(_)))==55296&&_+1<b&&(64512&(w=p.charCodeAt(_+1)))==56320&&(y=65536+(y-55296<<10)+(w-56320),_++),y<128?g[E++]=y:(y<2048?g[E++]=192|y>>>6:(y<65536?g[E++]=224|y>>>12:(g[E++]=240|y>>>18,g[E++]=128|y>>>12&63),g[E++]=128|y>>>6&63),g[E++]=128|63&y);return g},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var g=new s.Buf8(p.length),y=0,w=g.length;y<w;y++)g[y]=p.charCodeAt(y);return g},i.buf2string=function(p,g){var y,w,_,E,b=g||p.length,A=new Array(2*b);for(y=w=0;y<b;)if((_=p[y++])<128)A[w++]=_;else if(4<(E=u[_]))A[w++]=65533,y+=E-1;else{for(_&=E===2?31:E===3?15:7;1<E&&y<b;)_=_<<6|63&p[y++],E--;1<E?A[w++]=65533:_<65536?A[w++]=_:(_-=65536,A[w++]=55296|_>>10&1023,A[w++]=56320|1023&_)}return f(A,w)},i.utf8border=function(p,g){var y;for((g=g||p.length)>p.length&&(g=p.length),y=g-1;0<=y&&(192&p[y])==128;)y--;return y<0||y===0?g:y+u[p[y]]>g?y:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,o,l,u){for(var h=65535&s|0,f=s>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;f=f+(h=h+o[u++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l,u,h){var f=s,p=h+u;o^=-1;for(var g=h;g<p;g++)o=o>>>8^f[255&(o^l[g])];return-1^o}},{}],46:[function(t,n,i){var s,o=t("../utils/common"),l=t("./trees"),u=t("./adler32"),h=t("./crc32"),f=t("./messages"),p=0,g=4,y=0,w=-2,_=-1,E=4,b=2,A=8,T=9,x=286,D=30,M=19,O=2*x+1,P=15,C=3,W=258,$=W+C+1,N=42,F=113,B=1,ae=2,Q=3,Y=4;function pe(V,_e){return V.msg=f[_e],_e}function fe(V){return(V<<1)-(4<V?9:0)}function ee(V){for(var _e=V.length;0<=--_e;)V[_e]=0}function J(V){var _e=V.state,H=_e.pending;H>V.avail_out&&(H=V.avail_out),H!==0&&(o.arraySet(V.output,_e.pending_buf,_e.pending_out,H,V.next_out),V.next_out+=H,_e.pending_out+=H,V.total_out+=H,V.avail_out-=H,_e.pending-=H,_e.pending===0&&(_e.pending_out=0))}function K(V,_e){l._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,_e),V.block_start=V.strstart,J(V.strm)}function re(V,_e){V.pending_buf[V.pending++]=_e}function he(V,_e){V.pending_buf[V.pending++]=_e>>>8&255,V.pending_buf[V.pending++]=255&_e}function ve(V,_e){var H,k,I=V.max_chain_length,U=V.strstart,oe=V.prev_length,me=V.nice_match,ue=V.strstart>V.w_size-$?V.strstart-(V.w_size-$):0,De=V.window,Pe=V.w_mask,Oe=V.prev,He=V.strstart+W,Ge=De[U+oe-1],it=De[U+oe];V.prev_length>=V.good_match&&(I>>=2),me>V.lookahead&&(me=V.lookahead);do if(De[(H=_e)+oe]===it&&De[H+oe-1]===Ge&&De[H]===De[U]&&De[++H]===De[U+1]){U+=2,H++;do;while(De[++U]===De[++H]&&De[++U]===De[++H]&&De[++U]===De[++H]&&De[++U]===De[++H]&&De[++U]===De[++H]&&De[++U]===De[++H]&&De[++U]===De[++H]&&De[++U]===De[++H]&&U<He);if(k=W-(He-U),U=He-W,oe<k){if(V.match_start=_e,me<=(oe=k))break;Ge=De[U+oe-1],it=De[U+oe]}}while((_e=Oe[_e&Pe])>ue&&--I!=0);return oe<=V.lookahead?oe:V.lookahead}function ce(V){var _e,H,k,I,U,oe,me,ue,De,Pe,Oe=V.w_size;do{if(I=V.window_size-V.lookahead-V.strstart,V.strstart>=Oe+(Oe-$)){for(o.arraySet(V.window,V.window,Oe,Oe,0),V.match_start-=Oe,V.strstart-=Oe,V.block_start-=Oe,_e=H=V.hash_size;k=V.head[--_e],V.head[_e]=Oe<=k?k-Oe:0,--H;);for(_e=H=Oe;k=V.prev[--_e],V.prev[_e]=Oe<=k?k-Oe:0,--H;);I+=Oe}if(V.strm.avail_in===0)break;if(oe=V.strm,me=V.window,ue=V.strstart+V.lookahead,De=I,Pe=void 0,Pe=oe.avail_in,De<Pe&&(Pe=De),H=Pe===0?0:(oe.avail_in-=Pe,o.arraySet(me,oe.input,oe.next_in,Pe,ue),oe.state.wrap===1?oe.adler=u(oe.adler,me,Pe,ue):oe.state.wrap===2&&(oe.adler=h(oe.adler,me,Pe,ue)),oe.next_in+=Pe,oe.total_in+=Pe,Pe),V.lookahead+=H,V.lookahead+V.insert>=C)for(U=V.strstart-V.insert,V.ins_h=V.window[U],V.ins_h=(V.ins_h<<V.hash_shift^V.window[U+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[U+C-1])&V.hash_mask,V.prev[U&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=U,U++,V.insert--,!(V.lookahead+V.insert<C)););}while(V.lookahead<$&&V.strm.avail_in!==0)}function j(V,_e){for(var H,k;;){if(V.lookahead<$){if(ce(V),V.lookahead<$&&_e===p)return B;if(V.lookahead===0)break}if(H=0,V.lookahead>=C&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),H!==0&&V.strstart-H<=V.w_size-$&&(V.match_length=ve(V,H)),V.match_length>=C)if(k=l._tr_tally(V,V.strstart-V.match_start,V.match_length-C),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=C){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else k=l._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(k&&(K(V,!1),V.strm.avail_out===0))return B}return V.insert=V.strstart<C-1?V.strstart:C-1,_e===g?(K(V,!0),V.strm.avail_out===0?Q:Y):V.last_lit&&(K(V,!1),V.strm.avail_out===0)?B:ae}function z(V,_e){for(var H,k,I;;){if(V.lookahead<$){if(ce(V),V.lookahead<$&&_e===p)return B;if(V.lookahead===0)break}if(H=0,V.lookahead>=C&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=C-1,H!==0&&V.prev_length<V.max_lazy_match&&V.strstart-H<=V.w_size-$&&(V.match_length=ve(V,H),V.match_length<=5&&(V.strategy===1||V.match_length===C&&4096<V.strstart-V.match_start)&&(V.match_length=C-1)),V.prev_length>=C&&V.match_length<=V.prev_length){for(I=V.strstart+V.lookahead-C,k=l._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-C),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=I&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+C-1])&V.hash_mask,H=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=C-1,V.strstart++,k&&(K(V,!1),V.strm.avail_out===0))return B}else if(V.match_available){if((k=l._tr_tally(V,0,V.window[V.strstart-1]))&&K(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return B}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(k=l._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<C-1?V.strstart:C-1,_e===g?(K(V,!0),V.strm.avail_out===0?Q:Y):V.last_lit&&(K(V,!1),V.strm.avail_out===0)?B:ae}function se(V,_e,H,k,I){this.good_length=V,this.max_lazy=_e,this.nice_length=H,this.max_chain=k,this.func=I}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*O),this.dyn_dtree=new o.Buf16(2*(2*D+1)),this.bl_tree=new o.Buf16(2*(2*M+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(P+1),this.heap=new o.Buf16(2*x+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(V){var _e;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=b,(_e=V.state).pending=0,_e.pending_out=0,_e.wrap<0&&(_e.wrap=-_e.wrap),_e.status=_e.wrap?N:F,V.adler=_e.wrap===2?0:1,_e.last_flush=p,l._tr_init(_e),y):pe(V,w)}function te(V){var _e=X(V);return _e===y&&function(H){H.window_size=2*H.w_size,ee(H.head),H.max_lazy_match=s[H.level].max_lazy,H.good_match=s[H.level].good_length,H.nice_match=s[H.level].nice_length,H.max_chain_length=s[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=C-1,H.match_available=0,H.ins_h=0}(V.state),_e}function be(V,_e,H,k,I,U){if(!V)return w;var oe=1;if(_e===_&&(_e=6),k<0?(oe=0,k=-k):15<k&&(oe=2,k-=16),I<1||T<I||H!==A||k<8||15<k||_e<0||9<_e||U<0||E<U)return pe(V,w);k===8&&(k=9);var me=new ie;return(V.state=me).strm=V,me.wrap=oe,me.gzhead=null,me.w_bits=k,me.w_size=1<<me.w_bits,me.w_mask=me.w_size-1,me.hash_bits=I+7,me.hash_size=1<<me.hash_bits,me.hash_mask=me.hash_size-1,me.hash_shift=~~((me.hash_bits+C-1)/C),me.window=new o.Buf8(2*me.w_size),me.head=new o.Buf16(me.hash_size),me.prev=new o.Buf16(me.w_size),me.lit_bufsize=1<<I+6,me.pending_buf_size=4*me.lit_bufsize,me.pending_buf=new o.Buf8(me.pending_buf_size),me.d_buf=1*me.lit_bufsize,me.l_buf=3*me.lit_bufsize,me.level=_e,me.strategy=U,me.method=H,te(V)}s=[new se(0,0,0,0,function(V,_e){var H=65535;for(H>V.pending_buf_size-5&&(H=V.pending_buf_size-5);;){if(V.lookahead<=1){if(ce(V),V.lookahead===0&&_e===p)return B;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var k=V.block_start+H;if((V.strstart===0||V.strstart>=k)&&(V.lookahead=V.strstart-k,V.strstart=k,K(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-$&&(K(V,!1),V.strm.avail_out===0))return B}return V.insert=0,_e===g?(K(V,!0),V.strm.avail_out===0?Q:Y):(V.strstart>V.block_start&&(K(V,!1),V.strm.avail_out),B)}),new se(4,4,8,4,j),new se(4,5,16,8,j),new se(4,6,32,32,j),new se(4,4,16,16,z),new se(8,16,32,32,z),new se(8,16,128,128,z),new se(8,32,128,256,z),new se(32,128,258,1024,z),new se(32,258,258,4096,z)],i.deflateInit=function(V,_e){return be(V,_e,A,15,8,0)},i.deflateInit2=be,i.deflateReset=te,i.deflateResetKeep=X,i.deflateSetHeader=function(V,_e){return V&&V.state?V.state.wrap!==2?w:(V.state.gzhead=_e,y):w},i.deflate=function(V,_e){var H,k,I,U;if(!V||!V.state||5<_e||_e<0)return V?pe(V,w):w;if(k=V.state,!V.output||!V.input&&V.avail_in!==0||k.status===666&&_e!==g)return pe(V,V.avail_out===0?-5:w);if(k.strm=V,H=k.last_flush,k.last_flush=_e,k.status===N)if(k.wrap===2)V.adler=0,re(k,31),re(k,139),re(k,8),k.gzhead?(re(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),re(k,255&k.gzhead.time),re(k,k.gzhead.time>>8&255),re(k,k.gzhead.time>>16&255),re(k,k.gzhead.time>>24&255),re(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),re(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(re(k,255&k.gzhead.extra.length),re(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(V.adler=h(V.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(re(k,0),re(k,0),re(k,0),re(k,0),re(k,0),re(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),re(k,3),k.status=F);else{var oe=A+(k.w_bits-8<<4)<<8;oe|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(oe|=32),oe+=31-oe%31,k.status=F,he(k,oe),k.strstart!==0&&(he(k,V.adler>>>16),he(k,65535&V.adler)),V.adler=1}if(k.status===69)if(k.gzhead.extra){for(I=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>I&&(V.adler=h(V.adler,k.pending_buf,k.pending-I,I)),J(V),I=k.pending,k.pending!==k.pending_buf_size));)re(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>I&&(V.adler=h(V.adler,k.pending_buf,k.pending-I,I)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(V.adler=h(V.adler,k.pending_buf,k.pending-I,I)),J(V),I=k.pending,k.pending===k.pending_buf_size)){U=1;break}U=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,re(k,U)}while(U!==0);k.gzhead.hcrc&&k.pending>I&&(V.adler=h(V.adler,k.pending_buf,k.pending-I,I)),U===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(V.adler=h(V.adler,k.pending_buf,k.pending-I,I)),J(V),I=k.pending,k.pending===k.pending_buf_size)){U=1;break}U=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,re(k,U)}while(U!==0);k.gzhead.hcrc&&k.pending>I&&(V.adler=h(V.adler,k.pending_buf,k.pending-I,I)),U===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&J(V),k.pending+2<=k.pending_buf_size&&(re(k,255&V.adler),re(k,V.adler>>8&255),V.adler=0,k.status=F)):k.status=F),k.pending!==0){if(J(V),V.avail_out===0)return k.last_flush=-1,y}else if(V.avail_in===0&&fe(_e)<=fe(H)&&_e!==g)return pe(V,-5);if(k.status===666&&V.avail_in!==0)return pe(V,-5);if(V.avail_in!==0||k.lookahead!==0||_e!==p&&k.status!==666){var me=k.strategy===2?function(ue,De){for(var Pe;;){if(ue.lookahead===0&&(ce(ue),ue.lookahead===0)){if(De===p)return B;break}if(ue.match_length=0,Pe=l._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,Pe&&(K(ue,!1),ue.strm.avail_out===0))return B}return ue.insert=0,De===g?(K(ue,!0),ue.strm.avail_out===0?Q:Y):ue.last_lit&&(K(ue,!1),ue.strm.avail_out===0)?B:ae}(k,_e):k.strategy===3?function(ue,De){for(var Pe,Oe,He,Ge,it=ue.window;;){if(ue.lookahead<=W){if(ce(ue),ue.lookahead<=W&&De===p)return B;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=C&&0<ue.strstart&&(Oe=it[He=ue.strstart-1])===it[++He]&&Oe===it[++He]&&Oe===it[++He]){Ge=ue.strstart+W;do;while(Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&He<Ge);ue.match_length=W-(Ge-He),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=C?(Pe=l._tr_tally(ue,1,ue.match_length-C),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(Pe=l._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),Pe&&(K(ue,!1),ue.strm.avail_out===0))return B}return ue.insert=0,De===g?(K(ue,!0),ue.strm.avail_out===0?Q:Y):ue.last_lit&&(K(ue,!1),ue.strm.avail_out===0)?B:ae}(k,_e):s[k.level].func(k,_e);if(me!==Q&&me!==Y||(k.status=666),me===B||me===Q)return V.avail_out===0&&(k.last_flush=-1),y;if(me===ae&&(_e===1?l._tr_align(k):_e!==5&&(l._tr_stored_block(k,0,0,!1),_e===3&&(ee(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),J(V),V.avail_out===0))return k.last_flush=-1,y}return _e!==g?y:k.wrap<=0?1:(k.wrap===2?(re(k,255&V.adler),re(k,V.adler>>8&255),re(k,V.adler>>16&255),re(k,V.adler>>24&255),re(k,255&V.total_in),re(k,V.total_in>>8&255),re(k,V.total_in>>16&255),re(k,V.total_in>>24&255)):(he(k,V.adler>>>16),he(k,65535&V.adler)),J(V),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?y:1)},i.deflateEnd=function(V){var _e;return V&&V.state?(_e=V.state.status)!==N&&_e!==69&&_e!==73&&_e!==91&&_e!==103&&_e!==F&&_e!==666?pe(V,w):(V.state=null,_e===F?pe(V,-3):y):w},i.deflateSetDictionary=function(V,_e){var H,k,I,U,oe,me,ue,De,Pe=_e.length;if(!V||!V.state||(U=(H=V.state).wrap)===2||U===1&&H.status!==N||H.lookahead)return w;for(U===1&&(V.adler=u(V.adler,_e,Pe,0)),H.wrap=0,Pe>=H.w_size&&(U===0&&(ee(H.head),H.strstart=0,H.block_start=0,H.insert=0),De=new o.Buf8(H.w_size),o.arraySet(De,_e,Pe-H.w_size,H.w_size,0),_e=De,Pe=H.w_size),oe=V.avail_in,me=V.next_in,ue=V.input,V.avail_in=Pe,V.next_in=0,V.input=_e,ce(H);H.lookahead>=C;){for(k=H.strstart,I=H.lookahead-(C-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[k+C-1])&H.hash_mask,H.prev[k&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=k,k++,--I;);H.strstart=k,H.lookahead=C-1,ce(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=C-1,H.match_available=0,V.next_in=me,V.input=ue,V.avail_in=oe,H.wrap=U,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,o){var l,u,h,f,p,g,y,w,_,E,b,A,T,x,D,M,O,P,C,W,$,N,F,B,ae;l=s.state,u=s.next_in,B=s.input,h=u+(s.avail_in-5),f=s.next_out,ae=s.output,p=f-(o-s.avail_out),g=f+(s.avail_out-257),y=l.dmax,w=l.wsize,_=l.whave,E=l.wnext,b=l.window,A=l.hold,T=l.bits,x=l.lencode,D=l.distcode,M=(1<<l.lenbits)-1,O=(1<<l.distbits)-1;e:do{T<15&&(A+=B[u++]<<T,T+=8,A+=B[u++]<<T,T+=8),P=x[A&M];t:for(;;){if(A>>>=C=P>>>24,T-=C,(C=P>>>16&255)===0)ae[f++]=65535&P;else{if(!(16&C)){if((64&C)==0){P=x[(65535&P)+(A&(1<<C)-1)];continue t}if(32&C){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}W=65535&P,(C&=15)&&(T<C&&(A+=B[u++]<<T,T+=8),W+=A&(1<<C)-1,A>>>=C,T-=C),T<15&&(A+=B[u++]<<T,T+=8,A+=B[u++]<<T,T+=8),P=D[A&O];n:for(;;){if(A>>>=C=P>>>24,T-=C,!(16&(C=P>>>16&255))){if((64&C)==0){P=D[(65535&P)+(A&(1<<C)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if($=65535&P,T<(C&=15)&&(A+=B[u++]<<T,(T+=8)<C&&(A+=B[u++]<<T,T+=8)),y<($+=A&(1<<C)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(A>>>=C,T-=C,(C=f-p)<$){if(_<(C=$-C)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(F=b,(N=0)===E){if(N+=w-C,C<W){for(W-=C;ae[f++]=b[N++],--C;);N=f-$,F=ae}}else if(E<C){if(N+=w+E-C,(C-=E)<W){for(W-=C;ae[f++]=b[N++],--C;);if(N=0,E<W){for(W-=C=E;ae[f++]=b[N++],--C;);N=f-$,F=ae}}}else if(N+=E-C,C<W){for(W-=C;ae[f++]=b[N++],--C;);N=f-$,F=ae}for(;2<W;)ae[f++]=F[N++],ae[f++]=F[N++],ae[f++]=F[N++],W-=3;W&&(ae[f++]=F[N++],1<W&&(ae[f++]=F[N++]))}else{for(N=f-$;ae[f++]=ae[N++],ae[f++]=ae[N++],ae[f++]=ae[N++],2<(W-=3););W&&(ae[f++]=ae[N++],1<W&&(ae[f++]=ae[N++]))}break}}break}}while(u<h&&f<g);u-=W=T>>3,A&=(1<<(T-=W<<3))-1,s.next_in=u,s.next_out=f,s.avail_in=u<h?h-u+5:5-(u-h),s.avail_out=f<g?g-f+257:257-(f-g),l.hold=A,l.bits=T}},{}],49:[function(t,n,i){var s=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),f=1,p=2,g=0,y=-2,w=1,_=852,E=592;function b(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(N){var F;return N&&N.state?(F=N.state,N.total_in=N.total_out=F.total=0,N.msg="",F.wrap&&(N.adler=1&F.wrap),F.mode=w,F.last=0,F.havedict=0,F.dmax=32768,F.head=null,F.hold=0,F.bits=0,F.lencode=F.lendyn=new s.Buf32(_),F.distcode=F.distdyn=new s.Buf32(E),F.sane=1,F.back=-1,g):y}function x(N){var F;return N&&N.state?((F=N.state).wsize=0,F.whave=0,F.wnext=0,T(N)):y}function D(N,F){var B,ae;return N&&N.state?(ae=N.state,F<0?(B=0,F=-F):(B=1+(F>>4),F<48&&(F&=15)),F&&(F<8||15<F)?y:(ae.window!==null&&ae.wbits!==F&&(ae.window=null),ae.wrap=B,ae.wbits=F,x(N))):y}function M(N,F){var B,ae;return N?(ae=new A,(N.state=ae).window=null,(B=D(N,F))!==g&&(N.state=null),B):y}var O,P,C=!0;function W(N){if(C){var F;for(O=new s.Buf32(512),P=new s.Buf32(32),F=0;F<144;)N.lens[F++]=8;for(;F<256;)N.lens[F++]=9;for(;F<280;)N.lens[F++]=7;for(;F<288;)N.lens[F++]=8;for(h(f,N.lens,0,288,O,0,N.work,{bits:9}),F=0;F<32;)N.lens[F++]=5;h(p,N.lens,0,32,P,0,N.work,{bits:5}),C=!1}N.lencode=O,N.lenbits=9,N.distcode=P,N.distbits=5}function $(N,F,B,ae){var Q,Y=N.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),ae>=Y.wsize?(s.arraySet(Y.window,F,B-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(ae<(Q=Y.wsize-Y.wnext)&&(Q=ae),s.arraySet(Y.window,F,B-ae,Q,Y.wnext),(ae-=Q)?(s.arraySet(Y.window,F,B-ae,ae,0),Y.wnext=ae,Y.whave=Y.wsize):(Y.wnext+=Q,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=Q))),0}i.inflateReset=x,i.inflateReset2=D,i.inflateResetKeep=T,i.inflateInit=function(N){return M(N,15)},i.inflateInit2=M,i.inflate=function(N,F){var B,ae,Q,Y,pe,fe,ee,J,K,re,he,ve,ce,j,z,se,ie,X,te,be,V,_e,H,k,I=0,U=new s.Buf8(4),oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return y;(B=N.state).mode===12&&(B.mode=13),pe=N.next_out,Q=N.output,ee=N.avail_out,Y=N.next_in,ae=N.input,fe=N.avail_in,J=B.hold,K=B.bits,re=fe,he=ee,_e=g;e:for(;;)switch(B.mode){case w:if(B.wrap===0){B.mode=13;break}for(;K<16;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(2&B.wrap&&J===35615){U[B.check=0]=255&J,U[1]=J>>>8&255,B.check=l(B.check,U,2,0),K=J=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&J)<<8)+(J>>8))%31){N.msg="incorrect header check",B.mode=30;break}if((15&J)!=8){N.msg="unknown compression method",B.mode=30;break}if(K-=4,V=8+(15&(J>>>=4)),B.wbits===0)B.wbits=V;else if(V>B.wbits){N.msg="invalid window size",B.mode=30;break}B.dmax=1<<V,N.adler=B.check=1,B.mode=512&J?10:12,K=J=0;break;case 2:for(;K<16;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(B.flags=J,(255&B.flags)!=8){N.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){N.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=J>>8&1),512&B.flags&&(U[0]=255&J,U[1]=J>>>8&255,B.check=l(B.check,U,2,0)),K=J=0,B.mode=3;case 3:for(;K<32;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}B.head&&(B.head.time=J),512&B.flags&&(U[0]=255&J,U[1]=J>>>8&255,U[2]=J>>>16&255,U[3]=J>>>24&255,B.check=l(B.check,U,4,0)),K=J=0,B.mode=4;case 4:for(;K<16;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}B.head&&(B.head.xflags=255&J,B.head.os=J>>8),512&B.flags&&(U[0]=255&J,U[1]=J>>>8&255,B.check=l(B.check,U,2,0)),K=J=0,B.mode=5;case 5:if(1024&B.flags){for(;K<16;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}B.length=J,B.head&&(B.head.extra_len=J),512&B.flags&&(U[0]=255&J,U[1]=J>>>8&255,B.check=l(B.check,U,2,0)),K=J=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(fe<(ve=B.length)&&(ve=fe),ve&&(B.head&&(V=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),s.arraySet(B.head.extra,ae,Y,ve,V)),512&B.flags&&(B.check=l(B.check,ae,ve,Y)),fe-=ve,Y+=ve,B.length-=ve),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(fe===0)break e;for(ve=0;V=ae[Y+ve++],B.head&&V&&B.length<65536&&(B.head.name+=String.fromCharCode(V)),V&&ve<fe;);if(512&B.flags&&(B.check=l(B.check,ae,ve,Y)),fe-=ve,Y+=ve,V)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(fe===0)break e;for(ve=0;V=ae[Y+ve++],B.head&&V&&B.length<65536&&(B.head.comment+=String.fromCharCode(V)),V&&ve<fe;);if(512&B.flags&&(B.check=l(B.check,ae,ve,Y)),fe-=ve,Y+=ve,V)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;K<16;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(J!==(65535&B.check)){N.msg="header crc mismatch",B.mode=30;break}K=J=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),N.adler=B.check=0,B.mode=12;break;case 10:for(;K<32;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}N.adler=B.check=b(J),K=J=0,B.mode=11;case 11:if(B.havedict===0)return N.next_out=pe,N.avail_out=ee,N.next_in=Y,N.avail_in=fe,B.hold=J,B.bits=K,2;N.adler=B.check=1,B.mode=12;case 12:if(F===5||F===6)break e;case 13:if(B.last){J>>>=7&K,K-=7&K,B.mode=27;break}for(;K<3;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}switch(B.last=1&J,K-=1,3&(J>>>=1)){case 0:B.mode=14;break;case 1:if(W(B),B.mode=20,F!==6)break;J>>>=2,K-=2;break e;case 2:B.mode=17;break;case 3:N.msg="invalid block type",B.mode=30}J>>>=2,K-=2;break;case 14:for(J>>>=7&K,K-=7&K;K<32;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if((65535&J)!=(J>>>16^65535)){N.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&J,K=J=0,B.mode=15,F===6)break e;case 15:B.mode=16;case 16:if(ve=B.length){if(fe<ve&&(ve=fe),ee<ve&&(ve=ee),ve===0)break e;s.arraySet(Q,ae,Y,ve,pe),fe-=ve,Y+=ve,ee-=ve,pe+=ve,B.length-=ve;break}B.mode=12;break;case 17:for(;K<14;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(B.nlen=257+(31&J),J>>>=5,K-=5,B.ndist=1+(31&J),J>>>=5,K-=5,B.ncode=4+(15&J),J>>>=4,K-=4,286<B.nlen||30<B.ndist){N.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;K<3;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}B.lens[oe[B.have++]]=7&J,J>>>=3,K-=3}for(;B.have<19;)B.lens[oe[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,H={bits:B.lenbits},_e=h(0,B.lens,0,19,B.lencode,0,B.work,H),B.lenbits=H.bits,_e){N.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;se=(I=B.lencode[J&(1<<B.lenbits)-1])>>>16&255,ie=65535&I,!((z=I>>>24)<=K);){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(ie<16)J>>>=z,K-=z,B.lens[B.have++]=ie;else{if(ie===16){for(k=z+2;K<k;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(J>>>=z,K-=z,B.have===0){N.msg="invalid bit length repeat",B.mode=30;break}V=B.lens[B.have-1],ve=3+(3&J),J>>>=2,K-=2}else if(ie===17){for(k=z+3;K<k;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}K-=z,V=0,ve=3+(7&(J>>>=z)),J>>>=3,K-=3}else{for(k=z+7;K<k;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}K-=z,V=0,ve=11+(127&(J>>>=z)),J>>>=7,K-=7}if(B.have+ve>B.nlen+B.ndist){N.msg="invalid bit length repeat",B.mode=30;break}for(;ve--;)B.lens[B.have++]=V}}if(B.mode===30)break;if(B.lens[256]===0){N.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,H={bits:B.lenbits},_e=h(f,B.lens,0,B.nlen,B.lencode,0,B.work,H),B.lenbits=H.bits,_e){N.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,H={bits:B.distbits},_e=h(p,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,H),B.distbits=H.bits,_e){N.msg="invalid distances set",B.mode=30;break}if(B.mode=20,F===6)break e;case 20:B.mode=21;case 21:if(6<=fe&&258<=ee){N.next_out=pe,N.avail_out=ee,N.next_in=Y,N.avail_in=fe,B.hold=J,B.bits=K,u(N,he),pe=N.next_out,Q=N.output,ee=N.avail_out,Y=N.next_in,ae=N.input,fe=N.avail_in,J=B.hold,K=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;se=(I=B.lencode[J&(1<<B.lenbits)-1])>>>16&255,ie=65535&I,!((z=I>>>24)<=K);){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(se&&(240&se)==0){for(X=z,te=se,be=ie;se=(I=B.lencode[be+((J&(1<<X+te)-1)>>X)])>>>16&255,ie=65535&I,!(X+(z=I>>>24)<=K);){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}J>>>=X,K-=X,B.back+=X}if(J>>>=z,K-=z,B.back+=z,B.length=ie,se===0){B.mode=26;break}if(32&se){B.back=-1,B.mode=12;break}if(64&se){N.msg="invalid literal/length code",B.mode=30;break}B.extra=15&se,B.mode=22;case 22:if(B.extra){for(k=B.extra;K<k;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}B.length+=J&(1<<B.extra)-1,J>>>=B.extra,K-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;se=(I=B.distcode[J&(1<<B.distbits)-1])>>>16&255,ie=65535&I,!((z=I>>>24)<=K);){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if((240&se)==0){for(X=z,te=se,be=ie;se=(I=B.distcode[be+((J&(1<<X+te)-1)>>X)])>>>16&255,ie=65535&I,!(X+(z=I>>>24)<=K);){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}J>>>=X,K-=X,B.back+=X}if(J>>>=z,K-=z,B.back+=z,64&se){N.msg="invalid distance code",B.mode=30;break}B.offset=ie,B.extra=15&se,B.mode=24;case 24:if(B.extra){for(k=B.extra;K<k;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}B.offset+=J&(1<<B.extra)-1,J>>>=B.extra,K-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){N.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(ee===0)break e;if(ve=he-ee,B.offset>ve){if((ve=B.offset-ve)>B.whave&&B.sane){N.msg="invalid distance too far back",B.mode=30;break}ce=ve>B.wnext?(ve-=B.wnext,B.wsize-ve):B.wnext-ve,ve>B.length&&(ve=B.length),j=B.window}else j=Q,ce=pe-B.offset,ve=B.length;for(ee<ve&&(ve=ee),ee-=ve,B.length-=ve;Q[pe++]=j[ce++],--ve;);B.length===0&&(B.mode=21);break;case 26:if(ee===0)break e;Q[pe++]=B.length,ee--,B.mode=21;break;case 27:if(B.wrap){for(;K<32;){if(fe===0)break e;fe--,J|=ae[Y++]<<K,K+=8}if(he-=ee,N.total_out+=he,B.total+=he,he&&(N.adler=B.check=B.flags?l(B.check,Q,he,pe-he):o(B.check,Q,he,pe-he)),he=ee,(B.flags?J:b(J))!==B.check){N.msg="incorrect data check",B.mode=30;break}K=J=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;K<32;){if(fe===0)break e;fe--,J+=ae[Y++]<<K,K+=8}if(J!==(4294967295&B.total)){N.msg="incorrect length check",B.mode=30;break}K=J=0}B.mode=29;case 29:_e=1;break e;case 30:_e=-3;break e;case 31:return-4;case 32:default:return y}return N.next_out=pe,N.avail_out=ee,N.next_in=Y,N.avail_in=fe,B.hold=J,B.bits=K,(B.wsize||he!==N.avail_out&&B.mode<30&&(B.mode<27||F!==4))&&$(N,N.output,N.next_out,he-N.avail_out)?(B.mode=31,-4):(re-=N.avail_in,he-=N.avail_out,N.total_in+=re,N.total_out+=he,B.total+=he,B.wrap&&he&&(N.adler=B.check=B.flags?l(B.check,Q,he,N.next_out-he):o(B.check,Q,he,N.next_out-he)),N.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(re==0&&he===0||F===4)&&_e===g&&(_e=-5),_e)},i.inflateEnd=function(N){if(!N||!N.state)return y;var F=N.state;return F.window&&(F.window=null),N.state=null,g},i.inflateGetHeader=function(N,F){var B;return N&&N.state?(2&(B=N.state).wrap)==0?y:((B.head=F).done=!1,g):y},i.inflateSetDictionary=function(N,F){var B,ae=F.length;return N&&N.state?(B=N.state).wrap!==0&&B.mode!==11?y:B.mode===11&&o(1,F,ae,0)!==B.check?-3:$(N,F,ae,ae)?(B.mode=31,-4):(B.havedict=1,g):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,p,g,y,w,_,E,b){var A,T,x,D,M,O,P,C,W,$=b.bits,N=0,F=0,B=0,ae=0,Q=0,Y=0,pe=0,fe=0,ee=0,J=0,K=null,re=0,he=new s.Buf16(16),ve=new s.Buf16(16),ce=null,j=0;for(N=0;N<=15;N++)he[N]=0;for(F=0;F<y;F++)he[p[g+F]]++;for(Q=$,ae=15;1<=ae&&he[ae]===0;ae--);if(ae<Q&&(Q=ae),ae===0)return w[_++]=20971520,w[_++]=20971520,b.bits=1,0;for(B=1;B<ae&&he[B]===0;B++);for(Q<B&&(Q=B),N=fe=1;N<=15;N++)if(fe<<=1,(fe-=he[N])<0)return-1;if(0<fe&&(f===0||ae!==1))return-1;for(ve[1]=0,N=1;N<15;N++)ve[N+1]=ve[N]+he[N];for(F=0;F<y;F++)p[g+F]!==0&&(E[ve[p[g+F]]++]=F);if(O=f===0?(K=ce=E,19):f===1?(K=o,re-=257,ce=l,j-=257,256):(K=u,ce=h,-1),N=B,M=_,pe=F=J=0,x=-1,D=(ee=1<<(Y=Q))-1,f===1&&852<ee||f===2&&592<ee)return 1;for(;;){for(P=N-pe,W=E[F]<O?(C=0,E[F]):E[F]>O?(C=ce[j+E[F]],K[re+E[F]]):(C=96,0),A=1<<N-pe,B=T=1<<Y;w[M+(J>>pe)+(T-=A)]=P<<24|C<<16|W|0,T!==0;);for(A=1<<N-1;J&A;)A>>=1;if(A!==0?(J&=A-1,J+=A):J=0,F++,--he[N]==0){if(N===ae)break;N=p[g+E[F]]}if(Q<N&&(J&D)!==x){for(pe===0&&(pe=Q),M+=B,fe=1<<(Y=N-pe);Y+pe<ae&&!((fe-=he[Y+pe])<=0);)Y++,fe<<=1;if(ee+=1<<Y,f===1&&852<ee||f===2&&592<ee)return 1;w[x=J&D]=Q<<24|Y<<16|M-_|0}}return J!==0&&(w[M+J]=N-pe<<24|64<<16|0),b.bits=Q,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),o=0,l=1;function u(I){for(var U=I.length;0<=--U;)I[U]=0}var h=0,f=29,p=256,g=p+1+f,y=30,w=19,_=2*g+1,E=15,b=16,A=7,T=256,x=16,D=17,M=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(g+2));u($);var N=new Array(2*y);u(N);var F=new Array(512);u(F);var B=new Array(256);u(B);var ae=new Array(f);u(ae);var Q,Y,pe,fe=new Array(y);function ee(I,U,oe,me,ue){this.static_tree=I,this.extra_bits=U,this.extra_base=oe,this.elems=me,this.max_length=ue,this.has_stree=I&&I.length}function J(I,U){this.dyn_tree=I,this.max_code=0,this.stat_desc=U}function K(I){return I<256?F[I]:F[256+(I>>>7)]}function re(I,U){I.pending_buf[I.pending++]=255&U,I.pending_buf[I.pending++]=U>>>8&255}function he(I,U,oe){I.bi_valid>b-oe?(I.bi_buf|=U<<I.bi_valid&65535,re(I,I.bi_buf),I.bi_buf=U>>b-I.bi_valid,I.bi_valid+=oe-b):(I.bi_buf|=U<<I.bi_valid&65535,I.bi_valid+=oe)}function ve(I,U,oe){he(I,oe[2*U],oe[2*U+1])}function ce(I,U){for(var oe=0;oe|=1&I,I>>>=1,oe<<=1,0<--U;);return oe>>>1}function j(I,U,oe){var me,ue,De=new Array(E+1),Pe=0;for(me=1;me<=E;me++)De[me]=Pe=Pe+oe[me-1]<<1;for(ue=0;ue<=U;ue++){var Oe=I[2*ue+1];Oe!==0&&(I[2*ue]=ce(De[Oe]++,Oe))}}function z(I){var U;for(U=0;U<g;U++)I.dyn_ltree[2*U]=0;for(U=0;U<y;U++)I.dyn_dtree[2*U]=0;for(U=0;U<w;U++)I.bl_tree[2*U]=0;I.dyn_ltree[2*T]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function se(I){8<I.bi_valid?re(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function ie(I,U,oe,me){var ue=2*U,De=2*oe;return I[ue]<I[De]||I[ue]===I[De]&&me[U]<=me[oe]}function X(I,U,oe){for(var me=I.heap[oe],ue=oe<<1;ue<=I.heap_len&&(ue<I.heap_len&&ie(U,I.heap[ue+1],I.heap[ue],I.depth)&&ue++,!ie(U,me,I.heap[ue],I.depth));)I.heap[oe]=I.heap[ue],oe=ue,ue<<=1;I.heap[oe]=me}function te(I,U,oe){var me,ue,De,Pe,Oe=0;if(I.last_lit!==0)for(;me=I.pending_buf[I.d_buf+2*Oe]<<8|I.pending_buf[I.d_buf+2*Oe+1],ue=I.pending_buf[I.l_buf+Oe],Oe++,me===0?ve(I,ue,U):(ve(I,(De=B[ue])+p+1,U),(Pe=O[De])!==0&&he(I,ue-=ae[De],Pe),ve(I,De=K(--me),oe),(Pe=P[De])!==0&&he(I,me-=fe[De],Pe)),Oe<I.last_lit;);ve(I,T,U)}function be(I,U){var oe,me,ue,De=U.dyn_tree,Pe=U.stat_desc.static_tree,Oe=U.stat_desc.has_stree,He=U.stat_desc.elems,Ge=-1;for(I.heap_len=0,I.heap_max=_,oe=0;oe<He;oe++)De[2*oe]!==0?(I.heap[++I.heap_len]=Ge=oe,I.depth[oe]=0):De[2*oe+1]=0;for(;I.heap_len<2;)De[2*(ue=I.heap[++I.heap_len]=Ge<2?++Ge:0)]=1,I.depth[ue]=0,I.opt_len--,Oe&&(I.static_len-=Pe[2*ue+1]);for(U.max_code=Ge,oe=I.heap_len>>1;1<=oe;oe--)X(I,De,oe);for(ue=He;oe=I.heap[1],I.heap[1]=I.heap[I.heap_len--],X(I,De,1),me=I.heap[1],I.heap[--I.heap_max]=oe,I.heap[--I.heap_max]=me,De[2*ue]=De[2*oe]+De[2*me],I.depth[ue]=(I.depth[oe]>=I.depth[me]?I.depth[oe]:I.depth[me])+1,De[2*oe+1]=De[2*me+1]=ue,I.heap[1]=ue++,X(I,De,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(it,Nt){var Zr,xn,Br,Kt,Jr,wr,Jn=Nt.dyn_tree,ei=Nt.max_code,qs=Nt.stat_desc.static_tree,ks=Nt.stat_desc.has_stree,Go=Nt.stat_desc.extra_bits,ti=Nt.stat_desc.extra_base,_r=Nt.stat_desc.max_length,Ri=0;for(Kt=0;Kt<=E;Kt++)it.bl_count[Kt]=0;for(Jn[2*it.heap[it.heap_max]+1]=0,Zr=it.heap_max+1;Zr<_;Zr++)_r<(Kt=Jn[2*Jn[2*(xn=it.heap[Zr])+1]+1]+1)&&(Kt=_r,Ri++),Jn[2*xn+1]=Kt,ei<xn||(it.bl_count[Kt]++,Jr=0,ti<=xn&&(Jr=Go[xn-ti]),wr=Jn[2*xn],it.opt_len+=wr*(Kt+Jr),ks&&(it.static_len+=wr*(qs[2*xn+1]+Jr)));if(Ri!==0){do{for(Kt=_r-1;it.bl_count[Kt]===0;)Kt--;it.bl_count[Kt]--,it.bl_count[Kt+1]+=2,it.bl_count[_r]--,Ri-=2}while(0<Ri);for(Kt=_r;Kt!==0;Kt--)for(xn=it.bl_count[Kt];xn!==0;)ei<(Br=it.heap[--Zr])||(Jn[2*Br+1]!==Kt&&(it.opt_len+=(Kt-Jn[2*Br+1])*Jn[2*Br],Jn[2*Br+1]=Kt),xn--)}}(I,U),j(De,Ge,I.bl_count)}function V(I,U,oe){var me,ue,De=-1,Pe=U[1],Oe=0,He=7,Ge=4;for(Pe===0&&(He=138,Ge=3),U[2*(oe+1)+1]=65535,me=0;me<=oe;me++)ue=Pe,Pe=U[2*(me+1)+1],++Oe<He&&ue===Pe||(Oe<Ge?I.bl_tree[2*ue]+=Oe:ue!==0?(ue!==De&&I.bl_tree[2*ue]++,I.bl_tree[2*x]++):Oe<=10?I.bl_tree[2*D]++:I.bl_tree[2*M]++,De=ue,Ge=(Oe=0)===Pe?(He=138,3):ue===Pe?(He=6,3):(He=7,4))}function _e(I,U,oe){var me,ue,De=-1,Pe=U[1],Oe=0,He=7,Ge=4;for(Pe===0&&(He=138,Ge=3),me=0;me<=oe;me++)if(ue=Pe,Pe=U[2*(me+1)+1],!(++Oe<He&&ue===Pe)){if(Oe<Ge)for(;ve(I,ue,I.bl_tree),--Oe!=0;);else ue!==0?(ue!==De&&(ve(I,ue,I.bl_tree),Oe--),ve(I,x,I.bl_tree),he(I,Oe-3,2)):Oe<=10?(ve(I,D,I.bl_tree),he(I,Oe-3,3)):(ve(I,M,I.bl_tree),he(I,Oe-11,7));De=ue,Ge=(Oe=0)===Pe?(He=138,3):ue===Pe?(He=6,3):(He=7,4)}}u(fe);var H=!1;function k(I,U,oe,me){he(I,(h<<1)+(me?1:0),3),function(ue,De,Pe,Oe){se(ue),re(ue,Pe),re(ue,~Pe),s.arraySet(ue.pending_buf,ue.window,De,Pe,ue.pending),ue.pending+=Pe}(I,U,oe)}i._tr_init=function(I){H||(function(){var U,oe,me,ue,De,Pe=new Array(E+1);for(ue=me=0;ue<f-1;ue++)for(ae[ue]=me,U=0;U<1<<O[ue];U++)B[me++]=ue;for(B[me-1]=ue,ue=De=0;ue<16;ue++)for(fe[ue]=De,U=0;U<1<<P[ue];U++)F[De++]=ue;for(De>>=7;ue<y;ue++)for(fe[ue]=De<<7,U=0;U<1<<P[ue]-7;U++)F[256+De++]=ue;for(oe=0;oe<=E;oe++)Pe[oe]=0;for(U=0;U<=143;)$[2*U+1]=8,U++,Pe[8]++;for(;U<=255;)$[2*U+1]=9,U++,Pe[9]++;for(;U<=279;)$[2*U+1]=7,U++,Pe[7]++;for(;U<=287;)$[2*U+1]=8,U++,Pe[8]++;for(j($,g+1,Pe),U=0;U<y;U++)N[2*U+1]=5,N[2*U]=ce(U,5);Q=new ee($,O,p+1,g,E),Y=new ee(N,P,0,y,E),pe=new ee(new Array(0),C,0,w,A)}(),H=!0),I.l_desc=new J(I.dyn_ltree,Q),I.d_desc=new J(I.dyn_dtree,Y),I.bl_desc=new J(I.bl_tree,pe),I.bi_buf=0,I.bi_valid=0,z(I)},i._tr_stored_block=k,i._tr_flush_block=function(I,U,oe,me){var ue,De,Pe=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(Oe){var He,Ge=4093624447;for(He=0;He<=31;He++,Ge>>>=1)if(1&Ge&&Oe.dyn_ltree[2*He]!==0)return o;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return l;for(He=32;He<p;He++)if(Oe.dyn_ltree[2*He]!==0)return l;return o}(I)),be(I,I.l_desc),be(I,I.d_desc),Pe=function(Oe){var He;for(V(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),V(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),be(Oe,Oe.bl_desc),He=w-1;3<=He&&Oe.bl_tree[2*W[He]+1]===0;He--);return Oe.opt_len+=3*(He+1)+5+5+4,He}(I),ue=I.opt_len+3+7>>>3,(De=I.static_len+3+7>>>3)<=ue&&(ue=De)):ue=De=oe+5,oe+4<=ue&&U!==-1?k(I,U,oe,me):I.strategy===4||De===ue?(he(I,2+(me?1:0),3),te(I,$,N)):(he(I,4+(me?1:0),3),function(Oe,He,Ge,it){var Nt;for(he(Oe,He-257,5),he(Oe,Ge-1,5),he(Oe,it-4,4),Nt=0;Nt<it;Nt++)he(Oe,Oe.bl_tree[2*W[Nt]+1],3);_e(Oe,Oe.dyn_ltree,He-1),_e(Oe,Oe.dyn_dtree,Ge-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,Pe+1),te(I,I.dyn_ltree,I.dyn_dtree)),z(I),me&&se(I)},i._tr_tally=function(I,U,oe){return I.pending_buf[I.d_buf+2*I.last_lit]=U>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&U,I.pending_buf[I.l_buf+I.last_lit]=255&oe,I.last_lit++,U===0?I.dyn_ltree[2*oe]++:(I.matches++,U--,I.dyn_ltree[2*(B[oe]+p+1)]++,I.dyn_dtree[2*K(U)]++),I.last_lit===I.lit_bufsize-1},i._tr_align=function(I){he(I,2,3),ve(I,T,$),function(U){U.bi_valid===16?(re(U,U.bi_buf),U.bi_buf=0,U.bi_valid=0):8<=U.bi_valid&&(U.pending_buf[U.pending++]=255&U.bi_buf,U.bi_buf>>=8,U.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(o,l){if(!o.setImmediate){var u,h,f,p,g=1,y={},w=!1,_=o.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(o);E=E&&E.setTimeout?E:o,u={}.toString.call(o.process)==="[object process]"?function(x){Ct.nextTick(function(){A(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,D=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=D,x}}()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(x){o.postMessage(p+x,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(x){A(x.data)},function(x){f.port2.postMessage(x)}):_&&"onreadystatechange"in _.createElement("script")?(h=_.documentElement,function(x){var D=_.createElement("script");D.onreadystatechange=function(){A(x),D.onreadystatechange=null,h.removeChild(D),D=null},h.appendChild(D)}):function(x){setTimeout(A,0,x)},E.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var D=new Array(arguments.length-1),M=0;M<D.length;M++)D[M]=arguments[M+1];var O={callback:x,args:D};return y[g]=O,u(g),g++},E.clearImmediate=b}function b(x){delete y[x]}function A(x){if(w)setTimeout(A,0,x);else{var D=y[x];if(D){w=!0;try{(function(M){var O=M.callback,P=M.args;switch(P.length){case 0:O();break;case 1:O(P[0]);break;case 2:O(P[0],P[1]);break;case 3:O(P[0],P[1],P[2]);break;default:O.apply(l,P)}})(D)}finally{b(x),w=!1}}}}function T(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(p)===0&&A(+x.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ME)),ME.exports}var xue=Eue();const Tue=cF(xue);var ep={exports:{}},PE,Y4;function Aue(){if(Y4)return PE;Y4=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(n,i){return r[i]}):t}return PE=e,PE}var X4;function Cue(){if(X4)return ep.exports;X4=1;var r=Aue(),e=XC().Stream,t="    ";function n(h,f){typeof f!="object"&&(f={indent:f});var p=f.stream?new e:null,g="",y=!1,w=f.indent?f.indent===!0?t:f.indent:"",_=!0;function E(D){_?Ct.nextTick(D):D()}function b(D,M){if(M!==void 0&&(g+=M),D&&!y&&(p=p||new e,y=!0),D&&y){var O=g;E(function(){p.emit("data",O)}),g=""}}function A(D,M){l(b,o(D,w,w?1:0),M)}function T(){if(p){var D=g;E(function(){p.emit("data",D),p.emit("end"),p.readable=!1,p.emit("close")})}}function x(D){var M=D.encoding||"UTF-8",O={version:"1.0",encoding:M};D.standalone&&(O.standalone=D.standalone),A({"?xml":{_attr:O}}),g=g.replace("/>","?>")}return E(function(){_=!1}),f.declaration&&x(f.declaration),h&&h.forEach?h.forEach(function(D,M){var O;M+1===h.length&&(O=T),A(D,O)}):A(h,T),p?(p.readable=!0,p):g}function i(){var h=Array.prototype.slice.call(arguments),f={_elem:o(h)};return f.push=function(p){if(!this.append)throw new Error("not assigned to a parent!");var g=this,y=this._elem.indent;l(this.append,o(p,y,this._elem.icount+(y?1:0)),function(){g.append(!0)})},f.close=function(p){p!==void 0&&this.push(p),this.end&&this.end()},f}function s(h,f){return new Array(f||0).join(h||"")}function o(h,f,p){p=p||0;var g=s(f,p),y,w=h,_=!1;if(typeof h=="object"){var E=Object.keys(h);if(y=E[0],w=h[y],w&&w._elem)return w._elem.name=y,w._elem.icount=p,w._elem.indent=f,w._elem.indents=g,w._elem.interrupt=w,w._elem}var b=[],A=[],T;function x(D){var M=Object.keys(D);M.forEach(function(O){b.push(u(O,D[O]))})}switch(typeof w){case"object":if(w===null)break;w._attr&&x(w._attr),w._cdata&&A.push(("<![CDATA["+w._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),w.forEach&&(T=!1,A.push(""),w.forEach(function(D){if(typeof D=="object"){var M=Object.keys(D)[0];M=="_attr"?x(D._attr):A.push(o(D,f,p+1))}else A.pop(),T=!0,A.push(r(D))}),T||A.push(""));break;default:A.push(r(w))}return{name:y,interrupt:_,attributes:b,content:A,icount:p,indents:g,indent:f}}function l(h,f,p){if(typeof f!="object")return h(!1,f);var g=f.interrupt?1:f.content.length;function y(){for(;f.content.length;){var _=f.content.shift();if(_!==void 0){if(w(_))return;l(h,_)}}h(!1,(g>1?f.indents:"")+(f.name?"</"+f.name+">":"")+(f.indent&&!p?`
`:"")),p&&p()}function w(_){return _.interrupt?(_.interrupt.append=h,_.interrupt.end=y,_.interrupt=!1,h(!0),!0):!1}if(h(!1,f.indents+(f.name?"<"+f.name:"")+(f.attributes.length?" "+f.attributes.join(" "):"")+(g?f.name?">":"":f.name?"/>":"")+(f.indent&&g>1?`
`:"")),!g)return h(!1,f.indent?`
`:"");w(f)||y()}function u(h,f){return h+'="'+r(f)+'"'}return ep.exports=n,ep.exports.element=ep.exports.Element=i,ep.exports}var Rue=Cue();const In=cF(Rue),tp=0,LE=32,kue=32,Due=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==kue)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(u=>parseInt(u,16));i.reverse();const o=r.slice(tp,LE).map((u,h)=>u^i[h%i.length]),l=new Uint8Array(tp+o.length+Math.max(0,r.length-LE));return l.set(r.slice(0,tp)),l.set(o,tp),l.set(r.slice(LE),tp+o.length),l};class Iue{format(e,t={stack:[]}){const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Oue{replace(e,t,n){let i=e;return t.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(e,t){return t.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class Nue{replace(e,t){let n=e;for(const i of t)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class Mue{constructor(){Be(this,"formatter"),Be(this,"imageReplacer"),Be(this,"numberingReplacer"),this.formatter=new Iue,this.imageReplacer=new Oue,this.numberingReplacer=new Nue}compile(e,t,n=[]){const i=new Tue,s=this.xmlifyFile(e,t),o=new Map(Object.entries(s));for(const[,l]of o)if(Array.isArray(l))for(const u of l)i.file(u.path,u.data);else i.file(l.path,l.data);for(const l of n)i.file(l.path,l.data);for(const l of e.Media.Array)l.type!=="svg"?i.file(`word/media/${l.fileName}`,l.data):(i.file(`word/media/${l.fileName}`,l.data),i.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:u,fontKey:h}of e.FontTable.fontOptionsWithKey){const[f]=u.split(".");i.file(`word/fonts/${f}.odttf`,Due(l,h))}return i}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,i=In(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,o=In(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(i,e.Media),u=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(l.forEach((h,f)=>{e.Document.Relationships.createRelationship(n+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),In(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(i,l,n);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=In(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:In(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:In(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:In(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,w)=>{h.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:In(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${f+1}.xml.rels`}}),FooterRelationships:e.Footers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,w)=>{h.Relationships.createRelationship(w,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:In(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${f+1}.xml.rels`}}),Headers:e.Headers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${f+1}.xml`}}),Footers:e.Footers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${f+1}.xml`}}),ContentTypes:{data:In(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:In(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:In(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:In(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:In(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:In(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(o,u,s);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(u.forEach((h,f)=>{e.Comments.Relationships.createRelationship(s+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),In(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:In(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:In(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Pue={WITH_2_BLANKS:"  "},Q4=r=>r===!0?Pue.WITH_2_BLANKS:r===!1?void 0:r,KF=class Ah{static pack(e,t,n){return cse(this,arguments,function*(i,s,o,l=[]){return this.compiler.compile(i,Q4(o),l).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,n=[]){return Ah.pack(e,"string",t,n)}static toBuffer(e,t,n=[]){return Ah.pack(e,"nodebuffer",t,n)}static toBase64String(e,t,n=[]){return Ah.pack(e,"base64",t,n)}static toBlob(e,t,n=[]){return Ah.pack(e,"blob",t,n)}static toArrayBuffer(e,t,n=[]){return Ah.pack(e,"arraybuffer",t,n)}static toStream(e,t,n=[]){const i=new Sue.Stream;return this.compiler.compile(e,Q4(t),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};Be(KF,"compiler",new Mue);let Lue=KF;var O0={exports:{}},Bue=O0.exports,Z4;function Fue(){return Z4||(Z4=1,function(r,e){(function(t,n){n()})(Bue,function(){function t(h,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,f,p){var g=new XMLHttpRequest;g.open("GET",h),g.responseType="blob",g.onload=function(){u(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(h){var f=new XMLHttpRequest;f.open("HEAD",h,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof uy=="object"&&uy.global===uy?uy:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(h,f,p){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||h.name||"download",y.download=f,y.rel="noopener",typeof h=="string"?(y.href=h,y.origin===location.origin?s(y):i(y.href)?n(h,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(h),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(h,f,p){if(f=f||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,p),f);else if(i(h))n(h,f,p);else{var g=document.createElement("a");g.href=h,g.target="_blank",setTimeout(function(){s(g)})}}:function(h,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof h=="string")return n(h,f,p);var y=h.type==="application/octet-stream",w=/constructor/i.test(o.HTMLElement)||o.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent);if((_||y&&w||l)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var T=E.result;T=_?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=T:location=T,g=null},E.readAsDataURL(h)}else{var b=o.URL||o.webkitURL,A=b.createObjectURL(h);g?g.location=A:location.href=A,g=null,setTimeout(function(){b.revokeObjectURL(A)},4e4)}});o.saveAs=u.saveAs=u,r.exports=u})}(O0)),O0.exports}var Vue=Fue();function Uue(){const r=ge.useRef(null),e=Lf();let t=mr(se=>se.noted.Folders);const[n,i]=ge.useState(!1),[s,o]=ge.useState(!1),[l,u]=ge.useState(""),[h,f]=ge.useState(!1),[p,g]=ge.useState(""),[y,w]=ge.useState(!1),[_,E]=ge.useState(""),[b,A]=ge.useState(null),T=ge.useRef(null),x=ge.useRef(null),D=ge.useRef(null),[M,O]=ge.useState(null),P=mr(se=>se.noted.editbar),C=mr(se=>se.noted.selectednote),W=mr(se=>se.noted.selectedfolderid),$=mr(se=>se.noted.logined),N=t?.find(se=>se.id==W),[F,B]=ge.useState(),[ae,Q]=ge.useState(P),[Y,pe]=ge.useState(""),fe=Ec(),[ee,J]=ge.useState(C?.notecontent),[K,re]=ge.useState(C?.notename||""),[he,ve]=ge.useState(C?.notecontent.length||0);ge.useEffect(()=>{t?.length&&fe(ZK(t))},[s]),ge.useEffect(()=>{Q(P)},[P]),ge.useEffect(()=>{i(!1),r.current.value="TXT",pe(C?.notetitle||""),ve(C?.notecontent.length||0),re(C?.note_name||""),J(C?.notecontent||"")},[C]),ge.useEffect(()=>{P==!1&&o(!1)},[P]),ge.useEffect(()=>{ae==!1?Yu.to(T.current,{xPercent:-100.1,duration:0,ease:"back-out"}):Yu.to(T.current,{xPercent:0,duration:.5,ease:"power1.out"})},[ae]);const ce=se=>{const ie=se.target.value;pe(ie),fe(wx({id:C?.id,folid:N?.id,prop:{notetitle:ie}}))},j=se=>{ve(se.length),fe(wx({id:C?.id,folid:N?.id,prop:{notecontent:se}}))},z=async(se,ie,X)=>{if(C){if(b=="TXT"){const te=`Title:-${ie||"Untitled"}

Note Content:-
${X||"No content wriiten in note!!"}`,be=new Blob([te],{type:"text/plain"}),V=URL.createObjectURL(be),_e=document.createElement("a");_e.href=V,_e.download=`${se}.txt`,document.body.appendChild(_e),_e.click(),document.body.removeChild(_e),URL.revokeObjectURL(V)}else if(b=="DOCX"){const te=ee.split(`
`).map(V=>new Qh({text:V,size:29,bold:!0})),be=new bue({sections:[{properties:{},children:[new Qh({children:[new zv({text:`Title:-
${ie||"Untitled"}`,bold:!0,size:32})]}),...te,new Qh({children:[new zv({text:`Content:-${te||"No content written"}`,size:30})]})]}]});Lue.toBlob(be).then(V=>{Vue.saveAs(V,`${se}.docx`)})}}};return le.jsxs(le.Fragment,{children:[le.jsxs("div",{ref:T,className:`edit fixed w-[50vw]  h-[90vh] b-0 z-[5] bg-black top-[9.5%] bottom-0 border-4 border-orange-500 rounded-b-sm border-l-0 flex 
    flex-row ${$?"":"hidden"}`,children:[le.jsxs("div",{className:"w-[50%] h-[100%] flex justify-center flex-col items-center bg-black border-r-2  border-orange-500 ",children:[le.jsxs("span",{className:"fold w-[100%] h-[8%] flex items-center  justify-start pl-1  ",children:[le.jsx("img",{src:Ux,className:"w-[7vmin] h-[7vmin]  mb-1",alt:""}),le.jsx("h1",{className:"flex text-center text-[5vmin] text-orange-500  w-[50%] font-semibold font-mono justify-left items-center ",children:"Folders"}),le.jsxs("span",{className:" flex b w-[50%] justify-center items-center gap-[9%] h-[100%]",children:[le.jsx("img",{src:El,className:`w-[4vmin] h-[4vmin]  rotate-45 duration-200 ${s?"rotate-90":"rotate-45"}`,alt:"",onClick:()=>{f(!1),o(se=>!se),s==!0&&u("")}}),le.jsx("img",{src:`${h?El:Wy}`,className:"w-[4vmin] h-[4vmin]  duration-200 ",alt:"",onClick:()=>{o(!1),f(se=>!se),h==!0&&g("")}})]})]}),le.jsxs("span",{className:`flex w-[100%] h-[4%] pt-2 justify-center  items-center duration-400 mb-2 pl-2 ${s?"":"hidden"}  `,children:[le.jsx("img",{src:$b,value:l,className:"w-[5vmin] h-[5vmin]",alt:""}),le.jsx("input",{type:"text",value:l,className:`w-[50%] text-orange-500 outline-none border-0 border-b-4 bg-transparent ${s?"":"hidden"} text-[3vmin] `,placeholder:"Give a name..",onChange:se=>u(se.target.value),onKeyDown:se=>{se.key==="Enter"&&(fe(oO({name:l})),o(!1),u(""))}}),le.jsx("button",{className:"text-[3vmin] p-0.5 px-1 bg-orange-600 ml-1 border-2 rounded-lg",onClick:()=>{l!=""?(fe(oO({name:l})),o(!1),u("")):alert("Folder name is empty...")},children:"Add"})]}),le.jsxs("span",{className:`flex w-[100%] justify-start ml-2  items-center duration-400 ${h?"":"hidden"}  pl-2`,children:[le.jsx("img",{src:Wy,className:"w-[5vmin] h-[5vmin] mr-1"}),le.jsx("input",{type:"text",value:p,className:"w-[70%] text-orange-500 outline-none border-0 border-b-4 bg-transparent text-[3vmin] ",placeholder:"Enter folder name... ",onChange:se=>g(se.target.value),onKeyDown:se=>{se.key=="Enter"&&(f(!1),g(""))}})]}),le.jsx("div",{className:`folders h-[100%] w-[100%] pl-[0.5vmin]  flex-col gap-[1.5%] overflow-y-auto overflow-x-hidden scrollbar-hide flex
     justify-start items-center`,ref:D,children:t?.map((se,ie)=>le.jsx(VQ,{fold:se,ind:ie,set1:o,searchmsg:p},se.id))})]}),le.jsxs("div",{className:`w-[50%] duration-400 h-[100%] flex flex-col items-center bg-black ${N??"hidden"}}`,children:[le.jsxs("span",{className:"nold w-[100%] h-[5%] flex items-center pt-2  justify-start  pl-0.5 mb-2 mt-0.5",children:[le.jsx("img",{src:w0,className:"w-[6vmin] h-[6vmin] ",alt:""}),le.jsx("h1",{className:"flex text-center text-[5vmin] text-orange-500   font-semibold font-mono justify-left items-center ",children:"Notes"}),le.jsx("img",{src:`${y?El:Wy}`,className:`w-[4vmin]   duration-400 ml-10 ${N??"hidden"}`,alt:"",onClick:()=>{w(se=>!se),h==!0&&E("")}})]}),le.jsxs("span",{className:`flex w-[100%] bg-red justify-start ml-5 pb-2 items-center duration-400 ${y?"":"hidden"}  `,children:[le.jsx("img",{src:Wy,className:"w-[4vmin] h-[4vmin] "}),le.jsx("input",{type:"text",value:_,className:"w-[60%] text-orange-500 outline-none border-0 border-b-4 bg-transparent text-[3vmin] ",placeholder:"Enter note name...",onChange:se=>E(se.target.value),onKeyDown:se=>{se.key=="Enter"&&w(!1)}})]}),le.jsxs("span",{className:"infobox ml-4 w-[100%] flex mb-1 items-center h-[7%] justify-center gap-[2%] ",ref:x,children:[le.jsx("img",{src:$b,className:`w-[4vmin] h-[4vmin] grid place-items-center  ${N??"hidden"}`,alt:""}),le.jsx("h2",{className:`text-white text-[2vmin] h-[100%] w-[30%]  text-left grid place-items-center $ ${N??"hidden"}`,children:N?.folname}),le.jsxs("h2",{className:`text-orange font-semibold  text-[2vmin]  w-[100%] h-[100%] grid place-items-center   ${N??"hidden"}`,children:["Total Notes-",N?.notes?.length]})]}),le.jsxs("div",{className:`h-[100%]  w-[100%]   flex flex-col gap-[1%]  overflow-x-hidden text-center justify-start items-center 
         ${N??""}`,ref:x,children:[le.jsx("h1",{className:`text-[5vmin] text-orange-500 font-semibold  w-[100%] text-center  duration-200 ${N?.folname?"hidden":""}`,children:"Choose a folder..."}),le.jsx("h1",{className:`text-[5vmin] text-orange-500 font-semibold   duration-200 ${N?.notes?.length==0?"":"hidden"}`,children:"Create a Note..."}),le.jsx("div",{className:`notes  h-[100%]    w-[100%]   flex flex-col  items-start gap-[1.5%] overflow-y-auto scrollbar-hide overflow-x-hidden
         text-center`,children:N?.notes?.map((se,ie)=>le.jsx(FQ,{not:se,items:{folders:t},noten:re,index1:ie,set:O,searchmsg_note:_,onClick:()=>fe(Ls(se))},se.id))})]}),le.jsx("button",{ref:T,className:`fixed top-[5%] left-[100%] w-[7vmin] z-[1] y-[7vmin] bg-black outline-none rouned-none rounded-r-[20%]
      border-4 border-orange-500 border-l-0`,onClick:()=>{fe(F5()),Q(P),fe(lp(!1))},children:le.jsx("img",{src:rse,alt:"",className:`duration-200 ${P?"rotate-0":"rotate-180"}`})})]})]}),le.jsxs("div",{className:`h absolute  top-[7%] z-[1]   h-[110vh] gap-1 w-[100vw] flex   justify-start items-center  flex-col ${$?"hidden":""}`,children:[le.jsxs("div",{className:"t w-[100%] h-[50%] flex flex-col items-center justify-start gap-2  py-1",children:[le.jsxs("h1",{className:"text-white text-[10vmin] pt-1 w-[100%] text-center mt-2",children:["Welcome to ",le.jsx("span",{className:"text-white font-serif ",children:"My"}),le.jsx("span",{className:"text-orange-500 text-[9vmin]",children:"Note"})]}),le.jsx("p",{className:" text-white text-[5vmin] w-[50%] text-center",children:"Your personal space to save ,edit and organize your thoughts securely and safely..."}),le.jsx("button",{className:"text-[5vmin] border-[0.3rem]      border-white p-2 text-white bg-orange-500 rounded-xl hover:bg-orange-700",onClick:()=>{e("/login")},children:"Get Started"})]}),le.jsxs("div",{className:"infobar  z-[-1]  w-[100%] h-[50%]   flex items-start justify-flex flex-row  pt-5",children:[le.jsxs("div",{className:"a w-[100%] gap-[1rem] text-center  h-[20%] flex items-center justify-start flex-col ",children:[le.jsx("span",{className:"w-[100%] h-[10%]  text-[5vmin] text-white  flex items-center justify-center flex-row",children:le.jsxs("span",{className:"flex justify-center items-center h-[20%]",children:[le.jsx("img",{src:w0,alt:"",className:"w-[7vmin]"}),"New Notes"]})}),le.jsx("p",{className:"texts p text-white text-[4vmin]  w-[70%] text-center",children:"Write down anything instantly,with diffrent styling..."})]}),le.jsxs("div",{className:"a w-[100%] text-center gap-[1rem]  h-[20%] flex items-center justify-start flex-col",children:[le.jsxs("span",{className:"a w-[100%] h-[10%]  text-[5vmin] text-white  flex items-center justify-center flex-row",children:[le.jsx("img",{src:Ux,alt:"",className:"w-[7vmin]"}),le.jsx("span",{children:"Sort Easily"})]}),le.jsx("p",{className:"p text-white text-[4vmin]  w-[90%] text-center",children:"Sort your Notes with tags and folders,search instantly and keep everything neat and accessible..."})]}),le.jsxs("div",{className:"a a1 w-[100%] text-center gap-[1rem] h-[20%] flex items-center justify-start flex-col",children:[le.jsxs("span",{className:"w-[100%] h-[10%]  text-[5vmin] text-white  flex items-center justify-center flex-row",children:[le.jsx("img",{src:ise,alt:"",className:"w-[7vmin]"}),le.jsx("span",{children:"Edit Notes"})]}),le.jsx("p",{className:"p text-white text-[4vmin]  w-[80%] text-center",children:"Keep your notes fresh by editing them whenever inspiration strikes..."})]})]})]}),le.jsxs("div",{className:`fixed  top-[7%]  h-[100%] z-5 left-0 w-[100vw] flex justify-center items-center  flex-col $
      ${$?"":"hidden"}`,children:[le.jsxs("span",{className:`flex h-[20%] w-[100%] justify-center items-center ${C?"hidden":""}`,children:[le.jsx("img",{src:w0,alt:"",width:"50vmin",height:"50vmin"}),le.jsx("h1",{className:"text-[8vmin] font-semibold duration-200",children:"No note selected. Start by picking or creating one!"})]}),le.jsx("div",{className:`absolute  z-[30] bg-gray-500 bg-opacity-70 grid place-items-center   w-[100vw] h-[100vh] ${n?"":"hidden"}`,children:le.jsxs("div",{className:"relative w-[15rem] rounded-lg h-64 bg-black border-4 flex  flex-col items-center justify-center gap-2",children:[le.jsx("img",{src:El,alt:"",className:"absolute w-7  top-3 right-3 ",onClick:()=>{i(!1),r.current.value="TXT"}}),le.jsx("label",{htmlFor:"select",className:"  text-white font-bold text-lg w-[90%] text-center",children:"Select a format"}),le.jsxs("select",{onChange:se=>A(se.target.value),ref:r,name:"",id:"s",className:"w-[80%] h-[20%] text-md font-semibold rounded-md border-[0.1rem] border-gray-500 bg-gray-900",children:[le.jsx("option",{value:"DOCX",children:"DOCX"}),le.jsx("option",{value:"TXT",selected:!0,children:"TXT"})]}),le.jsx("button",{className:"w-[80%] font-semibold bg-orange-600 py-2 text-white rounded-md brightness-150 text-md",onClick:()=>{z(K,Y,ee)},children:"Download"}),le.jsxs("h1",{className:"text-white text-md font-semibold",children:["Selcted format : ",b]}),le.jsxs("h1",{className:"text-white text-md font-semibold",children:["File : ",K,".",b?.toLocaleLowerCase()]})]})}),le.jsxs("div",{className:`h-[15%] w-[100%] z-[20] flex flex-col justify-center  items-start pl-[5%] ${C?"":"hidden"}
       ${N?.notes.length==0?"hidden":""} `,children:[le.jsxs("span",{className:"h-[40%] w-[100%] mt-2 flex justify-start items-center ",children:[le.jsx("input",{type:"text",value:Y,className:`outline-none border-0 text-2xl gap-2
         bg-transparent h-[100%] text-left text-orange-500 w-[70%]  pl-1`,onChange:ce,placeholder:"Give a title.."}),le.jsx("button",{onClick:()=>{i(!0),A("TXT")},className:"text-md border-orange-500 px-4 py-1 border-2 rounded-lg text-orange-500 font-semibold ",children:"Dowload"})]}),le.jsxs("span",{className:"flex w-[100%] h-[100%] justify-start items-center flex-row  ml-2 ",children:[le.jsxs("h5",{className:"text-[2vmin] w-full font-bold",children:["Created - ",C?.time]}),le.jsxs("span",{className:"flex w-full h-[20%]  items-center justify-center text-[2vmin] font-bold",children:[le.jsx("img",{src:$b,alt:"",className:"w-[3vmin]"}),le.jsxs("h5",{children:[N?.folname," \\ "]}),le.jsx("img",{src:fC,alt:"",className:"w-[3vmin]"}),le.jsx("h5",{children:C?.note_name})]}),le.jsxs("h5",{className:"text-[2vmin] w-full text-center font-bold",children:["Total characters:",he]})]})]}),le.jsx("textarea",{placeholder:"Write note content hear.....",value:ee||"",onChange:se=>{J(se.target.value),j(se.target.value)},className:`shadow-lg text-[3vmin] w-[100vw] h-[80vh] bg-gray-900 overflow-scroll p-5 border-t-4 border-t-orange-600 outline-none  ${C?"":"hidden"} scrollbar-hide`})]})]})}function zue(){return le.jsx("div",{className:"absolute    h-[100vh] w-[100vw]  flex justify-center items-center  flex-col sm:pt-0 ",children:le.jsx("div",{className:"max-w-6xl mx-auto sm:px-6 h-[80%] lg:px-8  rounded-lg",children:le.jsx("div",{className:"mt-5 overflow-hidden",children:le.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 ",children:[le.jsxs("div",{className:"p1 p-6  bg-orange-500 sm:rounded-l-lg border-4 w-[100%]  ",children:[le.jsx("h1",{className:"text-3xl sm:text-4xl text-gray-800 font-extrabold tracking-tight",children:"Get in touch:"}),le.jsx("p",{className:"text-normal text-lg sm:text-xl font-medium text-gray-900 mt-2",children:"Fill in the form to start a conversation"}),le.jsxs("div",{className:"flex items-center mt-8 text-black ",children:[le.jsxs("svg",{fill:"none",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",className:"w-8 h-8 text-gray-700",children:[le.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),le.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),le.jsx("div",{className:"ml-4 text-md tracking-wide font-semibold w-40 text-white",children:"Bhubaneswar,odisha,india"})]}),le.jsxs("div",{className:"flex items-center mt-4 text-gray-700",children:[le.jsx("svg",{fill:"none",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",className:"w-8 h-8 text-gray-500",children:le.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),le.jsx("div",{className:"ml-4 text-md tracking-wide font-semibold w-40 text-white",children:"+919337732649"})]}),le.jsxs("div",{className:"flex items-center mt-2 text-gray-700",children:[le.jsx("svg",{fill:"none",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",className:"w-8 h-8 text-gray-700",children:le.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),le.jsx("div",{className:"ml-4 text-md tracking-wide font-semibold w-40 text-white",children:"ankitmuna123@gmail.com"})]})]}),le.jsxs("form",{className:"p2 p-6 sm:rounded-r-lg flex flex-col justify-center items-center bg-orange-500  border-4 ",children:[le.jsxs("div",{className:"flex flex-col w-[100%] ",children:[le.jsx("label",{for:"name",className:"hidden",children:"Full Name"}),le.jsx("input",{type:"name",name:"name",id:"name",placeholder:"Full Name",className:"w-100 mt-2 py-3 px-3 rounded-lg bg-white border-4 border-transparent  text-gray-800 font-semibold focus:border-yellow-500 focus:outline-none"})]}),le.jsxs("div",{className:"flex flex-col mt-2 w-[100%]",children:[le.jsx("label",{for:"email",className:"hidden",children:"Email"}),le.jsx("input",{type:"email",name:"email",id:"email",placeholder:"Email",className:"w-100 mt-2 py-3 px-3 rounded-lg bg-white border-4 border-transparent text-gray-800 font-semibold focus:border-yellow-500 focus:outline-none"})]}),le.jsxs("div",{className:"flex flex-col mt-2 w-[100%]",children:[le.jsx("label",{for:"tel",className:"hidden",children:"Number"}),le.jsx("input",{type:"tel",name:"tel",id:"tel",placeholder:"Telephone Number",className:"w-100 mt-2 py-3 px-3 rounded-lg bg-white border-4 border-transparent text-gray-800 font-semibold focus:border-yellow-500 focus:outline-none"})]}),le.jsx("button",{type:"submit",className:"md:w-32 border-4  bg-orange-600 hover:bg-blue-dark text-white font-bold py-3 px-6 rounded-lg mt-3 hover:bg-orange-700 transition ease-in-out duration-300",children:"Submit"})]})]})})})})}const jue=XY(AY(le.jsxs(Eh,{path:"/",element:le.jsx(kQ,{}),children:[le.jsx(Eh,{path:"/",element:le.jsx(Uue,{})}),le.jsx(Eh,{path:"/login",element:le.jsx(LQ,{})}),le.jsx(Eh,{path:"/signup",element:le.jsx(BQ,{})}),le.jsx(Eh,{path:"/contact",element:le.jsx(zue,{})})]})),{basename:"/Note_App-react/"});MQ.createRoot(document.getElementById("root")).render(le.jsx(zK,{store:PQ,children:le.jsx(uX,{router:jue})}));
