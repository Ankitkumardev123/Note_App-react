(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z_={exports:{}},Fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD;function EU(){if(gD)return Fd;gD=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,s){var o=null;if(s!==void 0&&(o=""+s),i.key!==void 0&&(o=""+i.key),"key"in i){s={};for(var l in i)l!=="key"&&(s[l]=i[l])}else s=i;return i=s.ref,{$$typeof:r,type:n,key:o,ref:i!==void 0?i:null,props:s}}return Fd.Fragment=e,Fd.jsx=t,Fd.jsxs=t,Fd}var yD;function xU(){return yD||(yD=1,z_.exports=EU()),z_.exports}var ae=xU(),j_={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD;function TU(){if(vD)return xt;vD=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(ee){return ee===null||typeof ee!="object"?null:(ee=p&&ee[p]||ee["@@iterator"],typeof ee=="function"?ee:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,w={};function E(ee,J,K){this.props=ee,this.context=J,this.refs=w,this.updater=K||y}E.prototype.isReactComponent={},E.prototype.setState=function(ee,J){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,J,"setState")},E.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function b(){}b.prototype=E.prototype;function A(ee,J,K){this.props=ee,this.context=J,this.refs=w,this.updater=K||y}var T=A.prototype=new b;T.constructor=A,_(T,E.prototype),T.isPureReactComponent=!0;var x=Array.isArray,D={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function N(ee,J,K,re,he,ve){return K=ve.ref,{$$typeof:r,type:ee,key:J,ref:K!==void 0?K:null,props:ve}}function O(ee,J){return N(ee.type,J,void 0,void 0,void 0,ee.props)}function C(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function q(ee){var J={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(K){return J[K]})}var $=/\/+/g;function M(ee,J){return typeof ee=="object"&&ee!==null&&ee.key!=null?q(""+ee.key):J.toString(36)}function V(){}function B(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(V,V):(ee.status="pending",ee.then(function(J){ee.status==="pending"&&(ee.status="fulfilled",ee.value=J)},function(J){ee.status==="pending"&&(ee.status="rejected",ee.reason=J)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function oe(ee,J,K,re,he){var ve=typeof ee;(ve==="undefined"||ve==="boolean")&&(ee=null);var ue=!1;if(ee===null)ue=!0;else switch(ve){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(ee.$$typeof){case r:case e:ue=!0;break;case f:return ue=ee._init,oe(ue(ee._payload),J,K,re,he)}}if(ue)return he=he(ee),ue=re===""?"."+M(ee,0):re,x(he)?(K="",ue!=null&&(K=ue.replace($,"$&/")+"/"),oe(he,J,K,"",function(ce){return ce})):he!=null&&(C(he)&&(he=O(he,K+(he.key==null||ee&&ee.key===he.key?"":(""+he.key).replace($,"$&/")+"/")+ue)),J.push(he)),1;ue=0;var j=re===""?".":re+":";if(x(ee))for(var F=0;F<ee.length;F++)re=ee[F],ve=j+M(re,F),ue+=oe(re,J,K,ve,he);else if(F=g(ee),typeof F=="function")for(ee=F.call(ee),F=0;!(re=ee.next()).done;)re=re.value,ve=j+M(re,F++),ue+=oe(re,J,K,ve,he);else if(ve==="object"){if(typeof ee.then=="function")return oe(B(ee),J,K,re,he);throw J=String(ee),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return ue}function Q(ee,J,K){if(ee==null)return ee;var re=[],he=0;return oe(ee,re,"","",function(ve){return J.call(K,ve,he++)}),re}function X(ee){if(ee._status===-1){var J=ee._result;J=J(),J.then(function(K){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=K)},function(K){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=K)}),ee._status===-1&&(ee._status=0,ee._result=J)}if(ee._status===1)return ee._result.default;throw ee._result}var fe=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)};function de(){}return xt.Children={map:Q,forEach:function(ee,J,K){Q(ee,function(){J.apply(this,arguments)},K)},count:function(ee){var J=0;return Q(ee,function(){J++}),J},toArray:function(ee){return Q(ee,function(J){return J})||[]},only:function(ee){if(!C(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},xt.Component=E,xt.Fragment=t,xt.Profiler=i,xt.PureComponent=A,xt.StrictMode=n,xt.Suspense=u,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,xt.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return D.H.useMemoCache(ee)}},xt.cache=function(ee){return function(){return ee.apply(null,arguments)}},xt.cloneElement=function(ee,J,K){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var re=_({},ee.props),he=ee.key,ve=void 0;if(J!=null)for(ue in J.ref!==void 0&&(ve=void 0),J.key!==void 0&&(he=""+J.key),J)!P.call(J,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&J.ref===void 0||(re[ue]=J[ue]);var ue=arguments.length-2;if(ue===1)re.children=K;else if(1<ue){for(var j=Array(ue),F=0;F<ue;F++)j[F]=arguments[F+2];re.children=j}return N(ee.type,he,void 0,void 0,ve,re)},xt.createContext=function(ee){return ee={$$typeof:o,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:s,_context:ee},ee},xt.createElement=function(ee,J,K){var re,he={},ve=null;if(J!=null)for(re in J.key!==void 0&&(ve=""+J.key),J)P.call(J,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(he[re]=J[re]);var ue=arguments.length-2;if(ue===1)he.children=K;else if(1<ue){for(var j=Array(ue),F=0;F<ue;F++)j[F]=arguments[F+2];he.children=j}if(ee&&ee.defaultProps)for(re in ue=ee.defaultProps,ue)he[re]===void 0&&(he[re]=ue[re]);return N(ee,ve,void 0,void 0,null,he)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(ee){return{$$typeof:l,render:ee}},xt.isValidElement=C,xt.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:X}},xt.memo=function(ee,J){return{$$typeof:h,type:ee,compare:J===void 0?null:J}},xt.startTransition=function(ee){var J=D.T,K={};D.T=K;try{var re=ee(),he=D.S;he!==null&&he(K,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(de,fe)}catch(ve){fe(ve)}finally{D.T=J}},xt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},xt.use=function(ee){return D.H.use(ee)},xt.useActionState=function(ee,J,K){return D.H.useActionState(ee,J,K)},xt.useCallback=function(ee,J){return D.H.useCallback(ee,J)},xt.useContext=function(ee){return D.H.useContext(ee)},xt.useDebugValue=function(){},xt.useDeferredValue=function(ee,J){return D.H.useDeferredValue(ee,J)},xt.useEffect=function(ee,J,K){var re=D.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(ee,J)},xt.useId=function(){return D.H.useId()},xt.useImperativeHandle=function(ee,J,K){return D.H.useImperativeHandle(ee,J,K)},xt.useInsertionEffect=function(ee,J){return D.H.useInsertionEffect(ee,J)},xt.useLayoutEffect=function(ee,J){return D.H.useLayoutEffect(ee,J)},xt.useMemo=function(ee,J){return D.H.useMemo(ee,J)},xt.useOptimistic=function(ee,J){return D.H.useOptimistic(ee,J)},xt.useReducer=function(ee,J,K){return D.H.useReducer(ee,J,K)},xt.useRef=function(ee){return D.H.useRef(ee)},xt.useState=function(ee){return D.H.useState(ee)},xt.useSyncExternalStore=function(ee,J,K){return D.H.useSyncExternalStore(ee,J,K)},xt.useTransition=function(){return D.H.useTransition()},xt.version="19.1.0",xt}var wD;function qv(){return wD||(wD=1,j_.exports=TU()),j_.exports}var me=qv();function Cr(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var AU=typeof Symbol=="function"&&Symbol.observable||"@@observable",_D=AU,H_=()=>Math.random().toString(36).substring(7).split("").join("."),CU={INIT:`@@redux/INIT${H_()}`,REPLACE:`@@redux/REPLACE${H_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H_()}`},L0=CU;function KT(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function r6(r,e,t){if(typeof r!="function")throw new Error(Cr(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Cr(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Cr(1));return t(r6)(r,e)}let n=r,i=e,s=new Map,o=s,l=0,u=!1;function h(){o===s&&(o=new Map,s.forEach((E,b)=>{o.set(b,E)}))}function f(){if(u)throw new Error(Cr(3));return i}function p(E){if(typeof E!="function")throw new Error(Cr(4));if(u)throw new Error(Cr(5));let b=!0;h();const A=l++;return o.set(A,E),function(){if(b){if(u)throw new Error(Cr(6));b=!1,h(),o.delete(A),s=null}}}function g(E){if(!KT(E))throw new Error(Cr(7));if(typeof E.type>"u")throw new Error(Cr(8));if(typeof E.type!="string")throw new Error(Cr(17));if(u)throw new Error(Cr(9));try{u=!0,i=n(i,E)}finally{u=!1}return(s=o).forEach(A=>{A()}),E}function y(E){if(typeof E!="function")throw new Error(Cr(10));n=E,g({type:L0.REPLACE})}function _(){const E=p;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Cr(11));function A(){const x=b;x.next&&x.next(f())}return A(),{unsubscribe:E(A)}},[_D](){return this}}}return g({type:L0.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:y,[_D]:_}}function RU(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:L0.INIT})>"u")throw new Error(Cr(12));if(typeof t(void 0,{type:L0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Cr(13))})}function kU(r){const e=Object.keys(r),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof r[o]=="function"&&(t[o]=r[o])}const n=Object.keys(t);let i;try{RU(t)}catch(s){i=s}return function(o={},l){if(i)throw i;let u=!1;const h={};for(let f=0;f<n.length;f++){const p=n[f],g=t[p],y=o[p],_=g(y,l);if(typeof _>"u")throw l&&l.type,new Error(Cr(14));h[p]=_,u=u||_!==y}return u=u||n.length!==Object.keys(o).length,u?h:o}}function B0(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...n)=>e(t(...n)))}function DU(...r){return e=>(t,n)=>{const i=e(t,n);let s=()=>{throw new Error(Cr(15))};const o={getState:i.getState,dispatch:(u,...h)=>s(u,...h)},l=r.map(u=>u(o));return s=B0(...l)(i.dispatch),{...i,dispatch:s}}}function IU(r){return KT(r)&&"type"in r&&typeof r.type=="string"}var i6=Symbol.for("immer-nothing"),bD=Symbol.for("immer-draftable"),Yi=Symbol.for("immer-state");function Ps(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Zh=Object.getPrototypeOf;function ac(r){return!!r&&!!r[Yi]}function Aa(r){return r?s6(r)||Array.isArray(r)||!!r[bD]||!!r.constructor?.[bD]||Gv(r)||Kv(r):!1}var OU=Object.prototype.constructor.toString();function s6(r){if(!r||typeof r!="object")return!1;const e=Zh(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===OU}function F0(r,e){Wv(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,n)=>e(n,t,r))}function Wv(r){const e=r[Yi];return e?e.type_:Array.isArray(r)?1:Gv(r)?2:Kv(r)?3:0}function UE(r,e){return Wv(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function o6(r,e,t){const n=Wv(r);n===2?r.set(e,t):n===3?r.add(t):r[e]=t}function NU(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function Gv(r){return r instanceof Map}function Kv(r){return r instanceof Set}function zu(r){return r.copy_||r.base_}function zE(r,e){if(Gv(r))return new Map(r);if(Kv(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=s6(r);if(e===!0||e==="class_only"&&!t){const n=Object.getOwnPropertyDescriptors(r);delete n[Yi];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const o=i[s],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:r[o]})}return Object.create(Zh(r),n)}else{const n=Zh(r);if(n!==null&&t)return{...r};const i=Object.create(n);return Object.assign(i,r)}}function $T(r,e=!1){return $v(r)||ac(r)||!Aa(r)||(Wv(r)>1&&(r.set=r.add=r.clear=r.delete=MU),Object.freeze(r),e&&Object.entries(r).forEach(([t,n])=>$T(n,!0))),r}function MU(){Ps(2)}function $v(r){return Object.isFrozen(r)}var PU={};function lc(r){const e=PU[r];return e||Ps(0,r),e}var Lp;function a6(){return Lp}function LU(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SD(r,e){e&&(lc("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function jE(r){HE(r),r.drafts_.forEach(BU),r.drafts_=null}function HE(r){r===Lp&&(Lp=r.parent_)}function ED(r){return Lp=LU(Lp,r)}function BU(r){const e=r[Yi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function xD(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[Yi].modified_&&(jE(e),Ps(4)),Aa(r)&&(r=V0(e,r),e.parent_||U0(e,r)),e.patches_&&lc("Patches").generateReplacementPatches_(t[Yi].base_,r,e.patches_,e.inversePatches_)):r=V0(e,t,[]),jE(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==i6?r:void 0}function V0(r,e,t){if($v(e))return e;const n=e[Yi];if(!n)return F0(e,(i,s)=>TD(r,n,e,i,s,t)),e;if(n.scope_!==r)return e;if(!n.modified_)return U0(r,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,o=!1;n.type_===3&&(s=new Set(i),i.clear(),o=!0),F0(s,(l,u)=>TD(r,n,i,l,u,t,o)),U0(r,i,!1),t&&r.patches_&&lc("Patches").generatePatches_(n,t,r.patches_,r.inversePatches_)}return n.copy_}function TD(r,e,t,n,i,s,o){if(ac(i)){const l=s&&e&&e.type_!==3&&!UE(e.assigned_,n)?s.concat(n):void 0,u=V0(r,i,l);if(o6(t,n,u),ac(u))r.canAutoFreeze_=!1;else return}else o&&t.add(i);if(Aa(i)&&!$v(i)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;V0(r,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,n)&&U0(r,i)}}function U0(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&$T(e,t)}function FU(r,e){const t=Array.isArray(r),n={type_:t?1:0,scope_:e?e.scope_:a6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=YT;t&&(i=[n],s=Bp);const{revoke:o,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=o,l}var YT={get(r,e){if(e===Yi)return r;const t=zu(r);if(!UE(t,e))return VU(r,t,e);const n=t[e];return r.finalized_||!Aa(n)?n:n===q_(r.base_,e)?(W_(r),r.copy_[e]=WE(n,r)):n},has(r,e){return e in zu(r)},ownKeys(r){return Reflect.ownKeys(zu(r))},set(r,e,t){const n=l6(zu(r),e);if(n?.set)return n.set.call(r.draft_,t),!0;if(!r.modified_){const i=q_(zu(r),e),s=i?.[Yi];if(s&&s.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(NU(t,i)&&(t!==void 0||UE(r.base_,e)))return!0;W_(r),qE(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return q_(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,W_(r),qE(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=zu(r),n=Reflect.getOwnPropertyDescriptor(t,e);return n&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:n.enumerable,value:t[e]}},defineProperty(){Ps(11)},getPrototypeOf(r){return Zh(r.base_)},setPrototypeOf(){Ps(12)}},Bp={};F0(YT,(r,e)=>{Bp[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Bp.deleteProperty=function(r,e){return Bp.set.call(this,r,e,void 0)};Bp.set=function(r,e,t){return YT.set.call(this,r[0],e,t,r[0])};function q_(r,e){const t=r[Yi];return(t?zu(t):r)[e]}function VU(r,e,t){const n=l6(e,t);return n?"value"in n?n.value:n.get?.call(r.draft_):void 0}function l6(r,e){if(!(e in r))return;let t=Zh(r);for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n)return n;t=Zh(t)}}function qE(r){r.modified_||(r.modified_=!0,r.parent_&&qE(r.parent_))}function W_(r){r.copy_||(r.copy_=zE(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var UU=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(u=s,...h){return o.produce(u,f=>t.call(this,f,...h))}}typeof t!="function"&&Ps(6),n!==void 0&&typeof n!="function"&&Ps(7);let i;if(Aa(e)){const s=ED(this),o=WE(e,void 0);let l=!0;try{i=t(o),l=!1}finally{l?jE(s):HE(s)}return SD(s,n),xD(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===i6&&(i=void 0),this.autoFreeze_&&$T(i,!0),n){const s=[],o=[];lc("Patches").generateReplacementPatches_(e,i,s,o),n(s,o)}return i}else Ps(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...l)=>this.produceWithPatches(o,u=>e(u,...l));let n,i;return[this.produce(e,t,(o,l)=>{n=o,i=l}),n,i]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Aa(r)||Ps(8),ac(r)&&(r=zU(r));const e=ED(this),t=WE(r,void 0);return t[Yi].isManual_=!0,HE(e),t}finishDraft(r,e){const t=r&&r[Yi];(!t||!t.isManual_)&&Ps(9);const{scope_:n}=t;return SD(n,e),xD(void 0,n)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}t>-1&&(e=e.slice(t+1));const n=lc("Patches").applyPatches_;return ac(r)?n(r,e):this.produce(r,i=>n(i,e))}};function WE(r,e){const t=Gv(r)?lc("MapSet").proxyMap_(r,e):Kv(r)?lc("MapSet").proxySet_(r,e):FU(r,e);return(e?e.scope_:a6()).drafts_.push(t),t}function zU(r){return ac(r)||Ps(10,r),u6(r)}function u6(r){if(!Aa(r)||$v(r))return r;const e=r[Yi];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=zE(r,e.scope_.immer_.useStrictShallowCopy_)}else t=zE(r,!0);return F0(t,(n,i)=>{o6(t,n,u6(i))}),e&&(e.finalized_=!1),t}var Xi=new UU,c6=Xi.produce;Xi.produceWithPatches.bind(Xi);Xi.setAutoFreeze.bind(Xi);Xi.setUseStrictShallowCopy.bind(Xi);Xi.applyPatches.bind(Xi);Xi.createDraft.bind(Xi);Xi.finishDraft.bind(Xi);function h6(r){return({dispatch:t,getState:n})=>i=>s=>typeof s=="function"?s(t,n,r):i(s)}var jU=h6(),HU=h6,qU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?B0:B0.apply(null,arguments)};function AD(r,e){function t(...n){if(e){let i=e(...n);if(!i)throw new Error(Sa(0));return{type:r,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:r,payload:n[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=n=>IU(n)&&n.type===r,t}var f6=class np extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,np.prototype)}static get[Symbol.species](){return np}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new np(...e[0].concat(this)):new np(...e.concat(this))}};function CD(r){return Aa(r)?c6(r,()=>{}):r}function hy(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function WU(r){return typeof r=="boolean"}var GU=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new f6;return t&&(WU(t)?o.push(jU):o.push(HU(t.extraArgument))),o},KU="RTK_autoBatch",RD=r=>e=>{setTimeout(e,r)},$U=(r={type:"raf"})=>e=>(...t)=>{const n=e(...t);let i=!0,s=!1,o=!1;const l=new Set,u=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RD(10):r.type==="callback"?r.queueNotification:RD(r.timeout),h=()=>{o=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),g=n.subscribe(p);return l.add(f),()=>{g(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[KU],s=!i,s&&(o||(o=!0,u(h))),n.dispatch(f)}finally{i=!0}}})},YU=r=>function(t){const{autoBatch:n=!0}=t??{};let i=new f6(r);return n&&i.push($U(typeof n=="object"?n:void 0)),i};function XU(r){const e=GU(),{reducer:t=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=r||{};let l;if(typeof t=="function")l=t;else if(KT(t))l=kU(t);else throw new Error(Sa(1));let u;typeof n=="function"?u=n(e):u=e();let h=B0;i&&(h=qU({trace:!1,...typeof i=="object"&&i}));const f=DU(...u),p=YU(f);let g=typeof o=="function"?o(p):p();const y=h(...g);return r6(l,s,y)}function d6(r){const e={},t=[];let n;const i={addCase(s,o){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Sa(28));if(l in e)throw new Error(Sa(29));return e[l]=o,i},addMatcher(s,o){return t.push({matcher:s,reducer:o}),i},addDefaultCase(s){return n=s,i}};return r(i),[e,t,n]}function QU(r){return typeof r=="function"}function ZU(r,e){let[t,n,i]=d6(e),s;if(QU(r))s=()=>CD(r());else{const l=CD(r);s=()=>l}function o(l=s(),u){let h=[t[u.type],...n.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[i]),h.reduce((f,p)=>{if(p)if(ac(f)){const y=p(f,u);return y===void 0?f:y}else{if(Aa(f))return c6(f,g=>p(g,u));{const g=p(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},l)}return o.getInitialState=s,o}var JU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kD=(r=21)=>{let e="",t=r;for(;t--;)e+=JU[Math.random()*64|0];return e},e7=Symbol.for("rtk-slice-createasyncthunk");function t7(r,e){return`${r}/${e}`}function n7({creators:r}={}){const e=r?.asyncThunk?.[e7];return function(n){const{name:i,reducerPath:s=i}=n;if(!i)throw new Error(Sa(11));const o=(typeof n.reducers=="function"?n.reducers(s7()):n.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(T,x){const D=typeof T=="string"?T:T.type;if(!D)throw new Error(Sa(12));if(D in u.sliceCaseReducersByType)throw new Error(Sa(13));return u.sliceCaseReducersByType[D]=x,h},addMatcher(T,x){return u.sliceMatchers.push({matcher:T,reducer:x}),h},exposeAction(T,x){return u.actionCreators[T]=x,h},exposeCaseReducer(T,x){return u.sliceCaseReducersByName[T]=x,h}};l.forEach(T=>{const x=o[T],D={reducerName:T,type:t7(i,T),createNotation:typeof n.reducers=="function"};a7(x)?u7(D,x,h,e):o7(D,x,h)});function f(){const[T={},x=[],D=void 0]=typeof n.extraReducers=="function"?d6(n.extraReducers):[n.extraReducers],P={...T,...u.sliceCaseReducersByType};return ZU(n.initialState,N=>{for(let O in P)N.addCase(O,P[O]);for(let O of u.sliceMatchers)N.addMatcher(O.matcher,O.reducer);for(let O of x)N.addMatcher(O.matcher,O.reducer);D&&N.addDefaultCase(D)})}const p=T=>T,g=new Map,y=new WeakMap;let _;function w(T,x){return _||(_=f()),_(T,x)}function E(){return _||(_=f()),_.getInitialState()}function b(T,x=!1){function D(N){let O=N[T];return typeof O>"u"&&x&&(O=hy(y,D,E)),O}function P(N=p){const O=hy(g,x,()=>new WeakMap);return hy(O,N,()=>{const C={};for(const[q,$]of Object.entries(n.selectors??{}))C[q]=r7($,N,()=>hy(y,N,E),x);return C})}return{reducerPath:T,getSelectors:P,get selectors(){return P(D)},selectSlice:D}}const A={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...b(s),injectInto(T,{reducerPath:x,...D}={}){const P=x??s;return T.inject({reducerPath:P,reducer:w},D),{...A,...b(P,!0)}}};return A}}function r7(r,e,t,n){function i(s,...o){let l=e(s);return typeof l>"u"&&n&&(l=t()),r(l,...o)}return i.unwrapped=r,i}var i7=n7();function s7(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function o7({type:r,reducerName:e,createNotation:t},n,i){let s,o;if("reducer"in n){if(t&&!l7(n))throw new Error(Sa(17));s=n.reducer,o=n.prepare}else s=n;i.addCase(r,s).exposeCaseReducer(e,s).exposeAction(e,o?AD(r,o):AD(r))}function a7(r){return r._reducerDefinitionType==="asyncThunk"}function l7(r){return r._reducerDefinitionType==="reducerWithPrepare"}function u7({type:r,reducerName:e},t,n,i){if(!i)throw new Error(Sa(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:u,settled:h,options:f}=t,p=i(r,s,f);n.exposeAction(e,p),o&&n.addCase(p.fulfilled,o),l&&n.addCase(p.pending,l),u&&n.addCase(p.rejected,u),h&&n.addMatcher(p.settled,h),n.exposeCaseReducer(e,{fulfilled:o||fy,pending:l||fy,rejected:u||fy,settled:h||fy})}function fy(){}function Sa(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const c7=()=>{};var DD={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let i=r.charCodeAt(n);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},h7=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const i=r[t++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=r[t++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=r[t++],o=r[t++],l=r[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[n++]=String.fromCharCode(55296+(u>>10)),e[n++]=String.fromCharCode(56320+(u&1023))}else{const s=r[t++],o=r[t++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},m6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<r.length;i+=3){const s=r[i],o=i+1<r.length,l=o?r[i+1]:0,u=i+2<r.length,h=u?r[i+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;u||(y=64,o||(g=64)),n.push(t[f],t[p],t[g],t[y])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(p6(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):h7(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<r.length;){const s=t[r.charAt(i++)],l=i<r.length?t[r.charAt(i)]:0;++i;const h=i<r.length?t[r.charAt(i)]:64;++i;const p=i<r.length?t[r.charAt(i)]:64;if(++i,s==null||l==null||h==null||p==null)throw new f7;const g=s<<2|l>>4;if(n.push(g),h!==64){const y=l<<4&240|h>>2;if(n.push(y),p!==64){const _=h<<6&192|p;n.push(_)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class f7 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const d7=function(r){const e=p6(r);return m6.encodeByteArray(e,!0)},z0=function(r){return d7(r).replace(/\./g,"")},g6=function(r){try{return m6.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p7(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m7=()=>p7().__FIREBASE_DEFAULTS__,g7=()=>{if(typeof process>"u"||typeof DD>"u")return;const r=DD.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},y7=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g6(r[1]);return e&&JSON.parse(e)},Yv=()=>{try{return c7()||m7()||g7()||y7()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y6=r=>Yv()?.emulatorHosts?.[r],v7=r=>{const e=y6(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},v6=()=>Yv()?.config,w6=r=>Yv()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let w7=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function _6(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _7(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",i=r.iat||0,s=r.sub||r.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...r};return[z0(JSON.stringify(t)),z0(JSON.stringify(o)),""].join(".")}const vp={};function b7(){const r={prod:[],emulator:[]};for(const e of Object.keys(vp))vp[e]?r.emulator.push(e):r.prod.push(e);return r}function S7(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ID=!1;function b6(r,e){if(typeof window>"u"||typeof document>"u"||!Rf(window.location.host)||vp[r]===e||vp[r]||ID)return;vp[r]=e;function t(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=b7().prod.length>0;function o(){const g=document.getElementById(n);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ID=!0,o()},g}function f(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=S7(n),y=t("text"),_=document.getElementById(y)||document.createElement("span"),w=t("learnmore"),E=document.getElementById(w)||document.createElement("a"),b=t("preprendIcon"),A=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const T=g.element;l(T),f(E,w);const x=h();u(A,b),T.append(A,_,E,x),document.body.appendChild(T)}s?(_.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,_.innerText="Preview backend running in this workspace."),_.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E7(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yr())}function x7(){const r=Yv()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T7(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function A7(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function C7(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function R7(){const r=Yr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function k7(){return!x7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D7(){try{return typeof indexedDB=="object"}catch{return!1}}function I7(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7="FirebaseError";class La extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=O7,Object.setPrototypeOf(this,La.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wm.prototype.create)}}class wm{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?N7(s,n):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new La(i,l,n)}}function N7(r,e){return r.replace(M7,(t,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const M7=/\{\$([^}]+)}/g;function P7(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function uc(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const i of t){if(!n.includes(i))return!1;const s=r[i],o=e[i];if(OD(s)&&OD(o)){if(!uc(s,o))return!1}else if(s!==o)return!1}for(const i of n)if(!t.includes(i))return!1;return!0}function OD(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _m(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function rp(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function ip(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function L7(r,e){const t=new B7(r,e);return t.subscribe.bind(t)}class B7{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");F7(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:n},i.next===void 0&&(i.next=G_),i.error===void 0&&(i.error=G_),i.complete===void 0&&(i.complete=G_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F7(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function G_(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r){return r&&r._delegate?r._delegate:r}class cc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V7=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new w7;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z7(e))try{this.getOrInitializeService({instanceIdentifier:ju})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=ju){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ju){return this.instances.has(e)}getOptions(e=ju){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);n===l&&o.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:U7(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ju){return this.component?this.component.multipleInstances?e:ju:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function U7(r){return r===ju?void 0:r}function z7(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new V7(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const H7={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},q7=Mt.INFO,W7={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},G7=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),i=W7[e];if(i)console[i](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class XT{constructor(e){this.name=e,this._logLevel=q7,this._logHandler=G7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?H7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...e),this._logHandler(this,Mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...e),this._logHandler(this,Mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...e),this._logHandler(this,Mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...e),this._logHandler(this,Mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...e),this._logHandler(this,Mt.ERROR,...e)}}const K7=(r,e)=>e.some(t=>r instanceof t);let ND,MD;function $7(){return ND||(ND=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Y7(){return MD||(MD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S6=new WeakMap,GE=new WeakMap,E6=new WeakMap,K_=new WeakMap,QT=new WeakMap;function X7(r){const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("success",s),r.removeEventListener("error",o)},s=()=>{t(kl(r.result)),i()},o=()=>{n(r.error),i()};r.addEventListener("success",s),r.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&S6.set(t,r)}).catch(()=>{}),QT.set(e,r),e}function Q7(r){if(GE.has(r))return;const e=new Promise((t,n)=>{const i=()=>{r.removeEventListener("complete",s),r.removeEventListener("error",o),r.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{n(r.error||new DOMException("AbortError","AbortError")),i()};r.addEventListener("complete",s),r.addEventListener("error",o),r.addEventListener("abort",o)});GE.set(r,e)}let KE={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return GE.get(r);if(e==="objectStoreNames")return r.objectStoreNames||E6.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return kl(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Z7(r){KE=r(KE)}function J7(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call($_(this),e,...t);return E6.set(n,e.sort?e.sort():[e]),kl(n)}:Y7().includes(r)?function(...e){return r.apply($_(this),e),kl(S6.get(this))}:function(...e){return kl(r.apply($_(this),e))}}function ez(r){return typeof r=="function"?J7(r):(r instanceof IDBTransaction&&Q7(r),K7(r,$7())?new Proxy(r,KE):r)}function kl(r){if(r instanceof IDBRequest)return X7(r);if(K_.has(r))return K_.get(r);const e=ez(r);return e!==r&&(K_.set(r,e),QT.set(e,r)),e}const $_=r=>QT.get(r);function tz(r,e,{blocked:t,upgrade:n,blocking:i,terminated:s}={}){const o=indexedDB.open(r,e),l=kl(o);return n&&o.addEventListener("upgradeneeded",u=>{n(kl(o.result),u.oldVersion,u.newVersion,kl(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const nz=["get","getKey","getAll","getAllKeys","count"],rz=["put","add","delete","clear"],Y_=new Map;function PD(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Y_.get(e))return Y_.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,i=rz.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(i||nz.includes(t)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let h=u.store;return n&&(h=h.index(l.shift())),(await Promise.all([h[t](...l),i&&u.done]))[0]};return Y_.set(e,s),s}Z7(r=>({...r,get:(e,t,n)=>PD(e,t)||r.get(e,t,n),has:(e,t)=>!!PD(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sz(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function sz(r){return r.getComponent()?.type==="VERSION"}const $E="@firebase/app",LD="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new XT("@firebase/app"),oz="@firebase/app-compat",az="@firebase/analytics-compat",lz="@firebase/analytics",uz="@firebase/app-check-compat",cz="@firebase/app-check",hz="@firebase/auth",fz="@firebase/auth-compat",dz="@firebase/database",pz="@firebase/data-connect",mz="@firebase/database-compat",gz="@firebase/functions",yz="@firebase/functions-compat",vz="@firebase/installations",wz="@firebase/installations-compat",_z="@firebase/messaging",bz="@firebase/messaging-compat",Sz="@firebase/performance",Ez="@firebase/performance-compat",xz="@firebase/remote-config",Tz="@firebase/remote-config-compat",Az="@firebase/storage",Cz="@firebase/storage-compat",Rz="@firebase/firestore",kz="@firebase/ai",Dz="@firebase/firestore-compat",Iz="firebase",Oz="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="[DEFAULT]",Nz={[$E]:"fire-core",[oz]:"fire-core-compat",[lz]:"fire-analytics",[az]:"fire-analytics-compat",[cz]:"fire-app-check",[uz]:"fire-app-check-compat",[hz]:"fire-auth",[fz]:"fire-auth-compat",[dz]:"fire-rtdb",[pz]:"fire-data-connect",[mz]:"fire-rtdb-compat",[gz]:"fire-fn",[yz]:"fire-fn-compat",[vz]:"fire-iid",[wz]:"fire-iid-compat",[_z]:"fire-fcm",[bz]:"fire-fcm-compat",[Sz]:"fire-perf",[Ez]:"fire-perf-compat",[xz]:"fire-rc",[Tz]:"fire-rc-compat",[Az]:"fire-gcs",[Cz]:"fire-gcs-compat",[Rz]:"fire-fst",[Dz]:"fire-fst-compat",[kz]:"fire-vertex","fire-js":"fire-js",[Iz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=new Map,Mz=new Map,XE=new Map;function BD(r,e){try{r.container.addComponent(e)}catch(t){Ca.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Jh(r){const e=r.name;if(XE.has(e))return Ca.debug(`There were multiple attempts to register component ${e}.`),!1;XE.set(e,r);for(const t of j0.values())BD(t,r);for(const t of Mz.values())BD(t,r);return!0}function ZT(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function gs(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dl=new wm("app","Firebase",Pz);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lz{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kf=Oz;function x6(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:YE,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Dl.create("bad-app-name",{appName:String(i)});if(t||(t=v6()),!t)throw Dl.create("no-options");const s=j0.get(i);if(s){if(uc(t,s.options)&&uc(n,s.config))return s;throw Dl.create("duplicate-app",{appName:i})}const o=new j7(i);for(const u of XE.values())o.addComponent(u);const l=new Lz(t,n,o);return j0.set(i,l),l}function T6(r=YE){const e=j0.get(r);if(!e&&r===YE&&v6())return x6();if(!e)throw Dl.create("no-app",{appName:r});return e}function Il(r,e,t){let n=Nz[r]??r;t&&(n+=`-${t}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${n}" with version "${e}":`];i&&o.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ca.warn(o.join(" "));return}Jh(new cc(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz="firebase-heartbeat-database",Fz=1,Fp="firebase-heartbeat-store";let X_=null;function A6(){return X_||(X_=tz(Bz,Fz,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fp)}catch(t){console.warn(t)}}}}).catch(r=>{throw Dl.create("idb-open",{originalErrorMessage:r.message})})),X_}async function Vz(r){try{const t=(await A6()).transaction(Fp),n=await t.objectStore(Fp).get(C6(r));return await t.done,n}catch(e){if(e instanceof La)Ca.warn(e.message);else{const t=Dl.create("idb-get",{originalErrorMessage:e?.message});Ca.warn(t.message)}}}async function FD(r,e){try{const n=(await A6()).transaction(Fp,"readwrite");await n.objectStore(Fp).put(e,C6(r)),await n.done}catch(t){if(t instanceof La)Ca.warn(t.message);else{const n=Dl.create("idb-set",{originalErrorMessage:t?.message});Ca.warn(n.message)}}}function C6(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz=1024,zz=30;class jz{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qz(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=VD();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>zz){const i=Wz(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ca.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=VD(),{heartbeatsToSend:t,unsentEntries:n}=Hz(this._heartbeatsCache.heartbeats),i=z0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ca.warn(e),""}}}function VD(){return new Date().toISOString().substring(0,10)}function Hz(r,e=Uz){const t=[];let n=r.slice();for(const i of r){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),UD(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),UD(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class qz{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return D7()?I7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Vz(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return FD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return FD(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function UD(r){return z0(JSON.stringify({version:2,heartbeats:r})).length}function Wz(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gz(r){Jh(new cc("platform-logger",e=>new iz(e),"PRIVATE")),Jh(new cc("heartbeat",e=>new jz(e),"PRIVATE")),Il($E,LD,r),Il($E,LD,"esm2020"),Il("fire-js","")}Gz("");var Kz="firebase",$z="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Il(Kz,$z,"app");function R6(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yz=R6,k6=new wm("auth","Firebase",R6());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new XT("@firebase/auth");function Xz(r,...e){H0.logLevel<=Mt.WARN&&H0.warn(`Auth (${kf}): ${r}`,...e)}function s0(r,...e){H0.logLevel<=Mt.ERROR&&H0.error(`Auth (${kf}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(r,...e){throw JT(r,...e)}function Co(r,...e){return JT(r,...e)}function D6(r,e,t){const n={...Yz(),[e]:t};return new wm("auth","Firebase",n).create(e,{appName:r.name})}function Ea(r){return D6(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function JT(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return k6.create(r,...e)}function mt(r,e,...t){if(!r)throw JT(e,...t)}function wa(r){const e="INTERNAL ASSERTION FAILED: "+r;throw s0(e),new Error(e)}function Ra(r,e){r||wa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){return typeof self<"u"&&self.location?.href||""}function Qz(){return zD()==="http:"||zD()==="https:"}function zD(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qz()||A7()||"connection"in navigator)?navigator.onLine:!0}function Jz(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ra(t>e,"Short delay should be less than long delay!"),this.isMobile=E7()||C7()}get(){return Zz()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r,e){Ra(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nj=new bm(3e4,6e4);function Jl(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function eu(r,e,t,n,i={}){return O6(r,i,async()=>{let s={},o={};n&&(e==="GET"?o=n:s={body:JSON.stringify(n)});const l=_m({key:r.config.apiKey,...o}).slice(1),u=await r._getAdditionalHeaders();u["Content-Type"]="application/json",r.languageCode&&(u["X-Firebase-Locale"]=r.languageCode);const h={method:e,headers:u,...s};return T7()||(h.referrerPolicy="no-referrer"),r.emulatorConfig&&Rf(r.emulatorConfig.host)&&(h.credentials="include"),I6.fetch()(await N6(r,r.config.apiHost,t,l),h)})}async function O6(r,e,t){r._canInitEmulator=!1;const n={...ej,...e};try{const i=new ij(r),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw dy(r,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw dy(r,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw dy(r,"email-already-in-use",o);if(u==="USER_DISABLED")throw dy(r,"user-disabled",o);const f=n[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw D6(r,f,h);Vs(r,f)}}catch(i){if(i instanceof La)throw i;Vs(r,"network-request-failed",{message:String(i)})}}async function Sm(r,e,t,n,i={}){const s=await eu(r,e,t,n,i);return"mfaPendingCredential"in s&&Vs(r,"multi-factor-auth-required",{_serverResponse:s}),s}async function N6(r,e,t,n){const i=`${e}${t}?${n}`,s=r,o=s.config.emulator?eA(r.config,i):`${r.config.apiScheme}://${i}`;return tj.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function rj(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ij{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Co(this.auth,"network-request-failed")),nj.get())})}}function dy(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const i=Co(r,e,n);return i.customData._tokenResponse=t,i}function jD(r){return r!==void 0&&r.enterprise!==void 0}class sj{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oj(r,e){return eu(r,"GET","/v2/recaptchaConfig",Jl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(r,e){return eu(r,"POST","/v1/accounts:delete",e)}async function q0(r,e){return eu(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lj(r,e=!1){const t=yr(r),n=await t.getIdToken(e),i=tA(n);mt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:n,authTime:wp(Q_(i.auth_time)),issuedAtTime:wp(Q_(i.iat)),expirationTime:wp(Q_(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Q_(r){return Number(r)*1e3}function tA(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return s0("JWT malformed, contained fewer than 3 sections"),null;try{const i=g6(t);return i?JSON.parse(i):(s0("Failed to decode base64 JWT payload"),null)}catch(i){return s0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function HD(r){const e=tA(r);return mt(e,"internal-error"),mt(typeof e.exp<"u","internal-error"),mt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vp(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof La&&uj(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function uj({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wp(this.lastLoginAt),this.creationTime=wp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W0(r){const e=r.auth,t=await r.getIdToken(),n=await Vp(r,q0(e,{idToken:t}));mt(n?.users.length,e,"internal-error");const i=n.users[0];r._notifyReloadListener(i);const s=i.providerUserInfo?.length?M6(i.providerUserInfo):[],o=fj(r.providerData,s),l=r.isAnonymous,u=!(r.email&&i.passwordHash)&&!o?.length,h=l?u:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ZE(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(r,f)}async function hj(r){const e=yr(r);await W0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fj(r,e){return[...r.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function M6(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dj(r,e){const t=await O6(r,{},async()=>{const n=_m({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,o=await N6(r,i,"/v1/token",`key=${s}`),l=await r._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:n};return r.emulatorConfig&&Rf(r.emulatorConfig.host)&&(u.credentials="include"),I6.fetch()(o,u)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function pj(r,e){return eu(r,"POST","/v2/accounts:revokeToken",Jl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mt(e.idToken,"internal-error"),mt(typeof e.idToken<"u","internal-error"),mt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):HD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mt(e.length!==0,"internal-error");const t=HD(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:s}=await dj(e,t);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:s}=t,o=new Mh;return n&&(mt(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),i&&(mt(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(mt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mh,this.toJSON())}_performRefresh(){return wa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(r,e){mt(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Fs{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new cj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ZE(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Vp(this,this.stsTokenManager.getToken(this.auth,e));return mt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return lj(this,e)}reload(){return hj(this)}_assign(e){this!==e&&(mt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Fs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){mt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await W0(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gs(this.auth.app))return Promise.reject(Ea(this.auth));const e=await this.getIdToken();return await Vp(this,aj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,s=t.phoneNumber??void 0,o=t.photoURL??void 0,l=t.tenantId??void 0,u=t._redirectEventId??void 0,h=t.createdAt??void 0,f=t.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:y,providerData:_,stsTokenManager:w}=t;mt(p&&w,e,"internal-error");const E=Mh.fromJSON(this.name,w);mt(typeof p=="string",e,"internal-error"),cl(n,e.name),cl(i,e.name),mt(typeof g=="boolean",e,"internal-error"),mt(typeof y=="boolean",e,"internal-error"),cl(s,e.name),cl(o,e.name),cl(l,e.name),cl(u,e.name),cl(h,e.name),cl(f,e.name);const b=new Fs({uid:p,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:y,photoURL:o,phoneNumber:s,tenantId:l,stsTokenManager:E,createdAt:h,lastLoginAt:f});return _&&Array.isArray(_)&&(b.providerData=_.map(A=>({...A}))),u&&(b._redirectEventId=u),b}static async _fromIdTokenResponse(e,t,n=!1){const i=new Mh;i.updateFromServerResponse(t);const s=new Fs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await W0(s),s}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];mt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?M6(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,l=new Mh;l.updateFromIdToken(n);const u=new Fs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ZE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=new Map;function _a(r){Ra(r instanceof Function,"Expected a class definition");let e=qD.get(r);return e?(Ra(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qD.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}P6.type="NONE";const WD=P6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r,e,t){return`firebase:${r}:${e}:${t}`}class Ph{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=o0(this.userKey,i.apiKey,s),this.fullPersistenceKey=o0("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await q0(this.auth,{idToken:e}).catch(()=>{});return t?Fs._fromGetAccountInfoResponse(this.auth,t,e):null}return Fs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ph(_a(WD),e,n);const i=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let s=i[0]||_a(WD);const o=o0(n,e.config.apiKey,e.name);let l=null;for(const h of t)try{const f=await h._get(o);if(f){let p;if(typeof f=="string"){const g=await q0(e,{idToken:f}).catch(()=>{});if(!g)break;p=await Fs._fromGetAccountInfoResponse(e,g,f)}else p=Fs._fromJSON(e,f);h!==s&&(l=p),s=h;break}}catch{}const u=i.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ph(s,e,n):(s=u[0],l&&await s._set(o,l.toJSON()),await Promise.all(t.map(async h=>{if(h!==s)try{await h._remove(o)}catch{}})),new Ph(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(L6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(z6(e))return"Blackberry";if(j6(e))return"Webos";if(B6(e))return"Safari";if((e.includes("chrome/")||F6(e))&&!e.includes("edge/"))return"Chrome";if(U6(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function L6(r=Yr()){return/firefox\//i.test(r)}function B6(r=Yr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function F6(r=Yr()){return/crios\//i.test(r)}function V6(r=Yr()){return/iemobile/i.test(r)}function U6(r=Yr()){return/android/i.test(r)}function z6(r=Yr()){return/blackberry/i.test(r)}function j6(r=Yr()){return/webos/i.test(r)}function nA(r=Yr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mj(r=Yr()){return nA(r)&&!!window.navigator?.standalone}function gj(){return R7()&&document.documentMode===10}function H6(r=Yr()){return nA(r)||U6(r)||j6(r)||z6(r)||/windows phone/i.test(r)||V6(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(r,e=[]){let t;switch(r){case"Browser":t=GD(Yr());break;case"Worker":t=`${GD(Yr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${kf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=s=>new Promise((o,l)=>{try{const u=e(s);o(u)}catch(u){l(u)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vj(r,e={}){return eu(r,"GET","/v2/passwordPolicy",Jl(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=6;class _j{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??wj,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KD(this),this.idTokenSubscription=new KD(this),this.beforeStateQueue=new yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k6,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_a(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ph.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await q0(this,{idToken:e}),n=await Fs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(gs(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,o=n?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===o)&&l?.user&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return mt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await W0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Jz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gs(this.app))return Promise.reject(Ea(this));const t=e?yr(e):null;return t&&mt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gs(this.app)?Promise.reject(Ea(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gs(this.app)?Promise.reject(Ea(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_a(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vj(this),t=new _j(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new wm("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await pj(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_a(e)||this._popupRedirectResolver;mt(t,this,"argument-error"),this.redirectPersistenceManager=await Ph.create(this,[_a(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(mt(l,this,"internal-error"),l.then(()=>{o||s(this.currentUser)}),typeof t=="function"){const u=e.addObserver(t,n,i);return()=>{o=!0,u()}}else{const u=e.addObserver(t);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(gs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Xz(`Error while retrieving App Check token: ${e.error}`),e?.token}}function bc(r){return yr(r)}class KD{constructor(e){this.auth=e,this.observer=null,this.addObserver=L7(t=>this.observer=t)}get next(){return mt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Sj(r){Xv=r}function W6(r){return Xv.loadJS(r)}function Ej(){return Xv.recaptchaEnterpriseScript}function xj(){return Xv.gapiScript}function Tj(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Aj{constructor(){this.enterprise=new Cj}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Cj{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Rj="recaptcha-enterprise",G6="NO_RECAPTCHA";class kj{constructor(e){this.type=Rj,this.auth=bc(e)}async verify(e="verify",t=!1){async function n(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,l)=>{oj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new sj(u);return s.tenantId==null?s._agentRecaptchaConfig=h:s._tenantRecaptchaConfigs[s.tenantId]=h,o(h.siteKey)}}).catch(u=>{l(u)})})}function i(s,o,l){const u=window.grecaptcha;jD(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(h=>{o(h)}).catch(()=>{o(G6)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Aj().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{n(this.auth).then(l=>{if(!t&&jD(window.grecaptcha))i(l,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Ej();u.length!==0&&(u+=l),W6(u).then(()=>{i(l,s,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function $D(r,e,t,n=!1,i=!1){const s=new kj(r);let o;if(i)o=G6;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}const l={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,h=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:h,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return n?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function JE(r,e,t,n,i){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await $D(r,e,t,t==="getOobCode");return n(r,s)}else return n(r,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await $D(r,e,t,t==="getOobCode");return n(r,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(r,e){const t=ZT(r,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(uc(s,e??{}))return i;Vs(i,"already-initialized")}return t.initialize({options:e})}function Ij(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(_a);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function Oj(r,e,t){const n=bc(r);mt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=K6(e),{host:o,port:l}=Nj(e),u=l===null?"":`:${l}`,h={url:`${s}//${o}${u}/`},f=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){mt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),mt(uc(h,n.config.emulator)&&uc(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Rf(o)?(_6(`${s}//${o}${u}`),b6("Auth",!0)):Mj()}function K6(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function Nj(r){const e=K6(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:YD(n.substr(s.length+1))}}else{const[s,o]=n.split(":");return{host:s,port:YD(o)}}}function YD(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Mj(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wa("not implemented")}_getIdTokenResponse(e){return wa("not implemented")}_linkToIdToken(e,t){return wa("not implemented")}_getReauthenticationResolver(e){return wa("not implemented")}}async function Pj(r,e){return eu(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(r,e){return Sm(r,"POST","/v1/accounts:signInWithPassword",Jl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(r,e){return Sm(r,"POST","/v1/accounts:signInWithEmailLink",Jl(r,e))}async function Fj(r,e){return Sm(r,"POST","/v1/accounts:signInWithEmailLink",Jl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends rA{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Up(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Up(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JE(e,t,"signInWithPassword",Lj);case"emailLink":return Bj(e,{email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return JE(e,n,"signUpPassword",Pj);case"emailLink":return Fj(e,{idToken:t,email:this._email,oobCode:this._password});default:Vs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(r,e){return Sm(r,"POST","/v1/accounts:signInWithIdp",Jl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj="http://localhost";class hc extends rA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new hc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vs("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=t;if(!n||!i)return null;const o=new hc(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Lh(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Lh(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Lh(e,t)}buildRequest(){const e={requestUri:Vj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_m(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zj(r){const e=rp(ip(r)).link,t=e?rp(ip(e)).deep_link_id:null,n=rp(ip(r)).deep_link_id;return(n?rp(ip(n)).link:null)||n||t||e||r}class iA{constructor(e){const t=rp(ip(e)),n=t.apiKey??null,i=t.oobCode??null,s=Uj(t.mode??null);mt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=zj(e);try{return new iA(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this.providerId=Df.PROVIDER_ID}static credential(e,t){return Up._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=iA.parseLink(t);return mt(n,"argument-error"),Up._fromEmailAndCode(e,n.code,n.tenantId)}}Df.PROVIDER_ID="password";Df.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Df.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em extends $6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends Em{constructor(){super("facebook.com")}static credential(e){return hc._fromParams({providerId:pl.PROVIDER_ID,signInMethod:pl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return pl.credentialFromTaggedObject(e)}static credentialFromError(e){return pl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return pl.credential(e.oauthAccessToken)}catch{return null}}}pl.FACEBOOK_SIGN_IN_METHOD="facebook.com";pl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends Em{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return hc._fromParams({providerId:ml.PROVIDER_ID,signInMethod:ml.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ml.credentialFromTaggedObject(e)}static credentialFromError(e){return ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return ml.credential(t,n)}catch{return null}}}ml.GOOGLE_SIGN_IN_METHOD="google.com";ml.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl extends Em{constructor(){super("github.com")}static credential(e){return hc._fromParams({providerId:gl.PROVIDER_ID,signInMethod:gl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gl.credentialFromTaggedObject(e)}static credentialFromError(e){return gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gl.credential(e.oauthAccessToken)}catch{return null}}}gl.GITHUB_SIGN_IN_METHOD="github.com";gl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Em{constructor(){super("twitter.com")}static credential(e,t){return hc._fromParams({providerId:yl.PROVIDER_ID,signInMethod:yl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yl.credentialFromTaggedObject(e)}static credentialFromError(e){return yl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return yl.credential(t,n)}catch{return null}}}yl.TWITTER_SIGN_IN_METHOD="twitter.com";yl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(r,e){return Sm(r,"POST","/v1/accounts:signUp",Jl(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const s=await Fs._fromIdTokenResponse(e,n,i),o=XD(n);return new fc({user:s,providerId:o,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=XD(n);return new fc({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function XD(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends La{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,G0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new G0(e,t,n,i)}}function Y6(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?G0._fromErrorAndOperation(r,s,e,n):s})}async function Hj(r,e,t=!1){const n=await Vp(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return fc._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(r,e,t=!1){const{auth:n}=r;if(gs(n.app))return Promise.reject(Ea(n));const i="reauthenticate";try{const s=await Vp(r,Y6(n,i,e,r),t);mt(s.idToken,n,"internal-error");const o=tA(s.idToken);mt(o,n,"internal-error");const{sub:l}=o;return mt(r.uid===l,n,"user-mismatch"),fc._forOperation(r,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Vs(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(r,e,t=!1){if(gs(r.app))return Promise.reject(Ea(r));const n="signIn",i=await Y6(r,n,e),s=await fc._fromIdTokenResponse(r,n,i);return t||await r._updateCurrentUser(s.user),s}async function Wj(r,e){return X6(bc(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(r){const e=bc(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Gj(r,e,t){if(gs(r.app))return Promise.reject(Ea(r));const n=bc(r),o=await JE(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&Q6(r),u}),l=await fc._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(l.user),l}function Kj(r,e,t){return gs(r.app)?Promise.reject(Ea(r)):Wj(yr(r),Df.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Q6(r),n})}function $j(r,e,t,n){return yr(r).onIdTokenChanged(e,t,n)}function Yj(r,e,t){return yr(r).beforeAuthStateChanged(e,t)}function Xj(r,e,t,n){return yr(r).onAuthStateChanged(e,t,n)}function Qj(r){return yr(r).signOut()}const K0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(K0,"1"),this.storage.removeItem(K0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=1e3,Jj=10;class J6 extends Z6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(n);!t&&this.localCache[n]===o||this.notifyListeners(n,o)},s=this.storage.getItem(n);gj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Jj):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},Zj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}J6.type="LOCAL";const eH=J6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5 extends Z6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}e5.type="SESSION";const t5=e5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const n=new Qv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!o?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const l=Array.from(o).map(async h=>h(t.origin,s)),u=await tH(l);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:u})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,u)=>{const h=sA("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ro(){return window}function rH(r){Ro().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(){return typeof Ro().WorkerGlobalScope<"u"&&typeof Ro().importScripts=="function"}async function iH(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sH(){return navigator?.serviceWorker?.controller||null}function oH(){return n5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="firebaseLocalStorageDb",aH=1,$0="firebaseLocalStorage",i5="fbase_key";class xm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zv(r,e){return r.transaction([$0],e?"readwrite":"readonly").objectStore($0)}function lH(){const r=indexedDB.deleteDatabase(r5);return new xm(r).toPromise()}function ex(){const r=indexedDB.open(r5,aH);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore($0,{keyPath:i5})}catch(i){t(i)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains($0)?e(n):(n.close(),await lH(),e(await ex()))})})}async function QD(r,e,t){const n=Zv(r,!0).put({[i5]:e,value:t});return new xm(n).toPromise()}async function uH(r,e){const t=Zv(r,!1).get(e),n=await new xm(t).toPromise();return n===void 0?null:n.value}function ZD(r,e){const t=Zv(r,!0).delete(e);return new xm(t).toPromise()}const cH=800,hH=3;class s5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ex(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>hH)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qv._getInstance(oH()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await iH(),!this.activeServiceWorker)return;this.sender=new nH(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ex();return await QD(e,K0,"1"),await ZD(e,K0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>QD(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>uH(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ZD(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zv(i,!1).getAll();return new xm(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}s5.type="LOCAL";const fH=s5;new bm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dH(r,e){return e?_a(e):(mt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA extends rA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Lh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Lh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Lh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function pH(r){return X6(r.auth,new oA(r),r.bypassAuthState)}function mH(r){const{auth:e,user:t}=r;return mt(t,e,"internal-error"),qj(t,new oA(r),r.bypassAuthState)}async function gH(r){const{auth:e,user:t}=r;return mt(t,e,"internal-error"),Hj(t,new oA(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,t,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:t,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pH;case"linkViaPopup":case"linkViaRedirect":return gH;case"reauthViaPopup":case"reauthViaRedirect":return mH;default:Vs(this.auth,"internal-error")}}resolve(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH=new bm(2e3,1e4);class Rh extends o5{constructor(e,t,n,i,s){super(e,t,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Rh.currentPopupAction&&Rh.currentPopupAction.cancel(),Rh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mt(e,this.auth,"internal-error"),e}async onExecution(){Ra(this.filter.length===1,"Popup operations only handle one event");const e=sA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Co(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Co(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rh.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Co(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yH.get())};e()}}Rh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH="pendingRedirect",a0=new Map;class wH extends o5{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=a0.get(this.auth._key());if(!e){try{const n=await _H(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}a0.set(this.auth._key(),e)}return this.bypassAuthState||a0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _H(r,e){const t=EH(e),n=SH(r);if(!await n._isAvailable())return!1;const i=await n._get(t)==="true";return await n._remove(t),i}function bH(r,e){a0.set(r._key(),e)}function SH(r){return _a(r._redirectPersistence)}function EH(r){return o0(vH,r.config.apiKey,r.name)}async function xH(r,e,t=!1){if(gs(r.app))return Promise.reject(Ea(r));const n=bc(r),i=dH(n,e),o=await new wH(n,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=10*60*1e3;class AH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!a5(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Co(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=TH&&this.cachedEventUids.clear(),this.cachedEventUids.has(JD(e))}saveEventToCache(e){this.cachedEventUids.add(JD(e)),this.lastProcessedEventTime=Date.now()}}function JD(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function a5({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function CH(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a5(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(r,e={}){return eu(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DH=/^https?/;async function IH(r){if(r.config.emulator)return;const{authorizedDomains:e}=await RH(r);for(const t of e)try{if(OH(t))return}catch{}Vs(r,"unauthorized-domain")}function OH(r){const e=QE(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const o=new URL(r);return o.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!DH.test(t))return!1;if(kH.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NH=new bm(3e4,6e4);function eI(){const r=Ro().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function MH(r){return new Promise((e,t)=>{function n(){eI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eI(),t(Co(r,"network-request-failed"))},timeout:NH.get()})}if(Ro().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ro().gapi?.load)n();else{const i=Tj("iframefcb");return Ro()[i]=()=>{gapi.load?n():t(Co(r,"network-request-failed"))},W6(`${xj()}?onload=${i}`).catch(s=>t(s))}}).catch(e=>{throw l0=null,e})}let l0=null;function PH(r){return l0=l0||MH(r),l0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LH=new bm(5e3,15e3),BH="__/auth/iframe",FH="emulator/auth/iframe",VH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zH(r){const e=r.config;mt(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?eA(e,FH):`https://${r.config.authDomain}/${BH}`,n={apiKey:e.apiKey,appName:r.name,v:kf},i=UH.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${t}?${_m(n).slice(1)}`}async function jH(r){const e=await PH(r),t=Ro().gapi;return mt(t,r,"internal-error"),e.open({where:document.body,url:zH(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VH,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const o=Co(r,"network-request-failed"),l=Ro().setTimeout(()=>{s(o)},LH.get());function u(){Ro().clearTimeout(l),i(n)}n.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qH=500,WH=600,GH="_blank",KH="http://localhost";class tI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $H(r,e,t,n=qH,i=WH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let l="";const u={...HH,width:n.toString(),height:i.toString(),top:s,left:o},h=Yr().toLowerCase();t&&(l=F6(h)?GH:t),L6(h)&&(e=e||KH,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[y,_])=>`${g}${y}=${_},`,"");if(mj(h)&&l!=="_self")return YH(e||"",l),new tI(null);const p=window.open(e||"",l,f);mt(p,r,"popup-blocked");try{p.focus()}catch{}return new tI(p)}function YH(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH="__/auth/handler",QH="emulator/auth/handler",ZH=encodeURIComponent("fac");async function nI(r,e,t,n,i,s){mt(r.config.authDomain,r,"auth-domain-config-required"),mt(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:kf,eventId:i};if(e instanceof $6){e.setDefaultLanguage(r.languageCode),o.providerId=e.providerId||"",P7(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Em){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}r.tenantId&&(o.tid=r.tenantId);const l=o;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await r._getAppCheckToken(),h=u?`#${ZH}=${encodeURIComponent(u)}`:"";return`${JH(r)}?${_m(l).slice(1)}${h}`}function JH({config:r}){return r.emulator?eA(r,QH):`https://${r.authDomain}/${XH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="webStorageSupport";class eq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t5,this._completeRedirectFn=xH,this._overrideRedirectResult=bH}async _openPopup(e,t,n,i){Ra(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await nI(e,t,n,QE(),i);return $H(e,s,sA())}async _openRedirect(e,t,n,i){await this._originValidation(e);const s=await nI(e,t,n,QE(),i);return rH(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ra(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await jH(e),n=new AH(e);return t.register("authEvent",i=>(mt(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Z_,{type:Z_},i=>{const s=i?.[0]?.[Z_];s!==void 0&&t(!!s),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return H6()||B6()||nA()}}const tq=eq;var rI="@firebase/auth",iI="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iq(r){Jh(new cc("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=n.options;mt(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const u={apiKey:o,authDomain:l,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q6(r)},h=new bj(n,i,s,u);return Ij(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Jh(new cc("auth-internal",e=>{const t=bc(e.getProvider("auth").getImmediate());return(n=>new nq(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Il(rI,iI,rq(r)),Il(rI,iI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=5*60,oq=w6("authIdTokenMaxAge")||sq;let sI=null;const aq=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>oq)return;const i=t?.token;sI!==i&&(sI=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lq(r=T6()){const e=ZT(r,"auth");if(e.isInitialized())return e.getImmediate();const t=Dj(r,{popupRedirectResolver:tq,persistence:[fH,eH,t5]}),n=w6("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const o=aq(s.toString());Yj(t,o,()=>o(t.currentUser)),$j(t,l=>o(l))}}const i=y6("auth");return i&&Oj(t,`http://${i}`),t}function uq(){return document.getElementsByTagName("head")?.[0]??document}Sj({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=i=>{const s=Co("internal-error");s.customData=i,t(s)},n.type="text/javascript",n.charset="UTF-8",uq().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iq("Browser");var oI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ol,l5;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,O){function C(){}C.prototype=O.prototype,N.D=O.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(q,$,M){for(var V=Array(arguments.length-2),B=2;B<arguments.length;B++)V[B-2]=arguments[B];return O.prototype[$].apply(q,V)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,O,C){C||(C=0);var q=Array(16);if(typeof O=="string")for(var $=0;16>$;++$)q[$]=O.charCodeAt(C++)|O.charCodeAt(C++)<<8|O.charCodeAt(C++)<<16|O.charCodeAt(C++)<<24;else for($=0;16>$;++$)q[$]=O[C++]|O[C++]<<8|O[C++]<<16|O[C++]<<24;O=N.g[0],C=N.g[1],$=N.g[2];var M=N.g[3],V=O+(M^C&($^M))+q[0]+3614090360&4294967295;O=C+(V<<7&4294967295|V>>>25),V=M+($^O&(C^$))+q[1]+3905402710&4294967295,M=O+(V<<12&4294967295|V>>>20),V=$+(C^M&(O^C))+q[2]+606105819&4294967295,$=M+(V<<17&4294967295|V>>>15),V=C+(O^$&(M^O))+q[3]+3250441966&4294967295,C=$+(V<<22&4294967295|V>>>10),V=O+(M^C&($^M))+q[4]+4118548399&4294967295,O=C+(V<<7&4294967295|V>>>25),V=M+($^O&(C^$))+q[5]+1200080426&4294967295,M=O+(V<<12&4294967295|V>>>20),V=$+(C^M&(O^C))+q[6]+2821735955&4294967295,$=M+(V<<17&4294967295|V>>>15),V=C+(O^$&(M^O))+q[7]+4249261313&4294967295,C=$+(V<<22&4294967295|V>>>10),V=O+(M^C&($^M))+q[8]+1770035416&4294967295,O=C+(V<<7&4294967295|V>>>25),V=M+($^O&(C^$))+q[9]+2336552879&4294967295,M=O+(V<<12&4294967295|V>>>20),V=$+(C^M&(O^C))+q[10]+4294925233&4294967295,$=M+(V<<17&4294967295|V>>>15),V=C+(O^$&(M^O))+q[11]+2304563134&4294967295,C=$+(V<<22&4294967295|V>>>10),V=O+(M^C&($^M))+q[12]+1804603682&4294967295,O=C+(V<<7&4294967295|V>>>25),V=M+($^O&(C^$))+q[13]+4254626195&4294967295,M=O+(V<<12&4294967295|V>>>20),V=$+(C^M&(O^C))+q[14]+2792965006&4294967295,$=M+(V<<17&4294967295|V>>>15),V=C+(O^$&(M^O))+q[15]+1236535329&4294967295,C=$+(V<<22&4294967295|V>>>10),V=O+($^M&(C^$))+q[1]+4129170786&4294967295,O=C+(V<<5&4294967295|V>>>27),V=M+(C^$&(O^C))+q[6]+3225465664&4294967295,M=O+(V<<9&4294967295|V>>>23),V=$+(O^C&(M^O))+q[11]+643717713&4294967295,$=M+(V<<14&4294967295|V>>>18),V=C+(M^O&($^M))+q[0]+3921069994&4294967295,C=$+(V<<20&4294967295|V>>>12),V=O+($^M&(C^$))+q[5]+3593408605&4294967295,O=C+(V<<5&4294967295|V>>>27),V=M+(C^$&(O^C))+q[10]+38016083&4294967295,M=O+(V<<9&4294967295|V>>>23),V=$+(O^C&(M^O))+q[15]+3634488961&4294967295,$=M+(V<<14&4294967295|V>>>18),V=C+(M^O&($^M))+q[4]+3889429448&4294967295,C=$+(V<<20&4294967295|V>>>12),V=O+($^M&(C^$))+q[9]+568446438&4294967295,O=C+(V<<5&4294967295|V>>>27),V=M+(C^$&(O^C))+q[14]+3275163606&4294967295,M=O+(V<<9&4294967295|V>>>23),V=$+(O^C&(M^O))+q[3]+4107603335&4294967295,$=M+(V<<14&4294967295|V>>>18),V=C+(M^O&($^M))+q[8]+1163531501&4294967295,C=$+(V<<20&4294967295|V>>>12),V=O+($^M&(C^$))+q[13]+2850285829&4294967295,O=C+(V<<5&4294967295|V>>>27),V=M+(C^$&(O^C))+q[2]+4243563512&4294967295,M=O+(V<<9&4294967295|V>>>23),V=$+(O^C&(M^O))+q[7]+1735328473&4294967295,$=M+(V<<14&4294967295|V>>>18),V=C+(M^O&($^M))+q[12]+2368359562&4294967295,C=$+(V<<20&4294967295|V>>>12),V=O+(C^$^M)+q[5]+4294588738&4294967295,O=C+(V<<4&4294967295|V>>>28),V=M+(O^C^$)+q[8]+2272392833&4294967295,M=O+(V<<11&4294967295|V>>>21),V=$+(M^O^C)+q[11]+1839030562&4294967295,$=M+(V<<16&4294967295|V>>>16),V=C+($^M^O)+q[14]+4259657740&4294967295,C=$+(V<<23&4294967295|V>>>9),V=O+(C^$^M)+q[1]+2763975236&4294967295,O=C+(V<<4&4294967295|V>>>28),V=M+(O^C^$)+q[4]+1272893353&4294967295,M=O+(V<<11&4294967295|V>>>21),V=$+(M^O^C)+q[7]+4139469664&4294967295,$=M+(V<<16&4294967295|V>>>16),V=C+($^M^O)+q[10]+3200236656&4294967295,C=$+(V<<23&4294967295|V>>>9),V=O+(C^$^M)+q[13]+681279174&4294967295,O=C+(V<<4&4294967295|V>>>28),V=M+(O^C^$)+q[0]+3936430074&4294967295,M=O+(V<<11&4294967295|V>>>21),V=$+(M^O^C)+q[3]+3572445317&4294967295,$=M+(V<<16&4294967295|V>>>16),V=C+($^M^O)+q[6]+76029189&4294967295,C=$+(V<<23&4294967295|V>>>9),V=O+(C^$^M)+q[9]+3654602809&4294967295,O=C+(V<<4&4294967295|V>>>28),V=M+(O^C^$)+q[12]+3873151461&4294967295,M=O+(V<<11&4294967295|V>>>21),V=$+(M^O^C)+q[15]+530742520&4294967295,$=M+(V<<16&4294967295|V>>>16),V=C+($^M^O)+q[2]+3299628645&4294967295,C=$+(V<<23&4294967295|V>>>9),V=O+($^(C|~M))+q[0]+4096336452&4294967295,O=C+(V<<6&4294967295|V>>>26),V=M+(C^(O|~$))+q[7]+1126891415&4294967295,M=O+(V<<10&4294967295|V>>>22),V=$+(O^(M|~C))+q[14]+2878612391&4294967295,$=M+(V<<15&4294967295|V>>>17),V=C+(M^($|~O))+q[5]+4237533241&4294967295,C=$+(V<<21&4294967295|V>>>11),V=O+($^(C|~M))+q[12]+1700485571&4294967295,O=C+(V<<6&4294967295|V>>>26),V=M+(C^(O|~$))+q[3]+2399980690&4294967295,M=O+(V<<10&4294967295|V>>>22),V=$+(O^(M|~C))+q[10]+4293915773&4294967295,$=M+(V<<15&4294967295|V>>>17),V=C+(M^($|~O))+q[1]+2240044497&4294967295,C=$+(V<<21&4294967295|V>>>11),V=O+($^(C|~M))+q[8]+1873313359&4294967295,O=C+(V<<6&4294967295|V>>>26),V=M+(C^(O|~$))+q[15]+4264355552&4294967295,M=O+(V<<10&4294967295|V>>>22),V=$+(O^(M|~C))+q[6]+2734768916&4294967295,$=M+(V<<15&4294967295|V>>>17),V=C+(M^($|~O))+q[13]+1309151649&4294967295,C=$+(V<<21&4294967295|V>>>11),V=O+($^(C|~M))+q[4]+4149444226&4294967295,O=C+(V<<6&4294967295|V>>>26),V=M+(C^(O|~$))+q[11]+3174756917&4294967295,M=O+(V<<10&4294967295|V>>>22),V=$+(O^(M|~C))+q[2]+718787259&4294967295,$=M+(V<<15&4294967295|V>>>17),V=C+(M^($|~O))+q[9]+3951481745&4294967295,N.g[0]=N.g[0]+O&4294967295,N.g[1]=N.g[1]+($+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+$&4294967295,N.g[3]=N.g[3]+M&4294967295}n.prototype.u=function(N,O){O===void 0&&(O=N.length);for(var C=O-this.blockSize,q=this.B,$=this.h,M=0;M<O;){if($==0)for(;M<=C;)i(this,N,M),M+=this.blockSize;if(typeof N=="string"){for(;M<O;)if(q[$++]=N.charCodeAt(M++),$==this.blockSize){i(this,q),$=0;break}}else for(;M<O;)if(q[$++]=N[M++],$==this.blockSize){i(this,q),$=0;break}}this.h=$,this.o+=O},n.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var O=1;O<N.length-8;++O)N[O]=0;var C=8*this.o;for(O=N.length-8;O<N.length;++O)N[O]=C&255,C/=256;for(this.u(N),N=Array(16),O=C=0;4>O;++O)for(var q=0;32>q;q+=8)N[C++]=this.g[O]>>>q&255;return N};function s(N,O){var C=l;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=O(N)}function o(N,O){this.h=O;for(var C=[],q=!0,$=N.length-1;0<=$;$--){var M=N[$]|0;q&&M==O||(C[$]=M,q=!1)}this.g=C}var l={};function u(N){return-128<=N&&128>N?s(N,function(O){return new o([O|0],0>O?-1:0)}):new o([N|0],0>N?-1:0)}function h(N){if(isNaN(N)||!isFinite(N))return p;if(0>N)return E(h(-N));for(var O=[],C=1,q=0;N>=C;q++)O[q]=N/C|0,C*=4294967296;return new o(O,0)}function f(N,O){if(N.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(N.charAt(0)=="-")return E(f(N.substring(1),O));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=h(Math.pow(O,8)),q=p,$=0;$<N.length;$+=8){var M=Math.min(8,N.length-$),V=parseInt(N.substring($,$+M),O);8>M?(M=h(Math.pow(O,M)),q=q.j(M).add(h(V))):(q=q.j(C),q=q.add(h(V)))}return q}var p=u(0),g=u(1),y=u(16777216);r=o.prototype,r.m=function(){if(w(this))return-E(this).m();for(var N=0,O=1,C=0;C<this.g.length;C++){var q=this.i(C);N+=(0<=q?q:4294967296+q)*O,O*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(_(this))return"0";if(w(this))return"-"+E(this).toString(N);for(var O=h(Math.pow(N,6)),C=this,q="";;){var $=x(C,O).g;C=b(C,$.j(O));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=$,_(C))return M+q;for(;6>M.length;)M="0"+M;q=M+q}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function _(N){if(N.h!=0)return!1;for(var O=0;O<N.g.length;O++)if(N.g[O]!=0)return!1;return!0}function w(N){return N.h==-1}r.l=function(N){return N=b(this,N),w(N)?-1:_(N)?0:1};function E(N){for(var O=N.g.length,C=[],q=0;q<O;q++)C[q]=~N.g[q];return new o(C,~N.h).add(g)}r.abs=function(){return w(this)?E(this):this},r.add=function(N){for(var O=Math.max(this.g.length,N.g.length),C=[],q=0,$=0;$<=O;$++){var M=q+(this.i($)&65535)+(N.i($)&65535),V=(M>>>16)+(this.i($)>>>16)+(N.i($)>>>16);q=V>>>16,M&=65535,V&=65535,C[$]=V<<16|M}return new o(C,C[C.length-1]&-2147483648?-1:0)};function b(N,O){return N.add(E(O))}r.j=function(N){if(_(this)||_(N))return p;if(w(this))return w(N)?E(this).j(E(N)):E(E(this).j(N));if(w(N))return E(this.j(E(N)));if(0>this.l(y)&&0>N.l(y))return h(this.m()*N.m());for(var O=this.g.length+N.g.length,C=[],q=0;q<2*O;q++)C[q]=0;for(q=0;q<this.g.length;q++)for(var $=0;$<N.g.length;$++){var M=this.i(q)>>>16,V=this.i(q)&65535,B=N.i($)>>>16,oe=N.i($)&65535;C[2*q+2*$]+=V*oe,A(C,2*q+2*$),C[2*q+2*$+1]+=M*oe,A(C,2*q+2*$+1),C[2*q+2*$+1]+=V*B,A(C,2*q+2*$+1),C[2*q+2*$+2]+=M*B,A(C,2*q+2*$+2)}for(q=0;q<O;q++)C[q]=C[2*q+1]<<16|C[2*q];for(q=O;q<2*O;q++)C[q]=0;return new o(C,0)};function A(N,O){for(;(N[O]&65535)!=N[O];)N[O+1]+=N[O]>>>16,N[O]&=65535,O++}function T(N,O){this.g=N,this.h=O}function x(N,O){if(_(O))throw Error("division by zero");if(_(N))return new T(p,p);if(w(N))return O=x(E(N),O),new T(E(O.g),E(O.h));if(w(O))return O=x(N,E(O)),new T(E(O.g),O.h);if(30<N.g.length){if(w(N)||w(O))throw Error("slowDivide_ only works with positive integers.");for(var C=g,q=O;0>=q.l(N);)C=D(C),q=D(q);var $=P(C,1),M=P(q,1);for(q=P(q,2),C=P(C,2);!_(q);){var V=M.add(q);0>=V.l(N)&&($=$.add(C),M=V),q=P(q,1),C=P(C,1)}return O=b(N,$.j(O)),new T($,O)}for($=p;0<=N.l(O);){for(C=Math.max(1,Math.floor(N.m()/O.m())),q=Math.ceil(Math.log(C)/Math.LN2),q=48>=q?1:Math.pow(2,q-48),M=h(C),V=M.j(O);w(V)||0<V.l(N);)C-=q,M=h(C),V=M.j(O);_(M)&&(M=g),$=$.add(M),N=b(N,V)}return new T($,N)}r.A=function(N){return x(this,N).h},r.and=function(N){for(var O=Math.max(this.g.length,N.g.length),C=[],q=0;q<O;q++)C[q]=this.i(q)&N.i(q);return new o(C,this.h&N.h)},r.or=function(N){for(var O=Math.max(this.g.length,N.g.length),C=[],q=0;q<O;q++)C[q]=this.i(q)|N.i(q);return new o(C,this.h|N.h)},r.xor=function(N){for(var O=Math.max(this.g.length,N.g.length),C=[],q=0;q<O;q++)C[q]=this.i(q)^N.i(q);return new o(C,this.h^N.h)};function D(N){for(var O=N.g.length+1,C=[],q=0;q<O;q++)C[q]=N.i(q)<<1|N.i(q-1)>>>31;return new o(C,N.h)}function P(N,O){var C=O>>5;O%=32;for(var q=N.g.length-C,$=[],M=0;M<q;M++)$[M]=0<O?N.i(M+C)>>>O|N.i(M+C+1)<<32-O:N.i(M+C);return new o($,N.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,l5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Ol=o}).apply(typeof oI<"u"?oI:typeof self<"u"?self:typeof window<"u"?window:{});var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u5,sp,c5,u0,tx,h5,f5,d5;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(v,L,W){return v==Array.prototype||v==Object.prototype||(v[L]=W.value),v};function t(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof py=="object"&&py];for(var L=0;L<v.length;++L){var W=v[L];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var n=t(this);function i(v,L){if(L)e:{var W=n;v=v.split(".");for(var ne=0;ne<v.length-1;ne++){var xe=v[ne];if(!(xe in W))break e;W=W[xe]}v=v[v.length-1],ne=W[v],L=L(ne),L!=ne&&L!=null&&e(W,v,{configurable:!0,writable:!0,value:L})}}function s(v,L){v instanceof String&&(v+="");var W=0,ne=!1,xe={next:function(){if(!ne&&W<v.length){var Ie=W++;return{value:L(Ie,v[Ie]),done:!1}}return ne=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(v){return v||function(){return s(this,function(L,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(v){var L=typeof v;return L=L!="object"?L:v?Array.isArray(v)?"array":L:"null",L=="array"||L=="object"&&typeof v.length=="number"}function h(v){var L=typeof v;return L=="object"&&v!=null||L=="function"}function f(v,L,W){return v.call.apply(v.bind,arguments)}function p(v,L,W){if(!v)throw Error();if(2<arguments.length){var ne=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,ne),v.apply(L,xe)}}return function(){return v.apply(L,arguments)}}function g(v,L,W){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function y(v,L){var W=Array.prototype.slice.call(arguments,1);return function(){var ne=W.slice();return ne.push.apply(ne,arguments),v.apply(this,ne)}}function _(v,L){function W(){}W.prototype=L.prototype,v.aa=L.prototype,v.prototype=new W,v.prototype.constructor=v,v.Qb=function(ne,xe,Ie){for(var $e=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)$e[zt-2]=arguments[zt];return L.prototype[xe].apply(ne,$e)}}function w(v){const L=v.length;if(0<L){const W=Array(L);for(let ne=0;ne<L;ne++)W[ne]=v[ne];return W}return[]}function E(v,L){for(let W=1;W<arguments.length;W++){const ne=arguments[W];if(u(ne)){const xe=v.length||0,Ie=ne.length||0;v.length=xe+Ie;for(let $e=0;$e<Ie;$e++)v[xe+$e]=ne[$e]}else v.push(ne)}}class b{constructor(L,W){this.i=L,this.j=W,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function A(v){return/^[\s\xa0]*$/.test(v)}function T(){var v=l.navigator;return v&&(v=v.userAgent)?v:""}function x(v){return x[" "](v),v}x[" "]=function(){};var D=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function P(v,L,W){for(const ne in v)L.call(W,v[ne],ne,v)}function N(v,L){for(const W in v)L.call(void 0,v[W],W,v)}function O(v){const L={};for(const W in v)L[W]=v[W];return L}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(v,L){let W,ne;for(let xe=1;xe<arguments.length;xe++){ne=arguments[xe];for(W in ne)v[W]=ne[W];for(let Ie=0;Ie<C.length;Ie++)W=C[Ie],Object.prototype.hasOwnProperty.call(ne,W)&&(v[W]=ne[W])}}function $(v){var L=1;v=v.split(":");const W=[];for(;0<L&&v.length;)W.push(v.shift()),L--;return v.length&&W.push(v.join(":")),W}function M(v){l.setTimeout(()=>{throw v},0)}function V(){var v=de;let L=null;return v.g&&(L=v.g,v.g=v.g.next,v.g||(v.h=null),L.next=null),L}class B{constructor(){this.h=this.g=null}add(L,W){const ne=oe.get();ne.set(L,W),this.h?this.h.next=ne:this.g=ne,this.h=ne}}var oe=new b(()=>new Q,v=>v.reset());class Q{constructor(){this.next=this.g=this.h=null}set(L,W){this.h=L,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let X,fe=!1,de=new B,ee=()=>{const v=l.Promise.resolve(void 0);X=()=>{v.then(J)}};var J=()=>{for(var v;v=V();){try{v.h.call(v.g)}catch(W){M(W)}var L=oe;L.j(v),100>L.h&&(L.h++,v.next=L.g,L.g=v)}fe=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(v,L){this.type=v,this.g=this.target=L,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var he=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var v=!1,L=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const W=()=>{};l.addEventListener("test",W,L),l.removeEventListener("test",W,L)}catch{}return v}();function ve(v,L){if(re.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var W=this.type=v.type,ne=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=L,L=v.relatedTarget){if(D){e:{try{x(L.nodeName);var xe=!0;break e}catch{}xe=!1}xe||(L=null)}}else W=="mouseover"?L=v.fromElement:W=="mouseout"&&(L=v.toElement);this.relatedTarget=L,ne?(this.clientX=ne.clientX!==void 0?ne.clientX:ne.pageX,this.clientY=ne.clientY!==void 0?ne.clientY:ne.pageY,this.screenX=ne.screenX||0,this.screenY=ne.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=typeof v.pointerType=="string"?v.pointerType:ue[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&ve.aa.h.call(this)}}_(ve,re);var ue={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function ce(v,L,W,ne,xe){this.listener=v,this.proxy=null,this.src=L,this.type=W,this.capture=!!ne,this.ha=xe,this.key=++F,this.da=this.fa=!1}function ie(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Y(v){this.src=v,this.g={},this.h=0}Y.prototype.add=function(v,L,W,ne,xe){var Ie=v.toString();v=this.g[Ie],v||(v=this.g[Ie]=[],this.h++);var $e=_e(v,L,ne,xe);return-1<$e?(L=v[$e],W||(L.fa=!1)):(L=new ce(L,this.src,Ie,!!ne,xe),L.fa=W,v.push(L)),L};function te(v,L){var W=L.type;if(W in v.g){var ne=v.g[W],xe=Array.prototype.indexOf.call(ne,L,void 0),Ie;(Ie=0<=xe)&&Array.prototype.splice.call(ne,xe,1),Ie&&(ie(L),v.g[W].length==0&&(delete v.g[W],v.h--))}}function _e(v,L,W,ne){for(var xe=0;xe<v.length;++xe){var Ie=v[xe];if(!Ie.da&&Ie.listener==L&&Ie.capture==!!W&&Ie.ha==ne)return xe}return-1}var U="closure_lm_"+(1e6*Math.random()|0),Se={};function H(v,L,W,ne,xe){if(Array.isArray(L)){for(var Ie=0;Ie<L.length;Ie++)H(v,L[Ie],W,ne,xe);return null}return W=Oe(W),v&&v[j]?v.K(L,W,h(ne)?!!ne.capture:!1,xe):k(v,L,W,!1,ne,xe)}function k(v,L,W,ne,xe,Ie){if(!L)throw Error("Invalid event type");var $e=h(xe)?!!xe.capture:!!xe,zt=De(v);if(zt||(v[U]=zt=new Y(v)),W=zt.add(L,W,ne,$e,Ie),W.proxy)return W;if(ne=I(),W.proxy=ne,ne.src=v,ne.listener=W,v.addEventListener)he||(xe=$e),xe===void 0&&(xe=!1),v.addEventListener(L.toString(),ne,xe);else if(v.attachEvent)v.attachEvent(ge(L.toString()),ne);else if(v.addListener&&v.removeListener)v.addListener(ne);else throw Error("addEventListener and attachEvent are unavailable.");return W}function I(){function v(W){return L.call(v.src,v.listener,W)}const L=le;return v}function z(v,L,W,ne,xe){if(Array.isArray(L))for(var Ie=0;Ie<L.length;Ie++)z(v,L[Ie],W,ne,xe);else ne=h(ne)?!!ne.capture:!!ne,W=Oe(W),v&&v[j]?(v=v.i,L=String(L).toString(),L in v.g&&(Ie=v.g[L],W=_e(Ie,W,ne,xe),-1<W&&(ie(Ie[W]),Array.prototype.splice.call(Ie,W,1),Ie.length==0&&(delete v.g[L],v.h--)))):v&&(v=De(v))&&(L=v.g[L.toString()],v=-1,L&&(v=_e(L,W,ne,xe)),(W=-1<v?L[v]:null)&&se(W))}function se(v){if(typeof v!="number"&&v&&!v.da){var L=v.src;if(L&&L[j])te(L.i,v);else{var W=v.type,ne=v.proxy;L.removeEventListener?L.removeEventListener(W,ne,v.capture):L.detachEvent?L.detachEvent(ge(W),ne):L.addListener&&L.removeListener&&L.removeListener(ne),(W=De(L))?(te(W,v),W.h==0&&(W.src=null,L[U]=null)):ie(v)}}}function ge(v){return v in Se?Se[v]:Se[v]="on"+v}function le(v,L){if(v.da)v=!0;else{L=new ve(L,this);var W=v.listener,ne=v.ha||v.src;v.fa&&se(v),v=W.call(ne,L)}return v}function De(v){return v=v[U],v instanceof Y?v:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oe(v){return typeof v=="function"?v:(v[Pe]||(v[Pe]=function(L){return v.handleEvent(L)}),v[Pe])}function He(){K.call(this),this.i=new Y(this),this.M=this,this.F=null}_(He,K),He.prototype[j]=!0,He.prototype.removeEventListener=function(v,L,W,ne){z(this,v,L,W,ne)};function Ge(v,L){var W,ne=v.F;if(ne)for(W=[];ne;ne=ne.F)W.push(ne);if(v=v.M,ne=L.type||L,typeof L=="string")L=new re(L,v);else if(L instanceof re)L.target=L.target||v;else{var xe=L;L=new re(ne,v),q(L,xe)}if(xe=!0,W)for(var Ie=W.length-1;0<=Ie;Ie--){var $e=L.g=W[Ie];xe=it($e,ne,!0,L)&&xe}if($e=L.g=v,xe=it($e,ne,!0,L)&&xe,xe=it($e,ne,!1,L)&&xe,W)for(Ie=0;Ie<W.length;Ie++)$e=L.g=W[Ie],xe=it($e,ne,!1,L)&&xe}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var v=this.i,L;for(L in v.g){for(var W=v.g[L],ne=0;ne<W.length;ne++)ie(W[ne]);delete v.g[L],v.h--}}this.F=null},He.prototype.K=function(v,L,W,ne){return this.i.add(String(v),L,!1,W,ne)},He.prototype.L=function(v,L,W,ne){return this.i.add(String(v),L,!0,W,ne)};function it(v,L,W,ne){if(L=v.i.g[String(L)],!L)return!0;L=L.concat();for(var xe=!0,Ie=0;Ie<L.length;++Ie){var $e=L[Ie];if($e&&!$e.da&&$e.capture==W){var zt=$e.listener,tr=$e.ha||$e.src;$e.fa&&te(v.i,$e),xe=zt.call(tr,ne)!==!1&&xe}}return xe&&!ne.defaultPrevented}function Nt(v,L,W){if(typeof v=="function")W&&(v=g(v,W));else if(v&&typeof v.handleEvent=="function")v=g(v.handleEvent,v);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:l.setTimeout(v,L||0)}function Zr(v){v.g=Nt(()=>{v.g=null,v.i&&(v.i=!1,Zr(v))},v.l);const L=v.h;v.h=null,v.m.apply(null,L)}class xn extends K{constructor(L,W){super(),this.m=L,this.l=W,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Zr(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Br(v){K.call(this),this.h=v,this.g={}}_(Br,K);var Kt=[];function Jr(v){P(v.g,function(L,W){this.g.hasOwnProperty(W)&&se(L)},v),v.g={}}Br.prototype.N=function(){Br.aa.N.call(this),Jr(this)},Br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wr=l.JSON.stringify,Jn=l.JSON.parse,ei=class{stringify(v){return l.JSON.stringify(v,void 0)}parse(v){return l.JSON.parse(v,void 0)}};function qs(){}qs.prototype.h=null;function ks(v){return v.h||(v.h=v.i())}function Go(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){re.call(this,"d")}_(_r,re);function Ri(){re.call(this,"c")}_(Ri,re);var ni={},Ws=null;function Gs(){return Ws=Ws||new He}ni.La="serverreachability";function Va(v){re.call(this,ni.La,v)}_(Va,re);function ye(v){const L=Gs();Ge(L,new Va(L))}ni.STAT_EVENT="statevent";function Ee(v,L){re.call(this,ni.STAT_EVENT,v),this.stat=L}_(Ee,re);function Ae(v){const L=Gs();Ge(L,new Ee(L,v))}ni.Ma="timingevent";function ze(v,L){re.call(this,ni.Ma,v),this.size=L}_(ze,re);function Ke(v,L){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){v()},L)}function Je(){this.g=!0}Je.prototype.xa=function(){this.g=!1};function ut(v,L,W,ne,xe,Ie){v.info(function(){if(v.g)if(Ie)for(var $e="",zt=Ie.split("&"),tr=0;tr<zt.length;tr++){var jt=zt[tr].split("=");if(1<jt.length){var cr=jt[0];jt=jt[1];var nr=cr.split("_");$e=2<=nr.length&&nr[1]=="type"?$e+(cr+"="+jt+"&"):$e+(cr+"=redacted&")}}else $e=null;else $e=Ie;return"XMLHTTP REQ ("+ne+") [attempt "+xe+"]: "+L+`
`+W+`
`+$e})}function nt(v,L,W,ne,xe,Ie,$e){v.info(function(){return"XMLHTTP RESP ("+ne+") [ attempt "+xe+"]: "+L+`
`+W+`
`+Ie+" "+$e})}function ot(v,L,W,ne){v.info(function(){return"XMLHTTP TEXT ("+L+"): "+dt(v,W)+(ne?" "+ne:"")})}function st(v,L){v.info(function(){return"TIMEOUT: "+L})}Je.prototype.info=function(){};function dt(v,L){if(!v.g)return L;if(!L)return null;try{var W=JSON.parse(L);if(W){for(v=0;v<W.length;v++)if(Array.isArray(W[v])){var ne=W[v];if(!(2>ne.length)){var xe=ne[1];if(Array.isArray(xe)&&!(1>xe.length)){var Ie=xe[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(var $e=1;$e<xe.length;$e++)xe[$e]=""}}}}return wr(W)}catch{return L}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Dt;function Zt(){}_(Zt,qs),Zt.prototype.g=function(){return new XMLHttpRequest},Zt.prototype.i=function(){return{}},Dt=new Zt;function $t(v,L,W,ne){this.j=v,this.i=L,this.l=W,this.R=ne||1,this.U=new Br(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bt}function Bt(){this.i=null,this.g="",this.h=!1}var Rt={},Ji={};function er(v,L,W){v.L=1,v.v=cu(Ii(L)),v.m=W,v.P=!0,ri(v,null)}function ri(v,L){v.F=Date.now(),ki(v),v.A=Ii(v.v);var W=v.A,ne=v.R;Array.isArray(ne)||(ne=[String(ne)]),Wf(W.i,"t",ne),v.C=0,W=v.j.J,v.h=new Bt,v.g=og(v.j,W?L:null,!v.m),0<v.O&&(v.M=new xn(g(v.Y,v,v.g),v.O)),L=v.U,W=v.g,ne=v.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(Kt[0]=xe.toString()),xe=Kt);for(var Ie=0;Ie<xe.length;Ie++){var $e=H(W,xe[Ie],ne||L.handleEvent,!1,L.h||L);if(!$e)break;L.g[$e.key]=$e}L=v.H?O(v.H):{},v.m?(v.u||(v.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,L)):(v.u="GET",v.g.ea(v.A,v.u,null,L)),ye(),ut(v.i,v.u,v.A,v.l,v.R,v.m)}$t.prototype.ca=function(v){v=v.target;const L=this.M;L&&is(v)==3?L.j():this.Y(v)},$t.prototype.Y=function(v){try{if(v==this.g)e:{const nr=is(this.g);var L=this.g.Ba();const ea=this.g.Z();if(!(3>nr)&&(nr!=3||this.g&&(this.h.h||this.g.oa()||Zm(this.g)))){this.J||nr!=4||L==7||(L==8||0>=ea?ye(3):ye(2)),Fr(this);var W=this.g.Z();this.X=W;t:if(br(this)){var ne=Zm(this.g);v="";var xe=ne.length,Ie=is(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_t(this),ii(this);var $e="";break t}this.h.i=new l.TextDecoder}for(L=0;L<xe;L++)this.h.h=!0,v+=this.h.i.decode(ne[L],{stream:!(Ie&&L==xe-1)});ne.length=0,this.h.g+=v,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=W==200,nt(this.i,this.u,this.A,this.l,this.R,nr,W),this.o){if(this.T&&!this.K){t:{if(this.g){var zt,tr=this.g;if((zt=tr.g?tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(zt)){var jt=zt;break t}}jt=null}if(W=jt)ot(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jn(this,W);else{this.o=!1,this.s=3,Ae(12),_t(this),ii(this);break e}}if(this.P){W=!0;let Er;for(;!this.J&&this.C<$e.length;)if(Er=Ks(this,$e),Er==Ji){nr==4&&(this.s=4,Ae(14),W=!1),ot(this.i,this.l,null,"[Incomplete Response]");break}else if(Er==Rt){this.s=4,Ae(15),ot(this.i,this.l,$e,"[Invalid Chunk]"),W=!1;break}else ot(this.i,this.l,Er,null),jn(this,Er);if(br(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nr!=4||$e.length!=0||this.h.h||(this.s=1,Ae(16),W=!1),this.o=this.o&&W,!W)ot(this.i,this.l,$e,"[Invalid Chunked Response]"),_t(this),ii(this);else if(0<$e.length&&!this.W){this.W=!0;var cr=this.j;cr.g==this&&cr.ba&&!cr.M&&(cr.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),vu(cr),cr.M=!0,Ae(11))}}else ot(this.i,this.l,$e,null),jn(this,$e);nr==4&&_t(this),this.o&&!this.J&&(nr==4?rg(this.j,this):(this.o=!1,ki(this)))}else Yw(this.g),W==400&&0<$e.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),_t(this),ii(this)}}}catch{}finally{}};function br(v){return v.g?v.u=="GET"&&v.L!=2&&v.j.Ca:!1}function Ks(v,L){var W=v.C,ne=L.indexOf(`
`,W);return ne==-1?Ji:(W=Number(L.substring(W,ne)),isNaN(W)?Rt:(ne+=1,ne+W>L.length?Ji:(L=L.slice(ne,ne+W),v.C=ne+W,L)))}$t.prototype.cancel=function(){this.J=!0,_t(this)};function ki(v){v.S=Date.now()+v.I,Ua(v,v.I)}function Ua(v,L){if(v.B!=null)throw Error("WatchDog timer not null");v.B=Ke(g(v.ba,v),L)}function Fr(v){v.B&&(l.clearTimeout(v.B),v.B=null)}$t.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(st(this.i,this.A),this.L!=2&&(ye(),Ae(17)),_t(this),this.s=2,ii(this)):Ua(this,this.S-v)};function ii(v){v.j.G==0||v.J||rg(v.j,v)}function _t(v){Fr(v);var L=v.M;L&&typeof L.ma=="function"&&L.ma(),v.M=null,Jr(v.U),v.g&&(L=v.g,v.g=null,L.abort(),L.ma())}function jn(v,L){try{var W=v.j;if(W.G!=0&&(W.g==v||es(W.h,v))){if(!v.K&&es(W.h,v)&&W.G==3){try{var ne=W.Da.g.parse(L)}catch{ne=null}if(Array.isArray(ne)&&ne.length==3){var xe=ne;if(xe[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<v.F)Vc(W),Bc(W);else break e;Xf(W),Ae(18)}}else W.za=xe[1],0<W.za-W.T&&37500>xe[2]&&W.F&&W.v==0&&!W.C&&(W.C=Ke(g(W.Za,W),6e3));if(1>=un(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Jo(W,11)}else if((v.K||W.g==v)&&Vc(W),!A(L))for(xe=W.Da.g.parse(L),L=0;L<xe.length;L++){let jt=xe[L];if(W.T=jt[0],jt=jt[1],W.G==2)if(jt[0]=="c"){W.K=jt[1],W.ia=jt[2];const cr=jt[3];cr!=null&&(W.la=cr,W.j.info("VER="+W.la));const nr=jt[4];nr!=null&&(W.Aa=nr,W.j.info("SVER="+W.Aa));const ea=jt[5];ea!=null&&typeof ea=="number"&&0<ea&&(ne=1.5*ea,W.L=ne,W.j.info("backChannelRequestTimeoutMs_="+ne)),ne=W;const Er=v.g;if(Er){const to=Er.g?Er.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(to){var Ie=ne.h;Ie.g||to.indexOf("spdy")==-1&&to.indexOf("quic")==-1&&to.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(Ko(Ie,Ie.h),Ie.h=null))}if(ne.D){const Zf=Er.g?Er.g.getResponseHeader("X-HTTP-Session-Id"):null;Zf&&(ne.ya=Zf,rn(ne.I,ne.D,Zf))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-v.F,W.j.info("Handshake RTT: "+W.R+"ms")),ne=W;var $e=v;if(ne.qa=sg(ne,ne.J?ne.ia:null,ne.W),$e.K){Sr(ne.h,$e);var zt=$e,tr=ne.L;tr&&(zt.I=tr),zt.B&&(Fr(zt),ki(zt)),ne.g=$e}else tg(ne);0<W.i.length&&Fc(W)}else jt[0]!="stop"&&jt[0]!="close"||Jo(W,7);else W.G==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?Jo(W,7):$f(W):jt[0]!="noop"&&W.l&&W.l.ta(jt),W.v=0)}}ye(4)}catch{}}var Di=class{constructor(v,L){this.g=v,this.map=L}};function hi(v){this.l=v||10,l.PerformanceNavigationTiming?(v=l.performance.getEntriesByType("navigation"),v=0<v.length&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $s(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function un(v){return v.h?1:v.g?v.g.size:0}function es(v,L){return v.h?v.h==L:v.g?v.g.has(L):!1}function Ko(v,L){v.g?v.g.add(L):v.h=L}function Sr(v,L){v.h&&v.h==L?v.h=null:v.g&&v.g.has(L)&&v.g.delete(L)}hi.prototype.cancel=function(){if(this.i=zf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function zf(v){if(v.h!=null)return v.i.concat(v.h.D);if(v.g!=null&&v.g.size!==0){let L=v.i;for(const W of v.g.values())L=L.concat(W.D);return L}return w(v.i)}function Ww(v){if(v.V&&typeof v.V=="function")return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if(typeof v=="string")return v.split("");if(u(v)){for(var L=[],W=v.length,ne=0;ne<W;ne++)L.push(v[ne]);return L}L=[],W=0;for(ne in v)L[W++]=v[ne];return L}function Ic(v){if(v.na&&typeof v.na=="function")return v.na();if(!v.V||typeof v.V!="function"){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(u(v)||typeof v=="string"){var L=[];v=v.length;for(var W=0;W<v;W++)L.push(W);return L}L=[],W=0;for(const ne in v)L[W++]=ne;return L}}}function jf(v,L){if(v.forEach&&typeof v.forEach=="function")v.forEach(L,void 0);else if(u(v)||typeof v=="string")Array.prototype.forEach.call(v,L,void 0);else for(var W=Ic(v),ne=Ww(v),xe=ne.length,Ie=0;Ie<xe;Ie++)L.call(void 0,ne[Ie],W&&W[Ie],v)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gw(v,L){if(v){v=v.split("&");for(var W=0;W<v.length;W++){var ne=v[W].indexOf("="),xe=null;if(0<=ne){var Ie=v[W].substring(0,ne);xe=v[W].substring(ne+1)}else Ie=v[W];L(Ie,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Hn(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Hn){this.h=v.h,uu(this,v.j),this.o=v.o,this.g=v.g,za(this,v.s),this.l=v.l;var L=v.i,W=new Yo;W.i=L.i,L.g&&(W.g=new Map(L.g),W.h=L.h),$o(this,W),this.m=v.m}else v&&(L=String(v).match(lu))?(this.h=!1,uu(this,L[1]||"",!0),this.o=ts(L[2]||""),this.g=ts(L[3]||"",!0),za(this,L[4]),this.l=ts(L[5]||"",!0),$o(this,L[6]||"",!0),this.m=ts(L[7]||"")):(this.h=!1,this.i=new Yo(null,this.h))}Hn.prototype.toString=function(){var v=[],L=this.j;L&&v.push(hu(L,Hf,!0),":");var W=this.g;return(W||L=="file")&&(v.push("//"),(L=this.o)&&v.push(hu(L,Hf,!0),"@"),v.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&v.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&v.push("/"),v.push(hu(W,W.charAt(0)=="/"?Kw:qf,!0))),(W=this.i.toString())&&v.push("?",W),(W=this.m)&&v.push("#",hu(W,Oc)),v.join("")};function Ii(v){return new Hn(v)}function uu(v,L,W){v.j=W?ts(L,!0):L,v.j&&(v.j=v.j.replace(/:$/,""))}function za(v,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);v.s=L}else v.s=null}function $o(v,L,W){L instanceof Yo?(v.i=L,Xm(v.i,v.h)):(W||(L=hu(L,$w)),v.i=new Yo(L,v.h))}function rn(v,L,W){v.i.set(L,W)}function cu(v){return rn(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function ts(v,L){return v?L?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function hu(v,L,W){return typeof v=="string"?(v=encodeURI(v).replace(L,Ym),W&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Ym(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Hf=/[#\/\?@]/g,qf=/[#\?:]/g,Kw=/[#\?]/g,$w=/[#\?@]/g,Oc=/#/g;function Yo(v,L){this.h=this.g=null,this.i=v||null,this.j=!!L}function ns(v){v.g||(v.g=new Map,v.h=0,v.i&&Gw(v.i,function(L,W){v.add(decodeURIComponent(L.replace(/\+/g," ")),W)}))}r=Yo.prototype,r.add=function(v,L){ns(this),this.i=null,v=Ys(this,v);var W=this.g.get(v);return W||this.g.set(v,W=[]),W.push(L),this.h+=1,this};function Xo(v,L){ns(v),L=Ys(v,L),v.g.has(L)&&(v.i=null,v.h-=v.g.get(L).length,v.g.delete(L))}function Qo(v,L){return ns(v),L=Ys(v,L),v.g.has(L)}r.forEach=function(v,L){ns(this),this.g.forEach(function(W,ne){W.forEach(function(xe){v.call(L,xe,ne,this)},this)},this)},r.na=function(){ns(this);const v=Array.from(this.g.values()),L=Array.from(this.g.keys()),W=[];for(let ne=0;ne<L.length;ne++){const xe=v[ne];for(let Ie=0;Ie<xe.length;Ie++)W.push(L[ne])}return W},r.V=function(v){ns(this);let L=[];if(typeof v=="string")Qo(this,v)&&(L=L.concat(this.g.get(Ys(this,v))));else{v=Array.from(this.g.values());for(let W=0;W<v.length;W++)L=L.concat(v[W])}return L},r.set=function(v,L){return ns(this),this.i=null,v=Ys(this,v),Qo(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[L]),this.h+=1,this},r.get=function(v,L){return v?(v=this.V(v),0<v.length?String(v[0]):L):L};function Wf(v,L,W){Xo(v,L),0<W.length&&(v.i=null,v.g.set(Ys(v,L),w(W)),v.h+=W.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],L=Array.from(this.g.keys());for(var W=0;W<L.length;W++){var ne=L[W];const Ie=encodeURIComponent(String(ne)),$e=this.V(ne);for(ne=0;ne<$e.length;ne++){var xe=Ie;$e[ne]!==""&&(xe+="="+encodeURIComponent(String($e[ne]))),v.push(xe)}}return this.i=v.join("&")};function Ys(v,L){return L=String(L),v.j&&(L=L.toLowerCase()),L}function Xm(v,L){L&&!v.j&&(ns(v),v.i=null,v.g.forEach(function(W,ne){var xe=ne.toLowerCase();ne!=xe&&(Xo(this,ne),Wf(this,xe,W))},v)),v.j=L}function fu(v,L){const W=new Je;if(l.Image){const ne=new Image;ne.onload=y(rs,W,"TestLoadImage: loaded",!0,L,ne),ne.onerror=y(rs,W,"TestLoadImage: error",!1,L,ne),ne.onabort=y(rs,W,"TestLoadImage: abort",!1,L,ne),ne.ontimeout=y(rs,W,"TestLoadImage: timeout",!1,L,ne),l.setTimeout(function(){ne.ontimeout&&ne.ontimeout()},1e4),ne.src=v}else L(!1)}function Ds(v,L){const W=new Je,ne=new AbortController,xe=setTimeout(()=>{ne.abort(),rs(W,"TestPingServer: timeout",!1,L)},1e4);fetch(v,{signal:ne.signal}).then(Ie=>{clearTimeout(xe),Ie.ok?rs(W,"TestPingServer: ok",!0,L):rs(W,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(xe),rs(W,"TestPingServer: error",!1,L)})}function rs(v,L,W,ne,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),ne(W)}catch{}}function du(){this.g=new ei}function Xs(v,L,W){const ne=W||"";try{jf(v,function(xe,Ie){let $e=xe;h(xe)&&($e=wr(xe)),L.push(ne+Ie+"="+encodeURIComponent($e))})}catch(xe){throw L.push(ne+"type="+encodeURIComponent("_badmap")),xe}}function ja(v){this.l=v.Ub||null,this.j=v.eb||!1}_(ja,qs),ja.prototype.g=function(){return new Zo(this.l,this.j)},ja.prototype.i=function(v){return function(){return v}}({});function Zo(v,L){He.call(this),this.D=v,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Zo,He),r=Zo.prototype,r.open=function(v,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=L,this.readyState=1,Zs(this)},r.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(L.body=v),(this.D||l).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},r.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gf(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gf(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}r.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var L=v.value?v.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!v.done}))&&(this.response=this.responseText+=L)}v.done?Qs(this):Zs(this),this.readyState==3&&Gf(this)}},r.Ra=function(v){this.g&&(this.response=this.responseText=v,Qs(this))},r.Qa=function(v){this.g&&(this.response=v,Qs(this))},r.ga=function(){this.g&&Qs(this)};function Qs(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Zs(v)}r.setRequestHeader=function(v,L){this.u.append(v,L)},r.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],L=this.h.entries();for(var W=L.next();!W.done;)W=W.value,v.push(W[0]+": "+W[1]),W=L.next();return v.join(`\r
`)};function Zs(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Zo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Kf(v){let L="";return P(v,function(W,ne){L+=ne,L+=":",L+=W,L+=`\r
`}),L}function ur(v,L,W){e:{for(ne in W){var ne=!1;break e}ne=!0}ne||(W=Kf(W),typeof v=="string"?W!=null&&encodeURIComponent(String(W)):rn(v,L,W))}function Jt(v){He.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Jt,He);var Nc=/^https?$/i,pu=["POST","PUT"];r=Jt.prototype,r.Ha=function(v){this.J=v},r.ea=function(v,L,W,ne){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);L=L?L.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Dt.g(),this.v=this.o?ks(this.o):ks(Dt),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(L,String(v),!0),this.B=!1}catch(Ie){Qm(this,Ie);return}if(v=W||"",W=new Map(this.headers),ne)if(Object.getPrototypeOf(ne)===Object.prototype)for(var xe in ne)W.set(xe,ne[xe]);else if(typeof ne.keys=="function"&&typeof ne.get=="function")for(const Ie of ne.keys())W.set(Ie,ne.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(ne));ne=Array.from(W.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),xe=l.FormData&&v instanceof l.FormData,!(0<=Array.prototype.indexOf.call(pu,L,void 0))||ne||xe||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,$e]of W)this.g.setRequestHeader(Ie,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mu(this),this.u=!0,this.g.send(v),this.u=!1}catch(Ie){Qm(this,Ie)}};function Qm(v,L){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=L,v.m=5,Mc(v),Js(v)}function Mc(v){v.A||(v.A=!0,Ge(v,"complete"),Ge(v,"error"))}r.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,Ge(this,"complete"),Ge(this,"abort"),Js(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Js(this,!0)),Jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Pc(this):this.bb())},r.bb=function(){Pc(this)};function Pc(v){if(v.h&&typeof o<"u"&&(!v.v[1]||is(v)!=4||v.Z()!=2)){if(v.u&&is(v)==4)Nt(v.Ea,0,v);else if(Ge(v,"readystatechange"),is(v)==4){v.h=!1;try{const $e=v.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var W;if(!(W=L)){var ne;if(ne=$e===0){var xe=String(v.D).match(lu)[1]||null;!xe&&l.self&&l.self.location&&(xe=l.self.location.protocol.slice(0,-1)),ne=!Nc.test(xe?xe.toLowerCase():"")}W=ne}if(W)Ge(v,"complete"),Ge(v,"success");else{v.m=6;try{var Ie=2<is(v)?v.g.statusText:""}catch{Ie=""}v.l=Ie+" ["+v.Z()+"]",Mc(v)}}finally{Js(v)}}}}function Js(v,L){if(v.g){mu(v);const W=v.g,ne=v.v[0]?()=>{}:null;v.g=null,v.v=null,L||Ge(v,"ready");try{W.onreadystatechange=ne}catch{}}}function mu(v){v.I&&(l.clearTimeout(v.I),v.I=null)}r.isActive=function(){return!!this.g};function is(v){return v.g?v.g.readyState:0}r.Z=function(){try{return 2<is(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(v){if(this.g){var L=this.g.responseText;return v&&L.indexOf(v)==0&&(L=L.substring(v.length)),Jn(L)}};function Zm(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Yw(v){const L={};v=(v.g&&2<=is(v)&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let ne=0;ne<v.length;ne++){if(A(v[ne]))continue;var W=$(v[ne]);const xe=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Ie=L[xe]||[];L[xe]=Ie,Ie.push(W)}N(L,function(ne){return ne.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gu(v,L,W){return W&&W.internalChannelParams&&W.internalChannelParams[v]||L}function Lc(v){this.Aa=0,this.i=[],this.j=new Je,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gu("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gu("baseRetryDelayMs",5e3,v),this.cb=gu("retryDelaySeedMs",1e4,v),this.Wa=gu("forwardChannelMaxRetries",2,v),this.wa=gu("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new hi(v&&v.concurrentRequestLimit),this.Da=new du,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Lc.prototype,r.la=8,r.G=1,r.connect=function(v,L,W,ne){Ae(0),this.W=v,this.H=L||{},W&&ne!==void 0&&(this.H.OSID=W,this.H.OAID=ne),this.F=this.X,this.I=sg(this,null,this.W),Fc(this)};function $f(v){if(Jm(v),v.G==3){var L=v.U++,W=Ii(v.I);if(rn(W,"SID",v.K),rn(W,"RID",L),rn(W,"TYPE","terminate"),yu(v,W),L=new $t(v,v.j,L),L.L=2,L.v=cu(Ii(W)),W=!1,l.navigator&&l.navigator.sendBeacon)try{W=l.navigator.sendBeacon(L.v.toString(),"")}catch{}!W&&l.Image&&(new Image().src=L.v,W=!0),W||(L.g=og(L.j,null),L.g.ea(L.v)),L.F=Date.now(),ki(L)}ig(v)}function Bc(v){v.g&&(vu(v),v.g.cancel(),v.g=null)}function Jm(v){Bc(v),v.u&&(l.clearTimeout(v.u),v.u=null),Vc(v),v.h.cancel(),v.s&&(typeof v.s=="number"&&l.clearTimeout(v.s),v.s=null)}function Fc(v){if(!$s(v.h)&&!v.s){v.s=!0;var L=v.Ga;X||ee(),fe||(X(),fe=!0),de.add(L,v),v.B=0}}function Xw(v,L){return un(v.h)>=v.h.j-(v.s?1:0)?!1:v.s?(v.i=L.D.concat(v.i),!0):v.G==1||v.G==2||v.B>=(v.Va?0:v.Wa)?!1:(v.s=Ke(g(v.Ga,v,L),Qf(v,v.B)),v.B++,!0)}r.Ga=function(v){if(this.s)if(this.s=null,this.G==1){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const xe=new $t(this,this.j,v);let Ie=this.o;if(this.S&&(Ie?(Ie=O(Ie),q(Ie,this.S)):Ie=this.S),this.m!==null||this.O||(xe.H=Ie,Ie=null),this.P)e:{for(var L=0,W=0;W<this.i.length;W++){t:{var ne=this.i[W];if("__data__"in ne.map&&(ne=ne.map.__data__,typeof ne=="string")){ne=ne.length;break t}ne=void 0}if(ne===void 0)break;if(L+=ne,4096<L){L=W;break e}if(L===4096||W===this.i.length-1){L=W+1;break e}}L=1e3}else L=1e3;L=eg(this,xe,L),W=Ii(this.I),rn(W,"RID",v),rn(W,"CVER",22),this.D&&rn(W,"X-HTTP-Session-Id",this.D),yu(this,W),Ie&&(this.O?L="headers="+encodeURIComponent(String(Kf(Ie)))+"&"+L:this.m&&ur(W,this.m,Ie)),Ko(this.h,xe),this.Ua&&rn(W,"TYPE","init"),this.P?(rn(W,"$req",L),rn(W,"SID","null"),xe.T=!0,er(xe,W,null)):er(xe,W,L),this.G=2}}else this.G==3&&(v?Yf(this,v):this.i.length==0||$s(this.h)||Yf(this))};function Yf(v,L){var W;L?W=L.l:W=v.U++;const ne=Ii(v.I);rn(ne,"SID",v.K),rn(ne,"RID",W),rn(ne,"AID",v.T),yu(v,ne),v.m&&v.o&&ur(ne,v.m,v.o),W=new $t(v,v.j,W,v.B+1),v.m===null&&(W.H=v.o),L&&(v.i=L.D.concat(v.i)),L=eg(v,W,1e3),W.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Ko(v.h,W),er(W,ne,L)}function yu(v,L){v.H&&P(v.H,function(W,ne){rn(L,ne,W)}),v.l&&jf({},function(W,ne){rn(L,ne,W)})}function eg(v,L,W){W=Math.min(v.i.length,W);var ne=v.l?g(v.l.Na,v.l,v):null;e:{var xe=v.i;let Ie=-1;for(;;){const $e=["count="+W];Ie==-1?0<W?(Ie=xe[0].g,$e.push("ofs="+Ie)):Ie=0:$e.push("ofs="+Ie);let zt=!0;for(let tr=0;tr<W;tr++){let jt=xe[tr].g;const cr=xe[tr].map;if(jt-=Ie,0>jt)Ie=Math.max(0,xe[tr].g-100),zt=!1;else try{Xs(cr,$e,"req"+jt+"_")}catch{ne&&ne(cr)}}if(zt){ne=$e.join("&");break e}}}return v=v.i.splice(0,W),L.D=v,ne}function tg(v){if(!v.g&&!v.u){v.Y=1;var L=v.Fa;X||ee(),fe||(X(),fe=!0),de.add(L,v),v.v=0}}function Xf(v){return v.g||v.u||3<=v.v?!1:(v.Y++,v.u=Ke(g(v.Fa,v),Qf(v,v.v)),v.v++,!0)}r.Fa=function(){if(this.u=null,ng(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Ke(g(this.ab,this),v)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),Bc(this),ng(this))};function vu(v){v.A!=null&&(l.clearTimeout(v.A),v.A=null)}function ng(v){v.g=new $t(v,v.j,"rpc",v.Y),v.m===null&&(v.g.H=v.o),v.g.O=0;var L=Ii(v.qa);rn(L,"RID","rpc"),rn(L,"SID",v.K),rn(L,"AID",v.T),rn(L,"CI",v.F?"0":"1"),!v.F&&v.ja&&rn(L,"TO",v.ja),rn(L,"TYPE","xmlhttp"),yu(v,L),v.m&&v.o&&ur(L,v.m,v.o),v.L&&(v.g.I=v.L);var W=v.g;v=v.ia,W.L=1,W.v=cu(Ii(L)),W.m=null,W.P=!0,ri(W,v)}r.Za=function(){this.C!=null&&(this.C=null,Bc(this),Xf(this),Ae(19))};function Vc(v){v.C!=null&&(l.clearTimeout(v.C),v.C=null)}function rg(v,L){var W=null;if(v.g==L){Vc(v),vu(v),v.g=null;var ne=2}else if(es(v.h,L))W=L.D,Sr(v.h,L),ne=1;else return;if(v.G!=0){if(L.o)if(ne==1){W=L.m?L.m.length:0,L=Date.now()-L.F;var xe=v.B;ne=Gs(),Ge(ne,new ze(ne,W)),Fc(v)}else tg(v);else if(xe=L.s,xe==3||xe==0&&0<L.X||!(ne==1&&Xw(v,L)||ne==2&&Xf(v)))switch(W&&0<W.length&&(L=v.h,L.i=L.i.concat(W)),xe){case 1:Jo(v,5);break;case 4:Jo(v,10);break;case 3:Jo(v,6);break;default:Jo(v,2)}}}function Qf(v,L){let W=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(W*=2),W*L}function Jo(v,L){if(v.j.info("Error code "+L),L==2){var W=g(v.fb,v),ne=v.Xa;const xe=!ne;ne=new Hn(ne||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||uu(ne,"https"),cu(ne),xe?fu(ne.toString(),W):Ds(ne.toString(),W)}else Ae(2);v.G=0,v.l&&v.l.sa(L),ig(v),Jm(v)}r.fb=function(v){v?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function ig(v){if(v.G=0,v.ka=[],v.l){const L=zf(v.h);(L.length!=0||v.i.length!=0)&&(E(v.ka,L),E(v.ka,v.i),v.h.i.length=0,w(v.i),v.i.length=0),v.l.ra()}}function sg(v,L,W){var ne=W instanceof Hn?Ii(W):new Hn(W);if(ne.g!="")L&&(ne.g=L+"."+ne.g),za(ne,ne.s);else{var xe=l.location;ne=xe.protocol,L=L?L+"."+xe.hostname:xe.hostname,xe=+xe.port;var Ie=new Hn(null);ne&&uu(Ie,ne),L&&(Ie.g=L),xe&&za(Ie,xe),W&&(Ie.l=W),ne=Ie}return W=v.D,L=v.ya,W&&L&&rn(ne,W,L),rn(ne,"VER",v.la),yu(v,ne),ne}function og(v,L,W){if(L&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=v.Ca&&!v.pa?new Jt(new ja({eb:W})):new Jt(v.pa),L.Ha(v.J),L}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ag(){}r=ag.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Uc(){}Uc.prototype.g=function(v,L){return new si(v,L)};function si(v,L){He.call(this),this.g=new Lc(L),this.l=v,this.h=L&&L.messageUrlParams||null,v=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(v?v["X-WebChannel-Content-Type"]=L.messageContentType:v={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(v?v["X-WebChannel-Client-Profile"]=L.va:v={"X-WebChannel-Client-Profile":L.va}),this.g.S=v,(v=L&&L.Sb)&&!A(v)&&(this.g.m=v),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!A(L)&&(this.g.D=L,v=this.h,v!==null&&L in v&&(v=this.h,L in v&&delete v[L])),this.j=new eo(this)}_(si,He),si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},si.prototype.close=function(){$f(this.g)},si.prototype.o=function(v){var L=this.g;if(typeof v=="string"){var W={};W.__data__=v,v=W}else this.u&&(W={},W.__data__=wr(v),v=W);L.i.push(new Di(L.Ya++,v)),L.G==3&&Fc(L)},si.prototype.N=function(){this.g.l=null,delete this.j,$f(this.g),delete this.g,si.aa.N.call(this)};function lg(v){_r.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var L=v.__sm__;if(L){e:{for(const W in L){v=W;break e}v=void 0}(this.i=v)&&(v=this.i,L=L!==null&&v in L?L[v]:void 0),this.data=L}else this.data=v}_(lg,_r);function ug(){Ri.call(this),this.status=1}_(ug,Ri);function eo(v){this.g=v}_(eo,ag),eo.prototype.ua=function(){Ge(this.g,"a")},eo.prototype.ta=function(v){Ge(this.g,new lg(v))},eo.prototype.sa=function(v){Ge(this.g,new ug)},eo.prototype.ra=function(){Ge(this.g,"b")},Uc.prototype.createWebChannel=Uc.prototype.g,si.prototype.send=si.prototype.o,si.prototype.open=si.prototype.m,si.prototype.close=si.prototype.close,d5=function(){return new Uc},f5=function(){return Gs()},h5=ni,tx={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,u0=ct,yt.COMPLETE="complete",c5=yt,Go.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",He.prototype.listen=He.prototype.K,sp=Go,Jt.prototype.listenOnce=Jt.prototype.L,Jt.prototype.getLastError=Jt.prototype.Ka,Jt.prototype.getLastErrorCode=Jt.prototype.Ba,Jt.prototype.getStatus=Jt.prototype.Z,Jt.prototype.getResponseJson=Jt.prototype.Oa,Jt.prototype.getResponseText=Jt.prototype.oa,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Ha,u5=Jt}).apply(typeof py<"u"?py:typeof self<"u"?self:typeof window<"u"?window:{});const aI="@firebase/firestore",lI="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jr.UNAUTHENTICATED=new jr(null),jr.GOOGLE_CREDENTIALS=new jr("google-credentials-uid"),jr.FIRST_PARTY=new jr("first-party-uid"),jr.MOCK_USER=new jr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new XT("@firebase/firestore");function wh(){return dc.logLevel}function et(r,...e){if(dc.logLevel<=Mt.DEBUG){const t=e.map(aA);dc.debug(`Firestore (${If}): ${r}`,...t)}}function ka(r,...e){if(dc.logLevel<=Mt.ERROR){const t=e.map(aA);dc.error(`Firestore (${If}): ${r}`,...t)}}function ef(r,...e){if(dc.logLevel<=Mt.WARN){const t=e.map(aA);dc.warn(`Firestore (${If}): ${r}`,...t)}}function aA(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,p5(r,n,t)}function p5(r,e,t){let n=`FIRESTORE (${If}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ka(n),new Error(n)}function en(r,e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,r||p5(e,i,n)}function St(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ze extends La{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(jr.UNAUTHENTICATED))}shutdown(){}}class hq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class fq{constructor(e){this.t=e,this.currentUser=jr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){en(this.o===void 0,42304);let n=this.i;const i=u=>this.i!==n?(n=this.i,t(u)):Promise.resolve();let s=new Nl;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Nl,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Nl)}},0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(en(typeof n.accessToken=="string",31837,{l:n}),new m5(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return en(e===null||typeof e=="string",2055,{h:e}),new jr(e)}}class dq{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=jr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pq{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new dq(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(jr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mq{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gs(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){en(this.o===void 0,3512);const n=s=>{s.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,et("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(en(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new uI(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gq(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=gq(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<t&&(n+=e.charAt(i[s]%62))}return n}}function Pt(r,e){return r<e?-1:r>e?1:0}function nx(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const i=r.charAt(n),s=e.charAt(n);if(i!==s)return J_(i)===J_(s)?Pt(i,s):J_(i)?1:-1}return Pt(r.length,e.length)}const yq=55296,vq=57343;function J_(r){const e=r.charCodeAt(0);return e>=yq&&e<=vq}function tf(r,e,t){return r.length===e.length&&r.every((n,i)=>t(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="__name__";class po{constructor(e,t,n){t===void 0?t=0:t>e.length&&gt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&gt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return po.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof po?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=po.compareSegments(e.get(i),t.get(i));if(s!==0)return s}return Pt(e.length,t.length)}static compareSegments(e,t){const n=po.isNumericId(e),i=po.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?po.extractNumericId(e).compare(po.extractNumericId(t)):nx(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ol.fromString(e.substring(4,e.length-2))}}class yn extends po{construct(e,t,n){return new yn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const wq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Or extends po{construct(e,t,n){return new Or(e,t,n)}static isValidIdentifier(e){return wq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Or.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cI}static keyField(){return new Or([cI])}static fromServerFormat(e){const t=[];let n="",i=0;const s=()=>{if(n.length===0)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ze(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Ze(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(n+=l,i++):(s(),i++)}if(s(),o)throw new Ze(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Or(t)}static emptyPath(){return new Or([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.path=e}static fromPath(e){return new lt(yn.fromString(e))}static fromName(e){return new lt(yn.fromString(e).popFirst(5))}static empty(){return new lt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new yn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(r,e,t){if(!t)throw new Ze(Fe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function _q(r,e,t,n){if(e===!0&&n===!0)throw new Ze(Fe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function hI(r){if(!lt.isDocumentKey(r))throw new Ze(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fI(r){if(lt.isDocumentKey(r))throw new Ze(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function y5(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Jv(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function nf(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ze(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jv(r);throw new Ze(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,e){const t={typeString:r};return e&&(t.value=e),t}function Tm(r,e){if(!y5(r))throw new Ze(Fe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const o=r[n];if(i&&typeof o!==i){t=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){t=`Expected '${n}' field to equal '${s.value}'`;break}}if(t)throw new Ze(Fe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=-62135596800,pI=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*pI);return new wn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<dI)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ze(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pI}_compareTo(e){return this.seconds===e.seconds?Pt(this.nanoseconds,e.nanoseconds):Pt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tm(e,wn._jsonSchema))return new wn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wn._jsonSchemaVersion="firestore/timestamp/1.0",wn._jsonSchema={type:Qn("string",wn._jsonSchemaVersion),seconds:Qn("number"),nanoseconds:Qn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new wn(0,0))}static max(){return new bt(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp=-1;function bq(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,i=bt.fromTimestamp(n===1e9?new wn(t+1,0):new wn(t,n));return new Fl(i,lt.empty(),e)}function Sq(r){return new Fl(r.readTime,r.key,zp)}class Fl{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Fl(bt.min(),lt.empty(),zp)}static max(){return new Fl(bt.max(),lt.empty(),zp)}}function Eq(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=lt.comparator(r.documentKey,e.documentKey),t!==0?t:Pt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Of(r){if(r.code!==Fe.FAILED_PRECONDITION||r.message!==xq)throw r;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new je((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof je?t:je.resolve(t)}catch(t){return je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):je.reject(t)}static resolve(e){return new je((t,n)=>{t(e)})}static reject(e){return new je((t,n)=>{n(e)})}static waitFor(e){return new je((t,n)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&t()},u=>n(u))}),o=!0,s===i&&t()})}static or(e){let t=je.resolve(!1);for(const n of e)t=t.next(i=>i?je.resolve(i):n());return t}static forEach(e,t){const n=[];return e.forEach((i,s)=>{n.push(t.call(this,i,s))}),this.waitFor(n)}static mapArray(e,t){return new je((n,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const h=u;t(e[h]).next(f=>{o[h]=f,++l,l===s&&n(o)},f=>i(f))}})}static doWhile(e,t){return new je((n,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):n()};s()})}}function Aq(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nf(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ew.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=-1;function tw(r){return r==null}function Y0(r){return r===0&&1/r==-1/0}function Cq(r){return typeof r=="number"&&Number.isInteger(r)&&!Y0(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="";function Rq(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=mI(e)),e=kq(r.get(t),e);return mI(e)}function kq(r,e){let t=e;const n=r.length;for(let i=0;i<n;i++){const s=r.charAt(i);switch(s){case"\0":t+="";break;case v5:t+="";break;default:t+=s}}return t}function mI(r){return r+v5+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function tu(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function w5(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t){this.comparator=e,this.root=t||kr.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,kr.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new my(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new my(this.root,e,this.comparator,!1)}getReverseIterator(){return new my(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new my(this.root,e,this.comparator,!0)}}class my{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kr{constructor(e,t,n,i,s){this.key=e,this.value=t,this.color=n??kr.RED,this.left=i??kr.EMPTY,this.right=s??kr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,s){return new kr(e??this.key,t??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,n),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return kr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw gt(27949);return e+(this.isRed()?0:1)}}kr.EMPTY=null,kr.RED=!0,kr.BLACK=!1;kr.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(e,t,n,i,s){return this}insert(e,t,n){return new kr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yI(this.data.getIterator())}getIteratorFrom(e){return new yI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new lr(this.comparator);return t.data=e,t}}class yI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.fields=e,e.sort(Or.comparator)}static empty(){return new Wi([])}unionWith(e){let t=new lr(Or.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tf(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _5("Invalid base64 string: "+s):s}}(e);return new Pr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const Dq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vl(r){if(en(!!r,39018),typeof r=="string"){let e=0;const t=Dq.exec(r);if(en(!!t,46558,{timestamp:r}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Bn(r.seconds),nanos:Bn(r.nanos)}}function Bn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ul(r){return typeof r=="string"?Pr.fromBase64String(r):Pr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5="server_timestamp",S5="__type__",E5="__previous_value__",x5="__local_write_time__";function cA(r){return(r?.mapValue?.fields||{})[S5]?.stringValue===b5}function nw(r){const e=r.mapValue.fields[E5];return cA(e)?nw(e):e}function jp(r){const e=Vl(r.mapValue.fields[x5].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e,t,n,i,s,o,l,u,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=f}}const X0="(default)";class Hp{constructor(e,t){this.projectId=e,this.database=t||X0}static empty(){return new Hp("","")}get isDefaultDatabase(){return this.database===X0}isEqual(e){return e instanceof Hp&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T5="__type__",Oq="__max__",gy={mapValue:{}},A5="__vector__",Q0="value";function zl(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cA(r)?4:Mq(r)?9007199254740991:Nq(r)?10:11:gt(28295,{value:r})}function Lo(r,e){if(r===e)return!0;const t=zl(r);if(t!==zl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return jp(r).isEqual(jp(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Vl(i.timestampValue),l=Vl(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(i,s){return Ul(i.bytesValue).isEqual(Ul(s.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(i,s){return Bn(i.geoPointValue.latitude)===Bn(s.geoPointValue.latitude)&&Bn(i.geoPointValue.longitude)===Bn(s.geoPointValue.longitude)}(r,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Bn(i.integerValue)===Bn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Bn(i.doubleValue),l=Bn(s.doubleValue);return o===l?Y0(o)===Y0(l):isNaN(o)&&isNaN(l)}return!1}(r,e);case 9:return tf(r.arrayValue.values||[],e.arrayValue.values||[],Lo);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(gI(o)!==gI(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Lo(o[u],l[u])))return!1;return!0}(r,e);default:return gt(52216,{left:r})}}function qp(r,e){return(r.values||[]).find(t=>Lo(t,e))!==void 0}function rf(r,e){if(r===e)return 0;const t=zl(r),n=zl(e);if(t!==n)return Pt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,e.booleanValue);case 2:return function(s,o){const l=Bn(s.integerValue||s.doubleValue),u=Bn(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(r,e);case 3:return vI(r.timestampValue,e.timestampValue);case 4:return vI(jp(r),jp(e));case 5:return nx(r.stringValue,e.stringValue);case 6:return function(s,o){const l=Ul(s),u=Ul(o);return l.compareTo(u)}(r.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let h=0;h<l.length&&h<u.length;h++){const f=Pt(l[h],u[h]);if(f!==0)return f}return Pt(l.length,u.length)}(r.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Pt(Bn(s.latitude),Bn(o.latitude));return l!==0?l:Pt(Bn(s.longitude),Bn(o.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return wI(r.arrayValue,e.arrayValue);case 10:return function(s,o){const l=s.fields||{},u=o.fields||{},h=l[Q0]?.arrayValue,f=u[Q0]?.arrayValue,p=Pt(h?.values?.length||0,f?.values?.length||0);return p!==0?p:wI(h,f)}(r.mapValue,e.mapValue);case 11:return function(s,o){if(s===gy.mapValue&&o===gy.mapValue)return 0;if(s===gy.mapValue)return 1;if(o===gy.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),h=o.fields||{},f=Object.keys(h);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const g=nx(u[p],f[p]);if(g!==0)return g;const y=rf(l[u[p]],h[f[p]]);if(y!==0)return y}return Pt(u.length,f.length)}(r.mapValue,e.mapValue);default:throw gt(23264,{he:t})}}function vI(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pt(r,e);const t=Vl(r),n=Vl(e),i=Pt(t.seconds,n.seconds);return i!==0?i:Pt(t.nanos,n.nanos)}function wI(r,e){const t=r.values||[],n=e.values||[];for(let i=0;i<t.length&&i<n.length;++i){const s=rf(t[i],n[i]);if(s)return s}return Pt(t.length,n.length)}function sf(r){return rx(r)}function rx(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Vl(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return Ul(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return lt.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",i=!0;for(const s of t.values||[])i?i=!1:n+=",",n+=rx(s);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of n)s?s=!1:i+=",",i+=`${o}:${rx(t.fields[o])}`;return i+"}"}(r.mapValue):gt(61005,{value:r})}function c0(r){switch(zl(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nw(r);return e?16+c0(e):16;case 5:return 2*r.stringValue.length;case 6:return Ul(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,s)=>i+c0(s),0)}(r.arrayValue);case 10:case 11:return function(n){let i=0;return tu(n.fields,(s,o)=>{i+=s.length+c0(o)}),i}(r.mapValue);default:throw gt(13486,{value:r})}}function _I(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ix(r){return!!r&&"integerValue"in r}function hA(r){return!!r&&"arrayValue"in r}function bI(r){return!!r&&"nullValue"in r}function SI(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function h0(r){return!!r&&"mapValue"in r}function Nq(r){return(r?.mapValue?.fields||{})[T5]?.stringValue===A5}function _p(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return tu(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=_p(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=_p(r.arrayValue.values[t]);return e}return{...r}}function Mq(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Oq}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.value=e}static empty(){return new wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!h0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_p(t)}setAll(e){let t=Or.emptyPath(),n={},i=[];e.forEach((o,l)=>{if(!t.isImmediateParentOf(l)){const u=this.getFieldsMap(t);this.applyChanges(u,n,i),n={},i=[],t=l.popLast()}o?n[l.lastSegment()]=_p(o):i.push(l.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,n,i)}delete(e){const t=this.field(e.popLast());h0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];h0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){tu(t,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new wi(_p(this.value))}}function C5(r){const e=[];return tu(r.fields,(t,n)=>{const i=new Or([t]);if(h0(n)){const s=C5(n.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Wi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,t,n,i,s,o,l){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new qr(e,0,bt.min(),bt.min(),bt.min(),wi.empty(),0)}static newFoundDocument(e,t,n,i){return new qr(e,1,t,bt.min(),n,i,0)}static newNoDocument(e,t){return new qr(e,2,t,bt.min(),bt.min(),wi.empty(),0)}static newUnknownDocument(e,t){return new qr(e,3,t,bt.min(),bt.min(),wi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,t){this.position=e,this.inclusive=t}}function EI(r,e,t){let n=0;for(let i=0;i<r.position.length;i++){const s=e[i],o=r.position[i];if(s.field.isKeyField()?n=lt.comparator(lt.fromName(o.referenceValue),t.key):n=rf(o,t.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function xI(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Lo(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t="asc"){this.field=e,this.dir=t}}function Pq(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{}class Xn extends R5{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Bq(e,t,n):t==="array-contains"?new Uq(e,n):t==="in"?new zq(e,n):t==="not-in"?new jq(e,n):t==="array-contains-any"?new Hq(e,n):new Xn(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Fq(e,n):new Vq(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(rf(t,this.value)):t!==null&&zl(this.value)===zl(t)&&this.matchesComparison(rf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Us extends R5{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Us(e,t)}matches(e){return k5(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function k5(r){return r.op==="and"}function D5(r){return Lq(r)&&k5(r)}function Lq(r){for(const e of r.filters)if(e instanceof Us)return!1;return!0}function sx(r){if(r instanceof Xn)return r.field.canonicalString()+r.op.toString()+sf(r.value);if(D5(r))return r.filters.map(e=>sx(e)).join(",");{const e=r.filters.map(t=>sx(t)).join(",");return`${r.op}(${e})`}}function I5(r,e){return r instanceof Xn?function(n,i){return i instanceof Xn&&n.op===i.op&&n.field.isEqual(i.field)&&Lo(n.value,i.value)}(r,e):r instanceof Us?function(n,i){return i instanceof Us&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,o,l)=>s&&I5(o,i.filters[l]),!0):!1}(r,e):void gt(19439)}function O5(r){return r instanceof Xn?function(t){return`${t.field.canonicalString()} ${t.op} ${sf(t.value)}`}(r):r instanceof Us?function(t){return t.op.toString()+" {"+t.getFilters().map(O5).join(" ,")+"}"}(r):"Filter"}class Bq extends Xn{constructor(e,t,n){super(e,t,n),this.key=lt.fromName(n.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class Fq extends Xn{constructor(e,t){super(e,"in",t),this.keys=N5("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Vq extends Xn{constructor(e,t){super(e,"not-in",t),this.keys=N5("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function N5(r,e){return(e.arrayValue?.values||[]).map(t=>lt.fromName(t.referenceValue))}class Uq extends Xn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return hA(t)&&qp(t.arrayValue,this.value)}}class zq extends Xn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&qp(this.value.arrayValue,t)}}class jq extends Xn{constructor(e,t){super(e,"not-in",t)}matches(e){if(qp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!qp(this.value.arrayValue,t)}}class Hq extends Xn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!hA(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>qp(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e,t=null,n=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.Te=null}}function TI(r,e=null,t=[],n=[],i=null,s=null,o=null){return new qq(r,e,t,n,i,s,o)}function fA(r){const e=St(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>sx(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),tw(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>sf(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>sf(n)).join(",")),e.Te=t}return e.Te}function dA(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Pq(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!I5(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!xI(r.startAt,e.startAt)&&xI(r.endAt,e.endAt)}function ox(r){return lt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t=null,n=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Wq(r,e,t,n,i,s,o,l){return new Am(r,e,t,n,i,s,o,l)}function M5(r){return new Am(r)}function AI(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function P5(r){return r.collectionGroup!==null}function bp(r){const e=St(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),t.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new lr(Or.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new J0(s,n))}),t.has(Or.keyField().canonicalString())||e.Ie.push(new J0(Or.keyField(),n))}return e.Ie}function ko(r){const e=St(r);return e.Ee||(e.Ee=Gq(e,bp(r))),e.Ee}function Gq(r,e){if(r.limitType==="F")return TI(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new J0(i.field,s)});const t=r.endAt?new Z0(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new Z0(r.startAt.position,r.startAt.inclusive):null;return TI(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function ax(r,e){const t=r.filters.concat([e]);return new Am(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function lx(r,e,t){return new Am(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function rw(r,e){return dA(ko(r),ko(e))&&r.limitType===e.limitType}function L5(r){return`${fA(ko(r))}|lt:${r.limitType}`}function _h(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(i=>O5(i)).join(", ")}]`),tw(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>sf(i)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>sf(i)).join(",")),`Target(${n})`}(ko(r))}; limitType=${r.limitType})`}function iw(r,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):lt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(r,e)&&function(n,i){for(const s of bp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(r,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(r,e)&&function(n,i){return!(n.startAt&&!function(o,l,u){const h=EI(o,l,u);return o.inclusive?h<=0:h<0}(n.startAt,bp(n),i)||n.endAt&&!function(o,l,u){const h=EI(o,l,u);return o.inclusive?h>=0:h>0}(n.endAt,bp(n),i))}(r,e)}function Kq(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function B5(r){return(e,t)=>{let n=!1;for(const i of bp(r)){const s=$q(i,e,t);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function $q(r,e,t){const n=r.field.isKeyField()?lt.comparator(e.key,t.key):function(s,o,l){const u=o.data.field(s),h=l.data.field(s);return u!==null&&h!==null?rf(u,h):gt(42886)}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tu(this.inner,(t,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return w5(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq=new Rn(lt.comparator);function Da(){return Yq}const F5=new Rn(lt.comparator);function op(...r){let e=F5;for(const t of r)e=e.insert(t.key,t);return e}function V5(r){let e=F5;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function Ku(){return Sp()}function U5(){return Sp()}function Sp(){return new Sc(r=>r.toString(),(r,e)=>r.isEqual(e))}const Xq=new Rn(lt.comparator),Qq=new lr(lt.comparator);function Lt(...r){let e=Qq;for(const t of r)e=e.add(t);return e}const Zq=new lr(Pt);function Jq(){return Zq}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y0(e)?"-0":e}}function z5(r){return{integerValue:""+r}}function eW(r,e){return Cq(e)?z5(e):pA(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this._=void 0}}function tW(r,e,t){return r instanceof ev?function(i,s){const o={fields:{[S5]:{stringValue:b5},[x5]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&cA(s)&&(s=nw(s)),s&&(o.fields[E5]=s),{mapValue:o}}(t,e):r instanceof Wp?H5(r,e):r instanceof Gp?q5(r,e):function(i,s){const o=j5(i,s),l=CI(o)+CI(i.Ae);return ix(o)&&ix(i.Ae)?z5(l):pA(i.serializer,l)}(r,e)}function nW(r,e,t){return r instanceof Wp?H5(r,e):r instanceof Gp?q5(r,e):t}function j5(r,e){return r instanceof tv?function(n){return ix(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class ev extends sw{}class Wp extends sw{constructor(e){super(),this.elements=e}}function H5(r,e){const t=W5(e);for(const n of r.elements)t.some(i=>Lo(i,n))||t.push(n);return{arrayValue:{values:t}}}class Gp extends sw{constructor(e){super(),this.elements=e}}function q5(r,e){let t=W5(e);for(const n of r.elements)t=t.filter(i=>!Lo(i,n));return{arrayValue:{values:t}}}class tv extends sw{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function CI(r){return Bn(r.integerValue||r.doubleValue)}function W5(r){return hA(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function rW(r,e){return r.field.isEqual(e.field)&&function(n,i){return n instanceof Wp&&i instanceof Wp||n instanceof Gp&&i instanceof Gp?tf(n.elements,i.elements,Lo):n instanceof tv&&i instanceof tv?Lo(n.Ae,i.Ae):n instanceof ev&&i instanceof ev}(r.transform,e.transform)}class iW{constructor(e,t){this.version=e,this.transformResults=t}}class Do{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Do}static exists(e){return new Do(void 0,e)}static updateTime(e){return new Do(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function f0(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class ow{}function G5(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $5(r.key,Do.none()):new Cm(r.key,r.data,Do.none());{const t=r.data,n=wi.empty();let i=new lr(Or.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?n.delete(s):n.set(s,o),i=i.add(s)}return new nu(r.key,n,new Wi(i.toArray()),Do.none())}}function sW(r,e,t){r instanceof Cm?function(i,s,o){const l=i.value.clone(),u=kI(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(r,e,t):r instanceof nu?function(i,s,o){if(!f0(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=kI(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(K5(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(r,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ep(r,e,t,n){return r instanceof Cm?function(s,o,l,u){if(!f0(s.precondition,o))return l;const h=s.value.clone(),f=DI(s.fieldTransforms,u,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(r,e,t,n):r instanceof nu?function(s,o,l,u){if(!f0(s.precondition,o))return l;const h=DI(s.fieldTransforms,u,o),f=o.data;return f.setAll(K5(s)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(r,e,t,n):function(s,o,l){return f0(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(r,e,t)}function oW(r,e){let t=null;for(const n of r.fieldTransforms){const i=e.data.field(n.field),s=j5(n.transform,i||null);s!=null&&(t===null&&(t=wi.empty()),t.set(n.field,s))}return t||null}function RI(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&tf(n,i,(s,o)=>rW(s,o))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cm extends ow{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class nu extends ow{constructor(e,t,n,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function K5(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function kI(r,e,t){const n=new Map;en(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let i=0;i<t.length;i++){const s=r[i],o=s.transform,l=e.data.field(s.field);n.set(s.field,nW(o,l,t[i]))}return n}function DI(r,e,t){const n=new Map;for(const i of r){const s=i.transform,o=t.data.field(i.field);n.set(i.field,tW(s,o,e))}return n}class $5 extends ow{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aW extends ow{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sW(s,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ep(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ep(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=U5();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=t.has(i.key)?null:l;const u=G5(o,l);u!==null&&n.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(bt.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Lt())}isEqual(e){return this.batchId===e.batchId&&tf(this.mutations,e.mutations,(t,n)=>RI(t,n))&&tf(this.baseMutations,e.baseMutations,(t,n)=>RI(t,n))}}class mA{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){en(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return Xq}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,n[o].version);return new mA(e,t,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uW{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gn,qt;function hW(r){switch(r){case Fe.OK:return gt(64938);case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function Y5(r){if(r===void 0)return ka("GRPC error has no .code"),Fe.UNKNOWN;switch(r){case Gn.OK:return Fe.OK;case Gn.CANCELLED:return Fe.CANCELLED;case Gn.UNKNOWN:return Fe.UNKNOWN;case Gn.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Gn.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Gn.INTERNAL:return Fe.INTERNAL;case Gn.UNAVAILABLE:return Fe.UNAVAILABLE;case Gn.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Gn.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Gn.NOT_FOUND:return Fe.NOT_FOUND;case Gn.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Gn.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Gn.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Gn.ABORTED:return Fe.ABORTED;case Gn.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Gn.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Gn.DATA_LOSS:return Fe.DATA_LOSS;default:return gt(39323,{code:r})}}(qt=Gn||(Gn={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=new Ol([4294967295,4294967295],0);function II(r){const e=fW().encode(r),t=new l5;return t.update(e),new Uint8Array(t.digest())}function OI(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ol([t,n],0),new Ol([i,s],0)]}class gA{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ap(`Invalid padding: ${t}`);if(n<0)throw new ap(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new ap(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new ap(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ol.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(Ol.fromNumber(n)));return i.compare(dW)===1&&(i=new Ol([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=II(e),[n,i]=OI(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);if(!this.we(o))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new gA(s,i,t);return n.forEach(l=>o.insert(l)),o}insert(e){if(this.ge===0)return;const t=II(e),[n,i]=OI(t);for(let s=0;s<this.hashCount;s++){const o=this.ye(n,i,s);this.Se(o)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ap extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,t,n,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,Rm.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new aw(bt.min(),i,new Rn(Pt),Da(),Lt())}}class Rm{constructor(e,t,n,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Rm(n,t,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class X5{constructor(e,t){this.targetId=e,this.Ce=t}}class Q5{constructor(e,t,n=Pr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class NI{constructor(){this.ve=0,this.Fe=MI(),this.Me=Pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Lt(),t=Lt(),n=Lt();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:gt(38017,{changeType:s})}}),new Rm(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=MI()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,en(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class pW{constructor(e){this.Ge=e,this.ze=new Map,this.je=Da(),this.Je=yy(),this.He=yy(),this.Ye=new Rn(Pt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:gt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((n,i)=>{this.rt(i)&&t(i)})}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const s=i.target;if(ox(s))if(n===0){const o=new lt(s.path);this.et(t,o,qr.newNoDocument(o,bt.min()))}else en(n===1,20013,{expectedCount:n});else{const o=this._t(t);if(o!==n){const l=this.ut(e),u=l?this.ct(l,e,o):1;if(u!==0){this.it(t);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=t;let o,l;try{o=Ul(n).toUint8Array()}catch(u){if(u instanceof _5)return ef("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new gA(o,i,s)}catch(u){return ef(u instanceof ap?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach(s=>{const o=this.Ge.ht(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(t,s,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((s,o)=>{const l=this.ot(o);if(l){if(s.current&&ox(l.target)){const u=new lt(l.target.path);this.It(u).has(o)||this.Et(o,u)||this.et(o,u,qr.newNoDocument(u,e))}s.Be&&(t.set(o,s.ke()),s.qe())}});let n=Lt();this.He.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const h=this.ot(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(n=n.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new aw(e,t,this.Ye,this.je,n);return this.je=Da(),this.Je=yy(),this.He=yy(),this.Ye=new Rn(Pt),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new NI,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new lr(Pt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new lr(Pt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||et("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new NI),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yy(){return new Rn(lt.comparator)}function MI(){return new Rn(lt.comparator)}const mW={asc:"ASCENDING",desc:"DESCENDING"},gW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},yW={and:"AND",or:"OR"};class vW{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ux(r,e){return r.useProto3Json||tw(e)?e:{value:e}}function nv(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z5(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wW(r,e){return nv(r,e.toTimestamp())}function Io(r){return en(!!r,49232),bt.fromTimestamp(function(t){const n=Vl(t);return new wn(n.seconds,n.nanos)}(r))}function yA(r,e){return cx(r,e).canonicalString()}function cx(r,e){const t=function(i){return new yn(["projects",i.projectId,"databases",i.database])}(r).child("documents");return e===void 0?t:t.child(e)}function J5(r){const e=yn.fromString(r);return en(i3(e),10190,{key:e.toString()}),e}function hx(r,e){return yA(r.databaseId,e.path)}function eb(r,e){const t=J5(e);if(t.get(1)!==r.databaseId.projectId)throw new Ze(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ze(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new lt(t3(t))}function e3(r,e){return yA(r.databaseId,e)}function _W(r){const e=J5(r);return e.length===4?yn.emptyPath():t3(e)}function fx(r){return new yn(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t3(r){return en(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function PI(r,e,t){return{name:hx(r,e),fields:t.value.mapValue.fields}}function bW(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:gt(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(h,f){return h.useProto3Json?(en(f===void 0||typeof f=="string",58123),Pr.fromBase64String(f||"")):(en(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Pr.fromUint8Array(f||new Uint8Array))}(r,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const f=h.code===void 0?Fe.UNKNOWN:Y5(h.code);return new Ze(f,h.message||"")}(o);t=new Q5(n,i,s,l||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=eb(r,n.document.name),s=Io(n.document.updateTime),o=n.document.createTime?Io(n.document.createTime):bt.min(),l=new wi({mapValue:{fields:n.document.fields}}),u=qr.newFoundDocument(i,s,o,l),h=n.targetIds||[],f=n.removedTargetIds||[];t=new d0(h,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=eb(r,n.document),s=n.readTime?Io(n.readTime):bt.min(),o=qr.newNoDocument(i,s),l=n.removedTargetIds||[];t=new d0([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=eb(r,n.document),s=n.removedTargetIds||[];t=new d0([],s,i,null)}else{if(!("filter"in e))return gt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,o=new cW(i,s),l=n.targetId;t=new X5(l,o)}}return t}function SW(r,e){let t;if(e instanceof Cm)t={update:PI(r,e.key,e.value)};else if(e instanceof $5)t={delete:hx(r,e.key)};else if(e instanceof nu)t={update:PI(r,e.key,e.data),updateMask:IW(e.fieldMask)};else{if(!(e instanceof aW))return gt(16599,{Vt:e.type});t={verify:hx(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(s,o){const l=o.transform;if(l instanceof ev)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Wp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tv)return{fieldPath:o.field.canonicalString(),increment:l.Ae};throw gt(20930,{transform:o.transform})}(0,n))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:gt(27497)}(r,e.precondition)),t}function EW(r,e){return r&&r.length>0?(en(e!==void 0,14353),r.map(t=>function(i,s){let o=i.updateTime?Io(i.updateTime):Io(s);return o.isEqual(bt.min())&&(o=Io(s)),new iW(o,i.transformResults||[])}(t,e))):[]}function xW(r,e){return{documents:[e3(r,e.path)]}}function TW(r,e){const t={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=e3(r,i);const s=function(h){if(h.length!==0)return r3(Us.create(h,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(h){if(h.length!==0)return h.map(f=>function(g){return{field:bh(g.field),direction:RW(g.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=ux(r,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ft:t,parent:i}}function AW(r){let e=_W(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let i=null;if(n>0){en(n===1,65062);const f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];t.where&&(s=function(p){const g=n3(p);return g instanceof Us&&D5(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(g=>function(_){return new J0(Sh(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(g))}(t.orderBy));let l=null;t.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,tw(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){const g=!!p.before,y=p.values||[];return new Z0(y,g)}(t.startAt));let h=null;return t.endAt&&(h=function(p){const g=!p.before,y=p.values||[];return new Z0(y,g)}(t.endAt)),Wq(e,i,o,s,l,"F",u,h)}function CW(r,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function n3(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Sh(t.unaryFilter.field);return Xn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Sh(t.unaryFilter.field);return Xn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Sh(t.unaryFilter.field);return Xn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Sh(t.unaryFilter.field);return Xn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}}(r):r.fieldFilter!==void 0?function(t){return Xn.create(Sh(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return Us.create(t.compositeFilter.filters.map(n=>n3(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return gt(1026)}}(t.compositeFilter.op))}(r):gt(30097,{filter:r})}function RW(r){return mW[r]}function kW(r){return gW[r]}function DW(r){return yW[r]}function bh(r){return{fieldPath:r.canonicalString()}}function Sh(r){return Or.fromServerFormat(r.fieldPath)}function r3(r){return r instanceof Xn?function(t){if(t.op==="=="){if(SI(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NAN"}};if(bI(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(SI(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NOT_NAN"}};if(bI(t.value))return{unaryFilter:{field:bh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(t.field),op:kW(t.op),value:t.value}}}(r):r instanceof Us?function(t){const n=t.getFilters().map(i=>r3(i));return n.length===1?n[0]:{compositeFilter:{op:DW(t.op),filters:n}}}(r):gt(54877,{filter:r})}function IW(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function i3(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t,n,i,s=bt.min(),o=bt.min(),l=Pr.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new _l(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _l(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OW{constructor(e){this.yt=e}}function NW(r){const e=AW({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lx(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(){this.Cn=new PW}addToCollectionParentIndex(e,t){return this.Cn.add(t),je.resolve()}getCollectionParents(e,t){return je.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return je.resolve()}deleteFieldIndex(e,t){return je.resolve()}deleteAllFieldIndexes(e){return je.resolve()}createTargetIndexes(e,t){return je.resolve()}getDocumentsMatchingTarget(e,t){return je.resolve(null)}getIndexType(e,t){return je.resolve(0)}getFieldIndexes(e,t){return je.resolve([])}getNextCollectionGroupToUpdate(e){return je.resolve(null)}getMinOffset(e,t){return je.resolve(Fl.min())}getMinOffsetFromCollectionGroup(e,t){return je.resolve(Fl.min())}updateCollectionGroup(e,t,n){return je.resolve()}updateIndexEntries(e,t){return je.resolve()}}class PW{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new lr(yn.comparator),s=!i.has(n);return this.index[t]=i.add(n),s}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new lr(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s3=41943040;class mi{static withCacheSize(e){return new mi(e,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mi.DEFAULT_COLLECTION_PERCENTILE=10,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mi.DEFAULT=new mi(s3,mi.DEFAULT_COLLECTION_PERCENTILE,mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mi.DISABLED=new mi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new of(0)}static cr(){return new of(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="LruGarbageCollector",LW=1048576;function FI([r,e],[t,n]){const i=Pt(r,t);return i===0?Pt(e,n):i}class BW{constructor(e){this.Ir=e,this.buffer=new lr(FI),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();FI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class FW{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){et(BI,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nf(t)?et(BI,"Ignoring IndexedDB error during garbage collection: ",t):await Of(t)}await this.Vr(3e5)})}}class VW{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(n=>Math.floor(t/100*n))}nthSequenceNumber(e,t){if(t===0)return je.resolve(ew.ce);const n=new BW(t);return this.mr.forEachTarget(e,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),je.resolve(LI)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),LI):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,s,o,l,u,h;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,o=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(n=p,l=Date.now(),this.removeTargets(e,n,t))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(e,n))).next(p=>(h=Date.now(),wh()<=Mt.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-f}ms
	Determined least recently used ${i} in `+(l-o)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(h-u)+`ms
Total Duration: ${h-f}ms`),je.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:p})))}}function UW(r,e){return new VW(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.changes=new Sc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?je.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(n!==null&&Ep(n.mutation,i,Wi.empty(),wn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,Lt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=Lt()){const i=Ku();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(s=>{let o=op();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const n=Ku();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Lt()))}populateOverlays(e,t,n){const i=[];return n.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{t.set(o,l)})})}computeViews(e,t,n,i){let s=Da();const o=Sp(),l=function(){return Sp()}();return t.forEach((u,h)=>{const f=n.get(h.key);i.has(h.key)&&(f===void 0||f.mutation instanceof nu)?s=s.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Ep(f.mutation,h,f.mutation.getFieldMask(),wn.now())):o.set(h.key,Wi.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>l.set(h,new jW(f,o.get(h)??null))),l))}recalculateAndSaveOverlays(e,t){const n=Sp();let i=new Rn((o,l)=>o-l),s=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const l of o)l.keys().forEach(u=>{const h=t.get(u);if(h===null)return;let f=n.get(u)||Wi.empty();f=l.applyToLocalView(h,f),n.set(u,f);const p=(i.get(l.batchId)||Lt()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,f=u.value,p=U5();f.forEach(g=>{if(!s.has(g)){const y=G5(t.get(g),n.get(g));y!==null&&p.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,p))}return je.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,i){return function(o){return lt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P5(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-s.size):je.resolve(Ku());let l=zp,u=s;return o.next(h=>je.forEach(h,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?je.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Lt())).next(f=>({batchId:l,changes:V5(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(n=>{let i=op();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const s=t.collectionGroup;let o=op();return this.indexManager.getCollectionParents(e,s).next(l=>je.forEach(l,u=>{const h=function(p,g){return new Am(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,n,i).next(f=>{f.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,s,i))).next(o=>{s.forEach((u,h)=>{const f=h.getKey();o.get(f)===null&&(o=o.insert(f,qr.newInvalidDocument(f)))});let l=op();return o.forEach((u,h)=>{const f=s.get(u);f!==void 0&&Ep(f.mutation,h,Wi.empty(),wn.now()),iw(t,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return je.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Io(i.createTime)}}(t)),je.resolve()}getNamedQuery(e,t){return je.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(i){return{name:i.name,query:NW(i.bundledQuery),readTime:Io(i.readTime)}}(t)),je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.overlays=new Rn(lt.comparator),this.qr=new Map}getOverlay(e,t){return je.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ku();return je.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((i,s)=>{this.St(e,t,s)}),je.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(n)),je.resolve()}getOverlaysForCollection(e,t,n){const i=Ku(),s=t.length+1,o=new lt(t.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>n&&i.set(u.getKey(),u)}return je.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let s=new Rn((h,f)=>h-f);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let f=s.get(h.largestBatchId);f===null&&(f=Ku(),s=s.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}const l=Ku(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,f)=>l.set(h,f)),!(l.size()>=i)););return je.resolve(l)}St(e,t,n){const i=this.overlays.get(n.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new uW(t,n));let s=this.qr.get(t);s===void 0&&(s=Lt(),this.qr.set(t,s)),this.qr.set(t,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(){this.sessionToken=Pr.EMPTY_BYTE_STRING}getSessionToken(e){return je.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(){this.Qr=new lr(pr.$r),this.Ur=new lr(pr.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new pr(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Gr(new pr(e,t))}zr(e,t){e.forEach(n=>this.removeReference(n,t))}jr(e){const t=new lt(new yn([])),n=new pr(t,e),i=new pr(t,e+1),s=[];return this.Ur.forEachInRange([n,i],o=>{this.Gr(o),s.push(o.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new lt(new yn([])),n=new pr(t,e),i=new pr(t,e+1);let s=Lt();return this.Ur.forEachInRange([n,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new pr(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class pr{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return lt.comparator(e.key,t.key)||Pt(e.Yr,t.Yr)}static Kr(e,t){return Pt(e.Yr,t.Yr)||lt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new lr(pr.$r)}checkEmpty(e){return je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new lW(s,t,n,i);this.mutationQueue.push(o);for(const l of i)this.Zr=this.Zr.add(new pr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return je.resolve(o)}lookupMutationBatch(e,t){return je.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),s=i<0?0:i;return je.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return je.resolve(this.mutationQueue.length===0?uA:this.tr-1)}getAllMutationBatches(e){return je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pr(t,0),i=new pr(t,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],o=>{const l=this.Xr(o.Yr);s.push(l)}),je.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new lr(Pt);return t.forEach(i=>{const s=new pr(i,0),o=new pr(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,o],l=>{n=n.add(l.Yr)})}),je.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let s=n;lt.isDocumentKey(s)||(s=s.child(""));const o=new pr(new lt(s),0);let l=new lr(Pt);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!n.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.Yr)),!0)},o),je.resolve(this.ti(l))}ti(e){const t=[];return e.forEach(n=>{const i=this.Xr(n);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){en(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return je.forEach(t.mutations,i=>{const s=new pr(i.key,t.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new pr(t,0),i=this.Zr.firstAfterOrEqual(n);return je.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,je.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(e){this.ri=e,this.docs=function(){return new Rn(lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),s=i?i.size:0,o=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return je.resolve(n?n.document.mutableCopy():qr.newInvalidDocument(t))}getEntries(e,t){let n=Da();return t.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():qr.newInvalidDocument(i))}),je.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let s=Da();const o=t.path,l=new lt(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:f}}=u.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||Eq(Sq(f),n)<=0||(i.has(f.key)||iw(t,f))&&(s=s.insert(f.key,f.mutableCopy()))}return je.resolve(s)}getAllFromCollectionGroup(e,t,n,i){gt(9500)}ii(e,t){return je.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new YW(this)}getSize(e){return je.resolve(this.size)}}class YW extends zW{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),je.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.persistence=e,this.si=new Sc(t=>fA(t),dA),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new vA,this.targetCount=0,this.ai=of.ur()}forEachTarget(e,t){return this.si.forEach((n,i)=>t(i)),je.resolve()}getLastRemoteSnapshotVersion(e){return je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return je.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),je.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new of(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,je.resolve()}updateTargetData(e,t){return this.Pr(t),je.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,je.resolve()}removeTargets(e,t,n){let i=0;const s=[];return this.si.forEach((o,l)=>{l.sequenceNumber<=t&&n.get(l.targetId)===null&&(this.si.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),je.waitFor(s).next(()=>i)}getTargetCount(e){return je.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return je.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),je.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),je.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),je.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return je.resolve(n)}containsKey(e,t){return je.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t){this.ui={},this.overlays={},this.ci=new ew(0),this.li=!1,this.li=!0,this.hi=new GW,this.referenceDelegate=e(this),this.Pi=new XW(this),this.indexManager=new MW,this.remoteDocumentCache=function(i){return new $W(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new OW(t),this.Ii=new qW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WW,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new KW(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){et("MemoryPersistence","Starting transaction:",e);const i=new QW(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,t){return je.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class QW extends Tq{constructor(e){super(),this.currentSequenceNumber=e}}class wA{constructor(e){this.persistence=e,this.Ri=new vA,this.Vi=null}static mi(e){return new wA(e)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),je.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),je.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),je.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return je.forEach(this.fi,n=>{const i=lt.fromPath(n);return this.gi(e,i).next(s=>{s||t.removeEntry(i,bt.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return je.or([()=>je.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class rv{constructor(e,t){this.persistence=e,this.pi=new Sc(n=>Rq(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=UW(this,t)}static mi(e,t){return new rv(e,t)}Ei(){}di(e){return je.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>t.next(i=>n+i))}wr(e){let t=0;return this.pr(e,n=>{t++}).next(()=>t)}pr(e,t){return je.forEach(this.pi,(n,i)=>this.br(e,n,i).next(s=>s?je.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,o=>this.br(e,o,t).next(l=>{l||(n++,s.removeEntry(o,bt.min()))})).next(()=>s.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),je.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),je.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=c0(e.data.value)),t}br(e,t,n){return je.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return je.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=Lt(),i=Lt();for(const s of t.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new _A(e,t.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return k7()?8:Aq(Yr())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const s={result:null};return this.ys(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ws(e,t,i,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new ZW;return this.Ss(e,t,o).next(l=>{if(s.result=l,this.Vs)return this.bs(e,t,o,l.size)})}).next(()=>s.result)}bs(e,t,n,i){return n.documentReadCount<this.fs?(wh()<=Mt.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",_h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),je.resolve()):(wh()<=Mt.DEBUG&&et("QueryEngine","Query:",_h(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(wh()<=Mt.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",_h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ko(t))):je.resolve())}ys(e,t){if(AI(t))return je.resolve(null);let n=ko(t);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=lx(t,null,"F"),n=ko(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const o=Lt(...s);return this.ps.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,n).next(u=>{const h=this.Ds(t,l);return this.Cs(t,h,o,u.readTime)?this.ys(e,lx(t,null,"F")):this.vs(e,h,t,u)}))})))}ws(e,t,n,i){return AI(t)||i.isEqual(bt.min())?je.resolve(null):this.ps.getDocuments(e,n).next(s=>{const o=this.Ds(t,s);return this.Cs(t,o,n,i)?je.resolve(null):(wh()<=Mt.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_h(t)),this.vs(e,o,t,bq(i,zp)).next(l=>l))})}Ds(e,t){let n=new lr(B5(e));return t.forEach((i,s)=>{iw(e,s)&&(n=n.add(s))}),n}Cs(e,t,n,i){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,t,n){return wh()<=Mt.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",_h(t)),this.ps.getDocumentsMatchingQuery(e,t,Fl.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="LocalStore",eG=3e8;class tG{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new Rn(Pt),this.xs=new Sc(s=>fA(s),dA),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HW(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function nG(r,e,t,n){return new tG(r,e,t,n)}async function a3(r,e){const t=St(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let i;return t.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,t.Bs(e),t.mutationQueue.getAllMutationBatches(n))).next(s=>{const o=[],l=[];let u=Lt();for(const h of i){o.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}for(const h of s){l.push(h.batchId);for(const f of h.mutations)u=u.add(f.key)}return t.localDocuments.getDocuments(n,u).next(h=>({Ls:h,removedBatchIds:o,addedBatchIds:l}))})})}function rG(r,e){const t=St(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=t.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,h,f){const p=h.batch,g=p.keys();let y=je.resolve();return g.forEach(_=>{y=y.next(()=>f.getEntry(u,_)).next(w=>{const E=h.docVersions.get(_);en(E!==null,48541),w.version.compareTo(E)<0&&(p.applyToRemoteDocument(w,h),w.isValidDocument()&&(w.setReadTime(h.commitVersion),f.addEntry(w)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(t,n,e,s).next(()=>s.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(l){let u=Lt();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>t.localDocuments.getDocuments(n,i))})}function l3(r){const e=St(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function iG(r,e){const t=St(r),n=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const l=[];e.targetChanges.forEach((f,p)=>{const g=i.get(p);if(!g)return;l.push(t.Pi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>t.Pi.addMatchingKeys(s,f.addedDocuments,p)));let y=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Pr.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,n)),i=i.insert(p,y),function(w,E,b){return w.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=eG?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(g,y,f)&&l.push(t.Pi.updateTargetData(s,y))});let u=Da(),h=Lt();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(sG(s,o,e.documentUpdates).next(f=>{u=f.ks,h=f.qs})),!n.isEqual(bt.min())){const f=t.Pi.getLastRemoteSnapshotVersion(s).next(p=>t.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n));l.push(f)}return je.waitFor(l).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,h)).next(()=>u)}).then(s=>(t.Ms=i,s))}function sG(r,e,t){let n=Lt(),i=Lt();return t.forEach(s=>n=n.add(s)),e.getEntries(r,n).next(s=>{let o=Da();return t.forEach((l,u)=>{const h=s.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(bt.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):et(bA,"Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{ks:o,qs:i}})}function oG(r,e){const t=St(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=uA),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function aG(r,e){const t=St(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return t.Pi.getTargetData(n,e).next(s=>s?(i=s,je.resolve(i)):t.Pi.allocateTargetId(n).next(o=>(i=new _l(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=t.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n})}async function dx(r,e,t){const n=St(r),i=n.Ms.get(e),s=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Nf(o))throw o;et(bA,`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function VI(r,e,t){const n=St(r);let i=bt.min(),s=Lt();return n.persistence.runTransaction("Execute query","readwrite",o=>function(u,h,f){const p=St(u),g=p.xs.get(f);return g!==void 0?je.resolve(p.Ms.get(g)):p.Pi.getTargetData(h,f)}(n,o,ko(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>n.Fs.getDocumentsMatchingQuery(o,e,t?i:bt.min(),t?s:Lt())).next(l=>(lG(n,Kq(e),l),{documents:l,Qs:s})))}function lG(r,e,t){let n=r.Os.get(e)||bt.min();t.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),r.Os.set(e,n)}class UI{constructor(){this.activeTargetIds=Jq()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uG{constructor(){this.Mo=new UI,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UI,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cG{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="ConnectivityMonitor";class jI{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){et(zI,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){et(zI,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vy=null;function px(){return vy===null?vy=function(){return 268435456+Math.round(2147483648*Math.random())}():vy++,"0x"+vy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="RestConnection",hG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fG{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===X0?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,s){const o=px(),l=this.zo(e,t.toUriEncodedString());et(tb,`Sending RPC '${e}' ${o}:`,l,n);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:h}=new URL(l),f=Rf(h);return this.Jo(e,l,u,n,f).then(p=>(et(tb,`Received RPC '${e}' ${o}: `,p),p),p=>{throw ef(tb,`RPC '${e}' ${o} failed with error: `,p,"url: ",l,"request:",n),p})}Ho(e,t,n,i,s,o){return this.Go(e,t,n,i,s)}jo(e,t,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+If}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),n&&n.headers.forEach((i,s)=>e[s]=i)}zo(e,t){const n=hG[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dG{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur="WebChannelConnection";class pG extends fG{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,s){const o=px();return new Promise((l,u)=>{const h=new u5;h.setWithCredentials(!0),h.listenOnce(c5.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case u0.NO_ERROR:const p=h.getResponseJson();et(Ur,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),l(p);break;case u0.TIMEOUT:et(Ur,`RPC '${e}' ${o} timed out`),u(new Ze(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case u0.HTTP_ERROR:const g=h.getStatus();if(et(Ur,`RPC '${e}' ${o} failed with status:`,g,"response text:",h.getResponseText()),g>0){let y=h.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y?.error;if(_&&_.status&&_.message){const w=function(b){const A=b.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(A)>=0?A:Fe.UNKNOWN}(_.status);u(new Ze(w,_.message))}else u(new Ze(Fe.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ze(Fe.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:e,streamId:o,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{et(Ur,`RPC '${e}' ${o} completed.`)}});const f=JSON.stringify(i);et(Ur,`RPC '${e}' ${o} sending request:`,i),h.send(t,"POST",f,n,15)})}T_(e,t,n){const i=px(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=d5(),l=f5(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;const f=s.join("");et(Ur,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=o.createWebChannel(f,u);this.I_(p);let g=!1,y=!1;const _=new dG({Yo:E=>{y?et(Ur,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(et(Ur,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),et(Ur,`RPC '${e}' stream ${i} sending:`,E),p.send(E))},Zo:()=>p.close()}),w=(E,b,A)=>{E.listen(b,T=>{try{A(T)}catch(x){setTimeout(()=>{throw x},0)}})};return w(p,sp.EventType.OPEN,()=>{y||(et(Ur,`RPC '${e}' stream ${i} transport opened.`),_.o_())}),w(p,sp.EventType.CLOSE,()=>{y||(y=!0,et(Ur,`RPC '${e}' stream ${i} transport closed`),_.a_(),this.E_(p))}),w(p,sp.EventType.ERROR,E=>{y||(y=!0,ef(Ur,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),_.a_(new Ze(Fe.UNAVAILABLE,"The operation could not be completed")))}),w(p,sp.EventType.MESSAGE,E=>{if(!y){const b=E.data[0];en(!!b,16349);const A=b,T=A?.error||A[0]?.error;if(T){et(Ur,`RPC '${e}' stream ${i} received error:`,T);const x=T.status;let D=function(O){const C=Gn[O];if(C!==void 0)return Y5(C)}(x),P=T.message;D===void 0&&(D=Fe.INTERNAL,P="Unknown error status: "+x+" with message "+T.message),y=!0,_.a_(new Ze(D,P)),p.close()}else et(Ur,`RPC '${e}' stream ${i} received:`,b),_.u_(b)}}),w(l,h5.STAT_EVENT,E=>{E.stat===tx.PROXY?et(Ur,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===tx.NOPROXY&&et(Ur,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.__()},0),_}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function nb(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(r){return new vW(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e,t,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&et("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="PersistentStream";class c3{constructor(e,t,n,i,s,o,l,u){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new u3(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Fe.RESOURCE_EXHAUSTED?(ka(t.toString()),ka("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===t&&this.G_(n,i)},n=>{e(()=>{const i=new Ze(Fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return et(HI,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(et(HI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mG extends c3{constructor(e,t,n,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,o),this.serializer=s}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=bW(this.serializer,e),n=function(s){if(!("targetChange"in s))return bt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?bt.min():o.readTime?Io(o.readTime):bt.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=fx(this.serializer),t.addTarget=function(s,o){let l;const u=o.target;if(l=ox(u)?{documents:xW(s,u)}:{query:TW(s,u).ft},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Z5(s,o.resumeToken);const h=ux(s,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(bt.min())>0){l.readTime=nv(s,o.snapshotVersion.toTimestamp());const h=ux(s,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const n=CW(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=fx(this.serializer),t.removeTarget=e,this.q_(t)}}class gG extends c3{constructor(e,t,n,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,o),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return en(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,en(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){en(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=EW(e.writeResults,e.commitTime),n=Io(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=fx(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>SW(this.serializer,n))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{}class vG extends yG{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ze(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Go(e,cx(t,n),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ze(Fe.UNKNOWN,s.toString())})}Ho(e,t,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Ho(e,cx(t,n),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ze(Fe.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class wG{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ka(t),this.aa=!1):et("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc="RemoteStore";class _G{constructor(e,t,n,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(o=>{n.enqueueAndForget(async()=>{Ec(this)&&(et(pc,"Restarting streams for network reachability change."),await async function(u){const h=St(u);h.Ea.add(4),await km(h),h.Ra.set("Unknown"),h.Ea.delete(4),await uw(h)}(this))})}),this.Ra=new wG(n,i)}}async function uw(r){if(Ec(r))for(const e of r.da)await e(!0)}async function km(r){for(const e of r.da)await e(!1)}function h3(r,e){const t=St(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),TA(t)?xA(t):Mf(t).O_()&&EA(t,e))}function SA(r,e){const t=St(r),n=Mf(t);t.Ia.delete(e),n.O_()&&f3(t,e),t.Ia.size===0&&(n.O_()?n.L_():Ec(t)&&t.Ra.set("Unknown"))}function EA(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Mf(r).Y_(e)}function f3(r,e){r.Va.Ue(e),Mf(r).Z_(e)}function xA(r){r.Va=new pW({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mf(r).start(),r.Ra.ua()}function TA(r){return Ec(r)&&!Mf(r).x_()&&r.Ia.size>0}function Ec(r){return St(r).Ea.size===0}function d3(r){r.Va=void 0}async function bG(r){r.Ra.set("Online")}async function SG(r){r.Ia.forEach((e,t)=>{EA(r,e)})}async function EG(r,e){d3(r),TA(r)?(r.Ra.ha(e),xA(r)):r.Ra.set("Unknown")}async function xG(r,e,t){if(r.Ra.set("Online"),e instanceof Q5&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.Ia.delete(l),i.Va.removeTarget(l))}(r,e)}catch(n){et(pc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await iv(r,n)}else if(e instanceof d0?r.Va.Ze(e):e instanceof X5?r.Va.st(e):r.Va.tt(e),!t.isEqual(bt.min()))try{const n=await l3(r.localStore);t.compareTo(n)>=0&&await function(s,o){const l=s.Va.Tt(o);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(h);f&&s.Ia.set(h,f.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,h)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(Pr.EMPTY_BYTE_STRING,f.snapshotVersion)),f3(s,u);const p=new _l(f.target,u,h,f.sequenceNumber);EA(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(r,t)}catch(n){et(pc,"Failed to raise snapshot:",n),await iv(r,n)}}async function iv(r,e,t){if(!Nf(e))throw e;r.Ea.add(1),await km(r),r.Ra.set("Offline"),t||(t=()=>l3(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{et(pc,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await uw(r)})}function p3(r,e){return e().catch(t=>iv(r,t,e))}async function cw(r){const e=St(r),t=jl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:uA;for(;TG(e);)try{const i=await oG(e.localStore,n);if(i===null){e.Ta.length===0&&t.L_();break}n=i.batchId,AG(e,i)}catch(i){await iv(e,i)}m3(e)&&g3(e)}function TG(r){return Ec(r)&&r.Ta.length<10}function AG(r,e){r.Ta.push(e);const t=jl(r);t.O_()&&t.X_&&t.ea(e.mutations)}function m3(r){return Ec(r)&&!jl(r).x_()&&r.Ta.length>0}function g3(r){jl(r).start()}async function CG(r){jl(r).ra()}async function RG(r){const e=jl(r);for(const t of r.Ta)e.ea(t.mutations)}async function kG(r,e,t){const n=r.Ta.shift(),i=mA.from(n,e,t);await p3(r,()=>r.remoteSyncer.applySuccessfulWrite(i)),await cw(r)}async function DG(r,e){e&&jl(r).X_&&await async function(n,i){if(function(o){return hW(o)&&o!==Fe.ABORTED}(i.code)){const s=n.Ta.shift();jl(n).B_(),await p3(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await cw(n)}}(r,e),m3(r)&&g3(r)}async function qI(r,e){const t=St(r);t.asyncQueue.verifyOperationInProgress(),et(pc,"RemoteStore received new credentials");const n=Ec(t);t.Ea.add(3),await km(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await uw(t)}async function IG(r,e){const t=St(r);e?(t.Ea.delete(2),await uw(t)):e||(t.Ea.add(2),await km(t),t.Ra.set("Unknown"))}function Mf(r){return r.ma||(r.ma=function(t,n,i){const s=St(t);return s.sa(),new mG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Xo:bG.bind(null,r),t_:SG.bind(null,r),r_:EG.bind(null,r),H_:xG.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),TA(r)?xA(r):r.Ra.set("Unknown")):(await r.ma.stop(),d3(r))})),r.ma}function jl(r){return r.fa||(r.fa=function(t,n,i){const s=St(t);return s.sa(),new gG(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:CG.bind(null,r),r_:DG.bind(null,r),ta:RG.bind(null,r),na:kG.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await cw(r)):(await r.fa.stop(),r.Ta.length>0&&(et(pc,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,t,n,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Nl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,s){const o=Date.now()+n,l=new AA(e,t,o,i,s);return l.start(n),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ze(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CA(r,e){if(ka("AsyncQueue",`${e}: ${r}`),Nf(r))return new Ze(Fe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{static emptySet(e){return new Bh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||lt.comparator(t.key,n.key):(t,n)=>lt.comparator(t.key,n.key),this.keyedMap=op(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Bh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Bh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.ga=new Rn(lt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):gt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class af{constructor(e,t,n,i,s,o,l,u,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,i,s){const o=[];return t.forEach(l=>{o.push({type:0,doc:l})}),new af(e,t,Bh.emptySet(t),o,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OG{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class NG{constructor(){this.queries=GI(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const i=St(t),s=i.queries;i.queries=GI(),s.forEach((o,l)=>{for(const u of l.Sa)u.onError(n)})})(this,new Ze(Fe.ABORTED,"Firestore shutting down"))}}function GI(){return new Sc(r=>L5(r),rw)}async function MG(r,e){const t=St(r);let n=3;const i=e.query;let s=t.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new OG,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await t.onListen(i,!0);break;case 1:s.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(o){const l=CA(o,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(l)}t.queries.set(i,s),s.Sa.push(e),e.va(t.onlineState),s.wa&&e.Fa(s.wa)&&RA(t)}async function PG(r,e){const t=St(r),n=e.query;let i=3;const s=t.queries.get(n);if(s){const o=s.Sa.indexOf(e);o>=0&&(s.Sa.splice(o,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function LG(r,e){const t=St(r);let n=!1;for(const i of e){const s=i.query,o=t.queries.get(s);if(o){for(const l of o.Sa)l.Fa(i)&&(n=!0);o.wa=i}}n&&RA(t)}function BG(r,e,t){const n=St(r),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(t);n.queries.delete(e)}function RA(r){r.Ca.forEach(e=>{e.next()})}var mx,KI;(KI=mx||(mx={})).Ma="default",KI.Cache="cache";class FG{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new af(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=af.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==mx.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.key=e}}class v3{constructor(e){this.key=e}}class VG{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=B5(e),this.tu=new Bh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new WI,i=t?t.tu:this.tu;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const g=i.get(f),y=iw(this.query,p)?p:null,_=!!g&&this.mutatedKeys.has(g.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let E=!1;g&&y?g.data.isEqual(y.data)?_!==w&&(n.track({type:3,doc:y}),E=!0):this.su(g,y)||(n.track({type:2,doc:y}),E=!0,(u&&this.eu(y,u)>0||h&&this.eu(y,h)<0)&&(l=!0)):!g&&y?(n.track({type:0,doc:y}),E=!0):g&&!y&&(n.track({type:1,doc:g}),E=!0,(u||h)&&(l=!0)),E&&(y?(o=o.add(y),s=w?s.add(f):s.delete(f)):(o=o.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:o,iu:n,Cs:l,mutatedKeys:s}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((f,p)=>function(y,_){const w=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:E})}};return w(y)-w(_)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(n),i=i??!1;const l=t&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,h=u!==this.Za;return this.Za=u,o.length!==0||h?{snapshot:new af(this.query,e.tu,s,o,e.mutatedKeys,u===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new WI,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Lt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const t=[];return e.forEach(n=>{this.Xa.has(n)||t.push(new v3(n))}),this.Xa.forEach(n=>{e.has(n)||t.push(new y3(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=Lt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return af.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const kA="SyncEngine";class UG{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zG{constructor(e){this.key=e,this.hu=!1}}class jG{constructor(e,t,n,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Sc(l=>L5(l),rw),this.Iu=new Map,this.Eu=new Set,this.du=new Rn(lt.comparator),this.Au=new Map,this.Ru=new vA,this.Vu={},this.mu=new Map,this.fu=of.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HG(r,e,t=!0){const n=x3(r);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await w3(n,e,t,!0),i}async function qG(r,e){const t=x3(r);await w3(t,e,!0,!1)}async function w3(r,e,t,n){const i=await aG(r.localStore,ko(e)),s=i.targetId,o=r.sharedClientState.addLocalQueryTarget(s,t);let l;return n&&(l=await WG(r,e,s,o==="current",i.resumeToken)),r.isPrimaryClient&&t&&h3(r.remoteStore,i),l}async function WG(r,e,t,n,i){r.pu=(p,g,y)=>async function(w,E,b,A){let T=E.view.ru(b);T.Cs&&(T=await VI(w.localStore,E.query,!1).then(({documents:N})=>E.view.ru(N,T)));const x=A&&A.targetChanges.get(E.targetId),D=A&&A.targetMismatches.get(E.targetId)!=null,P=E.view.applyChanges(T,w.isPrimaryClient,x,D);return YI(w,E.targetId,P.au),P.snapshot}(r,p,g,y);const s=await VI(r.localStore,e,!0),o=new VG(e,s.Qs),l=o.ru(s.documents),u=Rm.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",i),h=o.applyChanges(l,r.isPrimaryClient,u);YI(r,t,h.au);const f=new UG(e,t,o);return r.Tu.set(e,f),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),h.snapshot}async function GG(r,e,t){const n=St(r),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter(o=>!rw(o,e))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await dx(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),t&&SA(n.remoteStore,i.targetId),gx(n,i.targetId)}).catch(Of)):(gx(n,i.targetId),await dx(n.localStore,i.targetId,!0))}async function KG(r,e){const t=St(r),n=t.Tu.get(e),i=t.Iu.get(n.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),SA(t.remoteStore,n.targetId))}async function $G(r,e,t){const n=tK(r);try{const i=await function(o,l){const u=St(o),h=wn.now(),f=l.reduce((y,_)=>y.add(_.key),Lt());let p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let _=Da(),w=Lt();return u.Ns.getEntries(y,f).next(E=>{_=E,_.forEach((b,A)=>{A.isValidDocument()||(w=w.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,_)).next(E=>{p=E;const b=[];for(const A of l){const T=oW(A,p.get(A.key).overlayedDocument);T!=null&&b.push(new nu(A.key,T,C5(T.value.mapValue),Do.exists(!0)))}return u.mutationQueue.addMutationBatch(y,h,b,l)}).next(E=>{g=E;const b=E.applyToLocalDocumentSet(p,w);return u.documentOverlayCache.saveOverlays(y,E.batchId,b)})}).then(()=>({batchId:g.batchId,changes:V5(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let h=o.Vu[o.currentUser.toKey()];h||(h=new Rn(Pt)),h=h.insert(l,u),o.Vu[o.currentUser.toKey()]=h}(n,i.batchId,t),await Dm(n,i.changes),await cw(n.remoteStore)}catch(i){const s=CA(i,"Failed to persist write");t.reject(s)}}async function _3(r,e){const t=St(r);try{const n=await iG(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Au.get(s);o&&(en(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?en(o.hu,14607):i.removedDocuments.size>0&&(en(o.hu,42227),o.hu=!1))}),await Dm(t,n,e)}catch(n){await Of(n)}}function $I(r,e,t){const n=St(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const i=[];n.Tu.forEach((s,o)=>{const l=o.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=St(o);u.onlineState=l;let h=!1;u.queries.forEach((f,p)=>{for(const g of p.Sa)g.va(l)&&(h=!0)}),h&&RA(u)}(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function YG(r,e,t){const n=St(r);n.sharedClientState.updateQueryState(e,"rejected",t);const i=n.Au.get(e),s=i&&i.key;if(s){let o=new Rn(lt.comparator);o=o.insert(s,qr.newNoDocument(s,bt.min()));const l=Lt().add(s),u=new aw(bt.min(),new Map,new Rn(Pt),o,l);await _3(n,u),n.du=n.du.remove(s),n.Au.delete(e),DA(n)}else await dx(n.localStore,e,!1).then(()=>gx(n,e,t)).catch(Of)}async function XG(r,e){const t=St(r),n=e.batch.batchId;try{const i=await rG(t.localStore,e);S3(t,n,null),b3(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Dm(t,i)}catch(i){await Of(i)}}async function QG(r,e,t){const n=St(r);try{const i=await function(o,l){const u=St(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(en(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>u.localDocuments.getDocuments(h,f))})}(n.localStore,e);S3(n,e,t),b3(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Dm(n,i)}catch(i){await Of(i)}}function b3(r,e){(r.mu.get(e)||[]).forEach(t=>{t.resolve()}),r.mu.delete(e)}function S3(r,e,t){const n=St(r);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function gx(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(n=>{r.Ru.containsKey(n)||E3(r,n)})}function E3(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(SA(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),DA(r))}function YI(r,e,t){for(const n of t)n instanceof y3?(r.Ru.addReference(n.key,e),ZG(r,n)):n instanceof v3?(et(kA,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||E3(r,n.key)):gt(19791,{wu:n})}function ZG(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(et(kA,"New document in limbo: "+t),r.Eu.add(n),DA(r))}function DA(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new lt(yn.fromString(e)),n=r.fu.next();r.Au.set(n,new zG(t)),r.du=r.du.insert(t,n),h3(r.remoteStore,new _l(ko(M5(t.path)),n,"TargetPurposeLimboResolution",ew.ce))}}async function Dm(r,e,t){const n=St(r),i=[],s=[],o=[];n.Tu.isEmpty()||(n.Tu.forEach((l,u)=>{o.push(n.pu(u,e,t).then(h=>{if((h||t)&&n.isPrimaryClient){const f=h?!h.fromCache:t?.targetChanges.get(u.targetId)?.current;n.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(h){i.push(h);const f=_A.As(u.targetId,h);s.push(f)}}))}),await Promise.all(o),n.Pu.H_(i),await async function(u,h){const f=St(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>je.forEach(h,g=>je.forEach(g.Es,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>je.forEach(g.ds,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Nf(p))throw p;et(bA,"Failed to update sequence numbers: "+p)}for(const p of h){const g=p.targetId;if(!p.fromCache){const y=f.Ms.get(g),_=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(_);f.Ms=f.Ms.insert(g,w)}}}(n.localStore,s))}async function JG(r,e){const t=St(r);if(!t.currentUser.isEqual(e)){et(kA,"User change. New user:",e.toKey());const n=await a3(t.localStore,e);t.currentUser=e,function(s,o){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new Ze(Fe.CANCELLED,o))})}),s.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Dm(t,n.Ls)}}function eK(r,e){const t=St(r),n=t.Au.get(e);if(n&&n.hu)return Lt().add(n.key);{let i=Lt();const s=t.Iu.get(e);if(!s)return i;for(const o of s){const l=t.Tu.get(o);i=i.unionWith(l.view.nu)}return i}}function x3(r){const e=St(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=YG.bind(null,e),e.Pu.H_=LG.bind(null,e.eventManager),e.Pu.yu=BG.bind(null,e.eventManager),e}function tK(r){const e=St(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QG.bind(null,e),e}class sv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nG(this.persistence,new JW,e.initialUser,this.serializer)}Cu(e){return new o3(wA.mi,this.serializer)}Du(e){return new uG}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sv.provider={build:()=>new sv};class nK extends sv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){en(this.persistence.referenceDelegate instanceof rv,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new FW(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?mi.withCacheSize(this.cacheSizeBytes):mi.DEFAULT;return new o3(n=>rv.mi(n,t),this.serializer)}}class yx{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>$I(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=JG.bind(null,this.syncEngine),await IG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new NG}()}createDatastore(e){const t=lw(e.databaseInfo.databaseId),n=function(s){return new pG(s)}(e.databaseInfo);return function(s,o,l,u){return new vG(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,i,s,o,l){return new _G(n,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,t=>$I(this.syncEngine,t,0),function(){return jI.v()?new jI:new cG}())}createSyncEngine(e,t){return function(i,s,o,l,u,h,f){const p=new jG(i,s,o,l,u,h);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const n=St(t);et(pc,"RemoteStore shutting down."),n.Ea.add(5),await km(n),n.Aa.shutdown(),n.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yx.provider={build:()=>new yx};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rK{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ka("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl="FirestoreClient";class iK{constructor(e,t,n,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=jr.UNAUTHENTICATED,this.clientId=lA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async o=>{et(Hl,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(et(Hl,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Nl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=CA(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function rb(r,e){r.asyncQueue.verifyOperationInProgress(),et(Hl,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async i=>{n.isEqual(i)||(await a3(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function XI(r,e){r.asyncQueue.verifyOperationInProgress();const t=await sK(r);et(Hl,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>qI(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,i)=>qI(e.remoteStore,i)),r._onlineComponents=e}async function sK(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){et(Hl,"Using user provided OfflineComponentProvider");try{await rb(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;ef("Error using user provided cache. Falling back to memory cache: "+t),await rb(r,new sv)}}else et(Hl,"Using default OfflineComponentProvider"),await rb(r,new nK(void 0));return r._offlineComponents}async function T3(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(et(Hl,"Using user provided OnlineComponentProvider"),await XI(r,r._uninitializedComponentsProvider._online)):(et(Hl,"Using default OnlineComponentProvider"),await XI(r,new yx))),r._onlineComponents}function oK(r){return T3(r).then(e=>e.syncEngine)}async function aK(r){const e=await T3(r),t=e.eventManager;return t.onListen=HG.bind(null,e.syncEngine),t.onUnlisten=GG.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qG.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=KG.bind(null,e.syncEngine),t}function lK(r,e,t={}){const n=new Nl;return r.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,h){const f=new rK({next:g=>{f.Nu(),o.enqueueAndForget(()=>PG(s,p)),g.fromCache&&u.source==="server"?h.reject(new Ze(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),p=new FG(l,f,{includeMetadataChanges:!0,qa:!0});return MG(s,p)}(await aK(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3="firestore.googleapis.com",ZI=!0;class JI{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ze(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C3,this.ssl=ZI}else this.host=e.host,this.ssl=e.ssl??ZI;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s3;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LW)throw new Ze(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_q("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A3(e.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ze(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ze(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ze(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hw{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ze(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ze(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JI(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new cq;switch(n.type){case"firstParty":return new pq(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ze(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=QI.get(t);n&&(et("ComponentProvider","Removing Datastore"),QI.delete(t),n.terminate())}(this),Promise.resolve()}}function uK(r,e,t,n={}){r=nf(r,hw);const i=Rf(e),s=r._getSettings(),o={...s,emulatorOptions:r._getEmulatorOptions()},l=`${e}:${t}`;i&&(_6(`https://${l}`),b6("Firestore",!0)),s.host!==C3&&s.host!==l&&ef("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:i,emulatorOptions:n};if(!uc(u,o)&&(r._setSettings(u),n.mockUserToken)){let h,f;if(typeof n.mockUserToken=="string")h=n.mockUserToken,f=jr.MOCK_USER;else{h=_7(n.mockUserToken,r._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new Ze(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new jr(p)}r._authCredentials=new hq(new m5(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Pf(this.firestore,e,this._query)}}class or{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}toJSON(){return{type:or._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Tm(t,or._jsonSchema))return new or(e,n||null,new lt(yn.fromString(t.referencePath)))}}or._jsonSchemaVersion="firestore/documentReference/1.0",or._jsonSchema={type:Qn("string",or._jsonSchemaVersion),referencePath:Qn("string")};class Ml extends Pf{constructor(e,t,n){super(e,t,M5(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new lt(e))}withConverter(e){return new Ml(this.firestore,e,this._path)}}function ov(r,e,...t){if(r=yr(r),g5("collection","path",e),r instanceof hw){const n=yn.fromString(e,...t);return fI(n),new Ml(r,null,n)}{if(!(r instanceof or||r instanceof Ml))throw new Ze(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yn.fromString(e,...t));return fI(n),new Ml(r.firestore,null,n)}}function R3(r,e,...t){if(r=yr(r),arguments.length===1&&(e=lA.newId()),g5("doc","path",e),r instanceof hw){const n=yn.fromString(e,...t);return hI(n),new or(r,null,new lt(n))}{if(!(r instanceof or||r instanceof Ml))throw new Ze(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(yn.fromString(e,...t));return hI(n),new or(r.firestore,r instanceof Ml?r.converter:null,new lt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="AsyncQueue";class tO{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new u3(this,"async_queue_retry"),this._c=()=>{const n=nb();n&&et(eO,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=nb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=nb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Nl;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nf(e))throw e;et(eO,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(n=>{throw this.nc=n,this.rc=!1,ka("INTERNAL UNHANDLED ERROR: ",nO(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=AA.createAndSchedule(this,e,t,n,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&gt(47125,{Pc:nO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function nO(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class fw extends hw{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new tO,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tO(e),this._firestoreClient=void 0,await e}}}function cK(r,e){const t=typeof r=="object"?r:T6(),n=typeof r=="string"?r:X0,i=ZT(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=v7("firestore");s&&uK(i,...s)}return i}function k3(r){if(r._terminated)throw new Ze(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||hK(r),r._firestoreClient}function hK(r){const e=r._freezeSettings(),t=function(i,s,o,l){return new Iq(i,s,o,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,A3(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new iK(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ys(Pr.fromBase64String(e))}catch(t){throw new Ze(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ys(Pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tm(e,ys._jsonSchema))return ys.fromBase64String(e.bytes)}}ys._jsonSchemaVersion="firestore/bytes/1.0",ys._jsonSchema={type:Qn("string",ys._jsonSchemaVersion),bytes:Qn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ze(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Or(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ze(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ze(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pt(this._lat,e._lat)||Pt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oo._jsonSchemaVersion}}static fromJSON(e){if(Tm(e,Oo._jsonSchema))return new Oo(e.latitude,e.longitude)}}Oo._jsonSchemaVersion="firestore/geoPoint/1.0",Oo._jsonSchema={type:Qn("string",Oo._jsonSchemaVersion),latitude:Qn("number"),longitude:Qn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:No._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tm(e,No._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new No(e.vectorValues);throw new Ze(Fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}No._jsonSchemaVersion="firestore/vectorValue/1.0",No._jsonSchema={type:Qn("string",No._jsonSchemaVersion),vectorValues:Qn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK=/^__.*__$/;class dK{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new nu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Cm(e,this.data,t,this.fieldTransforms)}}class D3{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new nu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function I3(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class OA{constructor(e,t,n,i,s,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new OA({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return av(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(I3(this.Ac)&&fK.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class pK{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||lw(e)}Cc(e,t,n,i=!1){return new OA({Ac:e,methodName:t,Dc:n,path:Or.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function NA(r){const e=r._freezeSettings(),t=lw(r._databaseId);return new pK(r._databaseId,!!e.ignoreUndefinedProperties,t)}function mK(r,e,t,n,i,s={}){const o=r.Cc(s.merge||s.mergeFields?2:0,e,t,i);MA("Data must be an object, but it was:",o,n);const l=O3(n,o);let u,h;if(s.merge)u=new Wi(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const g=vx(e,p,t);if(!o.contains(g))throw new Ze(Fe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);M3(f,g)||f.push(g)}u=new Wi(f),h=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=o.fieldTransforms;return new dK(new wi(l),u,h)}class pw extends IA{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pw}}function gK(r,e,t,n){const i=r.Cc(1,e,t);MA("Data must be an object, but it was:",i,n);const s=[],o=wi.empty();tu(n,(u,h)=>{const f=PA(e,u,t);h=yr(h);const p=i.yc(f);if(h instanceof pw)s.push(f);else{const g=Im(h,p);g!=null&&(s.push(f),o.set(f,g))}});const l=new Wi(s);return new D3(o,l,i.fieldTransforms)}function yK(r,e,t,n,i,s){const o=r.Cc(1,e,t),l=[vx(e,n,t)],u=[i];if(s.length%2!=0)throw new Ze(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)l.push(vx(e,s[g])),u.push(s[g+1]);const h=[],f=wi.empty();for(let g=l.length-1;g>=0;--g)if(!M3(h,l[g])){const y=l[g];let _=u[g];_=yr(_);const w=o.yc(y);if(_ instanceof pw)h.push(y);else{const E=Im(_,w);E!=null&&(h.push(y),f.set(y,E))}}const p=new Wi(h);return new D3(f,p,o.fieldTransforms)}function vK(r,e,t,n=!1){return Im(t,r.Cc(n?4:3,e))}function Im(r,e){if(N3(r=yr(r)))return MA("Unsupported field value:",e,r),O3(r,e);if(r instanceof IA)return function(n,i){if(!I3(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(n,i){const s=[];let o=0;for(const l of n){let u=Im(l,i.wc(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(r,e)}return function(n,i){if((n=yr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return eW(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=wn.fromDate(n);return{timestampValue:nv(i.serializer,s)}}if(n instanceof wn){const s=new wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:nv(i.serializer,s)}}if(n instanceof Oo)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ys)return{bytesValue:Z5(i.serializer,n._byteString)};if(n instanceof or){const s=i.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:yA(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof No)return function(o,l){return{mapValue:{fields:{[T5]:{stringValue:A5},[Q0]:{arrayValue:{values:o.toArray().map(h=>{if(typeof h!="number")throw l.Sc("VectorValues must only contain numeric values.");return pA(l.serializer,h)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${Jv(n)}`)}(r,e)}function O3(r,e){const t={};return w5(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tu(r,(n,i)=>{const s=Im(i,e.mc(n));s!=null&&(t[n]=s)}),{mapValue:{fields:t}}}function N3(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wn||r instanceof Oo||r instanceof ys||r instanceof or||r instanceof IA||r instanceof No)}function MA(r,e,t){if(!N3(t)||!y5(t)){const n=Jv(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function vx(r,e,t){if((e=yr(e))instanceof dw)return e._internalPath;if(typeof e=="string")return PA(r,e);throw av("Field path arguments must be of type string or ",r,!1,void 0,t)}const wK=new RegExp("[~\\*/\\[\\]]");function PA(r,e,t){if(e.search(wK)>=0)throw av(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new dw(...e.split("."))._internalPath}catch{throw av(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function av(r,e,t,n,i){const s=n&&!n.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${n}`),o&&(u+=` in document ${i}`),u+=")"),new Ze(Fe.INVALID_ARGUMENT,l+r+u)}function M3(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,t,n,i,s){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _K(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LA("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class _K extends P3{data(){return super.data()}}function LA(r,e){return typeof e=="string"?PA(r,e):e instanceof dw?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bK(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ze(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BA{}class SK extends BA{}function wx(r,e,...t){let n=[];e instanceof BA&&n.push(e),n=n.concat(t),function(s){const o=s.filter(u=>u instanceof FA).length,l=s.filter(u=>u instanceof mw).length;if(o>1||o>0&&l>0)throw new Ze(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)r=i._apply(r);return r}class mw extends SK{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new mw(e,t,n)}_apply(e){const t=this._parse(e);return L3(e._query,t),new Pf(e.firestore,e.converter,ax(e._query,t))}_parse(e){const t=NA(e.firestore);return function(s,o,l,u,h,f,p){let g;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ze(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){iO(p,f);const _=[];for(const w of p)_.push(rO(u,s,w));g={arrayValue:{values:_}}}else g=rO(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||iO(p,f),g=vK(l,o,p,f==="in"||f==="not-in");return Xn.create(h,f,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function _x(r,e,t){const n=e,i=LA("where",r);return mw._create(i,n,t)}class FA extends BA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new FA(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:Us.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)L3(o,u),o=ax(o,u)}(e._query,t),new Pf(e.firestore,e.converter,ax(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function rO(r,e,t){if(typeof(t=yr(t))=="string"){if(t==="")throw new Ze(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P5(e)&&t.indexOf("/")!==-1)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(yn.fromString(t));if(!lt.isDocumentKey(n))throw new Ze(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return _I(r,new lt(n))}if(t instanceof or)return _I(r,t._key);throw new Ze(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jv(t)}.`)}function iO(r,e){if(!Array.isArray(r)||r.length===0)throw new Ze(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function L3(r,e){const t=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(r.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ze(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ze(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class EK{convertValue(e,t="none"){switch(zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw gt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return tu(e,(i,s)=>{n[i]=this.convertValue(s,t)}),n}convertVectorValue(e){const t=e.fields?.[Q0].arrayValue?.values?.map(n=>Bn(n.doubleValue));return new No(t)}convertGeoPoint(e){return new Oo(Bn(e.latitude),Bn(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=nw(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(jp(e));default:return null}}convertTimestamp(e){const t=Vl(e);return new wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yn.fromString(e);en(i3(n),9688,{name:e});const i=new Hp(n.get(1),n.get(3)),s=new lt(n.popFirst(5));return i.isEqual(t)||ka(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xK(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class wy{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fh extends P3{constructor(e,t,n,i,s,o){super(e,t,n,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new p0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(LA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Fh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Fh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fh._jsonSchema={type:Qn("string",Fh._jsonSchemaVersion),bundleSource:Qn("string","DocumentSnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class p0 extends Fh{data(e={}){return super.data(e)}}class Vh{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new wy(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new p0(this._firestore,this._userDataWriter,n.key,n,new wy(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ze(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new p0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new p0(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wy(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,f=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),f=o.indexOf(l.doc.key)),{type:TK(l.type),doc:u,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ze(Fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function TK(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Vh._jsonSchemaVersion="firestore/querySnapshot/1.0",Vh._jsonSchema={type:Qn("string",Vh._jsonSchemaVersion),bundleSource:Qn("string","QuerySnapshot"),bundleName:Qn("string"),bundle:Qn("string")};class AK extends EK{constructor(e){super(),this.firestore=e}convertBytes(e){return new ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function bx(r){r=nf(r,Pf);const e=nf(r.firestore,fw),t=k3(e),n=new AK(e);return bK(r._query),lK(t,r._query).then(i=>new Vh(e,n,r,i))}function CK(r,e,t,...n){r=nf(r,or);const i=nf(r.firestore,fw),s=NA(i);let o;return o=typeof(e=yr(e))=="string"||e instanceof dw?yK(s,"updateDoc",r._key,e,t,n):gK(s,"updateDoc",r._key,e),B3(i,[o.toMutation(r._key,Do.exists(!0))])}function RK(r,e){const t=nf(r.firestore,fw),n=R3(r),i=xK(r.converter,e);return B3(t,[mK(NA(r.firestore),"addDoc",n._key,i,r.converter!==null,{}).toMutation(n._key,Do.exists(!1))]).then(()=>n)}function B3(r,e){return function(n,i){const s=new Nl;return n.asyncQueue.enqueueAndForget(async()=>$G(await oK(n),i,s)),s.promise}(k3(r),e)}(function(e,t=!0){(function(i){If=i})(kf),Jh(new cc("firestore",(n,{instanceIdentifier:i,options:s})=>{const o=n.getProvider("app").getImmediate(),l=new fw(new fq(n.getProvider("auth-internal")),new mq(o,n.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ze(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hp(h.options.projectId,f)}(o,i),o);return s={useFetchStreams:t,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Il(aI,lI,e),Il(aI,lI,"esm2020")})();const kK={apiKey:"AIzaSyCrA5ze-NPEVzZrs8ICLCNNRA15LSAbFgY",authDomain:"AIzaSyCrA5ze-NPEVzZrs8ICLCNNRA15LSAbFgY",projectId:"mynote-auth-82018",storageBucket:"mynote-auth-82018.firebasestorage.app",messagingSenderId:"117553239591",appId:"1:117553239591:web:e3e46849fa5e6b55052002",measurementId:"G-NDS1P96DE1"},F3=x6(kK),gw=lq(F3),xp=cK(F3);var ib={exports:{}},sb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function DK(){if(sO)return sb;sO=1;var r=qv();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var t=typeof Object.is=="function"?Object.is:e,n=r.useSyncExternalStore,i=r.useRef,s=r.useEffect,o=r.useMemo,l=r.useDebugValue;return sb.useSyncExternalStoreWithSelector=function(u,h,f,p,g){var y=i(null);if(y.current===null){var _={hasValue:!1,value:null};y.current=_}else _=y.current;y=o(function(){function E(D){if(!b){if(b=!0,A=D,D=p(D),g!==void 0&&_.hasValue){var P=_.value;if(g(P,D))return T=P}return T=D}if(P=T,t(A,D))return P;var N=p(D);return g!==void 0&&g(P,N)?(A=D,P):(A=D,T=N)}var b=!1,A,T,x=f===void 0?null:f;return[function(){return E(h())},x===null?void 0:function(){return E(x())}]},[h,f,p,g]);var w=n(u,y[0],y[1]);return s(function(){_.hasValue=!0,_.value=w},[w]),l(w),w},sb}var oO;function IK(){return oO||(oO=1,ib.exports=DK()),ib.exports}var OK=IK();function NK(r){r()}function MK(){let r=null,e=null;return{clear(){r=null,e=null},notify(){NK(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=r;for(;n;)t.push(n),n=n.next;return t},subscribe(t){let n=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:r=i,function(){!n||r===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:r=i.next)}}}}var aO={notify(){},get:()=>[]};function PK(r,e){let t,n=aO,i=0,s=!1;function o(w){f();const E=n.subscribe(w);let b=!1;return()=>{b||(b=!0,E(),p())}}function l(){n.notify()}function u(){_.onStateChange&&_.onStateChange()}function h(){return s}function f(){i++,t||(t=r.subscribe(u),n=MK())}function p(){i--,t&&i===0&&(t(),t=void 0,n.clear(),n=aO)}function g(){s||(s=!0,f())}function y(){s&&(s=!1,p())}const _={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:y,getListeners:()=>n};return _}var LK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BK=LK(),FK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",VK=FK(),UK=()=>BK||VK?me.useLayoutEffect:me.useEffect,zK=UK(),jK=Symbol.for("react-redux-context"),HK=typeof globalThis<"u"?globalThis:{};function qK(){if(!me.createContext)return{};const r=HK[jK]??=new Map;let e=r.get(me.createContext);return e||(e=me.createContext(null),r.set(me.createContext,e)),e}var ql=qK();function WK(r){const{children:e,context:t,serverState:n,store:i}=r,s=me.useMemo(()=>{const u=PK(i);return{store:i,subscription:u,getServerState:n?()=>n:void 0}},[i,n]),o=me.useMemo(()=>i.getState(),[i]);zK(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const l=t||ql;return me.createElement(l.Provider,{value:s},e)}var GK=WK;function VA(r=ql){return function(){return me.useContext(r)}}var V3=VA();function U3(r=ql){const e=r===ql?V3:VA(r),t=()=>{const{store:n}=e();return n};return Object.assign(t,{withTypes:()=>t}),t}var KK=U3();function $K(r=ql){const e=r===ql?KK:U3(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var xc=$K(),YK=(r,e)=>r===e;function XK(r=ql){const e=r===ql?V3:VA(r),t=(n,i={})=>{const{equalityFn:s=YK}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:l,subscription:u,getServerState:h}=o;me.useRef(!0);const f=me.useCallback({[n.name](g){return n(g)}}[n.name],[n]),p=OK.useSyncExternalStoreWithSelector(u.addNestedSub,l.getState,h||l.getState,f,s);return me.useDebugValue(p),p};return Object.assign(t,{withTypes:()=>t}),t}var mr=XK();const ob=["january","february","march","april","may","june","july","august","september","october","november","december"],QK={logined:!1,menubar:!1,editbar:!1,currentuser:{username:"User_name",password:"********",email:"notfound@gmail.com",phonenumber:"Notfound",created:"404,404,404",profile_pic:null},Folders:[],selectednote:null,selectedfolderid:null,fetching:!0},ZK=async r=>{await RK(ov(xp,"users"),{...r})},z3=i7({name:"noto",initialState:QK,reducers:{setlogined:(r,e)=>{r.logined=e.payload??!r.logined},setprofilepic:(r,e)=>{r.currentuser.profile_pic=e.payload},setfolders:(r,e)=>{r.Folders=e.payload},setuserdata:(r,e)=>{r.currentuser={...e.payload}},menubartoggle:(r,e)=>{r.menubar=e.payload??!r.menubar,r.menubar&&(r.editbar=!1)},editbartoggle:(r,e)=>{r.editbar=e.payload??!r.editbar,r.editbar&&(r.menubar=!1)},addfolder:(r,e)=>{let t={folname:e.payload.name,id:kD(),notes:[]};r.Folders.push(t),r.currentuser={...r.currentuser,user_folders:r.Folders}},addNote:(r,e)=>{const{id:t,name:n}=e.payload,i=new Date;let s={note_name:n,id:kD(),notetitle:"",notecontent:"",time:`${ob[i.getMonth()]} , ${i.getDate()}, ${i.getFullYear()} | ${i.getHours()}:${`${i.getMinutes()}`.length==1?"0"+i.getMinutes():i.getMinutes()}`};r.Folders=r.Folders.map(o=>o.id==t?{...o,notes:[...o.notes,s]}:o),r.currentuser={...r.currentuser,user_folders:r.Folders}},deletenote:(r,e)=>{const{id:t,folid:n}=e.payload;r.Folders=r.Folders.map(i=>i.id==n?{...i,notes:i.notes=i.notes.filter(s=>s.id!=t)}:i),r.currentuser={...r.currentuser,user_folders:r.Folders}},deletefolder:(r,e)=>{const{id:t}=e.payload;r.Folders=r.Folders.filter(n=>n.id!=t),r.currentuser={...r.currentuser,user_folders:r.Folders}},updatenote:(r,e)=>{const{id:t,folid:n,prop:i}=e.payload;r.Folders=r.Folders.map(s=>s.id==n?{...s,notes:s.notes.map(o=>o.id==t?{...o,...i}:o)}:s),r.currentuser={...r.currentuser,user_folders:r.Folders}},updatefolder:(r,e)=>{const{folid:t,prop:n}=e.payload;r.Folders=r.Folders.map(i=>i.id==t?{...i,...n}:i),r.currentuser={...r.currentuser,user_folders:r.Folders}},setselectednote:(r,e)=>{r.selectednote=e.payload,r.currentuser={...r.currentuser,user_folders:r.Folders}},setselectfolder:(r,e)=>{r.selectedfolderid=e.payload,r.currentuser={...r.currentuser,user_folders:r.Folders}},setcurentuser:(r,e)=>{const t=new Date,n={...e.payload,profile_pic:null,created:`${ob[t.getMonth()]},${t.getDate()},${t.getFullYear()}`,user_folders:[{folname:"default_notes",id:1,notes:[{note_name:"Welcome to MyNote..",id:2,notetitle:"Welcome note",notecontent:`#  Welcome to MyNote

Hey there, and welcome! 

Youve just created your first note. Heres what you can do with MyNote:

 Create folders to organize your notes
 Write in Markdown  format using **bold**, *italic*, \`inline code\`, and more
 Notes are saved automatically
 Access your notes anytime, anywhere

---

##  Try it now

- Type anything below
- Create your first folder
- Explore the editor

---

Made with  just for you.

- Team MyNote

`,time:`${ob[t.getMonth()]} , ${t.getDate()}, ${t.getFullYear()} | ${t.getHours()}:${`${t.getMinutes()}`.length==1?"0"+t.getMinutes():t.getMinutes()}`}]}]};ZK(n),r.currentuser={...n}},setuserfolder:(r,e)=>{r.currentuser.user_folders=e.payload,r.currentuser={...r.currentuser,user_folders:r.Folders}},setloginuser:(r,e)=>{r.currentuser={...e.payload}},setfetching:(r,e)=>{r.fetching=e.payload??!r.fetching}}}),{setlogined:Kp,menubartoggle:m0,editbartoggle:j3,deletefolder:JK,deletenote:e$,addfolder:lO,addNote:uO,updatenote:Sx,updatefolder:t$,setselectednote:Ls,setselectfolder:Mu,setfolders:H3,setprofilepic:cO,setcurentuser:n$,setuserfolder:r$,setloginuser:lv,setfetching:q3}=z3.actions,i$=z3.reducer;var Vd={},hO;function s$(){if(hO)return Vd;hO=1,Object.defineProperty(Vd,"__esModule",{value:!0}),Vd.parse=o,Vd.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const g=function(){};return g.prototype=Object.create(null),g})();function o(g,y){const _=new s,w=g.length;if(w<2)return _;const E=y?.decode||f;let b=0;do{const A=g.indexOf("=",b);if(A===-1)break;const T=g.indexOf(";",b),x=T===-1?w:T;if(A>x){b=g.lastIndexOf(";",A-1)+1;continue}const D=l(g,b,A),P=u(g,A,D),N=g.slice(D,P);if(_[N]===void 0){let O=l(g,A+1,x),C=u(g,x,O);const q=E(g.slice(O,C));_[N]=q}b=x+1}while(b<w);return _}function l(g,y,_){do{const w=g.charCodeAt(y);if(w!==32&&w!==9)return y}while(++y<_);return _}function u(g,y,_){for(;y>_;){const w=g.charCodeAt(--y);if(w!==32&&w!==9)return y+1}return _}function h(g,y,_){const w=_?.encode||encodeURIComponent;if(!r.test(g))throw new TypeError(`argument name is invalid: ${g}`);const E=w(y);if(!e.test(E))throw new TypeError(`argument val is invalid: ${y}`);let b=g+"="+E;if(!_)return b;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);b+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);b+="; Domain="+_.domain}if(_.path){if(!n.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);b+="; Path="+_.path}if(_.expires){if(!p(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);b+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(b+="; HttpOnly"),_.secure&&(b+="; Secure"),_.partitioned&&(b+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":b+="; Priority=Low";break;case"medium":b+="; Priority=Medium";break;case"high":b+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":b+="; SameSite=Strict";break;case"lax":b+="; SameSite=Lax";break;case"none":b+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return b}function f(g){if(g.indexOf("%")===-1)return g;try{return decodeURIComponent(g)}catch{return g}}function p(g){return i.call(g)==="[object Date]"}return Vd}s$();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var W3=r=>{throw TypeError(r)},o$=(r,e,t)=>e.has(r)||W3("Cannot "+t),ab=(r,e,t)=>(o$(r,e,"read from private field"),t?t.call(r):e.get(r)),a$=(r,e,t)=>e.has(r)?W3("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),fO="popstate";function l$(r={}){function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return $p("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Wl(i)}return c$(e,t,null,r)}function Tt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Zn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function u$(){return Math.random().toString(36).substring(2,10)}function dO(r,e){return{usr:r.state,key:r.key,idx:e}}function $p(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ru(e):e,state:t,key:e&&e.key||n||u$()}}function Wl({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function ru(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function c$(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){l="POP";let E=f(),b=E==null?null:E-h;h=E,u&&u({action:l,location:w.location,delta:b})}function g(E,b){l="PUSH";let A=$p(w.location,E,b);h=f()+1;let T=dO(A,h),x=w.createHref(A);try{o.pushState(T,"",x)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(x)}s&&u&&u({action:l,location:w.location,delta:1})}function y(E,b){l="REPLACE";let A=$p(w.location,E,b);h=f();let T=dO(A,h),x=w.createHref(A);o.replaceState(T,"",x),s&&u&&u({action:l,location:w.location,delta:0})}function _(E){return G3(E)}let w={get action(){return l},get location(){return r(i,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fO,p),u=E,()=>{i.removeEventListener(fO,p),u=null}},createHref(E){return e(i,E)},createURL:_,encodeLocation(E){let b=_(E);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:y,go(E){return o.go(E)}};return w}function G3(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Tt(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Wl(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}var lp,pO=class{constructor(r){if(a$(this,lp,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(ab(this,lp).has(r))return ab(this,lp).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){ab(this,lp).set(r,e)}};lp=new WeakMap;var h$=new Set(["lazy","caseSensitive","path","id","index","children"]);function f$(r){return h$.has(r)}var d$=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function p$(r){return d$.has(r)}function m$(r){return r.index===!0}function uv(r,e,t=[],n={}){return r.map((i,s)=>{let o=[...t,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Tt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Tt(!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),m$(i)){let u={...i,...e(i),id:l};return n[l]=u,u}else{let u={...i,...e(i),id:l,children:void 0};return n[l]=u,i.children&&(u.children=uv(i.children,e,o,n)),u}})}function vl(r,e,t="/"){return g0(r,e,t,!1)}function g0(r,e,t,n){let i=typeof e=="string"?ru(e):e,s=Ts(i.pathname||"/",t);if(s==null)return null;let o=K3(r);y$(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let h=R$(s);l=A$(o[u],h,n)}return l}function g$(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],handle:t.handle}}function K3(r,e=[],t=[],n=""){let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Tt(u.relativePath.startsWith(n),`Absolute route path "${u.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(n.length));let h=Mo([n,u.relativePath]),f=t.concat(u);s.children&&s.children.length>0&&(Tt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),K3(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:x$(h,s.index),routesMeta:f})};return r.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))i(s,o);else for(let l of $3(s.path))i(s,o,l)}),e}function $3(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=$3(n.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>r.startsWith("/")&&u===""?"/":u)}function y$(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:T$(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var v$=/^:[\w-]+$/,w$=3,_$=2,b$=1,S$=10,E$=-2,mO=r=>r==="*";function x$(r,e){let t=r.split("/"),n=t.length;return t.some(mO)&&(n+=E$),e&&(n+=_$),t.filter(i=>!mO(i)).reduce((i,s)=>i+(v$.test(s)?w$:s===""?b$:S$),n)}function T$(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function A$(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",o=[];for(let l=0;l<n.length;++l){let u=n[l],h=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=cv({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&t&&!n[n.length-1].route.index&&(p=cv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Mo([s,p.pathname]),pathnameBase:I$(Mo([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Mo([s,p.pathnameBase]))}return o}function cv(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=C$(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let _=l[g]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const y=l[g];return p&&!y?h[f]=void 0:h[f]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:r}}function C$(r,e=!1,t=!0){Zn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(n.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function R$(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ts(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function k$(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ru(r):r;return{pathname:t?t.startsWith("/")?t:D$(t,e):e,search:O$(n),hash:N$(i)}}function D$(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function lb(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Y3(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function UA(r){let e=Y3(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function zA(r,e,t,n=!1){let i;typeof r=="string"?i=ru(r):(i={...r},Tt(!i.pathname||!i.pathname.includes("?"),lb("?","pathname","search",i)),Tt(!i.pathname||!i.pathname.includes("#"),lb("#","pathname","hash",i)),Tt(!i.search||!i.search.includes("#"),lb("#","search","hash",i)));let s=r===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=t;else{let p=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=k$(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Mo=r=>r.join("/").replace(/\/\/+/g,"/"),I$=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),O$=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,N$=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,hv=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Yp(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var X3=["POST","PUT","PATCH","DELETE"],M$=new Set(X3),P$=["GET",...X3],L$=new Set(P$),B$=new Set([301,302,303,307,308]),F$=new Set([307,308]),ub={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},V$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ud={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U$=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),Q3="remix-router-transitions",Z3=Symbol("ResetLoaderData");function z$(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Tt(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=r.hydrationRouteProperties||[],i=r.mapRouteProperties||U$,s={},o=uv(r.routes,i,void 0,s),l,u=r.basename||"/",h=r.dataStrategy||G$,f={unstable_middleware:!1,...r.future},p=null,g=new Set,y=null,_=null,w=null,E=r.hydrationData!=null,b=vl(o,r.history.location,u),A=!1,T=null,x;if(b==null&&!r.patchRoutesOnNavigation){let ye=ps(404,{pathname:r.history.location.pathname}),{matches:Ee,route:Ae}=CO(o);x=!0,b=Ee,T={[Ae.id]:ye}}else if(b&&!r.hydrationData&&ni(b,o,r.history.location.pathname).active&&(b=null),b)if(b.some(ye=>ye.route.lazy))x=!1;else if(!b.some(ye=>ye.route.loader))x=!0;else{let ye=r.hydrationData?r.hydrationData.loaderData:null,Ee=r.hydrationData?r.hydrationData.errors:null;if(Ee){let Ae=b.findIndex(ze=>Ee[ze.route.id]!==void 0);x=b.slice(0,Ae+1).every(ze=>!xx(ze.route,ye,Ee))}else x=b.every(Ae=>!xx(Ae.route,ye,Ee))}else{x=!1,b=[];let ye=ni(null,o,r.history.location.pathname);ye.active&&ye.matches&&(A=!0,b=ye.matches)}let D,P={historyAction:r.history.action,location:r.history.location,matches:b,initialized:x,navigation:ub,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||T,fetchers:new Map,blockers:new Map},N="POP",O=!1,C,q=!1,$=new Map,M=null,V=!1,B=!1,oe=new Set,Q=new Map,X=0,fe=-1,de=new Map,ee=new Set,J=new Map,K=new Map,re=new Set,he=new Map,ve,ue=null;function j(){if(p=r.history.listen(({action:ye,location:Ee,delta:Ae})=>{if(ve){ve(),ve=void 0;return}Zn(he.size===0||Ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ze=qs({currentLocation:P.location,nextLocation:Ee,historyAction:ye});if(ze&&Ae!=null){let Ke=new Promise(Je=>{ve=Je});r.history.go(Ae*-1),ei(ze,{state:"blocked",location:Ee,proceed(){ei(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Ke.then(()=>r.history.go(Ae))},reset(){let Je=new Map(P.blockers);Je.set(ze,Ud),ie({blockers:Je})}});return}return U(ye,Ee)}),t){rY(e,$);let ye=()=>iY(e,$);e.addEventListener("pagehide",ye),M=()=>e.removeEventListener("pagehide",ye)}return P.initialized||U("POP",P.location,{initialHydration:!0}),D}function F(){p&&p(),M&&M(),g.clear(),C&&C.abort(),P.fetchers.forEach((ye,Ee)=>Nt(Ee)),P.blockers.forEach((ye,Ee)=>Jn(Ee))}function ce(ye){return g.add(ye),()=>g.delete(ye)}function ie(ye,Ee={}){P={...P,...ye};let Ae=[],ze=[];P.fetchers.forEach((Ke,Je)=>{Ke.state==="idle"&&(re.has(Je)?Ae.push(Je):ze.push(Je))}),re.forEach(Ke=>{!P.fetchers.has(Ke)&&!Q.has(Ke)&&Ae.push(Ke)}),[...g].forEach(Ke=>Ke(P,{deletedFetchers:Ae,viewTransitionOpts:Ee.viewTransitionOpts,flushSync:Ee.flushSync===!0})),Ae.forEach(Ke=>Nt(Ke)),ze.forEach(Ke=>P.fetchers.delete(Ke))}function Y(ye,Ee,{flushSync:Ae}={}){let ze=P.actionData!=null&&P.navigation.formMethod!=null&&ji(P.navigation.formMethod)&&P.navigation.state==="loading"&&ye.state?._isRedirect!==!0,Ke;Ee.actionData?Object.keys(Ee.actionData).length>0?Ke=Ee.actionData:Ke=null:ze?Ke=P.actionData:Ke=null;let Je=Ee.loaderData?TO(P.loaderData,Ee.loaderData,Ee.matches||[],Ee.errors):P.loaderData,ut=P.blockers;ut.size>0&&(ut=new Map(ut),ut.forEach((st,dt)=>ut.set(dt,Ud)));let nt=O===!0||P.navigation.formMethod!=null&&ji(P.navigation.formMethod)&&ye.state?._isRedirect!==!0;l&&(o=l,l=void 0),V||N==="POP"||(N==="PUSH"?r.history.push(ye,ye.state):N==="REPLACE"&&r.history.replace(ye,ye.state));let ot;if(N==="POP"){let st=$.get(P.location.pathname);st&&st.has(ye.pathname)?ot={currentLocation:P.location,nextLocation:ye}:$.has(ye.pathname)&&(ot={currentLocation:ye,nextLocation:P.location})}else if(q){let st=$.get(P.location.pathname);st?st.add(ye.pathname):(st=new Set([ye.pathname]),$.set(P.location.pathname,st)),ot={currentLocation:P.location,nextLocation:ye}}ie({...Ee,actionData:Ke,loaderData:Je,historyAction:N,location:ye,initialized:!0,navigation:ub,revalidation:"idle",restoreScrollPosition:Ri(ye,Ee.matches||P.matches),preventScrollReset:nt,blockers:ut},{viewTransitionOpts:ot,flushSync:Ae===!0}),N="POP",O=!1,q=!1,V=!1,B=!1,ue?.resolve(),ue=null}async function te(ye,Ee){if(typeof ye=="number"){r.history.go(ye);return}let Ae=Ex(P.location,P.matches,u,ye,Ee?.fromRouteId,Ee?.relative),{path:ze,submission:Ke,error:Je}=gO(!1,Ae,Ee),ut=P.location,nt=$p(P.location,ze,Ee&&Ee.state);nt={...nt,...r.history.encodeLocation(nt)};let ot=Ee&&Ee.replace!=null?Ee.replace:void 0,st="PUSH";ot===!0?st="REPLACE":ot===!1||Ke!=null&&ji(Ke.formMethod)&&Ke.formAction===P.location.pathname+P.location.search&&(st="REPLACE");let dt=Ee&&"preventScrollReset"in Ee?Ee.preventScrollReset===!0:void 0,ct=(Ee&&Ee.flushSync)===!0,yt=qs({currentLocation:ut,nextLocation:nt,historyAction:st});if(yt){ei(yt,{state:"blocked",location:nt,proceed(){ei(yt,{state:"proceeding",proceed:void 0,reset:void 0,location:nt}),te(ye,Ee)},reset(){let Dt=new Map(P.blockers);Dt.set(yt,Ud),ie({blockers:Dt})}});return}await U(st,nt,{submission:Ke,pendingError:Je,preventScrollReset:dt,replace:Ee&&Ee.replace,enableViewTransition:Ee&&Ee.viewTransition,flushSync:ct})}function _e(){ue||(ue=sY()),Oe(),ie({revalidation:"loading"});let ye=ue.promise;return P.navigation.state==="submitting"?ye:P.navigation.state==="idle"?(U(P.historyAction,P.location,{startUninterruptedRevalidation:!0}),ye):(U(N||P.historyAction,P.navigation.location,{overrideNavigation:P.navigation,enableViewTransition:q===!0}),ye)}async function U(ye,Ee,Ae){C&&C.abort(),C=null,N=ye,V=(Ae&&Ae.startUninterruptedRevalidation)===!0,_r(P.location,P.matches),O=(Ae&&Ae.preventScrollReset)===!0,q=(Ae&&Ae.enableViewTransition)===!0;let ze=l||o,Ke=Ae&&Ae.overrideNavigation,Je=Ae?.initialHydration&&P.matches&&P.matches.length>0&&!A?P.matches:vl(ze,Ee,u),ut=(Ae&&Ae.flushSync)===!0;if(Je&&P.initialized&&!B&&Z$(P.location,Ee)&&!(Ae&&Ae.submission&&ji(Ae.submission.formMethod))){Y(Ee,{matches:Je},{flushSync:ut});return}let nt=ni(Je,ze,Ee.pathname);if(nt.active&&nt.matches&&(Je=nt.matches),!Je){let{error:$t,notFoundMatches:Bt,route:Rt}=ks(Ee.pathname);Y(Ee,{matches:Bt,loaderData:{},errors:{[Rt.id]:$t}},{flushSync:ut});return}C=new AbortController;let ot=Eh(r.history,Ee,C.signal,Ae&&Ae.submission),st=new pO(r.unstable_getContext?await r.unstable_getContext():void 0),dt;if(Ae&&Ae.pendingError)dt=[qu(Je).route.id,{type:"error",error:Ae.pendingError}];else if(Ae&&Ae.submission&&ji(Ae.submission.formMethod)){let $t=await Se(ot,Ee,Ae.submission,Je,st,nt.active,Ae&&Ae.initialHydration===!0,{replace:Ae.replace,flushSync:ut});if($t.shortCircuited)return;if($t.pendingActionResult){let[Bt,Rt]=$t.pendingActionResult;if(zi(Rt)&&Yp(Rt.error)&&Rt.error.status===404){C=null,Y(Ee,{matches:$t.matches,loaderData:{},errors:{[Bt]:Rt.error}});return}}Je=$t.matches||Je,dt=$t.pendingActionResult,Ke=cb(Ee,Ae.submission),ut=!1,nt.active=!1,ot=Eh(r.history,ot.url,ot.signal)}let{shortCircuited:ct,matches:yt,loaderData:Dt,errors:Zt}=await H(ot,Ee,Je,st,nt.active,Ke,Ae&&Ae.submission,Ae&&Ae.fetcherSubmission,Ae&&Ae.replace,Ae&&Ae.initialHydration===!0,ut,dt);ct||(C=null,Y(Ee,{matches:yt||Je,...AO(dt),loaderData:Dt,errors:Zt}))}async function Se(ye,Ee,Ae,ze,Ke,Je,ut,nt={}){Oe();let ot=tY(Ee,Ae);if(ie({navigation:ot},{flushSync:nt.flushSync===!0}),Je){let ct=await Ws(ze,Ee.pathname,ye.signal);if(ct.type==="aborted")return{shortCircuited:!0};if(ct.type==="error"){let yt=qu(ct.partialMatches).route.id;return{matches:ct.partialMatches,pendingActionResult:[yt,{type:"error",error:ct.error}]}}else if(ct.matches)ze=ct.matches;else{let{notFoundMatches:yt,error:Dt,route:Zt}=ks(Ee.pathname);return{matches:yt,pendingActionResult:[Zt.id,{type:"error",error:Dt}]}}}let st,dt=up(ze,Ee);if(!dt.route.action&&!dt.route.lazy)st={type:"error",error:ps(405,{method:ye.method,pathname:Ee.pathname,routeId:dt.route.id})};else{let ct=Uh(i,s,ye,ze,dt,ut?[]:n,Ke),yt=await De(ye,ct,Ke,null);if(st=yt[dt.route.id],!st){for(let Dt of ze)if(yt[Dt.route.id]){st=yt[Dt.route.id];break}}if(ye.signal.aborted)return{shortCircuited:!0}}if($u(st)){let ct;return nt&&nt.replace!=null?ct=nt.replace:ct=SO(st.response.headers.get("Location"),new URL(ye.url),u)===P.location.pathname+P.location.search,await le(ye,st,!0,{submission:Ae,replace:ct}),{shortCircuited:!0}}if(zi(st)){let ct=qu(ze,dt.route.id);return(nt&&nt.replace)!==!0&&(N="PUSH"),{matches:ze,pendingActionResult:[ct.route.id,st,dt.route.id]}}return{matches:ze,pendingActionResult:[dt.route.id,st]}}async function H(ye,Ee,Ae,ze,Ke,Je,ut,nt,ot,st,dt,ct){let yt=Je||cb(Ee,ut),Dt=ut||nt||kO(yt),Zt=!V&&!st;if(Ke){if(Zt){let jn=k(ct);ie({navigation:yt,...jn!==void 0?{actionData:jn}:{}},{flushSync:dt})}let _t=await Ws(Ae,Ee.pathname,ye.signal);if(_t.type==="aborted")return{shortCircuited:!0};if(_t.type==="error"){let jn=qu(_t.partialMatches).route.id;return{matches:_t.partialMatches,loaderData:{},errors:{[jn]:_t.error}}}else if(_t.matches)Ae=_t.matches;else{let{error:jn,notFoundMatches:Di,route:hi}=ks(Ee.pathname);return{matches:Di,loaderData:{},errors:{[hi.id]:jn}}}}let $t=l||o,{dsMatches:Bt,revalidatingFetchers:Rt}=yO(ye,ze,i,s,r.history,P,Ae,Dt,Ee,st?[]:n,st===!0,B,oe,re,J,ee,$t,u,r.patchRoutesOnNavigation!=null,ct);if(fe=++X,!r.dataStrategy&&!Bt.some(_t=>_t.shouldLoad)&&Rt.length===0){let _t=Kt();return Y(Ee,{matches:Ae,loaderData:{},errors:ct&&zi(ct[1])?{[ct[0]]:ct[1].error}:null,...AO(ct),..._t?{fetchers:new Map(P.fetchers)}:{}},{flushSync:dt}),{shortCircuited:!0}}if(Zt){let _t={};if(!Ke){_t.navigation=yt;let jn=k(ct);jn!==void 0&&(_t.actionData=jn)}Rt.length>0&&(_t.fetchers=I(Rt)),ie(_t,{flushSync:dt})}Rt.forEach(_t=>{xn(_t.key),_t.controller&&Q.set(_t.key,_t.controller)});let Ji=()=>Rt.forEach(_t=>xn(_t.key));C&&C.signal.addEventListener("abort",Ji);let{loaderResults:er,fetcherResults:ri}=await Pe(Bt,Rt,ye,ze);if(ye.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",Ji),Rt.forEach(_t=>Q.delete(_t.key));let br=_y(er);if(br)return await le(ye,br.result,!0,{replace:ot}),{shortCircuited:!0};if(br=_y(ri),br)return ee.add(br.key),await le(ye,br.result,!0,{replace:ot}),{shortCircuited:!0};let{loaderData:Ks,errors:ki}=xO(P,Ae,er,ct,Rt,ri);st&&P.errors&&(ki={...P.errors,...ki});let Ua=Kt(),Fr=Jr(fe),ii=Ua||Fr||Rt.length>0;return{matches:Ae,loaderData:Ks,errors:ki,...ii?{fetchers:new Map(P.fetchers)}:{}}}function k(ye){if(ye&&!zi(ye[1]))return{[ye[0]]:ye[1].data};if(P.actionData)return Object.keys(P.actionData).length===0?null:P.actionData}function I(ye){return ye.forEach(Ee=>{let Ae=P.fetchers.get(Ee.key),ze=zd(void 0,Ae?Ae.data:void 0);P.fetchers.set(Ee.key,ze)}),new Map(P.fetchers)}async function z(ye,Ee,Ae,ze){xn(ye);let Ke=(ze&&ze.flushSync)===!0,Je=l||o,ut=Ex(P.location,P.matches,u,Ae,Ee,ze?.relative),nt=vl(Je,ut,u),ot=ni(nt,Je,ut);if(ot.active&&ot.matches&&(nt=ot.matches),!nt){Ge(ye,Ee,ps(404,{pathname:ut}),{flushSync:Ke});return}let{path:st,submission:dt,error:ct}=gO(!0,ut,ze);if(ct){Ge(ye,Ee,ct,{flushSync:Ke});return}let yt=up(nt,st),Dt=new pO(r.unstable_getContext?await r.unstable_getContext():void 0),Zt=(ze&&ze.preventScrollReset)===!0;if(dt&&ji(dt.formMethod)){await se(ye,Ee,st,yt,nt,Dt,ot.active,Ke,Zt,dt);return}J.set(ye,{routeId:Ee,path:st}),await ge(ye,Ee,st,yt,nt,Dt,ot.active,Ke,Zt,dt)}async function se(ye,Ee,Ae,ze,Ke,Je,ut,nt,ot,st){Oe(),J.delete(ye);function dt(un){if(!un.route.action&&!un.route.lazy){let es=ps(405,{method:st.formMethod,pathname:Ae,routeId:Ee});return Ge(ye,Ee,es,{flushSync:nt}),!0}return!1}if(!ut&&dt(ze))return;let ct=P.fetchers.get(ye);He(ye,nY(st,ct),{flushSync:nt});let yt=new AbortController,Dt=Eh(r.history,Ae,yt.signal,st);if(ut){let un=await Ws(Ke,Ae,Dt.signal,ye);if(un.type==="aborted")return;if(un.type==="error"){Ge(ye,Ee,un.error,{flushSync:nt});return}else if(un.matches){if(Ke=un.matches,ze=up(Ke,Ae),dt(ze))return}else{Ge(ye,Ee,ps(404,{pathname:Ae}),{flushSync:nt});return}}Q.set(ye,yt);let Zt=X,$t=Uh(i,s,Dt,Ke,ze,n,Je),Rt=(await De(Dt,$t,Je,ye))[ze.route.id];if(Dt.signal.aborted){Q.get(ye)===yt&&Q.delete(ye);return}if(re.has(ye)){if($u(Rt)||zi(Rt)){He(ye,hl(void 0));return}}else{if($u(Rt))if(Q.delete(ye),fe>Zt){He(ye,hl(void 0));return}else return ee.add(ye),He(ye,zd(st)),le(Dt,Rt,!1,{fetcherSubmission:st,preventScrollReset:ot});if(zi(Rt)){Ge(ye,Ee,Rt.error);return}}let Ji=P.navigation.location||P.location,er=Eh(r.history,Ji,yt.signal),ri=l||o,br=P.navigation.state!=="idle"?vl(ri,P.navigation.location,u):P.matches;Tt(br,"Didn't find any matches after fetcher action");let Ks=++X;de.set(ye,Ks);let ki=zd(st,Rt.data);P.fetchers.set(ye,ki);let{dsMatches:Ua,revalidatingFetchers:Fr}=yO(er,Je,i,s,r.history,P,br,st,Ji,n,!1,B,oe,re,J,ee,ri,u,r.patchRoutesOnNavigation!=null,[ze.route.id,Rt]);Fr.filter(un=>un.key!==ye).forEach(un=>{let es=un.key,Ko=P.fetchers.get(es),Sr=zd(void 0,Ko?Ko.data:void 0);P.fetchers.set(es,Sr),xn(es),un.controller&&Q.set(es,un.controller)}),ie({fetchers:new Map(P.fetchers)});let ii=()=>Fr.forEach(un=>xn(un.key));yt.signal.addEventListener("abort",ii);let{loaderResults:_t,fetcherResults:jn}=await Pe(Ua,Fr,er,Je);if(yt.signal.aborted)return;if(yt.signal.removeEventListener("abort",ii),de.delete(ye),Q.delete(ye),Fr.forEach(un=>Q.delete(un.key)),P.fetchers.has(ye)){let un=hl(Rt.data);P.fetchers.set(ye,un)}let Di=_y(_t);if(Di)return le(er,Di.result,!1,{preventScrollReset:ot});if(Di=_y(jn),Di)return ee.add(Di.key),le(er,Di.result,!1,{preventScrollReset:ot});let{loaderData:hi,errors:$s}=xO(P,br,_t,void 0,Fr,jn);Jr(Ks),P.navigation.state==="loading"&&Ks>fe?(Tt(N,"Expected pending action"),C&&C.abort(),Y(P.navigation.location,{matches:br,loaderData:hi,errors:$s,fetchers:new Map(P.fetchers)})):(ie({errors:$s,loaderData:TO(P.loaderData,hi,br,$s),fetchers:new Map(P.fetchers)}),B=!1)}async function ge(ye,Ee,Ae,ze,Ke,Je,ut,nt,ot,st){let dt=P.fetchers.get(ye);He(ye,zd(st,dt?dt.data:void 0),{flushSync:nt});let ct=new AbortController,yt=Eh(r.history,Ae,ct.signal);if(ut){let Rt=await Ws(Ke,Ae,yt.signal,ye);if(Rt.type==="aborted")return;if(Rt.type==="error"){Ge(ye,Ee,Rt.error,{flushSync:nt});return}else if(Rt.matches)Ke=Rt.matches,ze=up(Ke,Ae);else{Ge(ye,Ee,ps(404,{pathname:Ae}),{flushSync:nt});return}}Q.set(ye,ct);let Dt=X,Zt=Uh(i,s,yt,Ke,ze,n,Je),Bt=(await De(yt,Zt,Je,ye))[ze.route.id];if(Q.get(ye)===ct&&Q.delete(ye),!yt.signal.aborted){if(re.has(ye)){He(ye,hl(void 0));return}if($u(Bt))if(fe>Dt){He(ye,hl(void 0));return}else{ee.add(ye),await le(yt,Bt,!1,{preventScrollReset:ot});return}if(zi(Bt)){Ge(ye,Ee,Bt.error);return}He(ye,hl(Bt.data))}}async function le(ye,Ee,Ae,{submission:ze,fetcherSubmission:Ke,preventScrollReset:Je,replace:ut}={}){Ee.response.headers.has("X-Remix-Revalidate")&&(B=!0);let nt=Ee.response.headers.get("Location");Tt(nt,"Expected a Location header on the redirect Response"),nt=SO(nt,new URL(ye.url),u);let ot=$p(P.location,nt,{_isRedirect:!0});if(t){let Zt=!1;if(Ee.response.headers.has("X-Remix-Reload-Document"))Zt=!0;else if(jA.test(nt)){const $t=G3(nt,!0);Zt=$t.origin!==e.location.origin||Ts($t.pathname,u)==null}if(Zt){ut?e.location.replace(nt):e.location.assign(nt);return}}C=null;let st=ut===!0||Ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:dt,formAction:ct,formEncType:yt}=P.navigation;!ze&&!Ke&&dt&&ct&&yt&&(ze=kO(P.navigation));let Dt=ze||Ke;if(F$.has(Ee.response.status)&&Dt&&ji(Dt.formMethod))await U(st,ot,{submission:{...Dt,formAction:nt},preventScrollReset:Je||O,enableViewTransition:Ae?q:void 0});else{let Zt=cb(ot,ze);await U(st,ot,{overrideNavigation:Zt,fetcherSubmission:Ke,preventScrollReset:Je||O,enableViewTransition:Ae?q:void 0})}}async function De(ye,Ee,Ae,ze){let Ke,Je={};try{Ke=await K$(h,ye,Ee,ze,Ae,!1)}catch(ut){return Ee.filter(nt=>nt.shouldLoad).forEach(nt=>{Je[nt.route.id]={type:"error",error:ut}}),Je}if(ye.signal.aborted)return Je;for(let[ut,nt]of Object.entries(Ke))if(J$(nt)){let ot=nt.result;Je[ut]={type:"redirect",response:X$(ot,ye,ut,Ee,u)}}else Je[ut]=await Y$(nt);return Je}async function Pe(ye,Ee,Ae,ze){let Ke=De(Ae,ye,ze,null),Je=Promise.all(Ee.map(async ot=>{if(ot.matches&&ot.match&&ot.request&&ot.controller){let dt=(await De(ot.request,ot.matches,ze,ot.key))[ot.match.route.id];return{[ot.key]:dt}}else return Promise.resolve({[ot.key]:{type:"error",error:ps(404,{pathname:ot.path})}})})),ut=await Ke,nt=(await Je).reduce((ot,st)=>Object.assign(ot,st),{});return{loaderResults:ut,fetcherResults:nt}}function Oe(){B=!0,J.forEach((ye,Ee)=>{Q.has(Ee)&&oe.add(Ee),xn(Ee)})}function He(ye,Ee,Ae={}){P.fetchers.set(ye,Ee),ie({fetchers:new Map(P.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function Ge(ye,Ee,Ae,ze={}){let Ke=qu(P.matches,Ee);Nt(ye),ie({errors:{[Ke.route.id]:Ae},fetchers:new Map(P.fetchers)},{flushSync:(ze&&ze.flushSync)===!0})}function it(ye){return K.set(ye,(K.get(ye)||0)+1),re.has(ye)&&re.delete(ye),P.fetchers.get(ye)||V$}function Nt(ye){let Ee=P.fetchers.get(ye);Q.has(ye)&&!(Ee&&Ee.state==="loading"&&de.has(ye))&&xn(ye),J.delete(ye),de.delete(ye),ee.delete(ye),re.delete(ye),oe.delete(ye),P.fetchers.delete(ye)}function Zr(ye){let Ee=(K.get(ye)||0)-1;Ee<=0?(K.delete(ye),re.add(ye)):K.set(ye,Ee),ie({fetchers:new Map(P.fetchers)})}function xn(ye){let Ee=Q.get(ye);Ee&&(Ee.abort(),Q.delete(ye))}function Br(ye){for(let Ee of ye){let Ae=it(Ee),ze=hl(Ae.data);P.fetchers.set(Ee,ze)}}function Kt(){let ye=[],Ee=!1;for(let Ae of ee){let ze=P.fetchers.get(Ae);Tt(ze,`Expected fetcher: ${Ae}`),ze.state==="loading"&&(ee.delete(Ae),ye.push(Ae),Ee=!0)}return Br(ye),Ee}function Jr(ye){let Ee=[];for(let[Ae,ze]of de)if(ze<ye){let Ke=P.fetchers.get(Ae);Tt(Ke,`Expected fetcher: ${Ae}`),Ke.state==="loading"&&(xn(Ae),de.delete(Ae),Ee.push(Ae))}return Br(Ee),Ee.length>0}function wr(ye,Ee){let Ae=P.blockers.get(ye)||Ud;return he.get(ye)!==Ee&&he.set(ye,Ee),Ae}function Jn(ye){P.blockers.delete(ye),he.delete(ye)}function ei(ye,Ee){let Ae=P.blockers.get(ye)||Ud;Tt(Ae.state==="unblocked"&&Ee.state==="blocked"||Ae.state==="blocked"&&Ee.state==="blocked"||Ae.state==="blocked"&&Ee.state==="proceeding"||Ae.state==="blocked"&&Ee.state==="unblocked"||Ae.state==="proceeding"&&Ee.state==="unblocked",`Invalid blocker state transition: ${Ae.state} -> ${Ee.state}`);let ze=new Map(P.blockers);ze.set(ye,Ee),ie({blockers:ze})}function qs({currentLocation:ye,nextLocation:Ee,historyAction:Ae}){if(he.size===0)return;he.size>1&&Zn(!1,"A router only supports one blocker at a time");let ze=Array.from(he.entries()),[Ke,Je]=ze[ze.length-1],ut=P.blockers.get(Ke);if(!(ut&&ut.state==="proceeding")&&Je({currentLocation:ye,nextLocation:Ee,historyAction:Ae}))return Ke}function ks(ye){let Ee=ps(404,{pathname:ye}),Ae=l||o,{matches:ze,route:Ke}=CO(Ae);return{notFoundMatches:ze,route:Ke,error:Ee}}function Go(ye,Ee,Ae){if(y=ye,w=Ee,_=Ae||null,!E&&P.navigation===ub){E=!0;let ze=Ri(P.location,P.matches);ze!=null&&ie({restoreScrollPosition:ze})}return()=>{y=null,w=null,_=null}}function ti(ye,Ee){return _&&_(ye,Ee.map(ze=>g$(ze,P.loaderData)))||ye.key}function _r(ye,Ee){if(y&&w){let Ae=ti(ye,Ee);y[Ae]=w()}}function Ri(ye,Ee){if(y){let Ae=ti(ye,Ee),ze=y[Ae];if(typeof ze=="number")return ze}return null}function ni(ye,Ee,Ae){if(r.patchRoutesOnNavigation)if(ye){if(Object.keys(ye[0].params).length>0)return{active:!0,matches:g0(Ee,Ae,u,!0)}}else return{active:!0,matches:g0(Ee,Ae,u,!0)||[]};return{active:!1,matches:null}}async function Ws(ye,Ee,Ae,ze){if(!r.patchRoutesOnNavigation)return{type:"success",matches:ye};let Ke=ye;for(;;){let Je=l==null,ut=l||o,nt=s;try{await r.patchRoutesOnNavigation({signal:Ae,path:Ee,matches:Ke,fetcherKey:ze,patch:(dt,ct)=>{Ae.aborted||vO(dt,ct,ut,nt,i)}})}catch(dt){return{type:"error",error:dt,partialMatches:Ke}}finally{Je&&!Ae.aborted&&(o=[...o])}if(Ae.aborted)return{type:"aborted"};let ot=vl(ut,Ee,u);if(ot)return{type:"success",matches:ot};let st=g0(ut,Ee,u,!0);if(!st||Ke.length===st.length&&Ke.every((dt,ct)=>dt.route.id===st[ct].route.id))return{type:"success",matches:null};Ke=st}}function Gs(ye){s={},l=uv(ye,i,void 0,s)}function Va(ye,Ee){let Ae=l==null;vO(ye,Ee,l||o,s,i),Ae&&(o=[...o],ie({}))}return D={get basename(){return u},get future(){return f},get state(){return P},get routes(){return o},get window(){return e},initialize:j,subscribe:ce,enableScrollRestoration:Go,navigate:te,fetch:z,revalidate:_e,createHref:ye=>r.history.createHref(ye),encodeLocation:ye=>r.history.encodeLocation(ye),getFetcher:it,deleteFetcher:Zr,dispose:F,getBlocker:wr,deleteBlocker:Jn,patchRoutes:Va,_internalFetchControllers:Q,_internalSetRoutes:Gs},D}function j$(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Ex(r,e,t,n,i,s){let o,l;if(i){o=[];for(let h of e)if(o.push(h),h.route.id===i){l=h;break}}else o=e,l=e[e.length-1];let u=zA(n||".",UA(o),Ts(r.pathname,t)||r.pathname,s==="path");if(n==null&&(u.search=r.search,u.hash=r.hash),(n==null||n===""||n===".")&&l){let h=HA(u.search);if(l.route.index&&!h)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&h){let f=new URLSearchParams(u.search),p=f.getAll("index");f.delete("index"),p.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return t!=="/"&&(u.pathname=u.pathname==="/"?t:Mo([t,u.pathname])),Wl(u)}function gO(r,e,t){if(!t||!j$(t))return{path:e};if(t.formMethod&&!eY(t.formMethod))return{path:e,error:ps(405,{method:t.formMethod})};let n=()=>({path:e,error:ps(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),o=iL(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!ji(s))return n();let p=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((g,[y,_])=>`${g}${y}=${_}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:o,formEncType:t.formEncType,formData:void 0,json:void 0,text:p}}}else if(t.formEncType==="application/json"){if(!ji(s))return n();try{let p=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:o,formEncType:t.formEncType,formData:void 0,json:p,text:void 0}}}catch{return n()}}}Tt(typeof FormData=="function","FormData is not available in this environment");let l,u;if(t.formData)l=Ax(t.formData),u=t.formData;else if(t.body instanceof FormData)l=Ax(t.body),u=t.body;else if(t.body instanceof URLSearchParams)l=t.body,u=EO(l);else if(t.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(t.body),u=EO(l)}catch{return n()}let h={formMethod:s,formAction:o,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ji(h.formMethod))return{path:e,submission:h};let f=ru(e);return r&&f.search&&HA(f.search)&&l.append("index",""),f.search=`?${l}`,{path:Wl(f),submission:h}}function yO(r,e,t,n,i,s,o,l,u,h,f,p,g,y,_,w,E,b,A,T){let x=T?zi(T[1])?T[1].error:T[1].data:void 0,D=i.createURL(s.location),P=i.createURL(u),N;if(f&&s.errors){let V=Object.keys(s.errors)[0];N=o.findIndex(B=>B.route.id===V)}else if(T&&zi(T[1])){let V=T[0];N=o.findIndex(B=>B.route.id===V)-1}let O=T?T[1].statusCode:void 0,C=O&&O>=400,q={currentUrl:D,currentParams:s.matches[0]?.params||{},nextUrl:P,nextParams:o[0].params,...l,actionResult:x,actionStatus:O},$=o.map((V,B)=>{let{route:oe}=V,Q=null;if(N!=null&&B>N?Q=!1:oe.lazy?Q=!0:oe.loader==null?Q=!1:f?Q=xx(oe,s.loaderData,s.errors):H$(s.loaderData,s.matches[B],V)&&(Q=!0),Q!==null)return Tx(t,n,r,V,h,e,Q);let X=C?!1:p||D.pathname+D.search===P.pathname+P.search||D.search!==P.search||q$(s.matches[B],V),fe={...q,defaultShouldRevalidate:X},de=fv(V,fe);return Tx(t,n,r,V,h,e,de,fe)}),M=[];return _.forEach((V,B)=>{if(f||!o.some(K=>K.route.id===V.routeId)||y.has(B))return;let oe=s.fetchers.get(B),Q=oe&&oe.state!=="idle"&&oe.data===void 0,X=vl(E,V.path,b);if(!X){if(A&&Q)return;M.push({key:B,routeId:V.routeId,path:V.path,matches:null,match:null,request:null,controller:null});return}if(w.has(B))return;let fe=up(X,V.path),de=new AbortController,ee=Eh(i,V.path,de.signal),J=null;if(g.has(B))g.delete(B),J=Uh(t,n,ee,X,fe,h,e);else if(Q)p&&(J=Uh(t,n,ee,X,fe,h,e));else{let K={...q,defaultShouldRevalidate:C?!1:p};fv(fe,K)&&(J=Uh(t,n,ee,X,fe,h,e,K))}J&&M.push({key:B,routeId:V.routeId,path:V.path,matches:J,match:fe,request:ee,controller:de})}),{dsMatches:$,revalidatingFetchers:M}}function xx(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let n=e!=null&&r.id in e,i=t!=null&&t[r.id]!==void 0;return!n&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!i}function H$(r,e,t){let n=!e||t.route.id!==e.route.id,i=!r.hasOwnProperty(t.route.id);return n||i}function q$(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function fv(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function vO(r,e,t,n,i){let s;if(r){let u=n[r];Tt(u,`No route found to patch children into: routeId = ${r}`),u.children||(u.children=[]),s=u.children}else s=t;let o=e.filter(u=>!s.some(h=>J3(u,h))),l=uv(o,i,[r||"_","patch",String(s?.length||"0")],n);s.push(...l)}function J3(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>e.children?.some(i=>J3(t,i))):!1}var wO=new WeakMap,eL=({key:r,route:e,manifest:t,mapRouteProperties:n})=>{let i=t[e.id];if(Tt(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[r];if(!s)return;let o=wO.get(i);o||(o={},wO.set(i,o));let l=o[r];if(l)return l;let u=(async()=>{let h=f$(r),p=i[r]!==void 0&&r!=="hasErrorBoundary";if(h)Zn(!h,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),o[r]=Promise.resolve();else if(p)Zn(!1,`Route "${i.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let g=await s();g!=null&&(Object.assign(i,{[r]:g}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[r]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return o[r]=u,u},_O=new WeakMap;function W$(r,e,t,n,i){let s=t[r.id];if(Tt(s,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let f=_O.get(s);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let p=(async()=>{Tt(typeof r.lazy=="function","No lazy route function found");let g=await r.lazy(),y={};for(let _ in g){let w=g[_];if(w===void 0)continue;let E=p$(_),A=s[_]!==void 0&&_!=="hasErrorBoundary";E?Zn(!E,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):A?Zn(!A,`Route "${s.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):y[_]=w}Object.assign(s,y),Object.assign(s,{...n(s),lazy:void 0})})();return _O.set(s,p),p.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:p}}let o=Object.keys(r.lazy),l=[],u;for(let f of o){if(i&&i.includes(f))continue;let p=eL({key:f,route:r,manifest:t,mapRouteProperties:n});p&&(l.push(p),f===e&&(u=p))}let h=l.length>0?Promise.all(l).then(()=>{}):void 0;return h?.catch(()=>{}),u?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:u}}async function bO(r){let e=r.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{t[e[s].route.id]=i}),t}async function G$(r){return r.matches.some(e=>e.route.unstable_middleware)?tL(r,!1,()=>bO(r),(e,t)=>({[t]:{type:"error",result:e}})):bO(r)}async function tL(r,e,t,n){let{matches:i,request:s,params:o,context:l}=r,u={handlerResult:void 0};try{let h=i.flatMap(p=>p.route.unstable_middleware?p.route.unstable_middleware.map(g=>[p.route.id,g]):[]),f=await nL({request:s,params:o,context:l},h,e,u,t);return e?f:u.handlerResult}catch(h){if(!u.middlewareError)throw h;let f=await n(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,f):f}}async function nL(r,e,t,n,i,s=0){let{request:o}=r;if(o.signal.aborted)throw o.signal.reason?o.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${o.method} ${o.url}`);let l=e[s];if(!l)return n.handlerResult=await i(),n.handlerResult;let[u,h]=l,f=!1,p,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await nL(r,e,t,n,i,s+1)};try{let y=await h({request:r.request,params:r.params,context:r.context},g);return f?y===void 0?p:y:g()}catch(y){throw n.middlewareError?n.middlewareError.error!==y&&(n.middlewareError={routeId:u,error:y}):n.middlewareError={routeId:u,error:y},y}}function rL(r,e,t,n,i){let s=eL({key:"unstable_middleware",route:n.route,manifest:e,mapRouteProperties:r}),o=W$(n.route,ji(t.method)?"action":"loader",e,r,i);return{middleware:s,route:o.lazyRoutePromise,handler:o.lazyHandlerPromise}}function Tx(r,e,t,n,i,s,o,l=null){let u=!1,h=rL(r,e,t,n,i);return{...n,_lazyPromises:h,shouldLoad:o,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(f){return u=!0,l?typeof f=="boolean"?fv(n,{...l,defaultShouldRevalidate:f}):fv(n,l):o},resolve(f){return u||o||f&&t.method==="GET"&&(n.route.lazy||n.route.loader)?$$({request:t,match:n,lazyHandlerPromise:h?.handler,lazyRoutePromise:h?.route,handlerOverride:f,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function Uh(r,e,t,n,i,s,o,l=null){return n.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:rL(r,e,t,u,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Tx(r,e,t,u,s,o,!0,l))}async function K$(r,e,t,n,i,s){t.some(h=>h._lazyPromises?.middleware)&&await Promise.all(t.map(h=>h._lazyPromises?.middleware));let o={request:e,params:t[0].params,context:i,matches:t},u=await r({...o,fetcherKey:n,unstable_runClientMiddleware:h=>{let f=o;return tL(f,!1,()=>h({...f,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(p,g)=>({[g]:{type:"error",result:p}}))}});try{await Promise.all(t.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return u}async function $$({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:n,handlerOverride:i,scopedContext:s}){let o,l,u=ji(r.method),h=u?"action":"loader",f=p=>{let g,y=new Promise((E,b)=>g=b);l=()=>g(),r.signal.addEventListener("abort",l);let _=E=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${h}" [routeId: ${e.route.id}]`)):p({request:r,params:e.params,context:s},...E!==void 0?[E]:[]),w=(async()=>{try{return{type:"data",result:await(i?i(b=>_(b)):_())}}catch(E){return{type:"error",result:E}}})();return Promise.race([w,y])};try{let p=u?e.route.action:e.route.loader;if(t||n)if(p){let g,[y]=await Promise.all([f(p).catch(_=>{g=_}),t,n]);if(g!==void 0)throw g;o=y}else{await t;let g=u?e.route.action:e.route.loader;if(g)[o]=await Promise.all([f(g),n]);else if(h==="action"){let y=new URL(r.url),_=y.pathname+y.search;throw ps(405,{method:r.method,pathname:_,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(p)o=await f(p);else{let g=new URL(r.url),y=g.pathname+g.search;throw ps(404,{pathname:y})}}catch(p){return{type:"error",result:p}}finally{l&&r.signal.removeEventListener("abort",l)}return o}async function Y$(r){let{result:e,type:t}=r;if(sL(e)){let n;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?n=null:n=await e.json():n=await e.text()}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new hv(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return t==="error"?RO(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new hv(e.init?.status||500,void 0,e.data),statusCode:Yp(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Yp(e)?e.status:void 0}:RO(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function X$(r,e,t,n,i){let s=r.headers.get("Location");if(Tt(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!jA.test(s)){let o=n.slice(0,n.findIndex(l=>l.route.id===t)+1);s=Ex(new URL(e.url),o,i,s),r.headers.set("Location",s)}return r}function SO(r,e,t){if(jA.test(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=Ts(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return r}function Eh(r,e,t,n){let i=r.createURL(iL(e)).toString(),s={signal:t};if(n&&ji(n.formMethod)){let{formMethod:o,formEncType:l}=n;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(n.json)):l==="text/plain"?s.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?s.body=Ax(n.formData):s.body=n.formData}return new Request(i,s)}function Ax(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function EO(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function Q$(r,e,t,n=!1,i=!1){let s={},o=null,l,u=!1,h={},f=t&&zi(t[1])?t[1].error:void 0;return r.forEach(p=>{if(!(p.route.id in e))return;let g=p.route.id,y=e[g];if(Tt(!$u(y),"Cannot handle redirect results in processLoaderData"),zi(y)){let _=y.error;if(f!==void 0&&(_=f,f=void 0),o=o||{},i)o[g]=_;else{let w=qu(r,g);o[w.route.id]==null&&(o[w.route.id]=_)}n||(s[g]=Z3),u||(u=!0,l=Yp(y.error)?y.error.status:500),y.headers&&(h[g]=y.headers)}else s[g]=y.data,y.statusCode&&y.statusCode!==200&&!u&&(l=y.statusCode),y.headers&&(h[g]=y.headers)}),f!==void 0&&t&&(o={[t[0]]:f},t[2]&&(s[t[2]]=void 0)),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function xO(r,e,t,n,i,s){let{loaderData:o,errors:l}=Q$(e,t,n);return i.filter(u=>!u.matches||u.matches.some(h=>h.shouldLoad)).forEach(u=>{let{key:h,match:f,controller:p}=u,g=s[h];if(Tt(g,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(zi(g)){let y=qu(r.matches,f?.route.id);l&&l[y.route.id]||(l={...l,[y.route.id]:g.error}),r.fetchers.delete(h)}else if($u(g))Tt(!1,"Unhandled fetcher revalidation redirect");else{let y=hl(g.data);r.fetchers.set(h,y)}}),{loaderData:o,errors:l}}function TO(r,e,t,n){let i=Object.entries(e).filter(([,s])=>s!==Z3).reduce((s,[o,l])=>(s[o]=l,s),{});for(let s of t){let o=s.route.id;if(!e.hasOwnProperty(o)&&r.hasOwnProperty(o)&&s.route.loader&&(i[o]=r[o]),n&&n.hasOwnProperty(o))break}return i}function AO(r){return r?zi(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function qu(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function CO(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ps(r,{pathname:e,routeId:t,method:n,type:i,message:s}={}){let o="Unknown Server Error",l="Unknown @remix-run/router error";return r===400?(o="Bad Request",n&&e&&t?l=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):r===403?(o="Forbidden",l=`Route "${t}" does not match URL "${e}"`):r===404?(o="Not Found",l=`No route matches URL "${e}"`):r===405&&(o="Method Not Allowed",n&&e&&t?l=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(l=`Invalid request method "${n.toUpperCase()}"`)),new hv(r||500,o,new Error(l),!0)}function _y(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,i]=e[t];if($u(i))return{key:n,result:i}}}function iL(r){let e=typeof r=="string"?ru(r):r;return Wl({...e,hash:""})}function Z$(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function J$(r){return sL(r.result)&&B$.has(r.result.status)}function zi(r){return r.type==="error"}function $u(r){return(r&&r.type)==="redirect"}function RO(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function sL(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function eY(r){return L$.has(r.toUpperCase())}function ji(r){return M$.has(r.toUpperCase())}function HA(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function up(r,e){let t=typeof e=="string"?ru(e).search:e.search;if(r[r.length-1].route.index&&HA(t||""))return r[r.length-1];let n=Y3(r);return n[n.length-1]}function kO(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:s,json:o}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:o,text:void 0}}}function cb(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tY(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zd(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nY(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function hl(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function rY(r,e){try{let t=r.sessionStorage.getItem(Q3);if(t){let n=JSON.parse(t);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function iY(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(Q3,JSON.stringify(t))}catch(n){Zn(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function sY(){let r,e,t=new Promise((n,i)=>{r=async s=>{n(s);try{await t}catch{}},e=async s=>{i(s);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Tc=me.createContext(null);Tc.displayName="DataRouter";var Om=me.createContext(null);Om.displayName="DataRouterState";var qA=me.createContext({isTransitioning:!1});qA.displayName="ViewTransition";var oL=me.createContext(new Map);oL.displayName="Fetchers";var oY=me.createContext(null);oY.displayName="Await";var Uo=me.createContext(null);Uo.displayName="Navigation";var yw=me.createContext(null);yw.displayName="Location";var zo=me.createContext({outlet:null,matches:[],isDataRoute:!1});zo.displayName="Route";var WA=me.createContext(null);WA.displayName="RouteError";function aY(r,{relative:e}={}){Tt(Nm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=me.useContext(Uo),{hash:i,pathname:s,search:o}=Mm(r,{relative:e}),l=s;return t!=="/"&&(l=s==="/"?t:Mo([t,s])),n.createHref({pathname:l,search:o,hash:i})}function Nm(){return me.useContext(yw)!=null}function Ac(){return Tt(Nm(),"useLocation() may be used only in the context of a <Router> component."),me.useContext(yw).location}var aL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lL(r){me.useContext(Uo).static||me.useLayoutEffect(r)}function Lf(){let{isDataRoute:r}=me.useContext(zo);return r?SY():lY()}function lY(){Tt(Nm(),"useNavigate() may be used only in the context of a <Router> component.");let r=me.useContext(Tc),{basename:e,navigator:t}=me.useContext(Uo),{matches:n}=me.useContext(zo),{pathname:i}=Ac(),s=JSON.stringify(UA(n)),o=me.useRef(!1);return lL(()=>{o.current=!0}),me.useCallback((u,h={})=>{if(Zn(o.current,aL),!o.current)return;if(typeof u=="number"){t.go(u);return}let f=zA(u,JSON.parse(s),i,h.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Mo([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,i,r])}var uY=me.createContext(null);function cY(r){let e=me.useContext(zo).outlet;return e&&me.createElement(uY.Provider,{value:r},e)}function Mm(r,{relative:e}={}){let{matches:t}=me.useContext(zo),{pathname:n}=Ac(),i=JSON.stringify(UA(t));return me.useMemo(()=>zA(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function hY(r,e,t,n){Tt(Nm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=me.useContext(Uo),{matches:s}=me.useContext(zo),o=s[s.length-1],l=o?o.params:{},u=o?o.pathname:"/",h=o?o.pathnameBase:"/",f=o&&o.route;{let b=f&&f.path||"";uL(u,!f||b.endsWith("*")||b.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${b}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${b}"> to <Route path="${b==="/"?"*":`${b}/*`}">.`)}let p=Ac(),g;g=p;let y=g.pathname||"/",_=y;if(h!=="/"){let b=h.replace(/^\//,"").split("/");_="/"+y.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=vl(r,{pathname:_});return Zn(f||w!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),Zn(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),gY(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Mo([h,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?h:Mo([h,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,t,n)}function fY(){let r=bY(),e=Yp(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",r),o=me.createElement(me.Fragment,null,me.createElement("p",null," Hey developer "),me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",me.createElement("code",{style:s},"ErrorBoundary")," or"," ",me.createElement("code",{style:s},"errorElement")," prop on your route.")),me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},e),t?me.createElement("pre",{style:i},t):null,o)}var dY=me.createElement(fY,null),pY=class extends me.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?me.createElement(zo.Provider,{value:this.props.routeContext},me.createElement(WA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mY({routeContext:r,match:e,children:t}){let n=me.useContext(Tc);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),me.createElement(zo.Provider,{value:r},t)}function gY(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,s=t?.errors;if(s!=null){let u=i.findIndex(h=>h.route.id&&s?.[h.route.id]!==void 0);Tt(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let o=!1,l=-1;if(t)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(l=u),h.route.id){let{loaderData:f,errors:p}=t,g=h.route.loader&&!f.hasOwnProperty(h.route.id)&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){o=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,h,f)=>{let p,g=!1,y=null,_=null;t&&(p=s&&h.route.id?s[h.route.id]:void 0,y=h.route.errorElement||dY,o&&(l<0&&f===0?(uL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,_=null):l===f&&(g=!0,_=h.route.hydrateFallbackElement||null)));let w=e.concat(i.slice(0,f+1)),E=()=>{let b;return p?b=y:g?b=_:h.route.Component?b=me.createElement(h.route.Component,null):h.route.element?b=h.route.element:b=u,me.createElement(mY,{match:h,routeContext:{outlet:u,matches:w,isDataRoute:t!=null},children:b})};return t&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?me.createElement(pY,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:E(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):E()},null)}function GA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yY(r){let e=me.useContext(Tc);return Tt(e,GA(r)),e}function vY(r){let e=me.useContext(Om);return Tt(e,GA(r)),e}function wY(r){let e=me.useContext(zo);return Tt(e,GA(r)),e}function KA(r){let e=wY(r),t=e.matches[e.matches.length-1];return Tt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function _Y(){return KA("useRouteId")}function bY(){let r=me.useContext(WA),e=vY("useRouteError"),t=KA("useRouteError");return r!==void 0?r:e.errors?.[t]}function SY(){let{router:r}=yY("useNavigate"),e=KA("useNavigate"),t=me.useRef(!1);return lL(()=>{t.current=!0}),me.useCallback(async(i,s={})=>{Zn(t.current,aL),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var DO={};function uL(r,e,t){!e&&!DO[r]&&(DO[r]=!0,Zn(!1,t))}var IO={};function OO(r,e){!r&&!IO[e]&&(IO[e]=!0,console.warn(e))}function EY(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&Zn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:me.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&Zn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:me.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&Zn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:me.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var xY=["HydrateFallback","hydrateFallbackElement"],TY=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",r(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function AY({router:r,flushSync:e}){let[t,n]=me.useState(r.state),[i,s]=me.useState(),[o,l]=me.useState({isTransitioning:!1}),[u,h]=me.useState(),[f,p]=me.useState(),[g,y]=me.useState(),_=me.useRef(new Map),w=me.useCallback((T,{deletedFetchers:x,flushSync:D,viewTransitionOpts:P})=>{T.fetchers.forEach((O,C)=>{O.data!==void 0&&_.current.set(C,O.data)}),x.forEach(O=>_.current.delete(O)),OO(D===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(OO(P==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!P||!N){e&&D?e(()=>n(T)):me.startTransition(()=>n(T));return}if(e&&D){e(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:P.currentLocation,nextLocation:P.nextLocation})});let O=r.window.document.startViewTransition(()=>{e(()=>n(T))});O.finished.finally(()=>{e(()=>{h(void 0),p(void 0),s(void 0),l({isTransitioning:!1})})}),e(()=>p(O));return}f?(u&&u.resolve(),f.skipTransition(),y({state:T,currentLocation:P.currentLocation,nextLocation:P.nextLocation})):(s(T),l({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}))},[r.window,e,f,u]);me.useLayoutEffect(()=>r.subscribe(w),[r,w]),me.useEffect(()=>{o.isTransitioning&&!o.flushSync&&h(new TY)},[o]),me.useEffect(()=>{if(u&&i&&r.window){let T=i,x=u.promise,D=r.window.document.startViewTransition(async()=>{me.startTransition(()=>n(T)),await x});D.finished.finally(()=>{h(void 0),p(void 0),s(void 0),l({isTransitioning:!1})}),p(D)}},[i,u,r.window]),me.useEffect(()=>{u&&i&&t.location.key===i.location.key&&u.resolve()},[u,f,t.location,i]),me.useEffect(()=>{!o.isTransitioning&&g&&(s(g.state),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),y(void 0))},[o.isTransitioning,g]);let E=me.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:T=>r.navigate(T),push:(T,x,D)=>r.navigate(T,{state:x,preventScrollReset:D?.preventScrollReset}),replace:(T,x,D)=>r.navigate(T,{replace:!0,state:x,preventScrollReset:D?.preventScrollReset})}),[r]),b=r.basename||"/",A=me.useMemo(()=>({router:r,navigator:E,static:!1,basename:b}),[r,E,b]);return me.createElement(me.Fragment,null,me.createElement(Tc.Provider,{value:A},me.createElement(Om.Provider,{value:t},me.createElement(oL.Provider,{value:_.current},me.createElement(qA.Provider,{value:o},me.createElement(DY,{basename:b,location:t.location,navigationType:t.historyAction,navigator:E},me.createElement(CY,{routes:r.routes,future:r.future,state:t})))))),null)}var CY=me.memo(RY);function RY({routes:r,future:e,state:t}){return hY(r,void 0,t,e)}function kY(r){return cY(r.context)}function xh(r){Tt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function DY({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){Tt(!Nm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=r.replace(/^\/*/,"/"),l=me.useMemo(()=>({basename:o,navigator:i,static:s,future:{}}),[o,i,s]);typeof t=="string"&&(t=ru(t));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:g="default"}=t,y=me.useMemo(()=>{let _=Ts(u,o);return _==null?null:{location:{pathname:_,search:h,hash:f,state:p,key:g},navigationType:n}},[o,u,h,f,p,g,n]);return Zn(y!=null,`<Router basename="${o}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:me.createElement(Uo.Provider,{value:l},me.createElement(yw.Provider,{children:e,value:y}))}function Cx(r,e=[]){let t=[];return me.Children.forEach(r,(n,i)=>{if(!me.isValidElement(n))return;let s=[...e,i];if(n.type===me.Fragment){t.push.apply(t,Cx(n.props.children,s));return}Tt(n.type===xh,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Tt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Cx(n.props.children,s)),t.push(o)}),t}var IY=Cx,y0="get",v0="application/x-www-form-urlencoded";function vw(r){return r!=null&&typeof r.tagName=="string"}function OY(r){return vw(r)&&r.tagName.toLowerCase()==="button"}function NY(r){return vw(r)&&r.tagName.toLowerCase()==="form"}function MY(r){return vw(r)&&r.tagName.toLowerCase()==="input"}function PY(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LY(r,e){return r.button===0&&(!e||e==="_self")&&!PY(r)}var by=null;function BY(){if(by===null)try{new FormData(document.createElement("form"),0),by=!1}catch{by=!0}return by}var FY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hb(r){return r!=null&&!FY.has(r)?(Zn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${v0}"`),null):r}function VY(r,e){let t,n,i,s,o;if(NY(r)){let l=r.getAttribute("action");n=l?Ts(l,e):null,t=r.getAttribute("method")||y0,i=hb(r.getAttribute("enctype"))||v0,s=new FormData(r)}else if(OY(r)||MY(r)&&(r.type==="submit"||r.type==="image")){let l=r.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=r.getAttribute("formaction")||l.getAttribute("action");if(n=u?Ts(u,e):null,t=r.getAttribute("formmethod")||l.getAttribute("method")||y0,i=hb(r.getAttribute("formenctype"))||hb(l.getAttribute("enctype"))||v0,s=new FormData(l,r),!BY()){let{name:h,type:f,value:p}=r;if(f==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,p)}}else{if(vw(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=y0,n=null,i=v0,o=r}return s&&i==="text/plain"&&(o=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:o}}function $A(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function UY(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zY(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function jY(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let o=await UY(s,t);return o.links?o.links():[]}return[]}));return GY(n.flat(1).filter(zY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function NO(r,e,t,n,i,s){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,l=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,h)=>o(u,h)||l(u,h)):s==="data"?e.filter((u,h)=>{let f=n.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||l(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function HY(r,e,{includeHydrateFallback:t}={}){return qY(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function qY(r){return[...new Set(r)]}function WY(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function GY(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(WY(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KY=new Set([100,101,204,205]);function $Y(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Ts(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function cL(){let r=me.useContext(Tc);return $A(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function YY(){let r=me.useContext(Om);return $A(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var YA=me.createContext(void 0);YA.displayName="FrameworkContext";function hL(){let r=me.useContext(YA);return $A(r,"You must render this element inside a <HydratedRouter> element"),r}function XY(r,e){let t=me.useContext(YA),[n,i]=me.useState(!1),[s,o]=me.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=me.useRef(null);me.useEffect(()=>{if(r==="render"&&o(!0),r==="viewport"){let w=b=>{b.forEach(A=>{o(A.isIntersecting)})},E=new IntersectionObserver(w,{threshold:.5});return g.current&&E.observe(g.current),()=>{E.disconnect()}}},[r]),me.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{i(!0)},_=()=>{i(!1),o(!1)};return t?r!=="intent"?[s,g,{}]:[s,g,{onFocus:jd(l,y),onBlur:jd(u,_),onMouseEnter:jd(h,y),onMouseLeave:jd(f,_),onTouchStart:jd(p,y)}]:[!1,g,{}]}function jd(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function QY({page:r,...e}){let{router:t}=cL(),n=me.useMemo(()=>vl(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?me.createElement(JY,{page:r,matches:n,...e}):null}function ZY(r){let{manifest:e,routeModules:t}=hL(),[n,i]=me.useState([]);return me.useEffect(()=>{let s=!1;return jY(r,e,t).then(o=>{s||i(o)}),()=>{s=!0}},[r,e,t]),n}function JY({page:r,matches:e,...t}){let n=Ac(),{manifest:i,routeModules:s}=hL(),{basename:o}=cL(),{loaderData:l,matches:u}=YY(),h=me.useMemo(()=>NO(r,e,u,i,n,"data"),[r,e,u,i,n]),f=me.useMemo(()=>NO(r,e,u,i,n,"assets"),[r,e,u,i,n]),p=me.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let _=new Set,w=!1;if(e.forEach(b=>{let A=i.routes[b.route.id];!A||!A.hasLoader||(!h.some(T=>T.route.id===b.route.id)&&b.route.id in l&&s[b.route.id]?.shouldRevalidate||A.hasClientLoader?w=!0:_.add(b.route.id))}),_.size===0)return[];let E=$Y(r,o);return w&&_.size>0&&E.searchParams.set("_routes",e.filter(b=>_.has(b.route.id)).map(b=>b.route.id).join(",")),[E.pathname+E.search]},[o,l,n,i,h,e,r,s]),g=me.useMemo(()=>HY(f,i),[f,i]),y=ZY(f);return me.createElement(me.Fragment,null,p.map(_=>me.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...t})),g.map(_=>me.createElement("link",{key:_,rel:"modulepreload",href:_,...t})),y.map(({key:_,link:w})=>me.createElement("link",{key:_,...w})))}function eX(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var fL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fL&&(window.__reactRouterVersion="7.6.3")}catch{}function tX(r,e){return z$({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:l$({window:e?.window}),hydrationData:e?.hydrationData||nX(),routes:r,mapRouteProperties:EY,hydrationRouteProperties:xY,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function nX(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:rX(r.errors)}),r}function rX(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new hv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",t[n]=o}catch{}}if(t[n]==null){let s=new Error(i.message);s.stack="",t[n]=s}}else t[n]=i;return t}var dL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ww=me.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:o,state:l,target:u,to:h,preventScrollReset:f,viewTransition:p,...g},y){let{basename:_}=me.useContext(Uo),w=typeof h=="string"&&dL.test(h),E,b=!1;if(typeof h=="string"&&w&&(E=h,fL))try{let C=new URL(window.location.href),q=h.startsWith("//")?new URL(C.protocol+h):new URL(h),$=Ts(q.pathname,_);q.origin===C.origin&&$!=null?h=$+q.search+q.hash:b=!0}catch{Zn(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let A=aY(h,{relative:i}),[T,x,D]=XY(n,g),P=oX(h,{replace:o,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function N(C){e&&e(C),C.defaultPrevented||P(C)}let O=me.createElement("a",{...g,...D,href:E||A,onClick:b||s?e:N,ref:eX(y,x),target:u,"data-discover":!w&&t==="render"?"true":void 0});return T&&!w?me.createElement(me.Fragment,null,O,me.createElement(QY,{page:A})):O});ww.displayName="Link";var cp=me.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:o,viewTransition:l,children:u,...h},f){let p=Mm(o,{relative:h.relative}),g=Ac(),y=me.useContext(Om),{navigator:_,basename:w}=me.useContext(Uo),E=y!=null&&hX(p)&&l===!0,b=_.encodeLocation?_.encodeLocation(p).pathname:p.pathname,A=g.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;t||(A=A.toLowerCase(),T=T?T.toLowerCase():null,b=b.toLowerCase()),T&&w&&(T=Ts(T,w)||T);const x=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let D=A===b||!i&&A.startsWith(b)&&A.charAt(x)==="/",P=T!=null&&(T===b||!i&&T.startsWith(b)&&T.charAt(b.length)==="/"),N={isActive:D,isPending:P,isTransitioning:E},O=D?e:void 0,C;typeof n=="function"?C=n(N):C=[n,D?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let q=typeof s=="function"?s(N):s;return me.createElement(ww,{...h,"aria-current":O,className:C,ref:f,style:q,to:o,viewTransition:l},typeof u=="function"?u(N):u)});cp.displayName="NavLink";var iX=me.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:o=y0,action:l,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...g},y)=>{let _=uX(),w=cX(l,{relative:h}),E=o.toLowerCase()==="get"?"get":"post",b=typeof l=="string"&&dL.test(l),A=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let x=T.nativeEvent.submitter,D=x?.getAttribute("formmethod")||o;_(x||T.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:i,state:s,relative:h,preventScrollReset:f,viewTransition:p})};return me.createElement("form",{ref:y,method:E,action:w,onSubmit:n?u:A,...g,"data-discover":!b&&r==="render"?"true":void 0})});iX.displayName="Form";function sX(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pL(r){let e=me.useContext(Tc);return Tt(e,sX(r)),e}function oX(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:o}={}){let l=Lf(),u=Ac(),h=Mm(r,{relative:s});return me.useCallback(f=>{if(LY(f,e)){f.preventDefault();let p=t!==void 0?t:Wl(u)===Wl(h);l(r,{replace:p,state:n,preventScrollReset:i,relative:s,viewTransition:o})}},[u,l,h,t,n,e,r,i,s,o])}var aX=0,lX=()=>`__${String(++aX)}__`;function uX(){let{router:r}=pL("useSubmit"),{basename:e}=me.useContext(Uo),t=_Y();return me.useCallback(async(n,i={})=>{let{action:s,method:o,encType:l,formData:u,body:h}=VY(n,e);if(i.navigate===!1){let f=i.fetcherKey||lX();await r.fetch(f,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||l,flushSync:i.flushSync})}else await r.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:u,body:h,formMethod:i.method||o,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function cX(r,{relative:e}={}){let{basename:t}=me.useContext(Uo),n=me.useContext(zo);Tt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...Mm(r||".",{relative:e})},o=Ac();if(r==null){s.search=o.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Mo([t,s.pathname])),Wl(s)}function hX(r,e={}){let t=me.useContext(qA);Tt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=pL("useViewTransitionState"),i=Mm(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Ts(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Ts(t.nextLocation.pathname,n)||t.nextLocation.pathname;return cv(i.pathname,o)!=null||cv(i.pathname,s)!=null}[...KY];var fb={exports:{}},zr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MO;function fX(){if(MO)return zr;MO=1;var r=qv();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var o=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return zr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,zr.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},zr.flushSync=function(u){var h=o.T,f=n.p;try{if(o.T=null,n.p=2,u)return u()}finally{o.T=h,n.p=f,n.d.f()}},zr.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},zr.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},zr.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:y}):f==="script"&&n.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},zr.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=l(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},zr.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=l(f,h.crossOrigin);n.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},zr.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=l(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},zr.requestFormReset=function(u){n.d.r(u)},zr.unstable_batchedUpdates=function(u,h){return u(h)},zr.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},zr.useFormStatus=function(){return o.H.useHostTransitionStatus()},zr.version="19.1.0",zr}var PO;function mL(){if(PO)return fb.exports;PO=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fb.exports=fX(),fb.exports}var dX=mL();/**
 * react-router v7.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pX(r){return me.createElement(AY,{flushSync:dX.flushSync,...r})}function ga(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function gL(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var $i={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},lf={duration:.5,overwrite:!1,delay:0},XA,Mr,Sn,vs=1e8,dn=1/vs,Rx=Math.PI*2,mX=Rx/4,gX=0,yL=Math.sqrt,yX=Math.cos,vX=Math.sin,vr=function(e){return typeof e=="string"},Nn=function(e){return typeof e=="function"},Ia=function(e){return typeof e=="number"},QA=function(e){return typeof e>"u"},Bo=function(e){return typeof e=="object"},Si=function(e){return e!==!1},ZA=function(){return typeof window<"u"},Sy=function(e){return Nn(e)||vr(e)},vL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},$r=Array.isArray,kx=/(?:-?\.?\d|\.)+/gi,wL=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,kh=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,db=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_L=/[+-]=-?[.\d]+/,bL=/[^,'"\[\]\s]+/gi,wX=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,An,mo,Dx,JA,Qi={},dv={},SL,EL=function(e){return(dv=uf(e,Qi))&&Ai},eC=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Xp=function(e,t){return!t&&console.warn(e)},xL=function(e,t){return e&&(Qi[e]=t)&&dv&&(dv[e]=t)||Qi},Qp=function(){return 0},_X={suppressEvents:!0,isStart:!0,kill:!1},w0={suppressEvents:!0,kill:!1},bX={suppressEvents:!0},tC={},Pl=[],Ix={},TL,Hi={},pb={},LO=30,_0=[],nC="",rC=function(e){var t=e[0],n,i;if(Bo(t)||Nn(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=_0.length;i--&&!_0[i].targetTest(t););n=_0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new YL(e[i],n)))||e.splice(i,1);return e},tc=function(e){return e._gsap||rC(ws(e))[0]._gsap},AL=function(e,t,n){return(n=e[t])&&Nn(n)?e[t]():QA(n)&&e.getAttribute&&e.getAttribute(t)||n},Ei=function(e,t){return(e=e.split(",")).forEach(t)||e},Fn=function(e){return Math.round(e*1e5)/1e5||0},Yn=function(e){return Math.round(e*1e7)/1e7||0},zh=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},SX=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},pv=function(){var e=Pl.length,t=Pl.slice(0),n,i;for(Ix={},Pl.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},iC=function(e){return!!(e._initted||e._startAt||e.add)},CL=function(e,t,n,i){Pl.length&&!Mr&&pv(),e.render(t,n,!!(Mr&&t<0&&iC(e))),Pl.length&&!Mr&&pv()},RL=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(bL).length<2?t:vr(e)?e.trim():e},kL=function(e){return e},Zi=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},EX=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},uf=function(e,t){for(var n in t)e[n]=t[n];return e},BO=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Bo(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},mv=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},Tp=function(e){var t=e.parent||An,n=e.keyframes?EX($r(e.keyframes)):Zi;if(Si(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},xX=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},DL=function(e,t,n,i,s){var o=e[i],l;if(s)for(l=t[s];o&&o[s]>l;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},_w=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[n]===t&&(e[n]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},Gl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},nc=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},TX=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},Ox=function(e,t,n,i){return e._startAt&&(Mr?e._startAt.revert(w0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},AX=function r(e){return!e||e._ts&&r(e.parent)},FO=function(e){return e._repeat?cf(e._tTime,e=e.duration()+e._rDelay)*e:0},cf=function(e,t){var n=Math.floor(e=Yn(e/t));return e&&n===e?n-1:n},gv=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},bw=function(e){return e._end=Yn(e._start+(e._tDur/Math.abs(e._ts||e._rts||dn)||0))},Sw=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=Yn(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),bw(e),n._dirty||nc(n,e)),e},IL=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=gv(e.rawTime(),t),(!t._dur||Pm(0,t.totalDuration(),n)-t._tTime>dn)&&t.render(n,!0)),nc(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-dn}},vo=function(e,t,n,i){return t.parent&&Gl(t),t._start=Yn((Ia(n)?n:n||e!==An?ds(e,n,t):e._time)+t._delay),t._end=Yn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),DL(e,t,"_first","_last",e._sort?"_start":0),Nx(t)||(e._recent=t),i||IL(e,t),e._ts<0&&Sw(e,e._tTime),e},OL=function(e,t){return(Qi.ScrollTrigger||eC("scrollTrigger",t))&&Qi.ScrollTrigger.create(t,e)},NL=function(e,t,n,i,s){if(oC(e,t,s),!e._initted)return 1;if(!n&&e._pt&&!Mr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&TL!==qi.frame)return Pl.push(e),e._lazy=[s,i],1},CX=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},Nx=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},RX=function(e,t,n,i){var s=e.ratio,o=t<0||!t&&(!e._start&&CX(e)&&!(!e._initted&&Nx(e))||(e._ts<0||e._dp._ts<0)&&!Nx(e))?0:1,l=e._rDelay,u=0,h,f,p;if(l&&e._repeat&&(u=Pm(0,e._tDur,t),f=cf(u,l),e._yoyo&&f&1&&(o=1-o),f!==cf(e._tTime,l)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Mr||i||e._zTime===dn||!t&&e._zTime){if(!e._initted&&NL(e,t,i,n,u))return;for(p=e._zTime,e._zTime=t||(n?dn:0),n||(n=t&&!p),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,h=e._pt;h;)h.r(o,h.d),h=h._next;t<0&&Ox(e,t,n,!0),e._onUpdate&&!n&&Gi(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&Gi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Gl(e,1),!n&&!Mr&&(Gi(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},kX=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},hf=function(e,t,n,i){var s=e._repeat,o=Yn(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Yn(o*(s+1)+e._rDelay*s):o,l>0&&!i&&Sw(e,e._tTime=e._tDur*l),e.parent&&bw(e),n||nc(e.parent,e),e},VO=function(e){return e instanceof ai?nc(e):hf(e,e._dur)},DX={_start:0,endTime:Qp,totalDuration:Qp},ds=function r(e,t,n){var i=e.labels,s=e._recent||DX,o=e.duration()>=vs?s.endTime(!1):e._dur,l,u,h;return vr(t)&&(isNaN(t)||t in i)?(u=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),u==="<"||u===">"?(l>=0&&(t=t.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:n).totalDuration()/100:1)):l<0?(t in i||(i[t]=o),i[t]):(u=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&n&&(u=u/100*($r(n)?n[0]:n).totalDuration()),l>1?r(e,t.substr(0,l-1),n)+u:o+u)):t==null?o:+t},Ap=function(e,t,n){var i=Ia(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],l,u;if(i&&(o.duration=t[1]),o.parent=n,e){for(l=o,u=n;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=Si(u.vars.inherit)&&u.parent;o.immediateRender=Si(l.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new $n(t[0],o,t[s+1])},iu=function(e,t){return e||e===0?t(e):t},Pm=function(e,t,n){return n<e?e:n>t?t:n},Wr=function(e,t){return!vr(e)||!(t=wX.exec(e))?"":t[1]},IX=function(e,t,n){return iu(n,function(i){return Pm(e,t,i)})},Mx=[].slice,ML=function(e,t){return e&&Bo(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Bo(e[0]))&&!e.nodeType&&e!==mo},OX=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var s;return vr(i)&&!t||ML(i,1)?(s=n).push.apply(s,ws(i)):n.push(i)})||n},ws=function(e,t,n){return Sn&&!t&&Sn.selector?Sn.selector(e):vr(e)&&!n&&(Dx||!ff())?Mx.call((t||JA).querySelectorAll(e),0):$r(e)?OX(e,n):ML(e)?Mx.call(e,0):e?[e]:[]},Px=function(e){return e=ws(e)[0]||Xp("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return ws(t,n.querySelectorAll?n:n===e?Xp("Invalid scope")||JA.createElement("div"):e)}},PL=function(e){return e.sort(function(){return .5-Math.random()})},LL=function(e){if(Nn(e))return e;var t=Bo(e)?e:{each:e},n=rc(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},l=i>0&&i<1,u=isNaN(i)||l,h=t.axis,f=i,p=i;return vr(i)?f=p={center:.5,edges:.5,end:1}[i]||0:!l&&u&&(f=i[0],p=i[1]),function(g,y,_){var w=(_||t).length,E=o[w],b,A,T,x,D,P,N,O,C;if(!E){if(C=t.grid==="auto"?0:(t.grid||[1,vs])[1],!C){for(N=-vs;N<(N=_[C++].getBoundingClientRect().left)&&C<w;);C<w&&C--}for(E=o[w]=[],b=u?Math.min(C,w)*f-.5:i%C,A=C===vs?0:u?w*p/C-.5:i/C|0,N=0,O=vs,P=0;P<w;P++)T=P%C-b,x=A-(P/C|0),E[P]=D=h?Math.abs(h==="y"?x:T):yL(T*T+x*x),D>N&&(N=D),D<O&&(O=D);i==="random"&&PL(E),E.max=N-O,E.min=O,E.v=w=(parseFloat(t.amount)||parseFloat(t.each)*(C>w?w-1:h?h==="y"?w/C:C:Math.max(C,w/C))||0)*(i==="edges"?-1:1),E.b=w<0?s-w:s,E.u=Wr(t.amount||t.each)||0,n=n&&w<0?GL(n):n}return w=(E[g]-E.min)/E.max||0,Yn(E.b+(n?n(w):w)*E.v)+E.u}},Lx=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=Yn(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(Ia(n)?0:Wr(n))}},BL=function(e,t){var n=$r(e),i,s;return!n&&Bo(e)&&(i=n=e.radius||vs,e.values?(e=ws(e.values),(s=!Ia(e[0]))&&(i*=i)):e=Lx(e.increment)),iu(t,n?Nn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var l=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),h=vs,f=0,p=e.length,g,y;p--;)s?(g=e[p].x-l,y=e[p].y-u,g=g*g+y*y):g=Math.abs(e[p]-l),g<h&&(h=g,f=p);return f=!i||h<=i?e[f]:o,s||f===o||Ia(o)?f:f+Wr(o)}:Lx(e))},FL=function(e,t,n,i){return iu($r(e)?!t:n===!0?!!(n=0):!i,function(){return $r(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},NX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(s,o){return o(s)},i)}},MX=function(e,t){return function(n){return e(parseFloat(n))+(t||Wr(n))}},PX=function(e,t,n){return UL(e,t,0,1,n)},VL=function(e,t,n){return iu(n,function(i){return e[~~t(i)]})},LX=function r(e,t,n){var i=t-e;return $r(e)?VL(e,r(0,e.length),t):iu(n,function(s){return(i+(s-e)%i)%i+e})},BX=function r(e,t,n){var i=t-e,s=i*2;return $r(e)?VL(e,r(0,e.length-1),t):iu(n,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Zp=function(e){for(var t=0,n="",i,s,o,l;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(l?bL:kx),n+=e.substr(t,i-t)+FL(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=o+1;return n+e.substr(t,e.length-t)},UL=function(e,t,n,i,s){var o=t-e,l=i-n;return iu(s,function(u){return n+((u-e)/o*l||0)})},FX=function r(e,t,n,i){var s=isNaN(e+t)?0:function(y){return(1-y)*e+y*t};if(!s){var o=vr(e),l={},u,h,f,p,g;if(n===!0&&(i=1)&&(n=null),o)e={p:e},t={p:t};else if($r(e)&&!$r(t)){for(f=[],p=e.length,g=p-2,h=1;h<p;h++)f.push(r(e[h-1],e[h]));p--,s=function(_){_*=p;var w=Math.min(g,~~_);return f[w](_-w)},n=t}else i||(e=uf($r(e)?[]:{},e));if(!f){for(u in t)sC.call(l,e,u,"get",t[u]);s=function(_){return uC(_,l)||(o?e.p:e)}}}return iu(n,s)},UO=function(e,t,n){var i=e.labels,s=vs,o,l,u;for(o in i)l=i[o]-t,l<0==!!n&&l&&s>(l=Math.abs(l))&&(u=o,s=l);return u},Gi=function(e,t,n){var i=e.vars,s=i[t],o=Sn,l=e._ctx,u,h,f;if(s)return u=i[t+"Params"],h=i.callbackScope||e,n&&Pl.length&&pv(),l&&(Sn=l),f=u?s.apply(h,u):s.call(h),Sn=o,f},hp=function(e){return Gl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Mr),e.progress()<1&&Gi(e,"onInterrupt"),e},Dh,zL=[],jL=function(e){if(e)if(e=!e.name&&e.default||e,ZA()||e.headless){var t=e.name,n=Nn(e),i=t&&!n&&e.init?function(){this._props=[]}:e,s={init:Qp,render:uC,add:sC,kill:eQ,modifier:JX,rawVars:0},o={targetTest:0,get:0,getSetter:lC,aliases:{},register:0};if(ff(),e!==i){if(Hi[t])return;Zi(i,Zi(mv(e,s),o)),uf(i.prototype,uf(s,mv(e,o))),Hi[i.prop=t]=i,e.targetTest&&(_0.push(i),tC[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}xL(t,i),e.register&&e.register(Ai,i,xi)}else zL.push(e)},hn=255,fp={aqua:[0,hn,hn],lime:[0,hn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,hn],navy:[0,0,128],white:[hn,hn,hn],olive:[128,128,0],yellow:[hn,hn,0],orange:[hn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[hn,0,0],pink:[hn,192,203],cyan:[0,hn,hn],transparent:[hn,hn,hn,0]},mb=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*hn+.5|0},HL=function(e,t,n){var i=e?Ia(e)?[e>>16,e>>8&hn,e&hn]:0:fp.black,s,o,l,u,h,f,p,g,y,_;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),fp[e])i=fp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+s+s+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&hn,i&hn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&hn,e&hn]}else if(e.substr(0,3)==="hsl"){if(i=_=e.match(kx),!t)u=+i[0]%360/360,h=+i[1]/100,f=+i[2]/100,o=f<=.5?f*(h+1):f+h-f*h,s=f*2-o,i.length>3&&(i[3]*=1),i[0]=mb(u+1/3,s,o),i[1]=mb(u,s,o),i[2]=mb(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(wL),n&&i.length<4&&(i[3]=1),i}else i=e.match(kx)||fp.transparent;i=i.map(Number)}return t&&!_&&(s=i[0]/hn,o=i[1]/hn,l=i[2]/hn,p=Math.max(s,o,l),g=Math.min(s,o,l),f=(p+g)/2,p===g?u=h=0:(y=p-g,h=f>.5?y/(2-p-g):y/(p+g),u=p===s?(o-l)/y+(o<l?6:0):p===o?(l-s)/y+2:(s-o)/y+4,u*=60),i[0]=~~(u+.5),i[1]=~~(h*100+.5),i[2]=~~(f*100+.5)),n&&i.length<4&&(i[3]=1),i},qL=function(e){var t=[],n=[],i=-1;return e.split(Ll).forEach(function(s){var o=s.match(kh)||[];t.push.apply(t,o),n.push(i+=o.length+1)}),t.c=n,t},zO=function(e,t,n){var i="",s=(e+i).match(Ll),o=t?"hsla(":"rgba(",l=0,u,h,f,p;if(!s)return e;if(s=s.map(function(g){return(g=HL(g,t,1))&&o+(t?g[0]+","+g[1]+"%,"+g[2]+"%,"+g[3]:g.join(","))+")"}),n&&(f=qL(e),u=n.c,u.join(i)!==f.c.join(i)))for(h=e.replace(Ll,"1").split(kh),p=h.length-1;l<p;l++)i+=h[l]+(~u.indexOf(l)?s.shift()||o+"0,0,0,0)":(f.length?f:s.length?s:n).shift());if(!h)for(h=e.split(Ll),p=h.length-1;l<p;l++)i+=h[l]+s[l];return i+h[p]},Ll=function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in fp)r+="|"+e+"\\b";return new RegExp(r+")","gi")}(),VX=/hsl[a]?\(/,WL=function(e){var t=e.join(" "),n;if(Ll.lastIndex=0,Ll.test(t))return n=VX.test(t),e[1]=zO(e[1],n),e[0]=zO(e[0],n,qL(e[1])),!0},Jp,qi=function(){var r=Date.now,e=500,t=33,n=r(),i=n,s=1e3/240,o=s,l=[],u,h,f,p,g,y,_=function w(E){var b=r()-i,A=E===!0,T,x,D,P;if((b>e||b<0)&&(n+=b-t),i+=b,D=i-n,T=D-o,(T>0||A)&&(P=++p.frame,g=D-p.time*1e3,p.time=D=D/1e3,o+=T+(T>=s?4:s-T),x=1),A||(u=h(w)),x)for(y=0;y<l.length;y++)l[y](D,g,P,E)};return p={time:0,frame:0,tick:function(){_(!0)},deltaRatio:function(E){return g/(1e3/(E||60))},wake:function(){SL&&(!Dx&&ZA()&&(mo=Dx=window,JA=mo.document||{},Qi.gsap=Ai,(mo.gsapVersions||(mo.gsapVersions=[])).push(Ai.version),EL(dv||mo.GreenSockGlobals||!mo.gsap&&mo||{}),zL.forEach(jL)),f=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&p.sleep(),h=f||function(E){return setTimeout(E,o-p.time*1e3+1|0)},Jp=1,_(2))},sleep:function(){(f?cancelAnimationFrame:clearTimeout)(u),Jp=0,h=Qp},lagSmoothing:function(E,b){e=E||1/0,t=Math.min(b||33,e)},fps:function(E){s=1e3/(E||240),o=p.time*1e3+s},add:function(E,b,A){var T=b?function(x,D,P,N){E(x,D,P,N),p.remove(T)}:E;return p.remove(E),l[A?"unshift":"push"](T),ff(),T},remove:function(E,b){~(b=l.indexOf(E))&&l.splice(b,1)&&y>=b&&y--},_listeners:l},p}(),ff=function(){return!Jp&&qi.wake()},Vt={},UX=/^[\d.\-M][\d.\-,\s]/,zX=/["']/g,jX=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],s=1,o=n.length,l,u,h;s<o;s++)u=n[s],l=s!==o-1?u.lastIndexOf(","):u.length,h=u.substr(0,l),t[i]=isNaN(h)?h.replace(zX,"").trim():+h,i=u.substr(l+1).trim();return t},HX=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},qX=function(e){var t=(e+"").split("("),n=Vt[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[jX(t[1])]:HX(e).split(",").map(RL)):Vt._CE&&UX.test(e)?Vt._CE("",e):n},GL=function(e){return function(t){return 1-e(1-t)}},KL=function r(e,t){for(var n=e._first,i;n;)n instanceof ai?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},rc=function(e,t){return e&&(Nn(e)?e:Vt[e]||qX(e))||t},Cc=function(e,t,n,i){n===void 0&&(n=function(u){return 1-t(1-u)}),i===void 0&&(i=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var s={easeIn:t,easeOut:n,easeInOut:i},o;return Ei(e,function(l){Vt[l]=Qi[l]=s,Vt[o=l.toLowerCase()]=n;for(var u in s)Vt[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Vt[l+"."+u]=s[u]}),s},$L=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},gb=function r(e,t,n){var i=t>=1?t:1,s=(n||(e?.3:.45))/(t<1?t:1),o=s/Rx*(Math.asin(1/i)||0),l=function(f){return f===1?1:i*Math.pow(2,-10*f)*vX((f-o)*s)+1},u=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:$L(l);return s=Rx/s,u.config=function(h,f){return r(e,h,f)},u},yb=function r(e,t){t===void 0&&(t=1.70158);var n=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?n:e==="in"?function(s){return 1-n(1-s)}:$L(n);return i.config=function(s){return r(e,s)},i};Ei("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;Cc(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});Vt.Linear.easeNone=Vt.none=Vt.Linear.easeIn;Cc("Elastic",gb("in"),gb("out"),gb());(function(r,e){var t=1/e,n=2*t,i=2.5*t,s=function(l){return l<t?r*l*l:l<n?r*Math.pow(l-1.5/e,2)+.75:l<i?r*(l-=2.25/e)*l+.9375:r*Math.pow(l-2.625/e,2)+.984375};Cc("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Cc("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});Cc("Circ",function(r){return-(yL(1-r*r)-1)});Cc("Sine",function(r){return r===1?1:-yX(r*mX)+1});Cc("Back",yb("in"),yb("out"),yb());Vt.SteppedEase=Vt.steps=Qi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),s=t?1:0,o=1-dn;return function(l){return((i*Pm(0,o,l)|0)+s)*n}}};lf.ease=Vt["quad.out"];Ei("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return nC+=r+","+r+"Params,"});var YL=function(e,t){this.id=gX++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:AL,this.set=t?t.getSetter:lC},em=function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,hf(this,+t.duration,1,1),this.data=t.data,Sn&&(this._ctx=Sn,Sn.data.push(this)),Jp||qi.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,hf(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(ff(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Sw(this,n),!s._dp||s.parent||IL(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&vo(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===dn||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),CL(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+FO(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+FO(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*s,i):this._repeat?cf(this._tTime,s)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-dn?0:this._rts;if(this._rts===n)return this;var s=this.parent&&this._ts?gv(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-dn?0:this._rts,this.totalTime(Pm(-Math.abs(this._delay),this.totalDuration(),s),i!==!1),bw(this),TX(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ff(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==dn&&(this._tTime-=dn)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&vo(i,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(Si(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?gv(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=bX);var i=Mr;return Mr=n,iC(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Mr=i,this},e.globalTime=function(n){for(var i=this,s=arguments.length?n:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):s},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,VO(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,VO(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(ds(this,n),Si(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,Si(i)),this._dur||(this._zTime=-dn),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-dn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-dn,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,s;return!!(!n||this._ts&&this._initted&&n.isActive()&&(s=n.rawTime(!0))>=i&&s<this.endTime(!0)-dn)},e.eventCallback=function(n,i,s){var o=this.vars;return arguments.length>1?(i?(o[n]=i,s&&(o[n+"Params"]=s),n==="onUpdate"&&(this._onUpdate=i)):delete o[n],this):o[n]},e.then=function(n){var i=this;return new Promise(function(s){var o=Nn(n)?n:kL,l=function(){var h=i.then;i.then=null,Nn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=h),s(o),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){hp(this)},r}();Zi(em.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-dn,_prom:0,_ps:!1,_rts:1});var ai=function(r){gL(e,r);function e(n,i){var s;return n===void 0&&(n={}),s=r.call(this,n)||this,s.labels={},s.smoothChildTiming=!!n.smoothChildTiming,s.autoRemoveChildren=!!n.autoRemoveChildren,s._sort=Si(n.sortChildren),An&&vo(n.parent||An,ga(s),i),n.reversed&&s.reverse(),n.paused&&s.paused(!0),n.scrollTrigger&&OL(ga(s),n.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Ap(0,arguments,this),this},t.from=function(i,s,o){return Ap(1,arguments,this),this},t.fromTo=function(i,s,o,l){return Ap(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Tp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new $n(i,s,ds(this,o),1),this},t.call=function(i,s,o){return vo(this,$n.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,l,u,h,f){return o.duration=s,o.stagger=o.stagger||l,o.onComplete=h,o.onCompleteParams=f,o.parent=this,new $n(i,o,ds(this,u)),this},t.staggerFrom=function(i,s,o,l,u,h,f){return o.runBackwards=1,Tp(o).immediateRender=Si(o.immediateRender),this.staggerTo(i,s,o,l,u,h,f)},t.staggerFromTo=function(i,s,o,l,u,h,f,p){return l.startAt=o,Tp(l).immediateRender=Si(l.immediateRender),this.staggerTo(i,s,l,u,h,f,p)},t.render=function(i,s,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,h=this._dur,f=i<=0?0:Yn(i),p=this._zTime<0!=i<0&&(this._initted||!h),g,y,_,w,E,b,A,T,x,D,P,N;if(this!==An&&f>u&&i>=0&&(f=u),f!==this._tTime||o||p){if(l!==this._time&&h&&(f+=this._time-l,i+=this._time-l),g=f,x=this._start,T=this._ts,b=!T,p&&(h||(l=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(P=this._yoyo,E=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(E*100+i,s,o);if(g=Yn(f%E),f===u?(w=this._repeat,g=h):(D=Yn(f/E),w=~~D,w&&w===D&&(g=h,w--),g>h&&(g=h)),D=cf(this._tTime,E),!l&&this._tTime&&D!==w&&this._tTime-D*E-this._dur<=0&&(D=w),P&&w&1&&(g=h-g,N=1),w!==D&&!this._lock){var O=P&&D&1,C=O===(P&&w&1);if(w<D&&(O=!O),l=O?0:f%h?h:f,this._lock=1,this.render(l||(N?0:Yn(w*E)),s,!h)._lock=0,this._tTime=f,!s&&this.parent&&Gi(this,"onRepeat"),this.vars.repeatRefresh&&!N&&(this.invalidate()._lock=1),l&&l!==this._time||b!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,u=this._tDur,C&&(this._lock=2,l=O?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!N&&this.invalidate()),this._lock=0,!this._ts&&!b)return this;KL(this,N)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(A=kX(this,Yn(l),Yn(g)),A&&(f-=g-(g=A._start))),this._tTime=f,this._time=g,this._act=!T,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&f&&!s&&!D&&(Gi(this,"onStart"),this._tTime!==f))return this;if(g>=l&&i>=0)for(y=this._first;y;){if(_=y._next,(y._act||g>=y._start)&&y._ts&&A!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(g-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(g-y._start)*y._ts,s,o),g!==this._time||!this._ts&&!b){A=0,_&&(f+=this._zTime=-dn);break}}y=_}else{y=this._last;for(var q=i<0?i:g;y;){if(_=y._prev,(y._act||q<=y._end)&&y._ts&&A!==y){if(y.parent!==this)return this.render(i,s,o);if(y.render(y._ts>0?(q-y._start)*y._ts:(y._dirty?y.totalDuration():y._tDur)+(q-y._start)*y._ts,s,o||Mr&&iC(y)),g!==this._time||!this._ts&&!b){A=0,_&&(f+=this._zTime=q?-dn:dn);break}}y=_}}if(A&&!s&&(this.pause(),A.render(g>=l?0:-dn)._zTime=g>=l?1:-1,this._ts))return this._start=x,bw(this),this.render(i,s,o);this._onUpdate&&!s&&Gi(this,"onUpdate",!0),(f===u&&this._tTime>=this.totalDuration()||!f&&l)&&(x===this._start||Math.abs(T)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(f===u&&this._ts>0||!f&&this._ts<0)&&Gl(this,1),!s&&!(i<0&&!l)&&(f||l||!u)&&(Gi(this,f===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(f<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Ia(s)||(s=ds(this,s,i)),!(i instanceof em)){if($r(i))return i.forEach(function(l){return o.add(l,s)}),this;if(vr(i))return this.addLabel(i,s);if(Nn(i))i=$n.delayedCall(0,i);else return this}return this!==i?vo(this,i,s):this},t.getChildren=function(i,s,o,l){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=-vs);for(var u=[],h=this._first;h;)h._start>=l&&(h instanceof $n?s&&u.push(h):(o&&u.push(h),i&&u.push.apply(u,h.getChildren(!0,s,o)))),h=h._next;return u},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return vr(i)?this.removeLabel(i):Nn(i)?this.killTweensOf(i):(i.parent===this&&_w(this,i),i===this._recent&&(this._recent=this._last),nc(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Yn(qi.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=ds(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var l=$n.delayedCall(0,s||Qp,o);return l.data="isPause",this._hasPause=1,vo(this,l,ds(this,i))},t.removePause=function(i){var s=this._first;for(i=ds(this,i);s;)s._start===i&&s.data==="isPause"&&Gl(s),s=s._next},t.killTweensOf=function(i,s,o){for(var l=this.getTweensOf(i,o),u=l.length;u--;)bl!==l[u]&&l[u].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],l=ws(i),u=this._first,h=Ia(s),f;u;)u instanceof $n?SX(u._targets,l)&&(h?(!bl||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(f=u.getTweensOf(l,s)).length&&o.push.apply(o,f),u=u._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,l=ds(o,i),u=s,h=u.startAt,f=u.onStart,p=u.onStartParams,g=u.immediateRender,y,_=$n.to(o,Zi({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale())||dn,onStart:function(){if(o.pause(),!y){var E=s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale());_._dur!==E&&hf(_,E,0,1).render(_._time,!0,!0),y=1}f&&f.apply(_,p||[])}},s));return g?_.render(0):_},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Zi({startAt:{time:ds(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),UO(this,ds(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),UO(this,ds(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+dn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,h;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(s)for(h in u)u[h]>=o&&(u[h]+=i);return nc(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),nc(this)},t.totalDuration=function(i){var s=0,o=this,l=o._last,u=vs,h,f,p;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(p=o.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),f=l._start,f>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,vo(o,l,f-l._delay,1)._lock=0):u=f,f<0&&l._ts&&(s-=f,(!p&&!o._dp||p&&p.smoothChildTiming)&&(o._start+=f/o._ts,o._time-=f,o._tTime-=f),o.shiftChildren(-f,!1,-1/0),u=0),l._end>s&&l._ts&&(s=l._end),l=h;hf(o,o===An&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(An._ts&&(CL(An,gv(i,An)),TL=qi.frame),qi.frame>=LO){LO+=$i.autoSleep||120;var s=An._first;if((!s||!s._ts)&&$i.autoSleep&&qi._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||qi.sleep()}}},e}(em);Zi(ai.prototype,{_lock:0,_hasPause:0,_forcing:0});var WX=function(e,t,n,i,s,o,l){var u=new xi(this._pt,e,t,0,1,t8,null,s),h=0,f=0,p,g,y,_,w,E,b,A;for(u.b=n,u.e=i,n+="",i+="",(b=~i.indexOf("random("))&&(i=Zp(i)),o&&(A=[n,i],o(A,e,t),n=A[0],i=A[1]),g=n.match(db)||[];p=db.exec(i);)_=p[0],w=i.substring(h,p.index),y?y=(y+1)%5:w.substr(-5)==="rgba("&&(y=1),_!==g[f++]&&(E=parseFloat(g[f-1])||0,u._pt={_next:u._pt,p:w||f===1?w:",",s:E,c:_.charAt(1)==="="?zh(E,_)-E:parseFloat(_)-E,m:y&&y<4?Math.round:0},h=db.lastIndex);return u.c=h<i.length?i.substring(h,i.length):"",u.fp=l,(_L.test(i)||b)&&(u.e=0),this._pt=u,u},sC=function(e,t,n,i,s,o,l,u,h,f){Nn(i)&&(i=i(s||0,e,o));var p=e[t],g=n!=="get"?n:Nn(p)?h?e[t.indexOf("set")||!Nn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():p,y=Nn(p)?h?XX:JL:aC,_;if(vr(i)&&(~i.indexOf("random(")&&(i=Zp(i)),i.charAt(1)==="="&&(_=zh(g,i)+(Wr(g)||0),(_||_===0)&&(i=_))),!f||g!==i||Bx)return!isNaN(g*i)&&i!==""?(_=new xi(this._pt,e,t,+g||0,i-(g||0),typeof p=="boolean"?ZX:e8,0,y),h&&(_.fp=h),l&&_.modifier(l,this,e),this._pt=_):(!p&&!(t in e)&&eC(t,i),WX.call(this,e,t,g,i,y,u||$i.stringFilter,h))},GX=function(e,t,n,i,s){if(Nn(e)&&(e=Cp(e,s,t,n,i)),!Bo(e)||e.style&&e.nodeType||$r(e)||vL(e))return vr(e)?Cp(e,s,t,n,i):e;var o={},l;for(l in e)o[l]=Cp(e[l],s,t,n,i);return o},XL=function(e,t,n,i,s,o){var l,u,h,f;if(Hi[e]&&(l=new Hi[e]).init(s,l.rawVars?t[e]:GX(t[e],i,s,o,n),n,i,o)!==!1&&(n._pt=u=new xi(n._pt,s,e,0,1,l.render,l,0,l.priority),n!==Dh))for(h=n._ptLookup[n._targets.indexOf(s)],f=l._props.length;f--;)h[l._props[f]]=u;return l},bl,Bx,oC=function r(e,t,n){var i=e.vars,s=i.ease,o=i.startAt,l=i.immediateRender,u=i.lazy,h=i.onUpdate,f=i.runBackwards,p=i.yoyoEase,g=i.keyframes,y=i.autoRevert,_=e._dur,w=e._startAt,E=e._targets,b=e.parent,A=b&&b.data==="nested"?b.vars.targets:E,T=e._overwrite==="auto"&&!XA,x=e.timeline,D,P,N,O,C,q,$,M,V,B,oe,Q,X;if(x&&(!g||!s)&&(s="none"),e._ease=rc(s,lf.ease),e._yEase=p?GL(rc(p===!0?s:p,lf.ease)):0,p&&e._yoyo&&!e._repeat&&(p=e._yEase,e._yEase=e._ease,e._ease=p),e._from=!x&&!!i.runBackwards,!x||g&&!i.stagger){if(M=E[0]?tc(E[0]).harness:0,Q=M&&i[M.prop],D=mv(i,tC),w&&(w._zTime<0&&w.progress(1),t<0&&f&&l&&!y?w.render(-1,!0):w.revert(f&&_?w0:_X),w._lazy=0),o){if(Gl(e._startAt=$n.set(E,Zi({data:"isStart",overwrite:!1,parent:b,immediateRender:!0,lazy:!w&&Si(u),startAt:null,delay:0,onUpdate:h&&function(){return Gi(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Mr||!l&&!y)&&e._startAt.revert(w0),l&&_&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(f&&_&&!w){if(t&&(l=!1),N=Zi({overwrite:!1,data:"isFromStart",lazy:l&&!w&&Si(u),immediateRender:l,stagger:0,parent:b},D),Q&&(N[M.prop]=Q),Gl(e._startAt=$n.set(E,N)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Mr?e._startAt.revert(w0):e._startAt.render(-1,!0)),e._zTime=t,!l)r(e._startAt,dn,dn);else if(!t)return}for(e._pt=e._ptCache=0,u=_&&Si(u)||u&&!_,P=0;P<E.length;P++){if(C=E[P],$=C._gsap||rC(E)[P]._gsap,e._ptLookup[P]=B={},Ix[$.id]&&Pl.length&&pv(),oe=A===E?P:A.indexOf(C),M&&(V=new M).init(C,Q||D,e,oe,A)!==!1&&(e._pt=O=new xi(e._pt,C,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(fe){B[fe]=O}),V.priority&&(q=1)),!M||Q)for(N in D)Hi[N]&&(V=XL(N,D,e,oe,C,A))?V.priority&&(q=1):B[N]=O=sC.call(e,C,N,"get",D[N],oe,A,0,i.stringFilter);e._op&&e._op[P]&&e.kill(C,e._op[P]),T&&e._pt&&(bl=e,An.killTweensOf(C,B,e.globalTime(t)),X=!e.parent,bl=0),e._pt&&u&&(Ix[$.id]=1)}q&&n8(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!X,g&&t<=0&&x.render(vs,!0,!0)},KX=function(e,t,n,i,s,o,l,u){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],f,p,g,y;if(!h)for(h=e._ptCache[t]=[],g=e._ptLookup,y=e._targets.length;y--;){if(f=g[y][t],f&&f.d&&f.d._pt)for(f=f.d._pt;f&&f.p!==t&&f.fp!==t;)f=f._next;if(!f)return Bx=1,e.vars[t]="+=0",oC(e,l),Bx=0,u?Xp(t+" not eligible for reset"):1;h.push(f)}for(y=h.length;y--;)p=h[y],f=p._pt||p,f.s=(i||i===0)&&!s?i:f.s+(i||0)+o*f.c,f.c=n-f.s,p.e&&(p.e=Fn(n)+Wr(p.e)),p.b&&(p.b=f.s+Wr(p.b))},$X=function(e,t){var n=e[0]?tc(e[0]).harness:0,i=n&&n.aliases,s,o,l,u;if(!i)return t;s=uf({},t);for(o in i)if(o in s)for(u=i[o].split(","),l=u.length;l--;)s[u[l]]=s[o];return s},YX=function(e,t,n,i){var s=t.ease||i||"power1.inOut",o,l;if($r(t))l=n[e]||(n[e]=[]),t.forEach(function(u,h){return l.push({t:h/(t.length-1)*100,v:u,e:s})});else for(o in t)l=n[o]||(n[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:t[o],e:s})},Cp=function(e,t,n,i,s){return Nn(e)?e.call(t,n,i,s):vr(e)&&~e.indexOf("random(")?Zp(e):e},QL=nC+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ZL={};Ei(QL+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return ZL[r]=1});var $n=function(r){gL(e,r);function e(n,i,s,o){var l;typeof i=="number"&&(s.duration=i,i=s,s=null),l=r.call(this,o?i:Tp(i))||this;var u=l.vars,h=u.duration,f=u.delay,p=u.immediateRender,g=u.stagger,y=u.overwrite,_=u.keyframes,w=u.defaults,E=u.scrollTrigger,b=u.yoyoEase,A=i.parent||An,T=($r(n)||vL(n)?Ia(n[0]):"length"in i)?[n]:ws(n),x,D,P,N,O,C,q,$;if(l._targets=T.length?rC(T):Xp("GSAP target "+n+" not found. https://gsap.com",!$i.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=y,_||g||Sy(h)||Sy(f)){if(i=l.vars,x=l.timeline=new ai({data:"nested",defaults:w||{},targets:A&&A.data==="nested"?A.vars.targets:T}),x.kill(),x.parent=x._dp=ga(l),x._start=0,g||Sy(h)||Sy(f)){if(N=T.length,q=g&&LL(g),Bo(g))for(O in g)~QL.indexOf(O)&&($||($={}),$[O]=g[O]);for(D=0;D<N;D++)P=mv(i,ZL),P.stagger=0,b&&(P.yoyoEase=b),$&&uf(P,$),C=T[D],P.duration=+Cp(h,ga(l),D,C,T),P.delay=(+Cp(f,ga(l),D,C,T)||0)-l._delay,!g&&N===1&&P.delay&&(l._delay=f=P.delay,l._start+=f,P.delay=0),x.to(C,P,q?q(D,C,T):0),x._ease=Vt.none;x.duration()?h=f=0:l.timeline=0}else if(_){Tp(Zi(x.vars.defaults,{ease:"none"})),x._ease=rc(_.ease||i.ease||"none");var M=0,V,B,oe;if($r(_))_.forEach(function(Q){return x.to(T,Q,">")}),x.duration();else{P={};for(O in _)O==="ease"||O==="easeEach"||YX(O,_[O],P,_.easeEach);for(O in P)for(V=P[O].sort(function(Q,X){return Q.t-X.t}),M=0,D=0;D<V.length;D++)B=V[D],oe={ease:B.e,duration:(B.t-(D?V[D-1].t:0))/100*h},oe[O]=B.v,x.to(T,oe,M),M+=oe.duration;x.duration()<h&&x.to({},{duration:h-x.duration()})}}h||l.duration(h=x.duration())}else l.timeline=0;return y===!0&&!XA&&(bl=ga(l),An.killTweensOf(T),bl=0),vo(A,ga(l),s),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(p||!h&&!_&&l._start===Yn(A._time)&&Si(p)&&AX(ga(l))&&A.data!=="nested")&&(l._tTime=-dn,l.render(Math.max(0,-f)||0)),E&&OL(ga(l),E),l}var t=e.prototype;return t.render=function(i,s,o){var l=this._time,u=this._tDur,h=this._dur,f=i<0,p=i>u-dn&&!f?u:i<dn?0:i,g,y,_,w,E,b,A,T,x;if(!h)RX(this,i,s,o);else if(p!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==f||this._lazy){if(g=p,T=this.timeline,this._repeat){if(w=h+this._rDelay,this._repeat<-1&&f)return this.totalTime(w*100+i,s,o);if(g=Yn(p%w),p===u?(_=this._repeat,g=h):(E=Yn(p/w),_=~~E,_&&_===E?(g=h,_--):g>h&&(g=h)),b=this._yoyo&&_&1,b&&(x=this._yEase,g=h-g),E=cf(this._tTime,w),g===l&&!o&&this._initted&&_===E)return this._tTime=p,this;_!==E&&(T&&this._yEase&&KL(T,b),this.vars.repeatRefresh&&!b&&!this._lock&&g!==w&&this._initted&&(this._lock=o=1,this.render(Yn(w*_),!0).invalidate()._lock=0))}if(!this._initted){if(NL(this,f?i:g,o,s,p))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&_!==E))return this;if(h!==this._dur)return this.render(i,s,o)}if(this._tTime=p,this._time=g,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=A=(x||this._ease)(g/h),this._from&&(this.ratio=A=1-A),!l&&p&&!s&&!E&&(Gi(this,"onStart"),this._tTime!==p))return this;for(y=this._pt;y;)y.r(A,y.d),y=y._next;T&&T.render(i<0?i:T._dur*T._ease(g/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(f&&Ox(this,i,s,o),Gi(this,"onUpdate")),this._repeat&&_!==E&&this.vars.onRepeat&&!s&&this.parent&&Gi(this,"onRepeat"),(p===this._tDur||!p)&&this._tTime===p&&(f&&!this._onUpdate&&Ox(this,i,!0,!0),(i||!h)&&(p===this._tDur&&this._ts>0||!p&&this._ts<0)&&Gl(this,1),!s&&!(f&&!l)&&(p||l||b)&&(Gi(this,p===u?"onComplete":"onReverseComplete",!0),this._prom&&!(p<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,l,u){Jp||qi.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),f;return this._initted||oC(this,h),f=this._ease(h/this._dur),KX(this,i,s,o,l,f,h,u)?this.resetTo(i,s,o,l,1):(Sw(this,0),this.parent||DL(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?hp(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Mr),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,bl&&bl.vars.overwrite!==!0)._first||hp(this),this.parent&&o!==this.timeline.totalDuration()&&hf(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=i?ws(i):l,h=this._ptLookup,f=this._pt,p,g,y,_,w,E,b;if((!s||s==="all")&&xX(l,u))return s==="all"&&(this._pt=0),hp(this);for(p=this._op=this._op||[],s!=="all"&&(vr(s)&&(w={},Ei(s,function(A){return w[A]=1}),s=w),s=$X(l,s)),b=l.length;b--;)if(~u.indexOf(l[b])){g=h[b],s==="all"?(p[b]=s,_=g,y={}):(y=p[b]=p[b]||{},_=s);for(w in _)E=g&&g[w],E&&((!("kill"in E.d)||E.d.kill(w)===!0)&&_w(this,E,"_pt"),delete g[w]),y!=="all"&&(y[w]=1)}return this._initted&&!this._pt&&f&&hp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Ap(1,arguments)},e.delayedCall=function(i,s,o,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,s,o){return Ap(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return An.killTweensOf(i,s,o)},e}(em);Zi($n.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ei("staggerTo,staggerFrom,staggerFromTo",function(r){$n[r]=function(){var e=new ai,t=Mx.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var aC=function(e,t,n){return e[t]=n},JL=function(e,t,n){return e[t](n)},XX=function(e,t,n,i){return e[t](i.fp,n)},QX=function(e,t,n){return e.setAttribute(t,n)},lC=function(e,t){return Nn(e[t])?JL:QA(e[t])&&e.setAttribute?QX:aC},e8=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},ZX=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},t8=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},uC=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},JX=function(e,t,n,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,n),s=o},eQ=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?_w(this,t,"_pt"):t.dep||(n=1),t=i;return!n},tQ=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},n8=function(e){for(var t=e._pt,n,i,s,o;t;){for(n=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=n}e._pt=s},xi=function(){function r(t,n,i,s,o,l,u,h,f){this.t=n,this.s=s,this.c=o,this.p=i,this.r=l||e8,this.d=u||this,this.set=h||aC,this.pr=f||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,s){this.mSet=this.mSet||this.set,this.set=tQ,this.m=n,this.mt=s,this.tween=i},r}();Ei(nC+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return tC[r]=1});Qi.TweenMax=Qi.TweenLite=$n;Qi.TimelineLite=Qi.TimelineMax=ai;An=new ai({sortChildren:!1,defaults:lf,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});$i.stringFilter=WL;var ic=[],b0={},nQ=[],jO=0,rQ=0,vb=function(e){return(b0[e]||nQ).map(function(t){return t()})},Fx=function(){var e=Date.now(),t=[];e-jO>2&&(vb("matchMediaInit"),ic.forEach(function(n){var i=n.queries,s=n.conditions,o,l,u,h;for(l in i)o=mo.matchMedia(i[l]).matches,o&&(u=1),o!==s[l]&&(s[l]=o,h=1);h&&(n.revert(),u&&t.push(n))}),vb("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),jO=e,vb("matchMedia"))},r8=function(){function r(t,n){this.selector=n&&Px(n),this.data=[],this._r=[],this.isReverted=!1,this.id=rQ++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,s){Nn(n)&&(s=i,i=n,n=Nn);var o=this,l=function(){var h=Sn,f=o.selector,p;return h&&h!==o&&h.data.push(o),s&&(o.selector=Px(s)),Sn=o,p=i.apply(o,arguments),Nn(p)&&o._r.push(p),Sn=h,o.selector=f,o.isReverted=!1,p};return o.last=l,n===Nn?l(o,function(u){return o.add(null,u)}):n?o[n]=l:l},e.ignore=function(n){var i=Sn;Sn=null,n(this),Sn=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof $n&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var s=this;if(n?function(){for(var l=s.getTweens(),u=s.data.length,h;u--;)h=s.data[u],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(f){return l.splice(l.indexOf(f),1)}));for(l.map(function(f){return{g:f._dur||f._delay||f._sat&&!f._sat.vars.immediateRender?f.globalTime(0):-1/0,t:f}}).sort(function(f,p){return p.g-f.g||-1/0}).forEach(function(f){return f.t.revert(n)}),u=s.data.length;u--;)h=s.data[u],h instanceof ai?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof $n)&&h.revert&&h.revert(n);s._r.forEach(function(f){return f(n,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=ic.length;o--;)ic[o].id===this.id&&ic.splice(o,1)},e.revert=function(n){this.kill(n||{})},r}(),iQ=function(){function r(t){this.contexts=[],this.scope=t,Sn&&Sn.data.push(this)}var e=r.prototype;return e.add=function(n,i,s){Bo(n)||(n={matches:n});var o=new r8(0,s||this.scope),l=o.conditions={},u,h,f;Sn&&!o.selector&&(o.selector=Sn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=n;for(h in n)h==="all"?f=1:(u=mo.matchMedia(n[h]),u&&(ic.indexOf(o)<0&&ic.push(o),(l[h]=u.matches)&&(f=1),u.addListener?u.addListener(Fx):u.addEventListener("change",Fx)));return f&&i(o,function(p){return o.add(null,p)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r}(),yv={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return jL(i)})},timeline:function(e){return new ai(e)},getTweensOf:function(e,t){return An.getTweensOf(e,t)},getProperty:function(e,t,n,i){vr(e)&&(e=ws(e)[0]);var s=tc(e||{}).get,o=n?kL:RL;return n==="native"&&(n=""),e&&(t?o((Hi[t]&&Hi[t].get||s)(e,t,n,i)):function(l,u,h){return o((Hi[l]&&Hi[l].get||s)(e,l,u,h))})},quickSetter:function(e,t,n){if(e=ws(e),e.length>1){var i=e.map(function(f){return Ai.quickSetter(f,t,n)}),s=i.length;return function(f){for(var p=s;p--;)i[p](f)}}e=e[0]||{};var o=Hi[t],l=tc(e),u=l.harness&&(l.harness.aliases||{})[t]||t,h=o?function(f){var p=new o;Dh._pt=0,p.init(e,n?f+n:f,Dh,0,[e]),p.render(1,p),Dh._pt&&uC(1,Dh)}:l.set(e,u);return o?h:function(f){return h(e,u,n?f+n:f,l,1)}},quickTo:function(e,t,n){var i,s=Ai.to(e,Zi((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),o=function(u,h,f){return s.resetTo(t,u,h,f)};return o.tween=s,o},isTweening:function(e){return An.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=rc(e.ease,lf.ease)),BO(lf,e||{})},config:function(e){return BO($i,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Hi[l]&&!Qi[l]&&Xp(t+" effect requires "+l+" plugin.")}),pb[t]=function(l,u,h){return n(ws(l),Zi(u||{},s),h)},o&&(ai.prototype[t]=function(l,u,h){return this.add(pb[t](l,Bo(u)?u:(h=u)&&{},this),h)})},registerEase:function(e,t){Vt[e]=rc(t)},parseEase:function(e,t){return arguments.length?rc(e,t):Vt},getById:function(e){return An.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ai(e),i,s;for(n.smoothChildTiming=Si(e.smoothChildTiming),An.remove(n),n._dp=0,n._time=n._tTime=An._time,i=An._first;i;)s=i._next,(t||!(!i._dur&&i instanceof $n&&i.vars.onComplete===i._targets[0]))&&vo(n,i,i._start-i._delay),i=s;return vo(An,n,0),n},context:function(e,t){return e?new r8(e,t):Sn},matchMedia:function(e){return new iQ(e)},matchMediaRefresh:function(){return ic.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||Fx()},addEventListener:function(e,t){var n=b0[e]||(b0[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=b0[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:LX,wrapYoyo:BX,distribute:LL,random:FL,snap:BL,normalize:PX,getUnit:Wr,clamp:IX,splitColor:HL,toArray:ws,selector:Px,mapRange:UL,pipe:NX,unitize:MX,interpolate:FX,shuffle:PL},install:EL,effects:pb,ticker:qi,updateRoot:ai.updateRoot,plugins:Hi,globalTimeline:An,core:{PropTween:xi,globals:xL,Tween:$n,Timeline:ai,Animation:em,getCache:tc,_removeLinkedListItem:_w,reverting:function(){return Mr},context:function(e){return e&&Sn&&(Sn.data.push(e),e._ctx=Sn),Sn},suppressOverwrites:function(e){return XA=e}}};Ei("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return yv[r]=$n[r]});qi.add(ai.updateRoot);Dh=yv.to({},{duration:0});var sQ=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},oQ=function(e,t){var n=e._targets,i,s,o;for(i in t)for(s=n.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=sQ(o,i)),o&&o.modifier&&o.modifier(t[i],e,n[s],i))},wb=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,s,o){o._onInit=function(l){var u,h;if(vr(s)&&(u={},Ei(s,function(f){return u[f]=1}),s=u),t){u={};for(h in s)u[h]=t(s[h]);s=u}oQ(l,s)}}}},Ai=yv.registerPlugin({name:"attr",init:function(e,t,n,i,s){var o,l,u;this.tween=n;for(o in t)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",t[o],i,s,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,t){for(var n=t._pt;n;)Mr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},wb("roundProps",Lx),wb("modifiers"),wb("snap",BL))||yv;$n.version=ai.version=Ai.version="3.13.0";SL=1;ZA()&&ff();Vt.Power0;Vt.Power1;Vt.Power2;Vt.Power3;Vt.Power4;Vt.Linear;Vt.Quad;Vt.Cubic;Vt.Quart;Vt.Quint;Vt.Strong;Vt.Elastic;Vt.Back;Vt.SteppedEase;Vt.Bounce;Vt.Sine;Vt.Expo;Vt.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var HO,Sl,jh,cC,Yu,qO,hC,aQ=function(){return typeof window<"u"},Oa={},Hu=180/Math.PI,Hh=Math.PI/180,mh=Math.atan2,WO=1e8,fC=/([A-Z])/g,lQ=/(left|right|width|margin|padding|x)/i,uQ=/[\s,\(]\S/,So={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Vx=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},cQ=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},hQ=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},fQ=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},i8=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},s8=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},dQ=function(e,t,n){return e.style[t]=n},pQ=function(e,t,n){return e.style.setProperty(t,n)},mQ=function(e,t,n){return e._gsap[t]=n},gQ=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},yQ=function(e,t,n,i,s){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(s,o)},vQ=function(e,t,n,i,s){var o=e._gsap;o[t]=n,o.renderTransform(s,o)},Cn="transform",Ti=Cn+"Origin",wQ=function r(e,t){var n=this,i=this.target,s=i.style,o=i._gsap;if(e in Oa&&s){if(this.tfm=this.tfm||{},e!=="transform")e=So[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return n.tfm[l]=ya(i,l)}):this.tfm[e]=o.x?o[e]:ya(i,e),e===Ti&&(this.tfm.zOrigin=o.zOrigin);else return So.transform.split(",").forEach(function(l){return r.call(n,l,t)});if(this.props.indexOf(Cn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ti,t,"")),e=Cn}(s||t)&&this.props.push(e,t,s[e])},o8=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_Q=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?n[e[s]]=e[s+2]:n.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(fC,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=hC(),(!s||!s.isStart)&&!n[Cn]&&(o8(n),i.zOrigin&&n[Ti]&&(n[Ti]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},a8=function(e,t){var n={target:e,props:[],revert:_Q,save:wQ};return e._gsap||Ai.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},l8,Ux=function(e,t){var n=Sl.createElementNS?Sl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Sl.createElement(e);return n&&n.style?n:Sl.createElement(e)},_s=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(fC,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,df(t)||t,1)||""},GO="O,Moz,ms,Ms,Webkit".split(","),df=function(e,t,n){var i=t||Yu,s=i.style,o=5;if(e in s&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(GO[o]+e in s););return o<0?null:(o===3?"ms":o>=0?GO[o]:"")+e},zx=function(){aQ()&&window.document&&(HO=window,Sl=HO.document,jh=Sl.documentElement,Yu=Ux("div")||{style:{}},Ux("div"),Cn=df(Cn),Ti=Cn+"Origin",Yu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",l8=!!df("perspective"),hC=Ai.core.reverting,cC=1)},KO=function(e){var t=e.ownerSVGElement,n=Ux("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),s;i.style.display="block",n.appendChild(i),jh.appendChild(n);try{s=i.getBBox()}catch{}return n.removeChild(i),jh.removeChild(n),s},$O=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},u8=function(e){var t,n;try{t=e.getBBox()}catch{t=KO(e),n=1}return t&&(t.width||t.height)||n||(t=KO(e)),t&&!t.width&&!t.x&&!t.y?{x:+$O(e,["x","cx","x1"])||0,y:+$O(e,["y","cy","y1"])||0,width:0,height:0}:t},c8=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&u8(e))},mc=function(e,t){if(t){var n=e.style,i;t in Oa&&t!==Ti&&(t=Cn),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(fC,"-$1").toLowerCase())):n.removeAttribute(t)}},El=function(e,t,n,i,s,o){var l=new xi(e._pt,t,n,0,1,o?s8:i8);return e._pt=l,l.b=i,l.e=s,e._props.push(n),l},YO={deg:1,rad:1,turn:1},bQ={grid:1,flex:1},Kl=function r(e,t,n,i){var s=parseFloat(n)||0,o=(n+"").trim().substr((s+"").length)||"px",l=Yu.style,u=lQ.test(t),h=e.tagName.toLowerCase()==="svg",f=(h?"client":"offset")+(u?"Width":"Height"),p=100,g=i==="px",y=i==="%",_,w,E,b;if(i===o||!s||YO[i]||YO[o])return s;if(o!=="px"&&!g&&(s=r(e,t,n,"px")),b=e.getCTM&&c8(e),(y||o==="%")&&(Oa[t]||~t.indexOf("adius")))return _=b?e.getBBox()[u?"width":"height"]:e[f],Fn(y?s/_*p:s/100*_);if(l[u?"width":"height"]=p+(g?o:i),w=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,b&&(w=(e.ownerSVGElement||{}).parentNode),(!w||w===Sl||!w.appendChild)&&(w=Sl.body),E=w._gsap,E&&y&&E.width&&u&&E.time===qi.time&&!E.uncache)return Fn(s/E.width*p);if(y&&(t==="height"||t==="width")){var A=e.style[t];e.style[t]=p+i,_=e[f],A?e.style[t]=A:mc(e,t)}else(y||o==="%")&&!bQ[_s(w,"display")]&&(l.position=_s(e,"position")),w===e&&(l.position="static"),w.appendChild(Yu),_=Yu[f],w.removeChild(Yu),l.position="absolute";return u&&y&&(E=tc(w),E.time=qi.time,E.width=w[f]),Fn(g?_*s/p:_&&s?p/_*s:0)},ya=function(e,t,n,i){var s;return cC||zx(),t in So&&t!=="transform"&&(t=So[t],~t.indexOf(",")&&(t=t.split(",")[0])),Oa[t]&&t!=="transform"?(s=nm(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:wv(_s(e,Ti))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=vv[t]&&vv[t](e,t,n)||_s(e,t)||AL(e,t)||(t==="opacity"?1:0))),n&&!~(s+"").trim().indexOf(" ")?Kl(e,t,s,n)+n:s},SQ=function(e,t,n,i){if(!n||n==="none"){var s=df(t,e,1),o=s&&_s(e,s,1);o&&o!==n?(t=s,n=o):t==="borderColor"&&(n=_s(e,"borderTopColor"))}var l=new xi(this._pt,e.style,t,0,1,t8),u=0,h=0,f,p,g,y,_,w,E,b,A,T,x,D;if(l.b=n,l.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=_s(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(w=e.style[t],e.style[t]=i,i=_s(e,t)||i,w?e.style[t]=w:mc(e,t)),f=[n,i],WL(f),n=f[0],i=f[1],g=n.match(kh)||[],D=i.match(kh)||[],D.length){for(;p=kh.exec(i);)E=p[0],A=i.substring(u,p.index),_?_=(_+1)%5:(A.substr(-5)==="rgba("||A.substr(-5)==="hsla(")&&(_=1),E!==(w=g[h++]||"")&&(y=parseFloat(w)||0,x=w.substr((y+"").length),E.charAt(1)==="="&&(E=zh(y,E)+x),b=parseFloat(E),T=E.substr((b+"").length),u=kh.lastIndex-T.length,T||(T=T||$i.units[t]||x,u===i.length&&(i+=T,l.e+=T)),x!==T&&(y=Kl(e,t,w,T)||0),l._pt={_next:l._pt,p:A||h===1?A:",",s:y,c:b-y,m:_&&_<4||t==="zIndex"?Math.round:0});l.c=u<i.length?i.substring(u,i.length):""}else l.r=t==="display"&&i==="none"?s8:i8;return _L.test(i)&&(l.e=0),this._pt=l,l},XO={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},EQ=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=XO[n]||n,t[1]=XO[i]||i,t.join(" ")},xQ=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,s=t.u,o=n._gsap,l,u,h;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],Oa[l]&&(u=1,l=l==="transformOrigin"?Ti:Cn),mc(n,l);u&&(mc(n,Cn),o&&(o.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",nm(n,1),o.uncache=1,o8(i)))}},vv={clearProps:function(e,t,n,i,s){if(s.data!=="isFromStart"){var o=e._pt=new xi(e._pt,t,n,0,0,xQ);return o.u=i,o.pr=-10,o.tween=s,e._props.push(n),1}}},tm=[1,0,0,1,0,0],h8={},f8=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},QO=function(e){var t=_s(e,Cn);return f8(t)?tm:t.substr(7).match(wL).map(Fn)},dC=function(e,t){var n=e._gsap||tc(e),i=e.style,s=QO(e),o,l,u,h;return n.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?tm:s):(s===tm&&!e.offsetParent&&e!==jh&&!n.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,l=e.nextElementSibling,jh.appendChild(e)),s=QO(e),u?i.display=u:mc(e,"display"),h&&(l?o.insertBefore(e,l):o?o.appendChild(e):jh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},jx=function(e,t,n,i,s,o){var l=e._gsap,u=s||dC(e,!0),h=l.xOrigin||0,f=l.yOrigin||0,p=l.xOffset||0,g=l.yOffset||0,y=u[0],_=u[1],w=u[2],E=u[3],b=u[4],A=u[5],T=t.split(" "),x=parseFloat(T[0])||0,D=parseFloat(T[1])||0,P,N,O,C;n?u!==tm&&(N=y*E-_*w)&&(O=x*(E/N)+D*(-w/N)+(w*A-E*b)/N,C=x*(-_/N)+D*(y/N)-(y*A-_*b)/N,x=O,D=C):(P=u8(e),x=P.x+(~T[0].indexOf("%")?x/100*P.width:x),D=P.y+(~(T[1]||T[0]).indexOf("%")?D/100*P.height:D)),i||i!==!1&&l.smooth?(b=x-h,A=D-f,l.xOffset=p+(b*y+A*w)-b,l.yOffset=g+(b*_+A*E)-A):l.xOffset=l.yOffset=0,l.xOrigin=x,l.yOrigin=D,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!n,e.style[Ti]="0px 0px",o&&(El(o,l,"xOrigin",h,x),El(o,l,"yOrigin",f,D),El(o,l,"xOffset",p,l.xOffset),El(o,l,"yOffset",g,l.yOffset)),e.setAttribute("data-svg-origin",x+" "+D)},nm=function(e,t){var n=e._gsap||new YL(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,s=n.scaleX<0,o="px",l="deg",u=getComputedStyle(e),h=_s(e,Ti)||"0",f,p,g,y,_,w,E,b,A,T,x,D,P,N,O,C,q,$,M,V,B,oe,Q,X,fe,de,ee,J,K,re,he,ve;return f=p=g=w=E=b=A=T=x=0,y=_=1,n.svg=!!(e.getCTM&&c8(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[Cn]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[Cn]!=="none"?u[Cn]:"")),i.scale=i.rotate=i.translate="none"),N=dC(e,n.svg),n.svg&&(n.uncache?(fe=e.getBBox(),h=n.xOrigin-fe.x+"px "+(n.yOrigin-fe.y)+"px",X=""):X=!t&&e.getAttribute("data-svg-origin"),jx(e,X||h,!!X||n.originIsAbsolute,n.smooth!==!1,N)),D=n.xOrigin||0,P=n.yOrigin||0,N!==tm&&($=N[0],M=N[1],V=N[2],B=N[3],f=oe=N[4],p=Q=N[5],N.length===6?(y=Math.sqrt($*$+M*M),_=Math.sqrt(B*B+V*V),w=$||M?mh(M,$)*Hu:0,A=V||B?mh(V,B)*Hu+w:0,A&&(_*=Math.abs(Math.cos(A*Hh))),n.svg&&(f-=D-(D*$+P*V),p-=P-(D*M+P*B))):(ve=N[6],re=N[7],ee=N[8],J=N[9],K=N[10],he=N[11],f=N[12],p=N[13],g=N[14],O=mh(ve,K),E=O*Hu,O&&(C=Math.cos(-O),q=Math.sin(-O),X=oe*C+ee*q,fe=Q*C+J*q,de=ve*C+K*q,ee=oe*-q+ee*C,J=Q*-q+J*C,K=ve*-q+K*C,he=re*-q+he*C,oe=X,Q=fe,ve=de),O=mh(-V,K),b=O*Hu,O&&(C=Math.cos(-O),q=Math.sin(-O),X=$*C-ee*q,fe=M*C-J*q,de=V*C-K*q,he=B*q+he*C,$=X,M=fe,V=de),O=mh(M,$),w=O*Hu,O&&(C=Math.cos(O),q=Math.sin(O),X=$*C+M*q,fe=oe*C+Q*q,M=M*C-$*q,Q=Q*C-oe*q,$=X,oe=fe),E&&Math.abs(E)+Math.abs(w)>359.9&&(E=w=0,b=180-b),y=Fn(Math.sqrt($*$+M*M+V*V)),_=Fn(Math.sqrt(Q*Q+ve*ve)),O=mh(oe,Q),A=Math.abs(O)>2e-4?O*Hu:0,x=he?1/(he<0?-he:he):0),n.svg&&(X=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!f8(_s(e,Cn)),X&&e.setAttribute("transform",X))),Math.abs(A)>90&&Math.abs(A)<270&&(s?(y*=-1,A+=w<=0?180:-180,w+=w<=0?180:-180):(_*=-1,A+=A<=0?180:-180)),t=t||n.uncache,n.x=f-((n.xPercent=f&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-f)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+o,n.y=p-((n.yPercent=p&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-p)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+o,n.z=g+o,n.scaleX=Fn(y),n.scaleY=Fn(_),n.rotation=Fn(w)+l,n.rotationX=Fn(E)+l,n.rotationY=Fn(b)+l,n.skewX=A+l,n.skewY=T+l,n.transformPerspective=x+o,(n.zOrigin=parseFloat(h.split(" ")[2])||!t&&n.zOrigin||0)&&(i[Ti]=wv(h)),n.xOffset=n.yOffset=0,n.force3D=$i.force3D,n.renderTransform=n.svg?AQ:l8?d8:TQ,n.uncache=0,n},wv=function(e){return(e=e.split(" "))[0]+" "+e[1]},_b=function(e,t,n){var i=Wr(t);return Fn(parseFloat(t)+parseFloat(Kl(e,"x",n+"px",i)))+i},TQ=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,d8(e,t)},Pu="0deg",Hd="0px",Lu=") ",d8=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,l=n.y,u=n.z,h=n.rotation,f=n.rotationY,p=n.rotationX,g=n.skewX,y=n.skewY,_=n.scaleX,w=n.scaleY,E=n.transformPerspective,b=n.force3D,A=n.target,T=n.zOrigin,x="",D=b==="auto"&&e&&e!==1||b===!0;if(T&&(p!==Pu||f!==Pu)){var P=parseFloat(f)*Hh,N=Math.sin(P),O=Math.cos(P),C;P=parseFloat(p)*Hh,C=Math.cos(P),o=_b(A,o,N*C*-T),l=_b(A,l,-Math.sin(P)*-T),u=_b(A,u,O*C*-T+T)}E!==Hd&&(x+="perspective("+E+Lu),(i||s)&&(x+="translate("+i+"%, "+s+"%) "),(D||o!==Hd||l!==Hd||u!==Hd)&&(x+=u!==Hd||D?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+Lu),h!==Pu&&(x+="rotate("+h+Lu),f!==Pu&&(x+="rotateY("+f+Lu),p!==Pu&&(x+="rotateX("+p+Lu),(g!==Pu||y!==Pu)&&(x+="skew("+g+", "+y+Lu),(_!==1||w!==1)&&(x+="scale("+_+", "+w+Lu),A.style[Cn]=x||"translate(0, 0)"},AQ=function(e,t){var n=t||this,i=n.xPercent,s=n.yPercent,o=n.x,l=n.y,u=n.rotation,h=n.skewX,f=n.skewY,p=n.scaleX,g=n.scaleY,y=n.target,_=n.xOrigin,w=n.yOrigin,E=n.xOffset,b=n.yOffset,A=n.forceCSS,T=parseFloat(o),x=parseFloat(l),D,P,N,O,C;u=parseFloat(u),h=parseFloat(h),f=parseFloat(f),f&&(f=parseFloat(f),h+=f,u+=f),u||h?(u*=Hh,h*=Hh,D=Math.cos(u)*p,P=Math.sin(u)*p,N=Math.sin(u-h)*-g,O=Math.cos(u-h)*g,h&&(f*=Hh,C=Math.tan(h-f),C=Math.sqrt(1+C*C),N*=C,O*=C,f&&(C=Math.tan(f),C=Math.sqrt(1+C*C),D*=C,P*=C)),D=Fn(D),P=Fn(P),N=Fn(N),O=Fn(O)):(D=p,O=g,P=N=0),(T&&!~(o+"").indexOf("px")||x&&!~(l+"").indexOf("px"))&&(T=Kl(y,"x",o,"px"),x=Kl(y,"y",l,"px")),(_||w||E||b)&&(T=Fn(T+_-(_*D+w*N)+E),x=Fn(x+w-(_*P+w*O)+b)),(i||s)&&(C=y.getBBox(),T=Fn(T+i/100*C.width),x=Fn(x+s/100*C.height)),C="matrix("+D+","+P+","+N+","+O+","+T+","+x+")",y.setAttribute("transform",C),A&&(y.style[Cn]=C)},CQ=function(e,t,n,i,s){var o=360,l=vr(s),u=parseFloat(s)*(l&&~s.indexOf("rad")?Hu:1),h=u-i,f=i+h+"deg",p,g;return l&&(p=s.split("_")[1],p==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-o)),p==="cw"&&h<0?h=(h+o*WO)%o-~~(h/o)*o:p==="ccw"&&h>0&&(h=(h-o*WO)%o-~~(h/o)*o)),e._pt=g=new xi(e._pt,t,n,i,h,cQ),g.e=f,g.u="deg",e._props.push(n),g},ZO=function(e,t){for(var n in t)e[n]=t[n];return e},RQ=function(e,t,n){var i=ZO({},n._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=n.style,l,u,h,f,p,g,y,_;i.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),o[Cn]=t,l=nm(n,1),mc(n,Cn),n.setAttribute("transform",h)):(h=getComputedStyle(n)[Cn],o[Cn]=t,l=nm(n,1),o[Cn]=h);for(u in Oa)h=i[u],f=l[u],h!==f&&s.indexOf(u)<0&&(y=Wr(h),_=Wr(f),p=y!==_?Kl(n,u,h,_):parseFloat(h),g=parseFloat(f),e._pt=new xi(e._pt,l,u,p,g-p,Vx),e._pt.u=_||0,e._props.push(u));ZO(l,i)};Ei("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",s="Left",o=(e<3?[t,n,i,s]:[t+s,t+n,i+n,i+s]).map(function(l){return e<2?r+l:"border"+l+r});vv[e>1?"border"+r:r]=function(l,u,h,f,p){var g,y;if(arguments.length<4)return g=o.map(function(_){return ya(l,_,h)}),y=g.join(" "),y.split(g[0]).length===5?g[0]:y;g=(f+"").split(" "),y={},o.forEach(function(_,w){return y[_]=g[w]=g[w]||g[(w-1)/2|0]}),l.init(u,y,p)}});var p8={name:"css",register:zx,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,s){var o=this._props,l=e.style,u=n.vars.startAt,h,f,p,g,y,_,w,E,b,A,T,x,D,P,N,O;cC||zx(),this.styles=this.styles||a8(e),O=this.styles.props,this.tween=n;for(w in t)if(w!=="autoRound"&&(f=t[w],!(Hi[w]&&XL(w,t,n,i,e,s)))){if(y=typeof f,_=vv[w],y==="function"&&(f=f.call(n,i,e,s),y=typeof f),y==="string"&&~f.indexOf("random(")&&(f=Zp(f)),_)_(this,e,w,f,n)&&(N=1);else if(w.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(w)+"").trim(),f+="",Ll.lastIndex=0,Ll.test(h)||(E=Wr(h),b=Wr(f)),b?E!==b&&(h=Kl(e,w,h,b)+b):E&&(f+=E),this.add(l,"setProperty",h,f,i,s,0,0,w),o.push(w),O.push(w,0,l[w]);else if(y!=="undefined"){if(u&&w in u?(h=typeof u[w]=="function"?u[w].call(n,i,e,s):u[w],vr(h)&&~h.indexOf("random(")&&(h=Zp(h)),Wr(h+"")||h==="auto"||(h+=$i.units[w]||Wr(ya(e,w))||""),(h+"").charAt(1)==="="&&(h=ya(e,w))):h=ya(e,w),g=parseFloat(h),A=y==="string"&&f.charAt(1)==="="&&f.substr(0,2),A&&(f=f.substr(2)),p=parseFloat(f),w in So&&(w==="autoAlpha"&&(g===1&&ya(e,"visibility")==="hidden"&&p&&(g=0),O.push("visibility",0,l.visibility),El(this,l,"visibility",g?"inherit":"hidden",p?"inherit":"hidden",!p)),w!=="scale"&&w!=="transform"&&(w=So[w],~w.indexOf(",")&&(w=w.split(",")[0]))),T=w in Oa,T){if(this.styles.save(w),y==="string"&&f.substring(0,6)==="var(--"&&(f=_s(e,f.substring(4,f.indexOf(")"))),p=parseFloat(f)),x||(D=e._gsap,D.renderTransform&&!t.parseTransform||nm(e,t.parseTransform),P=t.smoothOrigin!==!1&&D.smooth,x=this._pt=new xi(this._pt,l,Cn,0,1,D.renderTransform,D,0,-1),x.dep=1),w==="scale")this._pt=new xi(this._pt,D,"scaleY",D.scaleY,(A?zh(D.scaleY,A+p):p)-D.scaleY||0,Vx),this._pt.u=0,o.push("scaleY",w),w+="X";else if(w==="transformOrigin"){O.push(Ti,0,l[Ti]),f=EQ(f),D.svg?jx(e,f,0,P,0,this):(b=parseFloat(f.split(" ")[2])||0,b!==D.zOrigin&&El(this,D,"zOrigin",D.zOrigin,b),El(this,l,w,wv(h),wv(f)));continue}else if(w==="svgOrigin"){jx(e,f,1,P,0,this);continue}else if(w in h8){CQ(this,D,w,g,A?zh(g,A+f):f);continue}else if(w==="smoothOrigin"){El(this,D,"smooth",D.smooth,f);continue}else if(w==="force3D"){D[w]=f;continue}else if(w==="transform"){RQ(this,f,e);continue}}else w in l||(w=df(w)||w);if(T||(p||p===0)&&(g||g===0)&&!uQ.test(f)&&w in l)E=(h+"").substr((g+"").length),p||(p=0),b=Wr(f)||(w in $i.units?$i.units[w]:E),E!==b&&(g=Kl(e,w,h,b)),this._pt=new xi(this._pt,T?D:l,w,g,(A?zh(g,A+p):p)-g,!T&&(b==="px"||w==="zIndex")&&t.autoRound!==!1?fQ:Vx),this._pt.u=b||0,E!==b&&b!=="%"&&(this._pt.b=h,this._pt.r=hQ);else if(w in l)SQ.call(this,e,w,h,A?A+f:f);else if(w in e)this.add(e,w,h||e[w],A?A+f:f,i,s);else if(w!=="parseTransform"){eC(w,f);continue}T||(w in l?O.push(w,0,l[w]):typeof e[w]=="function"?O.push(w,2,e[w]()):O.push(w,1,h||e[w])),o.push(w)}}N&&n8(this)},render:function(e,t){if(t.tween._time||!hC())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:ya,aliases:So,getSetter:function(e,t,n){var i=So[t];return i&&i.indexOf(",")<0&&(t=i),t in Oa&&t!==Ti&&(e._gsap.x||ya(e,"x"))?n&&qO===n?t==="scale"?gQ:mQ:(qO=n||{})&&(t==="scale"?yQ:vQ):e.style&&!QA(e.style[t])?dQ:~t.indexOf("-")?pQ:lC(e,t)},core:{_removeProperty:mc,_getMatrix:dC}};Ai.utils.checkPrefix=df;Ai.core.getStyleSaver=a8;(function(r,e,t,n){var i=Ei(r+","+e+","+t,function(s){Oa[s]=1});Ei(e,function(s){$i.units[s]="deg",h8[s]=1}),So[i[13]]=r+","+e,Ei(n,function(s){var o=s.split(":");So[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ei("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){$i.units[r]="px"});Ai.registerPlugin(p8);var xa=Ai.registerPlugin(p8)||Ai;xa.core.Tween;const xl="/Note_App-react/assets/close-DDe7rwc-.png",kQ="/Note_App-react/assets/logout-BhddWm9t.png",DQ="/Note_App-react/assets/login-DES58r7D.png",S0="/Note_App-react/assets/note-Cvd92_vb.png",IQ="/Note_App-react/assets/menu-UEItnt8j.png",OQ="/Note_App-react/assets/user-CmMfPSlW.png";/*!
 * @gsap/react 2.1.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let JO=typeof document<"u"?me.useLayoutEffect:me.useEffect,eN=r=>r&&!Array.isArray(r)&&typeof r=="object",Ey=[],NQ={},m8=xa;const rm=(r,e=Ey)=>{let t=NQ;eN(r)?(t=r,r=null,e="dependencies"in t?t.dependencies:Ey):eN(e)&&(t=e,e="dependencies"in t?t.dependencies:Ey),r&&typeof r!="function"&&console.warn("First parameter must be a function or config object");const{scope:n,revertOnUpdate:i}=t,s=me.useRef(!1),o=me.useRef(m8.context(()=>{},n)),l=me.useRef(h=>o.current.add(null,h)),u=e&&e.length&&!i;return u&&JO(()=>(s.current=!0,()=>o.current.revert()),Ey),JO(()=>{if(r&&o.current.add(r,n),!u||!s.current)return()=>o.current.revert()},e),{context:o.current,contextSafe:l.current}};rm.register=r=>{m8=r};rm.headless=!0;function MQ(){const r=Lf(),e=mr(O=>O.noted.currentuser),t=mr(O=>O.noted.logined),n="dwlfcrhc8",i="noteapp",[s,o]=me.useState(!1),[l,u]=me.useState(!1),h=mr(O=>O.noted.Folders),f=h?.length;let p=h?.reduce((O,C)=>O+C?.notes?.length,0),g=mr(O=>O.noted.menubar),y=me.useRef();const _=me.useRef(null),w=xc(),E=mr(O=>O.noted.editbar),[b,A]=me.useState(e?.profile_pic),[T,x]=me.useState(!1);me.useEffect(()=>{b!=null&&w(cO(b))},[b]);let D=O=>{O?xa.to(_.current,{x:"-200%",duration:1,ease:"expo.in"}):xa.to(_.current,{x:"0%",duration:1,ease:"power5.in"})};me.useEffect(()=>{E&&D(!0)},[E]);const P=()=>{w(m0()),w(j3(!1)),D(g)},N=O=>{if(O!=null){o(!0);const C=new FormData;C.append("file",O),C.append("upload_preset",i),fetch(`https://api.cloudinary.com/v1_1/${n}/image/upload`,{method:"POST",body:C}).then(q=>q.json()).then(q=>{w(cO(q.secure_url)),setTimeout(()=>{alert("Profile image succesfully changed!")},1e3),o(!1)}).catch(q=>{o(!1),setTimeout(()=>{alert("Img can't be changed!")},100)})}};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{ref:_,className:`user slide absolute flex overflow-x-hidden
      overflow-y-auto  scrollbar-hide gap-1 
      justify-start items-center  flex-col w-[70vmin] top-[8.4%]  h-[115vh]
     bg-black bg-opacity-100 z-[30] rounded-r-xl border-4 border-white border-l-0 
     py-1 translate-x-[-200%]`,children:[ae.jsx("div",{className:`absolute w-32 h-32 sm:w-40  sm:h-40 md:w-48 md:h-48 lg:w-40 lg:h-40 z-[11] 
       ${s?"":"hidden"} opacity-40 bg-gray-400 rounded-full grid place-items-center  `,children:ae.jsx("div",{className:`w-14 h-14 border-8 rounded-full opacity-1 z-[12]  border-white
         border-t-gray-900  animate-spin grid place-items-center`})}),ae.jsx("img",{src:e?.profile_pic??OQ,className:`use  w-32 h-32 sm:w-40 z-[10] sm:h-40 md:w-48 md:h-48 lg:w-40 lg:h-40   
    rounded-full border-orange-500 border-4 object-cover shadow-lg backdrop-brightness-110   `}),ae.jsx("label",{htmlFor:"input-file",className:` bg-orange-500   text-[3vmin]  px-3 py-1 font-semibold hover:bg-orange-600 transition-all shadow-sm rounded-lg
       border-2
       ${t?"":"hidden"}`,children:"Update image"}),ae.jsx("input",{type:"file",name:"",id:"input-file",accept:"image/jpeg,image/png,image/jpg ",className:"hidden",onChange:O=>{N(O.target.files[0])}}),ae.jsxs("span",{ref:y,className:"use text-center h-auto ",children:[ae.jsx("h1",{className:"user1 text-[3vmin] font-semibold font-serif  p-0",children:e?.username}),ae.jsx("h1",{className:"user1 font-thin text-gray-500 font-mono h-[2%] p-0 text-[2.6vmin]",children:e?.username})]}),ae.jsxs("div",{className:"user1 w-[90%] h-[22%] flex  justify-center flex-col gap-3  items-center text-[3vmin] ",children:[ae.jsxs("span",{className:"use w-[100%] flex  justify-start items-center ",children:[ae.jsx("h2",{className:"text-gray-400  font-semibold w-[50%] h-[80%] ",children:"Emaill"}),ae.jsx("h2",{className:"font-semibold  w-[100%]  h-[80%] text-left font-mono ",children:e?.email})]}),ae.jsxs("span",{className:"use w-[100%]  flex  justify-start items-center",children:[ae.jsx("h2",{className:"text-gray-400 font-semibold w-[50%] h-[80%]",children:"Mobile"}),ae.jsx("h2",{className:"font-semibold g w-[100%] h-[80%]  text-left  font-mono",children:e?.phonenumber})]}),ae.jsxs("span",{className:"use  w-[100%] flex  justify-start items-center",children:[ae.jsx("h2",{className:"text-gray-400 font-semibold w-[50%] h-[80%]",children:"Created"}),ae.jsx("h2",{className:"font-semibold w-[100%] h-[80%] text-left  font-mono",children:e?.created})]}),ae.jsxs("span",{className:"use w-[100%]  flex  justify-start items-center",children:[ae.jsx("h2",{className:"text-gray-400 font-semibold w-[50%] h-[80%]",children:"Password"}),ae.jsx("h2",{className:"font-semibold w-[100%] h-[80%] text-left  font-mono",children:e?.password})]})]}),ae.jsx("div",{className:"h-[1%] w-[90%] rounded-full bg-orange-600 text-black ",children:"  "}),ae.jsxs("div",{className:"total w-[90%] h-[20%] flex   justify-left flex-col   gap-3",children:[ae.jsxs("span",{className:"use flex items-center w-[100%] justify-start  ",children:[ae.jsx("img",{src:S0,className:"w-[6vmin] h-[6vmin]",alt:""}),ae.jsx("h1",{className:"text-orange-600 text-[5vmin] pt-0.5 font-semibold font-mono",children:"Notes"})]}),ae.jsxs("span",{className:"use w-[100%] flex items-center",children:[ae.jsx("h2",{className:"text-gray-400 w-[50%] font-semibold text-[3vmin]",children:"Total notes"}),ae.jsxs("h2",{className:"font-semibold w-[50%] h-[80%] text-right font-mono text-[3vmin] ",children:[" ",p||0]})]}),ae.jsxs("span",{className:"use w-[100%] flex",children:[ae.jsx("h2",{className:"text-gray-400 w-[50%] font-semibold text-[3vmin]",children:"Total folders"}),ae.jsx("h2",{className:"font-semibold w-[50%] h-[80%] text-right font-mono text-[3vmin]",children:f||0})]})]}),ae.jsxs("button",{className:"use text-[4vmin] bg-black border-4 p-2 rounded-lg flex hover:border-orange-500",onClick:async()=>{if(t)try{await Qj(gw),r("/"),w(lv({username:"User_name",password:"********",email:"notfound@gmail.com",phonenumber:"Notfound",created:"404,404,404",profile_pic:null})),w(H3(null)),w(m0(!1)),w(Ls(null)),w(Kp(!1)),w(q3(!1)),alert("You have succesfully logged out.")}catch{setTimeout(()=>{alert(`Some issue arised!
Check you network connection.`)},100)}else r("/login"),w(m0(!1))},children:[ae.jsx("img",{src:t?kQ:DQ,className:" w-[5vmin] h-[5vmin] mt-1",alt:""}),"Log",ae.jsx("span",{className:"text-orange-600",children:t?"out":"in"})]})]}),ae.jsxs("div",{className:"fixed   z-[2] gap-[10%]  border-2 flex flex-row items-center rounded-lg bg-black w-[100vw] h-[8vh] top-[0%] left-0 right-0",children:[ae.jsxs("span",{className:"flex items-center justify-left pl-2",children:[ae.jsx("img",{src:g?xl:IQ,className:"img w-[6vmin] h-[6vmin] z-50 p-0.5",alt:"",onClick:()=>{P()}}),ae.jsxs("h2",{className:" text-center font-mono p-0.5  ",children:[ae.jsx("span",{className:"text-white font-serif text-[3.5vmin]",children:"My"}),ae.jsx("span",{className:"text-orange-500 text-[3vmin]",children:"Note"})]})]}),ae.jsxs("div",{className:"nav w-[70%] h-[100%]  flex items-center justify-center gap-[10%]",children:[ae.jsx(cp,{to:"/",className:({isActive:O})=>`navl relative inline-block text-[4.3vmin]  text-orange-500 px-1 
         font-mono font-thin   after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${O?"after:w-full":""}  after:z-[-1] after:transition-all after:duration-300
        `,children:"Home"}),ae.jsx("h3",{className:`navl relative inline-block text-[4vmin]  text-orange-500 px-1 font-mono font-thin   after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full focus-visible:after:w-full after:z-[-1] after:transition-all after:duration-300
        `,onClick:()=>{P()},children:"Profile"}),ae.jsx(cp,{to:"/login",className:({isActive:O})=>` navl relative inline-block text-[4vmin]   text-orange-500 px-1 font-mono font-thin    after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${O?"after:w-full":""}  after:z-[-1] after:transition-all after:duration-300
       ${t?"hidden":""}`,children:"Login"}),ae.jsx(cp,{to:"/signup",className:({isActive:O})=>`navl relative inline-block text-[4vmin]   text-orange-500 px-1 font-mono font-thin    after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${O?"after:w-full":""}  after:z-[-1] after:transition-all after:duration-300
        ${t?"hidden":""}
        `,children:"Signup"}),ae.jsx(cp,{to:"/contact",className:({isActive:O})=>`navl relative inline-block text-[4vmin]   text-orange-500 px-1 font-mono font-thin  
          after:absolute after:left-0 after:bottom-0 
        after:h-[3px] after:w-0 after:bg-white hover:after:w-full ${O?"after:w-full":""} ${t?"":"hidden"} after:z-[-1] after:transition-all after:duration-300
        `,children:"Contact Us"})]})]})]})}function PQ(){const r=mr(h=>h.noted.currentuser),e=mr(h=>h.noted.Folders)??[],[t,n]=me.useState(!1),i=mr(h=>h.noted.fetching),s=me.useRef(i);me.useEffect(()=>{s.current=i},[i]);const o=xc(),l=Lf();me.useEffect(()=>{const h=Xj(gw,async f=>{if(f&&s.current){n(!0);try{const p=f?.providerData[0]?.email,g=wx(ov(xp,"users"),_x("email","==",`${p}`)),_=(await bx(g)).docs[0].data();o(lv(_)),o(Kp(!0)),l("/"),n(!1),setTimeout(()=>{alert("Login successful!")},1e3);return}catch{alert("User check yout network connection!!"),n(!1)}}else n(!1),o(Kp(!1))});return()=>{h()}},[]);const u=async()=>{try{const h=wx(ov(xp,"users"),_x("email","==",r?.email)),f=await bx(h);if(f.empty){alert("User not found for update.");return}const p=f?.docs[0];await CK(R3(xp,"users",p?.id),{...r}),console.log("updated")}catch{alert(`Oops! can't auto save chnages...
Check Your Network connection!!`)}};return me.useEffect(()=>{e.length==0&&(o(H3(r?.user_folders)),lv({...r,user_folders:e}))},[e]),me.useEffect(()=>{r?.email!=="notfound@gmail.com"&&u()},[r]),ae.jsxs(ae.Fragment,{children:[ae.jsx("div",{className:`fixed  w-[100vw] h-full z-50 scrollbar-hide grid place-items-center overflow-hidden  bg-gray-800 opacity-65 ${t?" ":"hidden"}`,children:ae.jsx("div",{className:"w-20 h-20 border-8 rounded-full border-t-black animate-spin "})}),ae.jsx(MQ,{}),ae.jsx(kY,{})]})}var bb={exports:{}},qd={},Sb={exports:{}},Eb={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tN;function LQ(){return tN||(tN=1,function(r){function e(Q,X){var fe=Q.length;Q.push(X);e:for(;0<fe;){var de=fe-1>>>1,ee=Q[de];if(0<i(ee,X))Q[de]=X,Q[fe]=ee,fe=de;else break e}}function t(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var X=Q[0],fe=Q.pop();if(fe!==X){Q[0]=fe;e:for(var de=0,ee=Q.length,J=ee>>>1;de<J;){var K=2*(de+1)-1,re=Q[K],he=K+1,ve=Q[he];if(0>i(re,fe))he<ee&&0>i(ve,re)?(Q[de]=ve,Q[he]=fe,de=he):(Q[de]=re,Q[K]=fe,de=K);else if(he<ee&&0>i(ve,fe))Q[de]=ve,Q[he]=fe,de=he;else break e}}return X}function i(Q,X){var fe=Q.sortIndex-X.sortIndex;return fe!==0?fe:Q.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();r.unstable_now=function(){return o.now()-l}}var u=[],h=[],f=1,p=null,g=3,y=!1,_=!1,w=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function x(Q){for(var X=t(h);X!==null;){if(X.callback===null)n(h);else if(X.startTime<=Q)n(h),X.sortIndex=X.expirationTime,e(u,X);else break;X=t(h)}}function D(Q){if(w=!1,x(Q),!_)if(t(u)!==null)_=!0,P||(P=!0,M());else{var X=t(h);X!==null&&oe(D,X.startTime-Q)}}var P=!1,N=-1,O=5,C=-1;function q(){return E?!0:!(r.unstable_now()-C<O)}function $(){if(E=!1,P){var Q=r.unstable_now();C=Q;var X=!0;try{e:{_=!1,w&&(w=!1,A(N),N=-1),y=!0;var fe=g;try{t:{for(x(Q),p=t(u);p!==null&&!(p.expirationTime>Q&&q());){var de=p.callback;if(typeof de=="function"){p.callback=null,g=p.priorityLevel;var ee=de(p.expirationTime<=Q);if(Q=r.unstable_now(),typeof ee=="function"){p.callback=ee,x(Q),X=!0;break t}p===t(u)&&n(u),x(Q)}else n(u);p=t(u)}if(p!==null)X=!0;else{var J=t(h);J!==null&&oe(D,J.startTime-Q),X=!1}}break e}finally{p=null,g=fe,y=!1}X=void 0}}finally{X?M():P=!1}}}var M;if(typeof T=="function")M=function(){T($)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=$,M=function(){B.postMessage(null)}}else M=function(){b($,0)};function oe(Q,X){N=b(function(){Q(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return g},r.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var fe=g;g=X;try{return Q()}finally{g=fe}},r.unstable_requestPaint=function(){E=!0},r.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=g;g=Q;try{return X()}finally{g=fe}},r.unstable_scheduleCallback=function(Q,X,fe){var de=r.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?de+fe:de):fe=de,Q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=fe+ee,Q={id:f++,callback:X,priorityLevel:Q,startTime:fe,expirationTime:ee,sortIndex:-1},fe>de?(Q.sortIndex=fe,e(h,Q),t(u)===null&&Q===t(h)&&(w?(A(N),N=-1):w=!0,oe(D,fe-de))):(Q.sortIndex=ee,e(u,Q),_||y||(_=!0,P||(P=!0,M()))),Q},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(Q){var X=g;return function(){var fe=g;g=X;try{return Q.apply(this,arguments)}finally{g=fe}}}}(Eb)),Eb}var nN;function BQ(){return nN||(nN=1,Sb.exports=LQ()),Sb.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN;function FQ(){if(rN)return qd;rN=1;var r=BQ(),e=qv(),t=mL();function n(a){var c="https://react.dev/errors/"+a;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var c=a,d=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,(c.flags&4098)!==0&&(d=c.return),a=c.return;while(a)}return c.tag===3?d:null}function o(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function l(a){if(s(a)!==a)throw Error(n(188))}function u(a){var c=a.alternate;if(!c){if(c=s(a),c===null)throw Error(n(188));return c!==a?null:a}for(var d=a,m=c;;){var S=d.return;if(S===null)break;var R=S.alternate;if(R===null){if(m=S.return,m!==null){d=m;continue}break}if(S.child===R.child){for(R=S.child;R;){if(R===d)return l(S),a;if(R===m)return l(S),c;R=R.sibling}throw Error(n(188))}if(d.return!==m.return)d=S,m=R;else{for(var G=!1,Z=S.child;Z;){if(Z===d){G=!0,d=S,m=R;break}if(Z===m){G=!0,m=S,d=R;break}Z=Z.sibling}if(!G){for(Z=R.child;Z;){if(Z===d){G=!0,d=R,m=S;break}if(Z===m){G=!0,m=R,d=S;break}Z=Z.sibling}if(!G)throw Error(n(189))}}if(d.alternate!==m)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?a:c}function h(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a;for(a=a.child;a!==null;){if(c=h(a),c!==null)return c;a=a.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),T=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=$&&a[$]||a["@@iterator"],typeof a=="function"?a:null)}var V=Symbol.for("react.client.reference");function B(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===V?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case _:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case P:return"SuspenseList";case C:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case y:return"Portal";case T:return(a.displayName||"Context")+".Provider";case A:return(a._context.displayName||"Context")+".Consumer";case x:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case N:return c=a.displayName||null,c!==null?c:B(a.type)||"Memo";case O:c=a._payload,a=a._init;try{return B(a(c))}catch{}}return null}var oe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},de=[],ee=-1;function J(a){return{current:a}}function K(a){0>ee||(a.current=de[ee],de[ee]=null,ee--)}function re(a,c){ee++,de[ee]=a.current,a.current=c}var he=J(null),ve=J(null),ue=J(null),j=J(null);function F(a,c){switch(re(ue,c),re(ve,a),re(he,null),c.nodeType){case 9:case 11:a=(a=c.documentElement)&&(a=a.namespaceURI)?qk(a):0;break;default:if(a=c.tagName,c=c.namespaceURI)c=qk(c),a=Wk(c,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}K(he),re(he,a)}function ce(){K(he),K(ve),K(ue)}function ie(a){a.memoizedState!==null&&re(j,a);var c=he.current,d=Wk(c,a.type);c!==d&&(re(ve,a),re(he,d))}function Y(a){ve.current===a&&(K(he),K(ve)),j.current===a&&(K(j),Nd._currentValue=fe)}var te=Object.prototype.hasOwnProperty,_e=r.unstable_scheduleCallback,U=r.unstable_cancelCallback,Se=r.unstable_shouldYield,H=r.unstable_requestPaint,k=r.unstable_now,I=r.unstable_getCurrentPriorityLevel,z=r.unstable_ImmediatePriority,se=r.unstable_UserBlockingPriority,ge=r.unstable_NormalPriority,le=r.unstable_LowPriority,De=r.unstable_IdlePriority,Pe=r.log,Oe=r.unstable_setDisableYieldValue,He=null,Ge=null;function it(a){if(typeof Pe=="function"&&Oe(a),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(He,a)}catch{}}var Nt=Math.clz32?Math.clz32:Br,Zr=Math.log,xn=Math.LN2;function Br(a){return a>>>=0,a===0?32:31-(Zr(a)/xn|0)|0}var Kt=256,Jr=4194304;function wr(a){var c=a&42;if(c!==0)return c;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Jn(a,c,d){var m=a.pendingLanes;if(m===0)return 0;var S=0,R=a.suspendedLanes,G=a.pingedLanes;a=a.warmLanes;var Z=m&134217727;return Z!==0?(m=Z&~R,m!==0?S=wr(m):(G&=Z,G!==0?S=wr(G):d||(d=Z&~a,d!==0&&(S=wr(d))))):(Z=m&~R,Z!==0?S=wr(Z):G!==0?S=wr(G):d||(d=m&~a,d!==0&&(S=wr(d)))),S===0?0:c!==0&&c!==S&&(c&R)===0&&(R=S&-S,d=c&-c,R>=d||R===32&&(d&4194048)!==0)?c:S}function ei(a,c){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&c)===0}function qs(a,c){switch(a){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var a=Kt;return Kt<<=1,(Kt&4194048)===0&&(Kt=256),a}function Go(){var a=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),a}function ti(a){for(var c=[],d=0;31>d;d++)c.push(a);return c}function _r(a,c){a.pendingLanes|=c,c!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ri(a,c,d,m,S,R){var G=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var Z=a.entanglements,pe=a.expirationTimes,Ce=a.hiddenUpdates;for(d=G&~d;0<d;){var Ne=31-Nt(d),Ve=1<<Ne;Z[Ne]=0,pe[Ne]=-1;var Re=Ce[Ne];if(Re!==null)for(Ce[Ne]=null,Ne=0;Ne<Re.length;Ne++){var ke=Re[Ne];ke!==null&&(ke.lane&=-536870913)}d&=~Ve}m!==0&&ni(a,m,0),R!==0&&S===0&&a.tag!==0&&(a.suspendedLanes|=R&~(G&~c))}function ni(a,c,d){a.pendingLanes|=c,a.suspendedLanes&=~c;var m=31-Nt(c);a.entangledLanes|=c,a.entanglements[m]=a.entanglements[m]|1073741824|d&4194090}function Ws(a,c){var d=a.entangledLanes|=c;for(a=a.entanglements;d;){var m=31-Nt(d),S=1<<m;S&c|a[m]&c&&(a[m]|=c),d&=~S}}function Gs(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Va(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function ye(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:cD(a.type))}function Ee(a,c){var d=X.p;try{return X.p=a,c()}finally{X.p=d}}var Ae=Math.random().toString(36).slice(2),ze="__reactFiber$"+Ae,Ke="__reactProps$"+Ae,Je="__reactContainer$"+Ae,ut="__reactEvents$"+Ae,nt="__reactListeners$"+Ae,ot="__reactHandles$"+Ae,st="__reactResources$"+Ae,dt="__reactMarker$"+Ae;function ct(a){delete a[ze],delete a[Ke],delete a[ut],delete a[nt],delete a[ot]}function yt(a){var c=a[ze];if(c)return c;for(var d=a.parentNode;d;){if(c=d[Je]||d[ze]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(a=Yk(a);a!==null;){if(d=a[ze])return d;a=Yk(a)}return c}a=d,d=a.parentNode}return null}function Dt(a){if(a=a[ze]||a[Je]){var c=a.tag;if(c===5||c===6||c===13||c===26||c===27||c===3)return a}return null}function Zt(a){var c=a.tag;if(c===5||c===26||c===27||c===6)return a.stateNode;throw Error(n(33))}function $t(a){var c=a[st];return c||(c=a[st]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Bt(a){a[dt]=!0}var Rt=new Set,Ji={};function er(a,c){ri(a,c),ri(a+"Capture",c)}function ri(a,c){for(Ji[a]=c,a=0;a<c.length;a++)Rt.add(c[a])}var br=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ks={},ki={};function Ua(a){return te.call(ki,a)?!0:te.call(Ks,a)?!1:br.test(a)?ki[a]=!0:(Ks[a]=!0,!1)}function Fr(a,c,d){if(Ua(c))if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(c);return;case"boolean":var m=c.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(c);return}}a.setAttribute(c,""+d)}}function ii(a,c,d){if(d===null)a.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttribute(c,""+d)}}function _t(a,c,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(c,d,""+m)}}var jn,Di;function hi(a){if(jn===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);jn=c&&c[1]||"",Di=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jn+a+Di}var $s=!1;function un(a,c){if(!a||$s)return"";$s=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(c){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(ke){var Re=ke}Reflect.construct(a,[],Ve)}else{try{Ve.call()}catch(ke){Re=ke}a.call(Ve.prototype)}}else{try{throw Error()}catch(ke){Re=ke}(Ve=a())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(ke){if(ke&&Re&&typeof ke.stack=="string")return[ke.stack,Re.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var R=m.DetermineComponentFrameRoot(),G=R[0],Z=R[1];if(G&&Z){var pe=G.split(`
`),Ce=Z.split(`
`);for(S=m=0;m<pe.length&&!pe[m].includes("DetermineComponentFrameRoot");)m++;for(;S<Ce.length&&!Ce[S].includes("DetermineComponentFrameRoot");)S++;if(m===pe.length||S===Ce.length)for(m=pe.length-1,S=Ce.length-1;1<=m&&0<=S&&pe[m]!==Ce[S];)S--;for(;1<=m&&0<=S;m--,S--)if(pe[m]!==Ce[S]){if(m!==1||S!==1)do if(m--,S--,0>S||pe[m]!==Ce[S]){var Ne=`
`+pe[m].replace(" at new "," at ");return a.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",a.displayName)),Ne}while(1<=m&&0<=S);break}}}finally{$s=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?hi(d):""}function es(a){switch(a.tag){case 26:case 27:case 5:return hi(a.type);case 16:return hi("Lazy");case 13:return hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return un(a.type,!1);case 11:return un(a.type.render,!1);case 1:return un(a.type,!0);case 31:return hi("Activity");default:return""}}function Ko(a){try{var c="";do c+=es(a),a=a.return;while(a);return c}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Sr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function zf(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Ww(a){var c=zf(a)?"checked":"value",d=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),m=""+a[c];if(!a.hasOwnProperty(c)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var S=d.get,R=d.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return S.call(this)},set:function(G){m=""+G,R.call(this,G)}}),Object.defineProperty(a,c,{enumerable:d.enumerable}),{getValue:function(){return m},setValue:function(G){m=""+G},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Ic(a){a._valueTracker||(a._valueTracker=Ww(a))}function jf(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var d=c.getValue(),m="";return a&&(m=zf(a)?a.checked?"true":"false":a.value),a=m,a!==d?(c.setValue(a),!0):!1}function lu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Gw=/[\n"\\]/g;function Hn(a){return a.replace(Gw,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Ii(a,c,d,m,S,R,G,Z){a.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?a.type=G:a.removeAttribute("type"),c!=null?G==="number"?(c===0&&a.value===""||a.value!=c)&&(a.value=""+Sr(c)):a.value!==""+Sr(c)&&(a.value=""+Sr(c)):G!=="submit"&&G!=="reset"||a.removeAttribute("value"),c!=null?za(a,G,Sr(c)):d!=null?za(a,G,Sr(d)):m!=null&&a.removeAttribute("value"),S==null&&R!=null&&(a.defaultChecked=!!R),S!=null&&(a.checked=S&&typeof S!="function"&&typeof S!="symbol"),Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?a.name=""+Sr(Z):a.removeAttribute("name")}function uu(a,c,d,m,S,R,G,Z){if(R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(a.type=R),c!=null||d!=null){if(!(R!=="submit"&&R!=="reset"||c!=null))return;d=d!=null?""+Sr(d):"",c=c!=null?""+Sr(c):d,Z||c===a.value||(a.value=c),a.defaultValue=c}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=Z?a.checked:!!m,a.defaultChecked=!!m,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(a.name=G)}function za(a,c,d){c==="number"&&lu(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function $o(a,c,d,m){if(a=a.options,c){c={};for(var S=0;S<d.length;S++)c["$"+d[S]]=!0;for(d=0;d<a.length;d++)S=c.hasOwnProperty("$"+a[d].value),a[d].selected!==S&&(a[d].selected=S),S&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Sr(d),c=null,S=0;S<a.length;S++){if(a[S].value===d){a[S].selected=!0,m&&(a[S].defaultSelected=!0);return}c!==null||a[S].disabled||(c=a[S])}c!==null&&(c.selected=!0)}}function rn(a,c,d){if(c!=null&&(c=""+Sr(c),c!==a.value&&(a.value=c),d==null)){a.defaultValue!==c&&(a.defaultValue=c);return}a.defaultValue=d!=null?""+Sr(d):""}function cu(a,c,d,m){if(c==null){if(m!=null){if(d!=null)throw Error(n(92));if(oe(m)){if(1<m.length)throw Error(n(93));m=m[0]}d=m}d==null&&(d=""),c=d}d=Sr(c),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m)}function ts(a,c){if(c){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=c;return}}a.textContent=c}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ym(a,c,d){var m=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(c,""):c==="float"?a.cssFloat="":a[c]="":m?a.setProperty(c,d):typeof d!="number"||d===0||hu.has(c)?c==="float"?a.cssFloat=d:a[c]=(""+d).trim():a[c]=d+"px"}function Hf(a,c,d){if(c!=null&&typeof c!="object")throw Error(n(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||c!=null&&c.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var S in c)m=c[S],c.hasOwnProperty(S)&&d[S]!==m&&Ym(a,S,m)}else for(var R in c)c.hasOwnProperty(R)&&Ym(a,R,c[R])}function qf(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$w=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oc(a){return $w.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var Yo=null;function ns(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Xo=null,Qo=null;function Wf(a){var c=Dt(a);if(c&&(a=c.stateNode)){var d=a[Ke]||null;e:switch(a=c.stateNode,c.type){case"input":if(Ii(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Hn(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var m=d[c];if(m!==a&&m.form===a.form){var S=m[Ke]||null;if(!S)throw Error(n(90));Ii(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(c=0;c<d.length;c++)m=d[c],m.form===a.form&&jf(m)}break e;case"textarea":rn(a,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&$o(a,!!d.multiple,c,!1)}}}var Ys=!1;function Xm(a,c,d){if(Ys)return a(c,d);Ys=!0;try{var m=a(c);return m}finally{if(Ys=!1,(Xo!==null||Qo!==null)&&(Hg(),Xo&&(c=Xo,a=Qo,Qo=Xo=null,Wf(c),a)))for(c=0;c<a.length;c++)Wf(a[c])}}function fu(a,c){var d=a.stateNode;if(d===null)return null;var m=d[Ke]||null;if(m===null)return null;d=m[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(n(231,c,typeof d));return d}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rs=!1;if(Ds)try{var du={};Object.defineProperty(du,"passive",{get:function(){rs=!0}}),window.addEventListener("test",du,du),window.removeEventListener("test",du,du)}catch{rs=!1}var Xs=null,ja=null,Zo=null;function Gf(){if(Zo)return Zo;var a,c=ja,d=c.length,m,S="value"in Xs?Xs.value:Xs.textContent,R=S.length;for(a=0;a<d&&c[a]===S[a];a++);var G=d-a;for(m=1;m<=G&&c[d-m]===S[R-m];m++);return Zo=S.slice(a,1<m?1-m:void 0)}function Qs(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function Zs(){return!0}function Kf(){return!1}function ur(a){function c(d,m,S,R,G){this._reactName=d,this._targetInst=S,this.type=m,this.nativeEvent=R,this.target=G,this.currentTarget=null;for(var Z in a)a.hasOwnProperty(Z)&&(d=a[Z],this[Z]=d?d(R):R[Z]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Zs:Kf,this.isPropagationStopped=Kf,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),c}var Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=ur(Jt),pu=f({},Jt,{view:0,detail:0}),Qm=ur(pu),Mc,Pc,Js,mu=f({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Js&&(Js&&a.type==="mousemove"?(Mc=a.screenX-Js.screenX,Pc=a.screenY-Js.screenY):Pc=Mc=0,Js=a),Mc)},movementY:function(a){return"movementY"in a?a.movementY:Pc}}),is=ur(mu),Zm=f({},mu,{dataTransfer:0}),Yw=ur(Zm),gu=f({},pu,{relatedTarget:0}),Lc=ur(gu),$f=f({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Bc=ur($f),Jm=f({},Jt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Fc=ur(Jm),Xw=f({},Jt,{data:0}),Yf=ur(Xw),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xf(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=tg[a])?!!c[a]:!1}function vu(){return Xf}var ng=f({},pu,{key:function(a){if(a.key){var c=yu[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=Qs(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?eg[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(a){return a.type==="keypress"?Qs(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Qs(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Vc=ur(ng),rg=f({},mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qf=ur(rg),Jo=f({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),ig=ur(Jo),sg=f({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),og=ur(sg),ag=f({},mu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Uc=ur(ag),si=f({},Jt,{newState:0,oldState:0}),lg=ur(si),ug=[9,13,27,32],eo=Ds&&"CompositionEvent"in window,v=null;Ds&&"documentMode"in document&&(v=document.documentMode);var L=Ds&&"TextEvent"in window&&!v,W=Ds&&(!eo||v&&8<v&&11>=v),ne=" ",xe=!1;function Ie(a,c){switch(a){case"keyup":return ug.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $e(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var zt=!1;function tr(a,c){switch(a){case"compositionend":return $e(c);case"keypress":return c.which!==32?null:(xe=!0,ne);case"textInput":return a=c.data,a===ne&&xe?null:a;default:return null}}function jt(a,c){if(zt)return a==="compositionend"||!eo&&Ie(a,c)?(a=Gf(),Zo=ja=Xs=null,zt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return W&&c.locale!=="ko"?null:c.data;default:return null}}var cr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!cr[a.type]:c==="textarea"}function ea(a,c,d,m){Xo?Qo?Qo.push(m):Qo=[m]:Xo=m,c=Yg(c,"onChange"),0<c.length&&(d=new Nc("onChange","change",null,d,m),a.push({event:d,listeners:c}))}var Er=null,to=null;function Zf(a){Vk(a,0)}function cg(a){var c=Zt(a);if(jf(c))return a}function oR(a,c){if(a==="change")return c}var aR=!1;if(Ds){var Qw;if(Ds){var Zw="oninput"in document;if(!Zw){var lR=document.createElement("div");lR.setAttribute("oninput","return;"),Zw=typeof lR.oninput=="function"}Qw=Zw}else Qw=!1;aR=Qw&&(!document.documentMode||9<document.documentMode)}function uR(){Er&&(Er.detachEvent("onpropertychange",cR),to=Er=null)}function cR(a){if(a.propertyName==="value"&&cg(to)){var c=[];ea(c,to,a,ns(a)),Xm(Zf,c)}}function JF(a,c,d){a==="focusin"?(uR(),Er=c,to=d,Er.attachEvent("onpropertychange",cR)):a==="focusout"&&uR()}function eV(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return cg(to)}function tV(a,c){if(a==="click")return cg(c)}function nV(a,c){if(a==="input"||a==="change")return cg(c)}function rV(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var Oi=typeof Object.is=="function"?Object.is:rV;function Jf(a,c){if(Oi(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var d=Object.keys(a),m=Object.keys(c);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var S=d[m];if(!te.call(c,S)||!Oi(a[S],c[S]))return!1}return!0}function hR(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function fR(a,c){var d=hR(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=c&&m>=c)return{node:d,offset:c-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=hR(d)}}function dR(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?dR(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function pR(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var c=lu(a.document);c instanceof a.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)a=c.contentWindow;else break;c=lu(a.document)}return c}function Jw(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}var iV=Ds&&"documentMode"in document&&11>=document.documentMode,zc=null,e1=null,ed=null,t1=!1;function mR(a,c,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;t1||zc==null||zc!==lu(m)||(m=zc,"selectionStart"in m&&Jw(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ed&&Jf(ed,m)||(ed=m,m=Yg(e1,"onSelect"),0<m.length&&(c=new Nc("onSelect","select",null,c,d),a.push({event:c,listeners:m}),c.target=zc)))}function wu(a,c){var d={};return d[a.toLowerCase()]=c.toLowerCase(),d["Webkit"+a]="webkit"+c,d["Moz"+a]="moz"+c,d}var jc={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionrun:wu("Transition","TransitionRun"),transitionstart:wu("Transition","TransitionStart"),transitioncancel:wu("Transition","TransitionCancel"),transitionend:wu("Transition","TransitionEnd")},n1={},gR={};Ds&&(gR=document.createElement("div").style,"AnimationEvent"in window||(delete jc.animationend.animation,delete jc.animationiteration.animation,delete jc.animationstart.animation),"TransitionEvent"in window||delete jc.transitionend.transition);function _u(a){if(n1[a])return n1[a];if(!jc[a])return a;var c=jc[a],d;for(d in c)if(c.hasOwnProperty(d)&&d in gR)return n1[a]=c[d];return a}var yR=_u("animationend"),vR=_u("animationiteration"),wR=_u("animationstart"),sV=_u("transitionrun"),oV=_u("transitionstart"),aV=_u("transitioncancel"),_R=_u("transitionend"),bR=new Map,r1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");r1.push("scrollEnd");function Is(a,c){bR.set(a,c),er(c,[a])}var SR=new WeakMap;function ss(a,c){if(typeof a=="object"&&a!==null){var d=SR.get(a);return d!==void 0?d:(c={value:a,source:c,stack:Ko(c)},SR.set(a,c),c)}return{value:a,source:c,stack:Ko(c)}}var os=[],Hc=0,i1=0;function hg(){for(var a=Hc,c=i1=Hc=0;c<a;){var d=os[c];os[c++]=null;var m=os[c];os[c++]=null;var S=os[c];os[c++]=null;var R=os[c];if(os[c++]=null,m!==null&&S!==null){var G=m.pending;G===null?S.next=S:(S.next=G.next,G.next=S),m.pending=S}R!==0&&ER(d,S,R)}}function fg(a,c,d,m){os[Hc++]=a,os[Hc++]=c,os[Hc++]=d,os[Hc++]=m,i1|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function s1(a,c,d,m){return fg(a,c,d,m),dg(a)}function qc(a,c){return fg(a,null,null,c),dg(a)}function ER(a,c,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var S=!1,R=a.return;R!==null;)R.childLanes|=d,m=R.alternate,m!==null&&(m.childLanes|=d),R.tag===22&&(a=R.stateNode,a===null||a._visibility&1||(S=!0)),a=R,R=R.return;return a.tag===3?(R=a.stateNode,S&&c!==null&&(S=31-Nt(d),a=R.hiddenUpdates,m=a[S],m===null?a[S]=[c]:m.push(c),c.lane=d|536870912),R):null}function dg(a){if(50<Td)throw Td=0,h_=null,Error(n(185));for(var c=a.return;c!==null;)a=c,c=a.return;return a.tag===3?a.stateNode:null}var Wc={};function lV(a,c,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(a,c,d,m){return new lV(a,c,d,m)}function o1(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ta(a,c){var d=a.alternate;return d===null?(d=Ni(a.tag,c,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=c,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,c=a.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function xR(a,c){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=c,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,c=d.dependencies,a.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),a}function pg(a,c,d,m,S,R){var G=0;if(m=a,typeof a=="function")o1(a)&&(G=1);else if(typeof a=="string")G=cU(a,d,he.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case C:return a=Ni(31,d,c,S),a.elementType=C,a.lanes=R,a;case _:return bu(d.children,S,R,c);case w:G=8,S|=24;break;case E:return a=Ni(12,d,c,S|2),a.elementType=E,a.lanes=R,a;case D:return a=Ni(13,d,c,S),a.elementType=D,a.lanes=R,a;case P:return a=Ni(19,d,c,S),a.elementType=P,a.lanes=R,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case b:case T:G=10;break e;case A:G=9;break e;case x:G=11;break e;case N:G=14;break e;case O:G=16,m=null;break e}G=29,d=Error(n(130,a===null?"null":typeof a,"")),m=null}return c=Ni(G,d,c,S),c.elementType=a,c.type=m,c.lanes=R,c}function bu(a,c,d,m){return a=Ni(7,a,m,c),a.lanes=d,a}function a1(a,c,d){return a=Ni(6,a,null,c),a.lanes=d,a}function l1(a,c,d){return c=Ni(4,a.children!==null?a.children:[],a.key,c),c.lanes=d,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}var Gc=[],Kc=0,mg=null,gg=0,as=[],ls=0,Su=null,na=1,ra="";function Eu(a,c){Gc[Kc++]=gg,Gc[Kc++]=mg,mg=a,gg=c}function TR(a,c,d){as[ls++]=na,as[ls++]=ra,as[ls++]=Su,Su=a;var m=na;a=ra;var S=32-Nt(m)-1;m&=~(1<<S),d+=1;var R=32-Nt(c)+S;if(30<R){var G=S-S%5;R=(m&(1<<G)-1).toString(32),m>>=G,S-=G,na=1<<32-Nt(c)+S|d<<S|m,ra=R+a}else na=1<<R|d<<S|m,ra=a}function u1(a){a.return!==null&&(Eu(a,1),TR(a,1,0))}function c1(a){for(;a===mg;)mg=Gc[--Kc],Gc[Kc]=null,gg=Gc[--Kc],Gc[Kc]=null;for(;a===Su;)Su=as[--ls],as[ls]=null,ra=as[--ls],as[ls]=null,na=as[--ls],as[ls]=null}var oi=null,kn=null,Xt=!1,xu=null,no=!1,h1=Error(n(519));function Tu(a){var c=Error(n(418,""));throw rd(ss(c,a)),h1}function AR(a){var c=a.stateNode,d=a.type,m=a.memoizedProps;switch(c[ze]=a,c[Ke]=m,d){case"dialog":Ot("cancel",c),Ot("close",c);break;case"iframe":case"object":case"embed":Ot("load",c);break;case"video":case"audio":for(d=0;d<Cd.length;d++)Ot(Cd[d],c);break;case"source":Ot("error",c);break;case"img":case"image":case"link":Ot("error",c),Ot("load",c);break;case"details":Ot("toggle",c);break;case"input":Ot("invalid",c),uu(c,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0),Ic(c);break;case"select":Ot("invalid",c);break;case"textarea":Ot("invalid",c),cu(c,m.value,m.defaultValue,m.children),Ic(c)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||m.suppressHydrationWarning===!0||Hk(c.textContent,d)?(m.popover!=null&&(Ot("beforetoggle",c),Ot("toggle",c)),m.onScroll!=null&&Ot("scroll",c),m.onScrollEnd!=null&&Ot("scrollend",c),m.onClick!=null&&(c.onclick=Xg),c=!0):c=!1,c||Tu(a)}function CR(a){for(oi=a.return;oi;)switch(oi.tag){case 5:case 13:no=!1;return;case 27:case 3:no=!0;return;default:oi=oi.return}}function td(a){if(a!==oi)return!1;if(!Xt)return CR(a),Xt=!0,!1;var c=a.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||C_(a.type,a.memoizedProps)),d=!d),d&&kn&&Tu(a),CR(a),c===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8)if(d=a.data,d==="/$"){if(c===0){kn=Ns(a.nextSibling);break e}c--}else d!=="$"&&d!=="$!"&&d!=="$?"||c++;a=a.nextSibling}kn=null}}else c===27?(c=kn,il(a.type)?(a=I_,I_=null,kn=a):kn=c):kn=oi?Ns(a.stateNode.nextSibling):null;return!0}function nd(){kn=oi=null,Xt=!1}function RR(){var a=xu;return a!==null&&(pi===null?pi=a:pi.push.apply(pi,a),xu=null),a}function rd(a){xu===null?xu=[a]:xu.push(a)}var f1=J(null),Au=null,ia=null;function Ha(a,c,d){re(f1,c._currentValue),c._currentValue=d}function sa(a){a._currentValue=f1.current,K(f1)}function d1(a,c,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,m!==null&&(m.childLanes|=c)):m!==null&&(m.childLanes&c)!==c&&(m.childLanes|=c),a===d)break;a=a.return}}function p1(a,c,d,m){var S=a.child;for(S!==null&&(S.return=a);S!==null;){var R=S.dependencies;if(R!==null){var G=S.child;R=R.firstContext;e:for(;R!==null;){var Z=R;R=S;for(var pe=0;pe<c.length;pe++)if(Z.context===c[pe]){R.lanes|=d,Z=R.alternate,Z!==null&&(Z.lanes|=d),d1(R.return,d,a),m||(G=null);break e}R=Z.next}}else if(S.tag===18){if(G=S.return,G===null)throw Error(n(341));G.lanes|=d,R=G.alternate,R!==null&&(R.lanes|=d),d1(G,d,a),G=null}else G=S.child;if(G!==null)G.return=S;else for(G=S;G!==null;){if(G===a){G=null;break}if(S=G.sibling,S!==null){S.return=G.return,G=S;break}G=G.return}S=G}}function id(a,c,d,m){a=null;for(var S=c,R=!1;S!==null;){if(!R){if((S.flags&524288)!==0)R=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var G=S.alternate;if(G===null)throw Error(n(387));if(G=G.memoizedProps,G!==null){var Z=S.type;Oi(S.pendingProps.value,G.value)||(a!==null?a.push(Z):a=[Z])}}else if(S===j.current){if(G=S.alternate,G===null)throw Error(n(387));G.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(a!==null?a.push(Nd):a=[Nd])}S=S.return}a!==null&&p1(c,a,d,m),c.flags|=262144}function yg(a){for(a=a.firstContext;a!==null;){if(!Oi(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Cu(a){Au=a,ia=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Vr(a){return kR(Au,a)}function vg(a,c){return Au===null&&Cu(a),kR(a,c)}function kR(a,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},ia===null){if(a===null)throw Error(n(308));ia=c,a.dependencies={lanes:0,firstContext:c},a.flags|=524288}else ia=ia.next=c;return d}var uV=typeof AbortController<"u"?AbortController:function(){var a=[],c=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){c.aborted=!0,a.forEach(function(d){return d()})}},cV=r.unstable_scheduleCallback,hV=r.unstable_NormalPriority,rr={$$typeof:T,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m1(){return{controller:new uV,data:new Map,refCount:0}}function sd(a){a.refCount--,a.refCount===0&&cV(hV,function(){a.controller.abort()})}var od=null,g1=0,$c=0,Yc=null;function fV(a,c){if(od===null){var d=od=[];g1=0,$c=v_(),Yc={status:"pending",value:void 0,then:function(m){d.push(m)}}}return g1++,c.then(DR,DR),c}function DR(){if(--g1===0&&od!==null){Yc!==null&&(Yc.status="fulfilled");var a=od;od=null,$c=0,Yc=null;for(var c=0;c<a.length;c++)(0,a[c])()}}function dV(a,c){var d=[],m={status:"pending",value:null,reason:null,then:function(S){d.push(S)}};return a.then(function(){m.status="fulfilled",m.value=c;for(var S=0;S<d.length;S++)(0,d[S])(c)},function(S){for(m.status="rejected",m.reason=S,S=0;S<d.length;S++)(0,d[S])(void 0)}),m}var IR=Q.S;Q.S=function(a,c){typeof c=="object"&&c!==null&&typeof c.then=="function"&&fV(a,c),IR!==null&&IR(a,c)};var Ru=J(null);function y1(){var a=Ru.current;return a!==null?a:gn.pooledCache}function wg(a,c){c===null?re(Ru,Ru.current):re(Ru,c.pool)}function OR(){var a=y1();return a===null?null:{parent:rr._currentValue,pool:a}}var ad=Error(n(460)),NR=Error(n(474)),_g=Error(n(542)),v1={then:function(){}};function MR(a){return a=a.status,a==="fulfilled"||a==="rejected"}function bg(){}function PR(a,c,d){switch(d=a[d],d===void 0?a.push(c):d!==c&&(c.then(bg,bg),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,BR(a),a;default:if(typeof c.status=="string")c.then(bg,bg);else{if(a=gn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=c,a.status="pending",a.then(function(m){if(c.status==="pending"){var S=c;S.status="fulfilled",S.value=m}},function(m){if(c.status==="pending"){var S=c;S.status="rejected",S.reason=m}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw a=c.reason,BR(a),a}throw ld=c,ad}}var ld=null;function LR(){if(ld===null)throw Error(n(459));var a=ld;return ld=null,a}function BR(a){if(a===ad||a===_g)throw Error(n(483))}var qa=!1;function w1(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _1(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Wa(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Ga(a,c,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(tn&2)!==0){var S=m.pending;return S===null?c.next=c:(c.next=S.next,S.next=c),m.pending=c,c=dg(a),ER(a,null,d),c}return fg(a,m,c,d),dg(a)}function ud(a,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,Ws(a,d)}}function b1(a,c){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var S=null,R=null;if(d=d.firstBaseUpdate,d!==null){do{var G={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};R===null?S=R=G:R=R.next=G,d=d.next}while(d!==null);R===null?S=R=c:R=R.next=c}else S=R=c;d={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:R,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=c}var S1=!1;function cd(){if(S1){var a=Yc;if(a!==null)throw a}}function hd(a,c,d,m){S1=!1;var S=a.updateQueue;qa=!1;var R=S.firstBaseUpdate,G=S.lastBaseUpdate,Z=S.shared.pending;if(Z!==null){S.shared.pending=null;var pe=Z,Ce=pe.next;pe.next=null,G===null?R=Ce:G.next=Ce,G=pe;var Ne=a.alternate;Ne!==null&&(Ne=Ne.updateQueue,Z=Ne.lastBaseUpdate,Z!==G&&(Z===null?Ne.firstBaseUpdate=Ce:Z.next=Ce,Ne.lastBaseUpdate=pe))}if(R!==null){var Ve=S.baseState;G=0,Ne=Ce=pe=null,Z=R;do{var Re=Z.lane&-536870913,ke=Re!==Z.lane;if(ke?(Ht&Re)===Re:(m&Re)===Re){Re!==0&&Re===$c&&(S1=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:Z.tag,payload:Z.payload,callback:null,next:null});e:{var vt=a,ft=Z;Re=c;var an=d;switch(ft.tag){case 1:if(vt=ft.payload,typeof vt=="function"){Ve=vt.call(an,Ve,Re);break e}Ve=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=ft.payload,Re=typeof vt=="function"?vt.call(an,Ve,Re):vt,Re==null)break e;Ve=f({},Ve,Re);break e;case 2:qa=!0}}Re=Z.callback,Re!==null&&(a.flags|=64,ke&&(a.flags|=8192),ke=S.callbacks,ke===null?S.callbacks=[Re]:ke.push(Re))}else ke={lane:Re,tag:Z.tag,payload:Z.payload,callback:Z.callback,next:null},Ne===null?(Ce=Ne=ke,pe=Ve):Ne=Ne.next=ke,G|=Re;if(Z=Z.next,Z===null){if(Z=S.shared.pending,Z===null)break;ke=Z,Z=ke.next,ke.next=null,S.lastBaseUpdate=ke,S.shared.pending=null}}while(!0);Ne===null&&(pe=Ve),S.baseState=pe,S.firstBaseUpdate=Ce,S.lastBaseUpdate=Ne,R===null&&(S.shared.lanes=0),el|=G,a.lanes=G,a.memoizedState=Ve}}function FR(a,c){if(typeof a!="function")throw Error(n(191,a));a.call(c)}function VR(a,c){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)FR(d[a],c)}var Xc=J(null),Sg=J(0);function UR(a,c){a=fa,re(Sg,a),re(Xc,c),fa=a|c.baseLanes}function E1(){re(Sg,fa),re(Xc,Xc.current)}function x1(){fa=Sg.current,K(Xc),K(Sg)}var Ka=0,At=null,sn=null,qn=null,Eg=!1,Qc=!1,ku=!1,xg=0,fd=0,Zc=null,pV=0;function Mn(){throw Error(n(321))}function T1(a,c){if(c===null)return!1;for(var d=0;d<c.length&&d<a.length;d++)if(!Oi(a[d],c[d]))return!1;return!0}function A1(a,c,d,m,S,R){return Ka=R,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,Q.H=a===null||a.memoizedState===null?E2:x2,ku=!1,R=d(m,S),ku=!1,Qc&&(R=jR(c,d,m,S)),zR(a),R}function zR(a){Q.H=Dg;var c=sn!==null&&sn.next!==null;if(Ka=0,qn=sn=At=null,Eg=!1,fd=0,Zc=null,c)throw Error(n(300));a===null||hr||(a=a.dependencies,a!==null&&yg(a)&&(hr=!0))}function jR(a,c,d,m){At=a;var S=0;do{if(Qc&&(Zc=null),fd=0,Qc=!1,25<=S)throw Error(n(301));if(S+=1,qn=sn=null,a.updateQueue!=null){var R=a.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}Q.H=bV,R=c(d,m)}while(Qc);return R}function mV(){var a=Q.H,c=a.useState()[0];return c=typeof c.then=="function"?dd(c):c,a=a.useState()[0],(sn!==null?sn.memoizedState:null)!==a&&(At.flags|=1024),c}function C1(){var a=xg!==0;return xg=0,a}function R1(a,c,d){c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~d}function k1(a){if(Eg){for(a=a.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}Eg=!1}Ka=0,qn=sn=At=null,Qc=!1,fd=xg=0,Zc=null}function fi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?At.memoizedState=qn=a:qn=qn.next=a,qn}function Wn(){if(sn===null){var a=At.alternate;a=a!==null?a.memoizedState:null}else a=sn.next;var c=qn===null?At.memoizedState:qn.next;if(c!==null)qn=c,sn=a;else{if(a===null)throw At.alternate===null?Error(n(467)):Error(n(310));sn=a,a={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},qn===null?At.memoizedState=qn=a:qn=qn.next=a}return qn}function D1(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dd(a){var c=fd;return fd+=1,Zc===null&&(Zc=[]),a=PR(Zc,a,c),c=At,(qn===null?c.memoizedState:qn.next)===null&&(c=c.alternate,Q.H=c===null||c.memoizedState===null?E2:x2),a}function Tg(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return dd(a);if(a.$$typeof===T)return Vr(a)}throw Error(n(438,String(a)))}function I1(a){var c=null,d=At.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var m=At.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(c={data:m.data.map(function(S){return S.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=D1(),At.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(a),m=0;m<a;m++)d[m]=q;return c.index++,d}function oa(a,c){return typeof c=="function"?c(a):c}function Ag(a){var c=Wn();return O1(c,sn,a)}function O1(a,c,d){var m=a.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=d;var S=a.baseQueue,R=m.pending;if(R!==null){if(S!==null){var G=S.next;S.next=R.next,R.next=G}c.baseQueue=S=R,m.pending=null}if(R=a.baseState,S===null)a.memoizedState=R;else{c=S.next;var Z=G=null,pe=null,Ce=c,Ne=!1;do{var Ve=Ce.lane&-536870913;if(Ve!==Ce.lane?(Ht&Ve)===Ve:(Ka&Ve)===Ve){var Re=Ce.revertLane;if(Re===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),Ve===$c&&(Ne=!0);else if((Ka&Re)===Re){Ce=Ce.next,Re===$c&&(Ne=!0);continue}else Ve={lane:0,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},pe===null?(Z=pe=Ve,G=R):pe=pe.next=Ve,At.lanes|=Re,el|=Re;Ve=Ce.action,ku&&d(R,Ve),R=Ce.hasEagerState?Ce.eagerState:d(R,Ve)}else Re={lane:Ve,revertLane:Ce.revertLane,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},pe===null?(Z=pe=Re,G=R):pe=pe.next=Re,At.lanes|=Ve,el|=Ve;Ce=Ce.next}while(Ce!==null&&Ce!==c);if(pe===null?G=R:pe.next=Z,!Oi(R,a.memoizedState)&&(hr=!0,Ne&&(d=Yc,d!==null)))throw d;a.memoizedState=R,a.baseState=G,a.baseQueue=pe,m.lastRenderedState=R}return S===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function N1(a){var c=Wn(),d=c.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=a;var m=d.dispatch,S=d.pending,R=c.memoizedState;if(S!==null){d.pending=null;var G=S=S.next;do R=a(R,G.action),G=G.next;while(G!==S);Oi(R,c.memoizedState)||(hr=!0),c.memoizedState=R,c.baseQueue===null&&(c.baseState=R),d.lastRenderedState=R}return[R,m]}function HR(a,c,d){var m=At,S=Wn(),R=Xt;if(R){if(d===void 0)throw Error(n(407));d=d()}else d=c();var G=!Oi((sn||S).memoizedState,d);G&&(S.memoizedState=d,hr=!0),S=S.queue;var Z=GR.bind(null,m,S,a);if(pd(2048,8,Z,[a]),S.getSnapshot!==c||G||qn!==null&&qn.memoizedState.tag&1){if(m.flags|=2048,Jc(9,Cg(),WR.bind(null,m,S,d,c),null),gn===null)throw Error(n(349));R||(Ka&124)!==0||qR(m,c,d)}return d}function qR(a,c,d){a.flags|=16384,a={getSnapshot:c,value:d},c=At.updateQueue,c===null?(c=D1(),At.updateQueue=c,c.stores=[a]):(d=c.stores,d===null?c.stores=[a]:d.push(a))}function WR(a,c,d,m){c.value=d,c.getSnapshot=m,KR(c)&&$R(a)}function GR(a,c,d){return d(function(){KR(c)&&$R(a)})}function KR(a){var c=a.getSnapshot;a=a.value;try{var d=c();return!Oi(a,d)}catch{return!0}}function $R(a){var c=qc(a,2);c!==null&&Fi(c,a,2)}function M1(a){var c=fi();if(typeof a=="function"){var d=a;if(a=d(),ku){it(!0);try{d()}finally{it(!1)}}}return c.memoizedState=c.baseState=a,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:a},c}function YR(a,c,d,m){return a.baseState=d,O1(a,sn,typeof m=="function"?m:oa)}function gV(a,c,d,m,S){if(kg(a))throw Error(n(485));if(a=c.action,a!==null){var R={payload:S,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){R.listeners.push(G)}};Q.T!==null?d(!0):R.isTransition=!1,m(R),d=c.pending,d===null?(R.next=c.pending=R,XR(c,R)):(R.next=d.next,c.pending=d.next=R)}}function XR(a,c){var d=c.action,m=c.payload,S=a.state;if(c.isTransition){var R=Q.T,G={};Q.T=G;try{var Z=d(S,m),pe=Q.S;pe!==null&&pe(G,Z),QR(a,c,Z)}catch(Ce){P1(a,c,Ce)}finally{Q.T=R}}else try{R=d(S,m),QR(a,c,R)}catch(Ce){P1(a,c,Ce)}}function QR(a,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){ZR(a,c,m)},function(m){return P1(a,c,m)}):ZR(a,c,d)}function ZR(a,c,d){c.status="fulfilled",c.value=d,JR(c),a.state=d,c=a.pending,c!==null&&(d=c.next,d===c?a.pending=null:(d=d.next,c.next=d,XR(a,d)))}function P1(a,c,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do c.status="rejected",c.reason=d,JR(c),c=c.next;while(c!==m)}a.action=null}function JR(a){a=a.listeners;for(var c=0;c<a.length;c++)(0,a[c])()}function e2(a,c){return c}function t2(a,c){if(Xt){var d=gn.formState;if(d!==null){e:{var m=At;if(Xt){if(kn){t:{for(var S=kn,R=no;S.nodeType!==8;){if(!R){S=null;break t}if(S=Ns(S.nextSibling),S===null){S=null;break t}}R=S.data,S=R==="F!"||R==="F"?S:null}if(S){kn=Ns(S.nextSibling),m=S.data==="F!";break e}}Tu(m)}m=!1}m&&(c=d[0])}}return d=fi(),d.memoizedState=d.baseState=c,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e2,lastRenderedState:c},d.queue=m,d=_2.bind(null,At,m),m.dispatch=d,m=M1(!1),R=U1.bind(null,At,!1,m.queue),m=fi(),S={state:c,dispatch:null,action:a,pending:null},m.queue=S,d=gV.bind(null,At,S,R,d),S.dispatch=d,m.memoizedState=a,[c,d,!1]}function n2(a){var c=Wn();return r2(c,sn,a)}function r2(a,c,d){if(c=O1(a,c,e2)[0],a=Ag(oa)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var m=dd(c)}catch(G){throw G===ad?_g:G}else m=c;c=Wn();var S=c.queue,R=S.dispatch;return d!==c.memoizedState&&(At.flags|=2048,Jc(9,Cg(),yV.bind(null,S,d),null)),[m,R,a]}function yV(a,c){a.action=c}function i2(a){var c=Wn(),d=sn;if(d!==null)return r2(c,d,a);Wn(),c=c.memoizedState,d=Wn();var m=d.queue.dispatch;return d.memoizedState=a,[c,m,!1]}function Jc(a,c,d,m){return a={tag:a,create:d,deps:m,inst:c,next:null},c=At.updateQueue,c===null&&(c=D1(),At.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,c.lastEffect=a),a}function Cg(){return{destroy:void 0,resource:void 0}}function s2(){return Wn().memoizedState}function Rg(a,c,d,m){var S=fi();m=m===void 0?null:m,At.flags|=a,S.memoizedState=Jc(1|c,Cg(),d,m)}function pd(a,c,d,m){var S=Wn();m=m===void 0?null:m;var R=S.memoizedState.inst;sn!==null&&m!==null&&T1(m,sn.memoizedState.deps)?S.memoizedState=Jc(c,R,d,m):(At.flags|=a,S.memoizedState=Jc(1|c,R,d,m))}function o2(a,c){Rg(8390656,8,a,c)}function a2(a,c){pd(2048,8,a,c)}function l2(a,c){return pd(4,2,a,c)}function u2(a,c){return pd(4,4,a,c)}function c2(a,c){if(typeof c=="function"){a=a();var d=c(a);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function h2(a,c,d){d=d!=null?d.concat([a]):null,pd(4,4,c2.bind(null,c,a),d)}function L1(){}function f2(a,c){var d=Wn();c=c===void 0?null:c;var m=d.memoizedState;return c!==null&&T1(c,m[1])?m[0]:(d.memoizedState=[a,c],a)}function d2(a,c){var d=Wn();c=c===void 0?null:c;var m=d.memoizedState;if(c!==null&&T1(c,m[1]))return m[0];if(m=a(),ku){it(!0);try{a()}finally{it(!1)}}return d.memoizedState=[m,c],m}function B1(a,c,d){return d===void 0||(Ka&1073741824)!==0?a.memoizedState=c:(a.memoizedState=d,a=gk(),At.lanes|=a,el|=a,d)}function p2(a,c,d,m){return Oi(d,c)?d:Xc.current!==null?(a=B1(a,d,m),Oi(a,c)||(hr=!0),a):(Ka&42)===0?(hr=!0,a.memoizedState=d):(a=gk(),At.lanes|=a,el|=a,c)}function m2(a,c,d,m,S){var R=X.p;X.p=R!==0&&8>R?R:8;var G=Q.T,Z={};Q.T=Z,U1(a,!1,c,d);try{var pe=S(),Ce=Q.S;if(Ce!==null&&Ce(Z,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ne=dV(pe,m);md(a,c,Ne,Bi(a))}else md(a,c,m,Bi(a))}catch(Ve){md(a,c,{then:function(){},status:"rejected",reason:Ve},Bi())}finally{X.p=R,Q.T=G}}function vV(){}function F1(a,c,d,m){if(a.tag!==5)throw Error(n(476));var S=g2(a).queue;m2(a,S,c,fe,d===null?vV:function(){return y2(a),d(m)})}function g2(a){var c=a.memoizedState;if(c!==null)return c;c={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:fe},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oa,lastRenderedState:d},next:null},a.memoizedState=c,a=a.alternate,a!==null&&(a.memoizedState=c),c}function y2(a){var c=g2(a).next.queue;md(a,c,{},Bi())}function V1(){return Vr(Nd)}function v2(){return Wn().memoizedState}function w2(){return Wn().memoizedState}function wV(a){for(var c=a.return;c!==null;){switch(c.tag){case 24:case 3:var d=Bi();a=Wa(d);var m=Ga(c,a,d);m!==null&&(Fi(m,c,d),ud(m,c,d)),c={cache:m1()},a.payload=c;return}c=c.return}}function _V(a,c,d){var m=Bi();d={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},kg(a)?b2(c,d):(d=s1(a,c,d,m),d!==null&&(Fi(d,a,m),S2(d,c,m)))}function _2(a,c,d){var m=Bi();md(a,c,d,m)}function md(a,c,d,m){var S={lane:m,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(kg(a))b2(c,S);else{var R=a.alternate;if(a.lanes===0&&(R===null||R.lanes===0)&&(R=c.lastRenderedReducer,R!==null))try{var G=c.lastRenderedState,Z=R(G,d);if(S.hasEagerState=!0,S.eagerState=Z,Oi(Z,G))return fg(a,c,S,0),gn===null&&hg(),!1}catch{}finally{}if(d=s1(a,c,S,m),d!==null)return Fi(d,a,m),S2(d,c,m),!0}return!1}function U1(a,c,d,m){if(m={lane:2,revertLane:v_(),action:m,hasEagerState:!1,eagerState:null,next:null},kg(a)){if(c)throw Error(n(479))}else c=s1(a,d,m,2),c!==null&&Fi(c,a,2)}function kg(a){var c=a.alternate;return a===At||c!==null&&c===At}function b2(a,c){Qc=Eg=!0;var d=a.pending;d===null?c.next=c:(c.next=d.next,d.next=c),a.pending=c}function S2(a,c,d){if((d&4194048)!==0){var m=c.lanes;m&=a.pendingLanes,d|=m,c.lanes=d,Ws(a,d)}}var Dg={readContext:Vr,use:Tg,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn},E2={readContext:Vr,use:Tg,useCallback:function(a,c){return fi().memoizedState=[a,c===void 0?null:c],a},useContext:Vr,useEffect:o2,useImperativeHandle:function(a,c,d){d=d!=null?d.concat([a]):null,Rg(4194308,4,c2.bind(null,c,a),d)},useLayoutEffect:function(a,c){return Rg(4194308,4,a,c)},useInsertionEffect:function(a,c){Rg(4,2,a,c)},useMemo:function(a,c){var d=fi();c=c===void 0?null:c;var m=a();if(ku){it(!0);try{a()}finally{it(!1)}}return d.memoizedState=[m,c],m},useReducer:function(a,c,d){var m=fi();if(d!==void 0){var S=d(c);if(ku){it(!0);try{d(c)}finally{it(!1)}}}else S=c;return m.memoizedState=m.baseState=S,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:S},m.queue=a,a=a.dispatch=_V.bind(null,At,a),[m.memoizedState,a]},useRef:function(a){var c=fi();return a={current:a},c.memoizedState=a},useState:function(a){a=M1(a);var c=a.queue,d=_2.bind(null,At,c);return c.dispatch=d,[a.memoizedState,d]},useDebugValue:L1,useDeferredValue:function(a,c){var d=fi();return B1(d,a,c)},useTransition:function(){var a=M1(!1);return a=m2.bind(null,At,a.queue,!0,!1),fi().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,c,d){var m=At,S=fi();if(Xt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=c(),gn===null)throw Error(n(349));(Ht&124)!==0||qR(m,c,d)}S.memoizedState=d;var R={value:d,getSnapshot:c};return S.queue=R,o2(GR.bind(null,m,R,a),[a]),m.flags|=2048,Jc(9,Cg(),WR.bind(null,m,R,d,c),null),d},useId:function(){var a=fi(),c=gn.identifierPrefix;if(Xt){var d=ra,m=na;d=(m&~(1<<32-Nt(m)-1)).toString(32)+d,c=""+c+"R"+d,d=xg++,0<d&&(c+="H"+d.toString(32)),c+=""}else d=pV++,c=""+c+"r"+d.toString(32)+"";return a.memoizedState=c},useHostTransitionStatus:V1,useFormState:t2,useActionState:t2,useOptimistic:function(a){var c=fi();c.memoizedState=c.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=U1.bind(null,At,!0,d),d.dispatch=c,[a,c]},useMemoCache:I1,useCacheRefresh:function(){return fi().memoizedState=wV.bind(null,At)}},x2={readContext:Vr,use:Tg,useCallback:f2,useContext:Vr,useEffect:a2,useImperativeHandle:h2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:d2,useReducer:Ag,useRef:s2,useState:function(){return Ag(oa)},useDebugValue:L1,useDeferredValue:function(a,c){var d=Wn();return p2(d,sn.memoizedState,a,c)},useTransition:function(){var a=Ag(oa)[0],c=Wn().memoizedState;return[typeof a=="boolean"?a:dd(a),c]},useSyncExternalStore:HR,useId:v2,useHostTransitionStatus:V1,useFormState:n2,useActionState:n2,useOptimistic:function(a,c){var d=Wn();return YR(d,sn,a,c)},useMemoCache:I1,useCacheRefresh:w2},bV={readContext:Vr,use:Tg,useCallback:f2,useContext:Vr,useEffect:a2,useImperativeHandle:h2,useInsertionEffect:l2,useLayoutEffect:u2,useMemo:d2,useReducer:N1,useRef:s2,useState:function(){return N1(oa)},useDebugValue:L1,useDeferredValue:function(a,c){var d=Wn();return sn===null?B1(d,a,c):p2(d,sn.memoizedState,a,c)},useTransition:function(){var a=N1(oa)[0],c=Wn().memoizedState;return[typeof a=="boolean"?a:dd(a),c]},useSyncExternalStore:HR,useId:v2,useHostTransitionStatus:V1,useFormState:i2,useActionState:i2,useOptimistic:function(a,c){var d=Wn();return sn!==null?YR(d,sn,a,c):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:I1,useCacheRefresh:w2},eh=null,gd=0;function Ig(a){var c=gd;return gd+=1,eh===null&&(eh=[]),PR(eh,a,c)}function yd(a,c){c=c.props.ref,a.ref=c!==void 0?c:null}function Og(a,c){throw c.$$typeof===p?Error(n(525)):(a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a)))}function T2(a){var c=a._init;return c(a._payload)}function A2(a){function c(be,we){if(a){var Te=be.deletions;Te===null?(be.deletions=[we],be.flags|=16):Te.push(we)}}function d(be,we){if(!a)return null;for(;we!==null;)c(be,we),we=we.sibling;return null}function m(be){for(var we=new Map;be!==null;)be.key!==null?we.set(be.key,be):we.set(be.index,be),be=be.sibling;return we}function S(be,we){return be=ta(be,we),be.index=0,be.sibling=null,be}function R(be,we,Te){return be.index=Te,a?(Te=be.alternate,Te!==null?(Te=Te.index,Te<we?(be.flags|=67108866,we):Te):(be.flags|=67108866,we)):(be.flags|=1048576,we)}function G(be){return a&&be.alternate===null&&(be.flags|=67108866),be}function Z(be,we,Te,Le){return we===null||we.tag!==6?(we=a1(Te,be.mode,Le),we.return=be,we):(we=S(we,Te),we.return=be,we)}function pe(be,we,Te,Le){var rt=Te.type;return rt===_?Ne(be,we,Te.props.children,Le,Te.key):we!==null&&(we.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===O&&T2(rt)===we.type)?(we=S(we,Te.props),yd(we,Te),we.return=be,we):(we=pg(Te.type,Te.key,Te.props,null,be.mode,Le),yd(we,Te),we.return=be,we)}function Ce(be,we,Te,Le){return we===null||we.tag!==4||we.stateNode.containerInfo!==Te.containerInfo||we.stateNode.implementation!==Te.implementation?(we=l1(Te,be.mode,Le),we.return=be,we):(we=S(we,Te.children||[]),we.return=be,we)}function Ne(be,we,Te,Le,rt){return we===null||we.tag!==7?(we=bu(Te,be.mode,Le,rt),we.return=be,we):(we=S(we,Te),we.return=be,we)}function Ve(be,we,Te){if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return we=a1(""+we,be.mode,Te),we.return=be,we;if(typeof we=="object"&&we!==null){switch(we.$$typeof){case g:return Te=pg(we.type,we.key,we.props,null,be.mode,Te),yd(Te,we),Te.return=be,Te;case y:return we=l1(we,be.mode,Te),we.return=be,we;case O:var Le=we._init;return we=Le(we._payload),Ve(be,we,Te)}if(oe(we)||M(we))return we=bu(we,be.mode,Te,null),we.return=be,we;if(typeof we.then=="function")return Ve(be,Ig(we),Te);if(we.$$typeof===T)return Ve(be,vg(be,we),Te);Og(be,we)}return null}function Re(be,we,Te,Le){var rt=we!==null?we.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return rt!==null?null:Z(be,we,""+Te,Le);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case g:return Te.key===rt?pe(be,we,Te,Le):null;case y:return Te.key===rt?Ce(be,we,Te,Le):null;case O:return rt=Te._init,Te=rt(Te._payload),Re(be,we,Te,Le)}if(oe(Te)||M(Te))return rt!==null?null:Ne(be,we,Te,Le,null);if(typeof Te.then=="function")return Re(be,we,Ig(Te),Le);if(Te.$$typeof===T)return Re(be,we,vg(be,Te),Le);Og(be,Te)}return null}function ke(be,we,Te,Le,rt){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return be=be.get(Te)||null,Z(we,be,""+Le,rt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case g:return be=be.get(Le.key===null?Te:Le.key)||null,pe(we,be,Le,rt);case y:return be=be.get(Le.key===null?Te:Le.key)||null,Ce(we,be,Le,rt);case O:var kt=Le._init;return Le=kt(Le._payload),ke(be,we,Te,Le,rt)}if(oe(Le)||M(Le))return be=be.get(Te)||null,Ne(we,be,Le,rt,null);if(typeof Le.then=="function")return ke(be,we,Te,Ig(Le),rt);if(Le.$$typeof===T)return ke(be,we,Te,vg(we,Le),rt);Og(we,Le)}return null}function vt(be,we,Te,Le){for(var rt=null,kt=null,at=we,pt=we=0,dr=null;at!==null&&pt<Te.length;pt++){at.index>pt?(dr=at,at=null):dr=at.sibling;var Yt=Re(be,at,Te[pt],Le);if(Yt===null){at===null&&(at=dr);break}a&&at&&Yt.alternate===null&&c(be,at),we=R(Yt,we,pt),kt===null?rt=Yt:kt.sibling=Yt,kt=Yt,at=dr}if(pt===Te.length)return d(be,at),Xt&&Eu(be,pt),rt;if(at===null){for(;pt<Te.length;pt++)at=Ve(be,Te[pt],Le),at!==null&&(we=R(at,we,pt),kt===null?rt=at:kt.sibling=at,kt=at);return Xt&&Eu(be,pt),rt}for(at=m(at);pt<Te.length;pt++)dr=ke(at,be,pt,Te[pt],Le),dr!==null&&(a&&dr.alternate!==null&&at.delete(dr.key===null?pt:dr.key),we=R(dr,we,pt),kt===null?rt=dr:kt.sibling=dr,kt=dr);return a&&at.forEach(function(ul){return c(be,ul)}),Xt&&Eu(be,pt),rt}function ft(be,we,Te,Le){if(Te==null)throw Error(n(151));for(var rt=null,kt=null,at=we,pt=we=0,dr=null,Yt=Te.next();at!==null&&!Yt.done;pt++,Yt=Te.next()){at.index>pt?(dr=at,at=null):dr=at.sibling;var ul=Re(be,at,Yt.value,Le);if(ul===null){at===null&&(at=dr);break}a&&at&&ul.alternate===null&&c(be,at),we=R(ul,we,pt),kt===null?rt=ul:kt.sibling=ul,kt=ul,at=dr}if(Yt.done)return d(be,at),Xt&&Eu(be,pt),rt;if(at===null){for(;!Yt.done;pt++,Yt=Te.next())Yt=Ve(be,Yt.value,Le),Yt!==null&&(we=R(Yt,we,pt),kt===null?rt=Yt:kt.sibling=Yt,kt=Yt);return Xt&&Eu(be,pt),rt}for(at=m(at);!Yt.done;pt++,Yt=Te.next())Yt=ke(at,be,pt,Yt.value,Le),Yt!==null&&(a&&Yt.alternate!==null&&at.delete(Yt.key===null?pt:Yt.key),we=R(Yt,we,pt),kt===null?rt=Yt:kt.sibling=Yt,kt=Yt);return a&&at.forEach(function(SU){return c(be,SU)}),Xt&&Eu(be,pt),rt}function an(be,we,Te,Le){if(typeof Te=="object"&&Te!==null&&Te.type===_&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case g:e:{for(var rt=Te.key;we!==null;){if(we.key===rt){if(rt=Te.type,rt===_){if(we.tag===7){d(be,we.sibling),Le=S(we,Te.props.children),Le.return=be,be=Le;break e}}else if(we.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===O&&T2(rt)===we.type){d(be,we.sibling),Le=S(we,Te.props),yd(Le,Te),Le.return=be,be=Le;break e}d(be,we);break}else c(be,we);we=we.sibling}Te.type===_?(Le=bu(Te.props.children,be.mode,Le,Te.key),Le.return=be,be=Le):(Le=pg(Te.type,Te.key,Te.props,null,be.mode,Le),yd(Le,Te),Le.return=be,be=Le)}return G(be);case y:e:{for(rt=Te.key;we!==null;){if(we.key===rt)if(we.tag===4&&we.stateNode.containerInfo===Te.containerInfo&&we.stateNode.implementation===Te.implementation){d(be,we.sibling),Le=S(we,Te.children||[]),Le.return=be,be=Le;break e}else{d(be,we);break}else c(be,we);we=we.sibling}Le=l1(Te,be.mode,Le),Le.return=be,be=Le}return G(be);case O:return rt=Te._init,Te=rt(Te._payload),an(be,we,Te,Le)}if(oe(Te))return vt(be,we,Te,Le);if(M(Te)){if(rt=M(Te),typeof rt!="function")throw Error(n(150));return Te=rt.call(Te),ft(be,we,Te,Le)}if(typeof Te.then=="function")return an(be,we,Ig(Te),Le);if(Te.$$typeof===T)return an(be,we,vg(be,Te),Le);Og(be,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint"?(Te=""+Te,we!==null&&we.tag===6?(d(be,we.sibling),Le=S(we,Te),Le.return=be,be=Le):(d(be,we),Le=a1(Te,be.mode,Le),Le.return=be,be=Le),G(be)):d(be,we)}return function(be,we,Te,Le){try{gd=0;var rt=an(be,we,Te,Le);return eh=null,rt}catch(at){if(at===ad||at===_g)throw at;var kt=Ni(29,at,null,be.mode);return kt.lanes=Le,kt.return=be,kt}finally{}}}var th=A2(!0),C2=A2(!1),us=J(null),ro=null;function $a(a){var c=a.alternate;re(ir,ir.current&1),re(us,a),ro===null&&(c===null||Xc.current!==null||c.memoizedState!==null)&&(ro=a)}function R2(a){if(a.tag===22){if(re(ir,ir.current),re(us,a),ro===null){var c=a.alternate;c!==null&&c.memoizedState!==null&&(ro=a)}}else Ya()}function Ya(){re(ir,ir.current),re(us,us.current)}function aa(a){K(us),ro===a&&(ro=null),K(ir)}var ir=J(0);function Ng(a){for(var c=a;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||D_(d)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}function z1(a,c,d,m){c=a.memoizedState,d=d(m,c),d=d==null?c:f({},c,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var j1={enqueueSetState:function(a,c,d){a=a._reactInternals;var m=Bi(),S=Wa(m);S.payload=c,d!=null&&(S.callback=d),c=Ga(a,S,m),c!==null&&(Fi(c,a,m),ud(c,a,m))},enqueueReplaceState:function(a,c,d){a=a._reactInternals;var m=Bi(),S=Wa(m);S.tag=1,S.payload=c,d!=null&&(S.callback=d),c=Ga(a,S,m),c!==null&&(Fi(c,a,m),ud(c,a,m))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var d=Bi(),m=Wa(d);m.tag=2,c!=null&&(m.callback=c),c=Ga(a,m,d),c!==null&&(Fi(c,a,d),ud(c,a,d))}};function k2(a,c,d,m,S,R,G){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,R,G):c.prototype&&c.prototype.isPureReactComponent?!Jf(d,m)||!Jf(S,R):!0}function D2(a,c,d,m){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,m),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,m),c.state!==a&&j1.enqueueReplaceState(c,c.state,null)}function Du(a,c){var d=c;if("ref"in c){d={};for(var m in c)m!=="ref"&&(d[m]=c[m])}if(a=a.defaultProps){d===c&&(d=f({},d));for(var S in a)d[S]===void 0&&(d[S]=a[S])}return d}var Mg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function I2(a){Mg(a)}function O2(a){console.error(a)}function N2(a){Mg(a)}function Pg(a,c){try{var d=a.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(m){setTimeout(function(){throw m})}}function M2(a,c,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function H1(a,c,d){return d=Wa(d),d.tag=3,d.payload={element:null},d.callback=function(){Pg(a,c)},d}function P2(a){return a=Wa(a),a.tag=3,a}function L2(a,c,d,m){var S=d.type.getDerivedStateFromError;if(typeof S=="function"){var R=m.value;a.payload=function(){return S(R)},a.callback=function(){M2(c,d,m)}}var G=d.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(a.callback=function(){M2(c,d,m),typeof S!="function"&&(tl===null?tl=new Set([this]):tl.add(this));var Z=m.stack;this.componentDidCatch(m.value,{componentStack:Z!==null?Z:""})})}function SV(a,c,d,m,S){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(c=d.alternate,c!==null&&id(c,d,S,!0),d=us.current,d!==null){switch(d.tag){case 13:return ro===null?d_():d.alternate===null&&Dn===0&&(Dn=3),d.flags&=-257,d.flags|=65536,d.lanes=S,m===v1?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([m]):c.add(m),m_(a,m,S)),!1;case 22:return d.flags|=65536,m===v1?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([m]):d.add(m)),m_(a,m,S)),!1}throw Error(n(435,d.tag))}return m_(a,m,S),d_(),!1}if(Xt)return c=us.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=S,m!==h1&&(a=Error(n(422),{cause:m}),rd(ss(a,d)))):(m!==h1&&(c=Error(n(423),{cause:m}),rd(ss(c,d))),a=a.current.alternate,a.flags|=65536,S&=-S,a.lanes|=S,m=ss(m,d),S=H1(a.stateNode,m,S),b1(a,S),Dn!==4&&(Dn=2)),!1;var R=Error(n(520),{cause:m});if(R=ss(R,d),xd===null?xd=[R]:xd.push(R),Dn!==4&&(Dn=2),c===null)return!0;m=ss(m,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,a=S&-S,d.lanes|=a,a=H1(d.stateNode,m,a),b1(d,a),!1;case 1:if(c=d.type,R=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(tl===null||!tl.has(R))))return d.flags|=65536,S&=-S,d.lanes|=S,S=P2(S),L2(S,a,d,m),b1(d,S),!1}d=d.return}while(d!==null);return!1}var B2=Error(n(461)),hr=!1;function xr(a,c,d,m){c.child=a===null?C2(c,null,d,m):th(c,a.child,d,m)}function F2(a,c,d,m,S){d=d.render;var R=c.ref;if("ref"in m){var G={};for(var Z in m)Z!=="ref"&&(G[Z]=m[Z])}else G=m;return Cu(c),m=A1(a,c,d,G,R,S),Z=C1(),a!==null&&!hr?(R1(a,c,S),la(a,c,S)):(Xt&&Z&&u1(c),c.flags|=1,xr(a,c,m,S),c.child)}function V2(a,c,d,m,S){if(a===null){var R=d.type;return typeof R=="function"&&!o1(R)&&R.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=R,U2(a,c,R,m,S)):(a=pg(d.type,null,m,c,c.mode,S),a.ref=c.ref,a.return=c,c.child=a)}if(R=a.child,!Q1(a,S)){var G=R.memoizedProps;if(d=d.compare,d=d!==null?d:Jf,d(G,m)&&a.ref===c.ref)return la(a,c,S)}return c.flags|=1,a=ta(R,m),a.ref=c.ref,a.return=c,c.child=a}function U2(a,c,d,m,S){if(a!==null){var R=a.memoizedProps;if(Jf(R,m)&&a.ref===c.ref)if(hr=!1,c.pendingProps=m=R,Q1(a,S))(a.flags&131072)!==0&&(hr=!0);else return c.lanes=a.lanes,la(a,c,S)}return q1(a,c,d,m,S)}function z2(a,c,d){var m=c.pendingProps,S=m.children,R=a!==null?a.memoizedState:null;if(m.mode==="hidden"){if((c.flags&128)!==0){if(m=R!==null?R.baseLanes|d:d,a!==null){for(S=c.child=a.child,R=0;S!==null;)R=R|S.lanes|S.childLanes,S=S.sibling;c.childLanes=R&~m}else c.childLanes=0,c.child=null;return j2(a,c,m,d)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},a!==null&&wg(c,R!==null?R.cachePool:null),R!==null?UR(c,R):E1(),R2(c);else return c.lanes=c.childLanes=536870912,j2(a,c,R!==null?R.baseLanes|d:d,d)}else R!==null?(wg(c,R.cachePool),UR(c,R),Ya(),c.memoizedState=null):(a!==null&&wg(c,null),E1(),Ya());return xr(a,c,S,d),c.child}function j2(a,c,d,m){var S=y1();return S=S===null?null:{parent:rr._currentValue,pool:S},c.memoizedState={baseLanes:d,cachePool:S},a!==null&&wg(c,null),E1(),R2(c),a!==null&&id(a,c,m,!0),null}function Lg(a,c){var d=c.ref;if(d===null)a!==null&&a.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(n(284));(a===null||a.ref!==d)&&(c.flags|=4194816)}}function q1(a,c,d,m,S){return Cu(c),d=A1(a,c,d,m,void 0,S),m=C1(),a!==null&&!hr?(R1(a,c,S),la(a,c,S)):(Xt&&m&&u1(c),c.flags|=1,xr(a,c,d,S),c.child)}function H2(a,c,d,m,S,R){return Cu(c),c.updateQueue=null,d=jR(c,m,d,S),zR(a),m=C1(),a!==null&&!hr?(R1(a,c,R),la(a,c,R)):(Xt&&m&&u1(c),c.flags|=1,xr(a,c,d,R),c.child)}function q2(a,c,d,m,S){if(Cu(c),c.stateNode===null){var R=Wc,G=d.contextType;typeof G=="object"&&G!==null&&(R=Vr(G)),R=new d(m,R),c.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=j1,c.stateNode=R,R._reactInternals=c,R=c.stateNode,R.props=m,R.state=c.memoizedState,R.refs={},w1(c),G=d.contextType,R.context=typeof G=="object"&&G!==null?Vr(G):Wc,R.state=c.memoizedState,G=d.getDerivedStateFromProps,typeof G=="function"&&(z1(c,d,G,m),R.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(G=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),G!==R.state&&j1.enqueueReplaceState(R,R.state,null),hd(c,m,R,S),cd(),R.state=c.memoizedState),typeof R.componentDidMount=="function"&&(c.flags|=4194308),m=!0}else if(a===null){R=c.stateNode;var Z=c.memoizedProps,pe=Du(d,Z);R.props=pe;var Ce=R.context,Ne=d.contextType;G=Wc,typeof Ne=="object"&&Ne!==null&&(G=Vr(Ne));var Ve=d.getDerivedStateFromProps;Ne=typeof Ve=="function"||typeof R.getSnapshotBeforeUpdate=="function",Z=c.pendingProps!==Z,Ne||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(Z||Ce!==G)&&D2(c,R,m,G),qa=!1;var Re=c.memoizedState;R.state=Re,hd(c,m,R,S),cd(),Ce=c.memoizedState,Z||Re!==Ce||qa?(typeof Ve=="function"&&(z1(c,d,Ve,m),Ce=c.memoizedState),(pe=qa||k2(c,d,pe,m,Re,Ce,G))?(Ne||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(c.flags|=4194308)):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=m,c.memoizedState=Ce),R.props=m,R.state=Ce,R.context=G,m=pe):(typeof R.componentDidMount=="function"&&(c.flags|=4194308),m=!1)}else{R=c.stateNode,_1(a,c),G=c.memoizedProps,Ne=Du(d,G),R.props=Ne,Ve=c.pendingProps,Re=R.context,Ce=d.contextType,pe=Wc,typeof Ce=="object"&&Ce!==null&&(pe=Vr(Ce)),Z=d.getDerivedStateFromProps,(Ce=typeof Z=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||(G!==Ve||Re!==pe)&&D2(c,R,m,pe),qa=!1,Re=c.memoizedState,R.state=Re,hd(c,m,R,S),cd();var ke=c.memoizedState;G!==Ve||Re!==ke||qa||a!==null&&a.dependencies!==null&&yg(a.dependencies)?(typeof Z=="function"&&(z1(c,d,Z,m),ke=c.memoizedState),(Ne=qa||k2(c,d,Ne,m,Re,ke,pe)||a!==null&&a.dependencies!==null&&yg(a.dependencies))?(Ce||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(m,ke,pe),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(m,ke,pe)),typeof R.componentDidUpdate=="function"&&(c.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof R.componentDidUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=1024),c.memoizedProps=m,c.memoizedState=ke),R.props=m,R.state=ke,R.context=pe,m=Ne):(typeof R.componentDidUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||G===a.memoizedProps&&Re===a.memoizedState||(c.flags|=1024),m=!1)}return R=m,Lg(a,c),m=(c.flags&128)!==0,R||m?(R=c.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:R.render(),c.flags|=1,a!==null&&m?(c.child=th(c,a.child,null,S),c.child=th(c,null,d,S)):xr(a,c,d,S),c.memoizedState=R.state,a=c.child):a=la(a,c,S),a}function W2(a,c,d,m){return nd(),c.flags|=256,xr(a,c,d,m),c.child}var W1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function G1(a){return{baseLanes:a,cachePool:OR()}}function K1(a,c,d){return a=a!==null?a.childLanes&~d:0,c&&(a|=cs),a}function G2(a,c,d){var m=c.pendingProps,S=!1,R=(c.flags&128)!==0,G;if((G=R)||(G=a!==null&&a.memoizedState===null?!1:(ir.current&2)!==0),G&&(S=!0,c.flags&=-129),G=(c.flags&32)!==0,c.flags&=-33,a===null){if(Xt){if(S?$a(c):Ya(),Xt){var Z=kn,pe;if(pe=Z){e:{for(pe=Z,Z=no;pe.nodeType!==8;){if(!Z){Z=null;break e}if(pe=Ns(pe.nextSibling),pe===null){Z=null;break e}}Z=pe}Z!==null?(c.memoizedState={dehydrated:Z,treeContext:Su!==null?{id:na,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},pe=Ni(18,null,null,0),pe.stateNode=Z,pe.return=c,c.child=pe,oi=c,kn=null,pe=!0):pe=!1}pe||Tu(c)}if(Z=c.memoizedState,Z!==null&&(Z=Z.dehydrated,Z!==null))return D_(Z)?c.lanes=32:c.lanes=536870912,null;aa(c)}return Z=m.children,m=m.fallback,S?(Ya(),S=c.mode,Z=Bg({mode:"hidden",children:Z},S),m=bu(m,S,d,null),Z.return=c,m.return=c,Z.sibling=m,c.child=Z,S=c.child,S.memoizedState=G1(d),S.childLanes=K1(a,G,d),c.memoizedState=W1,m):($a(c),$1(c,Z))}if(pe=a.memoizedState,pe!==null&&(Z=pe.dehydrated,Z!==null)){if(R)c.flags&256?($a(c),c.flags&=-257,c=Y1(a,c,d)):c.memoizedState!==null?(Ya(),c.child=a.child,c.flags|=128,c=null):(Ya(),S=m.fallback,Z=c.mode,m=Bg({mode:"visible",children:m.children},Z),S=bu(S,Z,d,null),S.flags|=2,m.return=c,S.return=c,m.sibling=S,c.child=m,th(c,a.child,null,d),m=c.child,m.memoizedState=G1(d),m.childLanes=K1(a,G,d),c.memoizedState=W1,c=S);else if($a(c),D_(Z)){if(G=Z.nextSibling&&Z.nextSibling.dataset,G)var Ce=G.dgst;G=Ce,m=Error(n(419)),m.stack="",m.digest=G,rd({value:m,source:null,stack:null}),c=Y1(a,c,d)}else if(hr||id(a,c,d,!1),G=(d&a.childLanes)!==0,hr||G){if(G=gn,G!==null&&(m=d&-d,m=(m&42)!==0?1:Gs(m),m=(m&(G.suspendedLanes|d))!==0?0:m,m!==0&&m!==pe.retryLane))throw pe.retryLane=m,qc(a,m),Fi(G,a,m),B2;Z.data==="$?"||d_(),c=Y1(a,c,d)}else Z.data==="$?"?(c.flags|=192,c.child=a.child,c=null):(a=pe.treeContext,kn=Ns(Z.nextSibling),oi=c,Xt=!0,xu=null,no=!1,a!==null&&(as[ls++]=na,as[ls++]=ra,as[ls++]=Su,na=a.id,ra=a.overflow,Su=c),c=$1(c,m.children),c.flags|=4096);return c}return S?(Ya(),S=m.fallback,Z=c.mode,pe=a.child,Ce=pe.sibling,m=ta(pe,{mode:"hidden",children:m.children}),m.subtreeFlags=pe.subtreeFlags&65011712,Ce!==null?S=ta(Ce,S):(S=bu(S,Z,d,null),S.flags|=2),S.return=c,m.return=c,m.sibling=S,c.child=m,m=S,S=c.child,Z=a.child.memoizedState,Z===null?Z=G1(d):(pe=Z.cachePool,pe!==null?(Ce=rr._currentValue,pe=pe.parent!==Ce?{parent:Ce,pool:Ce}:pe):pe=OR(),Z={baseLanes:Z.baseLanes|d,cachePool:pe}),S.memoizedState=Z,S.childLanes=K1(a,G,d),c.memoizedState=W1,m):($a(c),d=a.child,a=d.sibling,d=ta(d,{mode:"visible",children:m.children}),d.return=c,d.sibling=null,a!==null&&(G=c.deletions,G===null?(c.deletions=[a],c.flags|=16):G.push(a)),c.child=d,c.memoizedState=null,d)}function $1(a,c){return c=Bg({mode:"visible",children:c},a.mode),c.return=a,a.child=c}function Bg(a,c){return a=Ni(22,a,null,c),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Y1(a,c,d){return th(c,a.child,null,d),a=$1(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function K2(a,c,d){a.lanes|=c;var m=a.alternate;m!==null&&(m.lanes|=c),d1(a.return,c,d)}function X1(a,c,d,m,S){var R=a.memoizedState;R===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:S}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=m,R.tail=d,R.tailMode=S)}function $2(a,c,d){var m=c.pendingProps,S=m.revealOrder,R=m.tail;if(xr(a,c,m.children,d),m=ir.current,(m&2)!==0)m=m&1|2,c.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&K2(a,d,c);else if(a.tag===19)K2(a,d,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}m&=1}switch(re(ir,m),S){case"forwards":for(d=c.child,S=null;d!==null;)a=d.alternate,a!==null&&Ng(a)===null&&(S=d),d=d.sibling;d=S,d===null?(S=c.child,c.child=null):(S=d.sibling,d.sibling=null),X1(c,!1,S,d,R);break;case"backwards":for(d=null,S=c.child,c.child=null;S!==null;){if(a=S.alternate,a!==null&&Ng(a)===null){c.child=S;break}a=S.sibling,S.sibling=d,d=S,S=a}X1(c,!0,d,null,R);break;case"together":X1(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function la(a,c,d){if(a!==null&&(c.dependencies=a.dependencies),el|=c.lanes,(d&c.childLanes)===0)if(a!==null){if(id(a,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,d=ta(a,a.pendingProps),c.child=d,d.return=c;a.sibling!==null;)a=a.sibling,d=d.sibling=ta(a,a.pendingProps),d.return=c;d.sibling=null}return c.child}function Q1(a,c){return(a.lanes&c)!==0?!0:(a=a.dependencies,!!(a!==null&&yg(a)))}function EV(a,c,d){switch(c.tag){case 3:F(c,c.stateNode.containerInfo),Ha(c,rr,a.memoizedState.cache),nd();break;case 27:case 5:ie(c);break;case 4:F(c,c.stateNode.containerInfo);break;case 10:Ha(c,c.type,c.memoizedProps.value);break;case 13:var m=c.memoizedState;if(m!==null)return m.dehydrated!==null?($a(c),c.flags|=128,null):(d&c.child.childLanes)!==0?G2(a,c,d):($a(c),a=la(a,c,d),a!==null?a.sibling:null);$a(c);break;case 19:var S=(a.flags&128)!==0;if(m=(d&c.childLanes)!==0,m||(id(a,c,d,!1),m=(d&c.childLanes)!==0),S){if(m)return $2(a,c,d);c.flags|=128}if(S=c.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),re(ir,ir.current),m)break;return null;case 22:case 23:return c.lanes=0,z2(a,c,d);case 24:Ha(c,rr,a.memoizedState.cache)}return la(a,c,d)}function Y2(a,c,d){if(a!==null)if(a.memoizedProps!==c.pendingProps)hr=!0;else{if(!Q1(a,d)&&(c.flags&128)===0)return hr=!1,EV(a,c,d);hr=(a.flags&131072)!==0}else hr=!1,Xt&&(c.flags&1048576)!==0&&TR(c,gg,c.index);switch(c.lanes=0,c.tag){case 16:e:{a=c.pendingProps;var m=c.elementType,S=m._init;if(m=S(m._payload),c.type=m,typeof m=="function")o1(m)?(a=Du(m,a),c.tag=1,c=q2(null,c,m,a,d)):(c.tag=0,c=q1(null,c,m,a,d));else{if(m!=null){if(S=m.$$typeof,S===x){c.tag=11,c=F2(null,c,m,a,d);break e}else if(S===N){c.tag=14,c=V2(null,c,m,a,d);break e}}throw c=B(m)||m,Error(n(306,c,""))}}return c;case 0:return q1(a,c,c.type,c.pendingProps,d);case 1:return m=c.type,S=Du(m,c.pendingProps),q2(a,c,m,S,d);case 3:e:{if(F(c,c.stateNode.containerInfo),a===null)throw Error(n(387));m=c.pendingProps;var R=c.memoizedState;S=R.element,_1(a,c),hd(c,m,null,d);var G=c.memoizedState;if(m=G.cache,Ha(c,rr,m),m!==R.cache&&p1(c,[rr],d,!0),cd(),m=G.element,R.isDehydrated)if(R={element:m,isDehydrated:!1,cache:G.cache},c.updateQueue.baseState=R,c.memoizedState=R,c.flags&256){c=W2(a,c,m,d);break e}else if(m!==S){S=ss(Error(n(424)),c),rd(S),c=W2(a,c,m,d);break e}else{switch(a=c.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(kn=Ns(a.firstChild),oi=c,Xt=!0,xu=null,no=!0,d=C2(c,null,m,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(nd(),m===S){c=la(a,c,d);break e}xr(a,c,m,d)}c=c.child}return c;case 26:return Lg(a,c),a===null?(d=Jk(c.type,null,c.pendingProps,null))?c.memoizedState=d:Xt||(d=c.type,a=c.pendingProps,m=Qg(ue.current).createElement(d),m[ze]=c,m[Ke]=a,Ar(m,d,a),Bt(m),c.stateNode=m):c.memoizedState=Jk(c.type,a.memoizedProps,c.pendingProps,a.memoizedState),null;case 27:return ie(c),a===null&&Xt&&(m=c.stateNode=Xk(c.type,c.pendingProps,ue.current),oi=c,no=!0,S=kn,il(c.type)?(I_=S,kn=Ns(m.firstChild)):kn=S),xr(a,c,c.pendingProps.children,d),Lg(a,c),a===null&&(c.flags|=4194304),c.child;case 5:return a===null&&Xt&&((S=m=kn)&&(m=QV(m,c.type,c.pendingProps,no),m!==null?(c.stateNode=m,oi=c,kn=Ns(m.firstChild),no=!1,S=!0):S=!1),S||Tu(c)),ie(c),S=c.type,R=c.pendingProps,G=a!==null?a.memoizedProps:null,m=R.children,C_(S,R)?m=null:G!==null&&C_(S,G)&&(c.flags|=32),c.memoizedState!==null&&(S=A1(a,c,mV,null,null,d),Nd._currentValue=S),Lg(a,c),xr(a,c,m,d),c.child;case 6:return a===null&&Xt&&((a=d=kn)&&(d=ZV(d,c.pendingProps,no),d!==null?(c.stateNode=d,oi=c,kn=null,a=!0):a=!1),a||Tu(c)),null;case 13:return G2(a,c,d);case 4:return F(c,c.stateNode.containerInfo),m=c.pendingProps,a===null?c.child=th(c,null,m,d):xr(a,c,m,d),c.child;case 11:return F2(a,c,c.type,c.pendingProps,d);case 7:return xr(a,c,c.pendingProps,d),c.child;case 8:return xr(a,c,c.pendingProps.children,d),c.child;case 12:return xr(a,c,c.pendingProps.children,d),c.child;case 10:return m=c.pendingProps,Ha(c,c.type,m.value),xr(a,c,m.children,d),c.child;case 9:return S=c.type._context,m=c.pendingProps.children,Cu(c),S=Vr(S),m=m(S),c.flags|=1,xr(a,c,m,d),c.child;case 14:return V2(a,c,c.type,c.pendingProps,d);case 15:return U2(a,c,c.type,c.pendingProps,d);case 19:return $2(a,c,d);case 31:return m=c.pendingProps,d=c.mode,m={mode:m.mode,children:m.children},a===null?(d=Bg(m,d),d.ref=c.ref,c.child=d,d.return=c,c=d):(d=ta(a.child,m),d.ref=c.ref,c.child=d,d.return=c,c=d),c;case 22:return z2(a,c,d);case 24:return Cu(c),m=Vr(rr),a===null?(S=y1(),S===null&&(S=gn,R=m1(),S.pooledCache=R,R.refCount++,R!==null&&(S.pooledCacheLanes|=d),S=R),c.memoizedState={parent:m,cache:S},w1(c),Ha(c,rr,S)):((a.lanes&d)!==0&&(_1(a,c),hd(c,null,null,d),cd()),S=a.memoizedState,R=c.memoizedState,S.parent!==m?(S={parent:m,cache:m},c.memoizedState=S,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=S),Ha(c,rr,m)):(m=R.cache,Ha(c,rr,m),m!==S.cache&&p1(c,[rr],d,!0))),xr(a,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function ua(a){a.flags|=4}function X2(a,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!iD(c)){if(c=us.current,c!==null&&((Ht&4194048)===Ht?ro!==null:(Ht&62914560)!==Ht&&(Ht&536870912)===0||c!==ro))throw ld=v1,NR;a.flags|=8192}}function Fg(a,c){c!==null&&(a.flags|=4),a.flags&16384&&(c=a.tag!==22?Go():536870912,a.lanes|=c,sh|=c)}function vd(a,c){if(!Xt)switch(a.tailMode){case"hidden":c=a.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Tn(a){var c=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(c)for(var S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=a,S=S.sibling;else for(S=a.child;S!==null;)d|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=a,S=S.sibling;return a.subtreeFlags|=m,a.childLanes=d,c}function xV(a,c,d){var m=c.pendingProps;switch(c1(c),c.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(c),null;case 1:return Tn(c),null;case 3:return d=c.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),sa(rr),ce(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(td(c)?ua(c):a===null||a.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,RR())),Tn(c),null;case 26:return d=c.memoizedState,a===null?(ua(c),d!==null?(Tn(c),X2(c,d)):(Tn(c),c.flags&=-16777217)):d?d!==a.memoizedState?(ua(c),Tn(c),X2(c,d)):(Tn(c),c.flags&=-16777217):(a.memoizedProps!==m&&ua(c),Tn(c),c.flags&=-16777217),null;case 27:Y(c),d=ue.current;var S=c.type;if(a!==null&&c.stateNode!=null)a.memoizedProps!==m&&ua(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return Tn(c),null}a=he.current,td(c)?AR(c):(a=Xk(S,m,d),c.stateNode=a,ua(c))}return Tn(c),null;case 5:if(Y(c),d=c.type,a!==null&&c.stateNode!=null)a.memoizedProps!==m&&ua(c);else{if(!m){if(c.stateNode===null)throw Error(n(166));return Tn(c),null}if(a=he.current,td(c))AR(c);else{switch(S=Qg(ue.current),a){case 1:a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":a=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":a=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":a=S.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof m.is=="string"?S.createElement("select",{is:m.is}):S.createElement("select"),m.multiple?a.multiple=!0:m.size&&(a.size=m.size);break;default:a=typeof m.is=="string"?S.createElement(d,{is:m.is}):S.createElement(d)}}a[ze]=c,a[Ke]=m;e:for(S=c.child;S!==null;){if(S.tag===5||S.tag===6)a.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===c)break e;for(;S.sibling===null;){if(S.return===null||S.return===c)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}c.stateNode=a;e:switch(Ar(a,d,m),d){case"button":case"input":case"select":case"textarea":a=!!m.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ua(c)}}return Tn(c),c.flags&=-16777217,null;case 6:if(a&&c.stateNode!=null)a.memoizedProps!==m&&ua(c);else{if(typeof m!="string"&&c.stateNode===null)throw Error(n(166));if(a=ue.current,td(c)){if(a=c.stateNode,d=c.memoizedProps,m=null,S=oi,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}a[ze]=c,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||Hk(a.nodeValue,d)),a||Tu(c)}else a=Qg(a).createTextNode(m),a[ze]=c,c.stateNode=a}return Tn(c),null;case 13:if(m=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(S=td(c),m!==null&&m.dehydrated!==null){if(a===null){if(!S)throw Error(n(318));if(S=c.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[ze]=c}else nd(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Tn(c),S=!1}else S=RR(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=S),S=!0;if(!S)return c.flags&256?(aa(c),c):(aa(c),null)}if(aa(c),(c.flags&128)!==0)return c.lanes=d,c;if(d=m!==null,a=a!==null&&a.memoizedState!==null,d){m=c.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool);var R=null;m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(R=m.memoizedState.cachePool.pool),R!==S&&(m.flags|=2048)}return d!==a&&d&&(c.child.flags|=8192),Fg(c,c.updateQueue),Tn(c),null;case 4:return ce(),a===null&&S_(c.stateNode.containerInfo),Tn(c),null;case 10:return sa(c.type),Tn(c),null;case 19:if(K(ir),S=c.memoizedState,S===null)return Tn(c),null;if(m=(c.flags&128)!==0,R=S.rendering,R===null)if(m)vd(S,!1);else{if(Dn!==0||a!==null&&(a.flags&128)!==0)for(a=c.child;a!==null;){if(R=Ng(a),R!==null){for(c.flags|=128,vd(S,!1),a=R.updateQueue,c.updateQueue=a,Fg(c,a),c.subtreeFlags=0,a=d,d=c.child;d!==null;)xR(d,a),d=d.sibling;return re(ir,ir.current&1|2),c.child}a=a.sibling}S.tail!==null&&k()>zg&&(c.flags|=128,m=!0,vd(S,!1),c.lanes=4194304)}else{if(!m)if(a=Ng(R),a!==null){if(c.flags|=128,m=!0,a=a.updateQueue,c.updateQueue=a,Fg(c,a),vd(S,!0),S.tail===null&&S.tailMode==="hidden"&&!R.alternate&&!Xt)return Tn(c),null}else 2*k()-S.renderingStartTime>zg&&d!==536870912&&(c.flags|=128,m=!0,vd(S,!1),c.lanes=4194304);S.isBackwards?(R.sibling=c.child,c.child=R):(a=S.last,a!==null?a.sibling=R:c.child=R,S.last=R)}return S.tail!==null?(c=S.tail,S.rendering=c,S.tail=c.sibling,S.renderingStartTime=k(),c.sibling=null,a=ir.current,re(ir,m?a&1|2:a&1),c):(Tn(c),null);case 22:case 23:return aa(c),x1(),m=c.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(c.flags|=8192):m&&(c.flags|=8192),m?(d&536870912)!==0&&(c.flags&128)===0&&(Tn(c),c.subtreeFlags&6&&(c.flags|=8192)):Tn(c),d=c.updateQueue,d!==null&&Fg(c,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==d&&(c.flags|=2048),a!==null&&K(Ru),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),sa(rr),Tn(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function TV(a,c){switch(c1(c),c.tag){case 1:return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return sa(rr),ce(),a=c.flags,(a&65536)!==0&&(a&128)===0?(c.flags=a&-65537|128,c):null;case 26:case 27:case 5:return Y(c),null;case 13:if(aa(c),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));nd()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return K(ir),null;case 4:return ce(),null;case 10:return sa(c.type),null;case 22:case 23:return aa(c),x1(),a!==null&&K(Ru),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 24:return sa(rr),null;case 25:return null;default:return null}}function Q2(a,c){switch(c1(c),c.tag){case 3:sa(rr),ce();break;case 26:case 27:case 5:Y(c);break;case 4:ce();break;case 13:aa(c);break;case 19:K(ir);break;case 10:sa(c.type);break;case 22:case 23:aa(c),x1(),a!==null&&K(Ru);break;case 24:sa(rr)}}function wd(a,c){try{var d=c.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var S=m.next;d=S;do{if((d.tag&a)===a){m=void 0;var R=d.create,G=d.inst;m=R(),G.destroy=m}d=d.next}while(d!==S)}}catch(Z){cn(c,c.return,Z)}}function Xa(a,c,d){try{var m=c.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var R=S.next;m=R;do{if((m.tag&a)===a){var G=m.inst,Z=G.destroy;if(Z!==void 0){G.destroy=void 0,S=c;var pe=d,Ce=Z;try{Ce()}catch(Ne){cn(S,pe,Ne)}}}m=m.next}while(m!==R)}}catch(Ne){cn(c,c.return,Ne)}}function Z2(a){var c=a.updateQueue;if(c!==null){var d=a.stateNode;try{VR(c,d)}catch(m){cn(a,a.return,m)}}}function J2(a,c,d){d.props=Du(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){cn(a,c,m)}}function _d(a,c){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(S){cn(a,c,S)}}function io(a,c){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(S){cn(a,c,S)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(S){cn(a,c,S)}else d.current=null}function ek(a){var c=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(S){cn(a,a.return,S)}}function Z1(a,c,d){try{var m=a.stateNode;GV(m,a.type,d,c),m[Ke]=c}catch(S){cn(a,a.return,S)}}function tk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&il(a.type)||a.tag===4}function J1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||tk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&il(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function e_(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(a),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=Xg));else if(m!==4&&(m===27&&il(a.type)&&(d=a.stateNode,c=null),a=a.child,a!==null))for(e_(a,c,d),a=a.sibling;a!==null;)e_(a,c,d),a=a.sibling}function Vg(a,c,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,c?d.insertBefore(a,c):d.appendChild(a);else if(m!==4&&(m===27&&il(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Vg(a,c,d),a=a.sibling;a!==null;)Vg(a,c,d),a=a.sibling}function nk(a){var c=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,S=c.attributes;S.length;)c.removeAttributeNode(S[0]);Ar(c,m,d),c[ze]=a,c[Ke]=d}catch(R){cn(a,a.return,R)}}var ca=!1,Pn=!1,t_=!1,rk=typeof WeakSet=="function"?WeakSet:Set,fr=null;function AV(a,c){if(a=a.containerInfo,T_=ry,a=pR(a),Jw(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var S=m.anchorOffset,R=m.focusNode;m=m.focusOffset;try{d.nodeType,R.nodeType}catch{d=null;break e}var G=0,Z=-1,pe=-1,Ce=0,Ne=0,Ve=a,Re=null;t:for(;;){for(var ke;Ve!==d||S!==0&&Ve.nodeType!==3||(Z=G+S),Ve!==R||m!==0&&Ve.nodeType!==3||(pe=G+m),Ve.nodeType===3&&(G+=Ve.nodeValue.length),(ke=Ve.firstChild)!==null;)Re=Ve,Ve=ke;for(;;){if(Ve===a)break t;if(Re===d&&++Ce===S&&(Z=G),Re===R&&++Ne===m&&(pe=G),(ke=Ve.nextSibling)!==null)break;Ve=Re,Re=Ve.parentNode}Ve=ke}d=Z===-1||pe===-1?null:{start:Z,end:pe}}else d=null}d=d||{start:0,end:0}}else d=null;for(A_={focusedElem:a,selectionRange:d},ry=!1,fr=c;fr!==null;)if(c=fr,a=c.child,(c.subtreeFlags&1024)!==0&&a!==null)a.return=c,fr=a;else for(;fr!==null;){switch(c=fr,R=c.alternate,a=c.flags,c.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&R!==null){a=void 0,d=c,S=R.memoizedProps,R=R.memoizedState,m=d.stateNode;try{var vt=Du(d.type,S,d.elementType===d.type);a=m.getSnapshotBeforeUpdate(vt,R),m.__reactInternalSnapshotBeforeUpdate=a}catch(ft){cn(d,d.return,ft)}}break;case 3:if((a&1024)!==0){if(a=c.stateNode.containerInfo,d=a.nodeType,d===9)k_(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":k_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=c.sibling,a!==null){a.return=c.return,fr=a;break}fr=c.return}}function ik(a,c,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:Qa(a,d),m&4&&wd(5,d);break;case 1:if(Qa(a,d),m&4)if(a=d.stateNode,c===null)try{a.componentDidMount()}catch(G){cn(d,d.return,G)}else{var S=Du(d.type,c.memoizedProps);c=c.memoizedState;try{a.componentDidUpdate(S,c,a.__reactInternalSnapshotBeforeUpdate)}catch(G){cn(d,d.return,G)}}m&64&&Z2(d),m&512&&_d(d,d.return);break;case 3:if(Qa(a,d),m&64&&(a=d.updateQueue,a!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{VR(a,c)}catch(G){cn(d,d.return,G)}}break;case 27:c===null&&m&4&&nk(d);case 26:case 5:Qa(a,d),c===null&&m&4&&ek(d),m&512&&_d(d,d.return);break;case 12:Qa(a,d);break;case 13:Qa(a,d),m&4&&ak(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=PV.bind(null,d),JV(a,d))));break;case 22:if(m=d.memoizedState!==null||ca,!m){c=c!==null&&c.memoizedState!==null||Pn,S=ca;var R=Pn;ca=m,(Pn=c)&&!R?Za(a,d,(d.subtreeFlags&8772)!==0):Qa(a,d),ca=S,Pn=R}break;case 30:break;default:Qa(a,d)}}function sk(a){var c=a.alternate;c!==null&&(a.alternate=null,sk(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&ct(c)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var bn=null,di=!1;function ha(a,c,d){for(d=d.child;d!==null;)ok(a,c,d),d=d.sibling}function ok(a,c,d){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(He,d)}catch{}switch(d.tag){case 26:Pn||io(d,c),ha(a,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Pn||io(d,c);var m=bn,S=di;il(d.type)&&(bn=d.stateNode,di=!1),ha(a,c,d),kd(d.stateNode),bn=m,di=S;break;case 5:Pn||io(d,c);case 6:if(m=bn,S=di,bn=null,ha(a,c,d),bn=m,di=S,bn!==null)if(di)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(d.stateNode)}catch(R){cn(d,c,R)}else try{bn.removeChild(d.stateNode)}catch(R){cn(d,c,R)}break;case 18:bn!==null&&(di?(a=bn,$k(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Bd(a)):$k(bn,d.stateNode));break;case 4:m=bn,S=di,bn=d.stateNode.containerInfo,di=!0,ha(a,c,d),bn=m,di=S;break;case 0:case 11:case 14:case 15:Pn||Xa(2,d,c),Pn||Xa(4,d,c),ha(a,c,d);break;case 1:Pn||(io(d,c),m=d.stateNode,typeof m.componentWillUnmount=="function"&&J2(d,c,m)),ha(a,c,d);break;case 21:ha(a,c,d);break;case 22:Pn=(m=Pn)||d.memoizedState!==null,ha(a,c,d),Pn=m;break;default:ha(a,c,d)}}function ak(a,c){if(c.memoizedState===null&&(a=c.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Bd(a)}catch(d){cn(c,c.return,d)}}function CV(a){switch(a.tag){case 13:case 19:var c=a.stateNode;return c===null&&(c=a.stateNode=new rk),c;case 22:return a=a.stateNode,c=a._retryCache,c===null&&(c=a._retryCache=new rk),c;default:throw Error(n(435,a.tag))}}function n_(a,c){var d=CV(a);c.forEach(function(m){var S=LV.bind(null,a,m);d.has(m)||(d.add(m),m.then(S,S))})}function Mi(a,c){var d=c.deletions;if(d!==null)for(var m=0;m<d.length;m++){var S=d[m],R=a,G=c,Z=G;e:for(;Z!==null;){switch(Z.tag){case 27:if(il(Z.type)){bn=Z.stateNode,di=!1;break e}break;case 5:bn=Z.stateNode,di=!1;break e;case 3:case 4:bn=Z.stateNode.containerInfo,di=!0;break e}Z=Z.return}if(bn===null)throw Error(n(160));ok(R,G,S),bn=null,di=!1,R=S.alternate,R!==null&&(R.return=null),S.return=null}if(c.subtreeFlags&13878)for(c=c.child;c!==null;)lk(c,a),c=c.sibling}var Os=null;function lk(a,c){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Mi(c,a),Pi(a),m&4&&(Xa(3,a,a.return),wd(3,a),Xa(5,a,a.return));break;case 1:Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),m&64&&ca&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var S=Os;if(Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),m&4){var R=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":R=S.getElementsByTagName("title")[0],(!R||R[dt]||R[ze]||R.namespaceURI==="http://www.w3.org/2000/svg"||R.hasAttribute("itemprop"))&&(R=S.createElement(m),S.head.insertBefore(R,S.querySelector("head > title"))),Ar(R,m,d),R[ze]=a,Bt(R),m=R;break e;case"link":var G=nD("link","href",S).get(m+(d.href||""));if(G){for(var Z=0;Z<G.length;Z++)if(R=G[Z],R.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&R.getAttribute("rel")===(d.rel==null?null:d.rel)&&R.getAttribute("title")===(d.title==null?null:d.title)&&R.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){G.splice(Z,1);break t}}R=S.createElement(m),Ar(R,m,d),S.head.appendChild(R);break;case"meta":if(G=nD("meta","content",S).get(m+(d.content||""))){for(Z=0;Z<G.length;Z++)if(R=G[Z],R.getAttribute("content")===(d.content==null?null:""+d.content)&&R.getAttribute("name")===(d.name==null?null:d.name)&&R.getAttribute("property")===(d.property==null?null:d.property)&&R.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&R.getAttribute("charset")===(d.charSet==null?null:d.charSet)){G.splice(Z,1);break t}}R=S.createElement(m),Ar(R,m,d),S.head.appendChild(R);break;default:throw Error(n(468,m))}R[ze]=a,Bt(R),m=R}a.stateNode=m}else rD(S,a.type,a.stateNode);else a.stateNode=tD(S,m,a.memoizedProps);else R!==m?(R===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):R.count--,m===null?rD(S,a.type,a.stateNode):tD(S,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Z1(a,a.memoizedProps,d.memoizedProps)}break;case 27:Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),d!==null&&m&4&&Z1(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Mi(c,a),Pi(a),m&512&&(Pn||d===null||io(d,d.return)),a.flags&32){S=a.stateNode;try{ts(S,"")}catch(ke){cn(a,a.return,ke)}}m&4&&a.stateNode!=null&&(S=a.memoizedProps,Z1(a,S,d!==null?d.memoizedProps:S)),m&1024&&(t_=!0);break;case 6:if(Mi(c,a),Pi(a),m&4){if(a.stateNode===null)throw Error(n(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(ke){cn(a,a.return,ke)}}break;case 3:if(ey=null,S=Os,Os=Zg(c.containerInfo),Mi(c,a),Os=S,Pi(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Bd(c.containerInfo)}catch(ke){cn(a,a.return,ke)}t_&&(t_=!1,uk(a));break;case 4:m=Os,Os=Zg(a.stateNode.containerInfo),Mi(c,a),Pi(a),Os=m;break;case 12:Mi(c,a),Pi(a);break;case 13:Mi(c,a),Pi(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(l_=k()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,n_(a,m)));break;case 22:S=a.memoizedState!==null;var pe=d!==null&&d.memoizedState!==null,Ce=ca,Ne=Pn;if(ca=Ce||S,Pn=Ne||pe,Mi(c,a),Pn=Ne,ca=Ce,Pi(a),m&8192)e:for(c=a.stateNode,c._visibility=S?c._visibility&-2:c._visibility|1,S&&(d===null||pe||ca||Pn||Iu(a)),d=null,c=a;;){if(c.tag===5||c.tag===26){if(d===null){pe=d=c;try{if(R=pe.stateNode,S)G=R.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{Z=pe.stateNode;var Ve=pe.memoizedProps.style,Re=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;Z.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(ke){cn(pe,pe.return,ke)}}}else if(c.tag===6){if(d===null){pe=c;try{pe.stateNode.nodeValue=S?"":pe.memoizedProps}catch(ke){cn(pe,pe.return,ke)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===a)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break e;for(;c.sibling===null;){if(c.return===null||c.return===a)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,n_(a,d))));break;case 19:Mi(c,a),Pi(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,n_(a,m)));break;case 30:break;case 21:break;default:Mi(c,a),Pi(a)}}function Pi(a){var c=a.flags;if(c&2){try{for(var d,m=a.return;m!==null;){if(tk(m)){d=m;break}m=m.return}if(d==null)throw Error(n(160));switch(d.tag){case 27:var S=d.stateNode,R=J1(a);Vg(a,R,S);break;case 5:var G=d.stateNode;d.flags&32&&(ts(G,""),d.flags&=-33);var Z=J1(a);Vg(a,Z,G);break;case 3:case 4:var pe=d.stateNode.containerInfo,Ce=J1(a);e_(a,Ce,pe);break;default:throw Error(n(161))}}catch(Ne){cn(a,a.return,Ne)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function uk(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var c=a;uk(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),a=a.sibling}}function Qa(a,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)ik(a,c.alternate,c),c=c.sibling}function Iu(a){for(a=a.child;a!==null;){var c=a;switch(c.tag){case 0:case 11:case 14:case 15:Xa(4,c,c.return),Iu(c);break;case 1:io(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&J2(c,c.return,d),Iu(c);break;case 27:kd(c.stateNode);case 26:case 5:io(c,c.return),Iu(c);break;case 22:c.memoizedState===null&&Iu(c);break;case 30:Iu(c);break;default:Iu(c)}a=a.sibling}}function Za(a,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var m=c.alternate,S=a,R=c,G=R.flags;switch(R.tag){case 0:case 11:case 15:Za(S,R,d),wd(4,R);break;case 1:if(Za(S,R,d),m=R,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Ce){cn(m,m.return,Ce)}if(m=R,S=m.updateQueue,S!==null){var Z=m.stateNode;try{var pe=S.shared.hiddenCallbacks;if(pe!==null)for(S.shared.hiddenCallbacks=null,S=0;S<pe.length;S++)FR(pe[S],Z)}catch(Ce){cn(m,m.return,Ce)}}d&&G&64&&Z2(R),_d(R,R.return);break;case 27:nk(R);case 26:case 5:Za(S,R,d),d&&m===null&&G&4&&ek(R),_d(R,R.return);break;case 12:Za(S,R,d);break;case 13:Za(S,R,d),d&&G&4&&ak(S,R);break;case 22:R.memoizedState===null&&Za(S,R,d),_d(R,R.return);break;case 30:break;default:Za(S,R,d)}c=c.sibling}}function r_(a,c){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(a=c.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&sd(d))}function i_(a,c){a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&sd(a))}function so(a,c,d,m){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ck(a,c,d,m),c=c.sibling}function ck(a,c,d,m){var S=c.flags;switch(c.tag){case 0:case 11:case 15:so(a,c,d,m),S&2048&&wd(9,c);break;case 1:so(a,c,d,m);break;case 3:so(a,c,d,m),S&2048&&(a=null,c.alternate!==null&&(a=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==a&&(c.refCount++,a!=null&&sd(a)));break;case 12:if(S&2048){so(a,c,d,m),a=c.stateNode;try{var R=c.memoizedProps,G=R.id,Z=R.onPostCommit;typeof Z=="function"&&Z(G,c.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(pe){cn(c,c.return,pe)}}else so(a,c,d,m);break;case 13:so(a,c,d,m);break;case 23:break;case 22:R=c.stateNode,G=c.alternate,c.memoizedState!==null?R._visibility&2?so(a,c,d,m):bd(a,c):R._visibility&2?so(a,c,d,m):(R._visibility|=2,nh(a,c,d,m,(c.subtreeFlags&10256)!==0)),S&2048&&r_(G,c);break;case 24:so(a,c,d,m),S&2048&&i_(c.alternate,c);break;default:so(a,c,d,m)}}function nh(a,c,d,m,S){for(S=S&&(c.subtreeFlags&10256)!==0,c=c.child;c!==null;){var R=a,G=c,Z=d,pe=m,Ce=G.flags;switch(G.tag){case 0:case 11:case 15:nh(R,G,Z,pe,S),wd(8,G);break;case 23:break;case 22:var Ne=G.stateNode;G.memoizedState!==null?Ne._visibility&2?nh(R,G,Z,pe,S):bd(R,G):(Ne._visibility|=2,nh(R,G,Z,pe,S)),S&&Ce&2048&&r_(G.alternate,G);break;case 24:nh(R,G,Z,pe,S),S&&Ce&2048&&i_(G.alternate,G);break;default:nh(R,G,Z,pe,S)}c=c.sibling}}function bd(a,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=a,m=c,S=m.flags;switch(m.tag){case 22:bd(d,m),S&2048&&r_(m.alternate,m);break;case 24:bd(d,m),S&2048&&i_(m.alternate,m);break;default:bd(d,m)}c=c.sibling}}var Sd=8192;function rh(a){if(a.subtreeFlags&Sd)for(a=a.child;a!==null;)hk(a),a=a.sibling}function hk(a){switch(a.tag){case 26:rh(a),a.flags&Sd&&a.memoizedState!==null&&fU(Os,a.memoizedState,a.memoizedProps);break;case 5:rh(a);break;case 3:case 4:var c=Os;Os=Zg(a.stateNode.containerInfo),rh(a),Os=c;break;case 22:a.memoizedState===null&&(c=a.alternate,c!==null&&c.memoizedState!==null?(c=Sd,Sd=16777216,rh(a),Sd=c):rh(a));break;default:rh(a)}}function fk(a){var c=a.alternate;if(c!==null&&(a=c.child,a!==null)){c.child=null;do c=a.sibling,a.sibling=null,a=c;while(a!==null)}}function Ed(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];fr=m,pk(m,a)}fk(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)dk(a),a=a.sibling}function dk(a){switch(a.tag){case 0:case 11:case 15:Ed(a),a.flags&2048&&Xa(9,a,a.return);break;case 3:Ed(a);break;case 12:Ed(a);break;case 22:var c=a.stateNode;a.memoizedState!==null&&c._visibility&2&&(a.return===null||a.return.tag!==13)?(c._visibility&=-3,Ug(a)):Ed(a);break;default:Ed(a)}}function Ug(a){var c=a.deletions;if((a.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var m=c[d];fr=m,pk(m,a)}fk(a)}for(a=a.child;a!==null;){switch(c=a,c.tag){case 0:case 11:case 15:Xa(8,c,c.return),Ug(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,Ug(c));break;default:Ug(c)}a=a.sibling}}function pk(a,c){for(;fr!==null;){var d=fr;switch(d.tag){case 0:case 11:case 15:Xa(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:sd(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,fr=m;else e:for(d=a;fr!==null;){m=fr;var S=m.sibling,R=m.return;if(sk(m),m===d){fr=null;break e}if(S!==null){S.return=R,fr=S;break e}fr=R}}}var RV={getCacheForType:function(a){var c=Vr(rr),d=c.data.get(a);return d===void 0&&(d=a(),c.data.set(a,d)),d}},kV=typeof WeakMap=="function"?WeakMap:Map,tn=0,gn=null,It=null,Ht=0,nn=0,Li=null,Ja=!1,ih=!1,s_=!1,fa=0,Dn=0,el=0,Ou=0,o_=0,cs=0,sh=0,xd=null,pi=null,a_=!1,l_=0,zg=1/0,jg=null,tl=null,Tr=0,nl=null,oh=null,ah=0,u_=0,c_=null,mk=null,Td=0,h_=null;function Bi(){if((tn&2)!==0&&Ht!==0)return Ht&-Ht;if(Q.T!==null){var a=$c;return a!==0?a:v_()}return ye()}function gk(){cs===0&&(cs=(Ht&536870912)===0||Xt?ks():536870912);var a=us.current;return a!==null&&(a.flags|=32),cs}function Fi(a,c,d){(a===gn&&(nn===2||nn===9)||a.cancelPendingCommit!==null)&&(lh(a,0),rl(a,Ht,cs,!1)),_r(a,d),((tn&2)===0||a!==gn)&&(a===gn&&((tn&2)===0&&(Ou|=d),Dn===4&&rl(a,Ht,cs,!1)),oo(a))}function yk(a,c,d){if((tn&6)!==0)throw Error(n(327));var m=!d&&(c&124)===0&&(c&a.expiredLanes)===0||ei(a,c),S=m?OV(a,c):p_(a,c,!0),R=m;do{if(S===0){ih&&!m&&rl(a,c,0,!1);break}else{if(d=a.current.alternate,R&&!DV(d)){S=p_(a,c,!1),R=!1;continue}if(S===2){if(R=c,a.errorRecoveryDisabledLanes&R)var G=0;else G=a.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){c=G;e:{var Z=a;S=xd;var pe=Z.current.memoizedState.isDehydrated;if(pe&&(lh(Z,G).flags|=256),G=p_(Z,G,!1),G!==2){if(s_&&!pe){Z.errorRecoveryDisabledLanes|=R,Ou|=R,S=4;break e}R=pi,pi=S,R!==null&&(pi===null?pi=R:pi.push.apply(pi,R))}S=G}if(R=!1,S!==2)continue}}if(S===1){lh(a,0),rl(a,c,0,!0);break}e:{switch(m=a,R=S,R){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:rl(m,c,cs,!Ja);break e;case 2:pi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(S=l_+300-k(),10<S)){if(rl(m,c,cs,!Ja),Jn(m,0,!0)!==0)break e;m.timeoutHandle=Gk(vk.bind(null,m,d,pi,jg,a_,c,cs,Ou,sh,Ja,R,2,-0,0),S);break e}vk(m,d,pi,jg,a_,c,cs,Ou,sh,Ja,R,0,-0,0)}}break}while(!0);oo(a)}function vk(a,c,d,m,S,R,G,Z,pe,Ce,Ne,Ve,Re,ke){if(a.timeoutHandle=-1,Ve=c.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(Od={stylesheets:null,count:0,unsuspend:hU},hk(c),Ve=dU(),Ve!==null)){a.cancelPendingCommit=Ve(Tk.bind(null,a,c,R,d,m,S,G,Z,pe,Ne,1,Re,ke)),rl(a,R,G,!Ce);return}Tk(a,c,R,d,m,S,G,Z,pe)}function DV(a){for(var c=a;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var S=d[m],R=S.getSnapshot;S=S.value;try{if(!Oi(R(),S))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function rl(a,c,d,m){c&=~o_,c&=~Ou,a.suspendedLanes|=c,a.pingedLanes&=~c,m&&(a.warmLanes|=c),m=a.expirationTimes;for(var S=c;0<S;){var R=31-Nt(S),G=1<<R;m[R]=-1,S&=~G}d!==0&&ni(a,d,c)}function Hg(){return(tn&6)===0?(Ad(0),!1):!0}function f_(){if(It!==null){if(nn===0)var a=It.return;else a=It,ia=Au=null,k1(a),eh=null,gd=0,a=It;for(;a!==null;)Q2(a.alternate,a),a=a.return;It=null}}function lh(a,c){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,$V(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),f_(),gn=a,It=d=ta(a.current,null),Ht=c,nn=0,Li=null,Ja=!1,ih=ei(a,c),s_=!1,sh=cs=o_=Ou=el=Dn=0,pi=xd=null,a_=!1,(c&8)!==0&&(c|=c&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=c;0<m;){var S=31-Nt(m),R=1<<S;c|=a[S],m&=~R}return fa=c,hg(),d}function wk(a,c){At=null,Q.H=Dg,c===ad||c===_g?(c=LR(),nn=3):c===NR?(c=LR(),nn=4):nn=c===B2?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Li=c,It===null&&(Dn=1,Pg(a,ss(c,a.current)))}function _k(){var a=Q.H;return Q.H=Dg,a===null?Dg:a}function bk(){var a=Q.A;return Q.A=RV,a}function d_(){Dn=4,Ja||(Ht&4194048)!==Ht&&us.current!==null||(ih=!0),(el&134217727)===0&&(Ou&134217727)===0||gn===null||rl(gn,Ht,cs,!1)}function p_(a,c,d){var m=tn;tn|=2;var S=_k(),R=bk();(gn!==a||Ht!==c)&&(jg=null,lh(a,c)),c=!1;var G=Dn;e:do try{if(nn!==0&&It!==null){var Z=It,pe=Li;switch(nn){case 8:f_(),G=6;break e;case 3:case 2:case 9:case 6:us.current===null&&(c=!0);var Ce=nn;if(nn=0,Li=null,uh(a,Z,pe,Ce),d&&ih){G=0;break e}break;default:Ce=nn,nn=0,Li=null,uh(a,Z,pe,Ce)}}IV(),G=Dn;break}catch(Ne){wk(a,Ne)}while(!0);return c&&a.shellSuspendCounter++,ia=Au=null,tn=m,Q.H=S,Q.A=R,It===null&&(gn=null,Ht=0,hg()),G}function IV(){for(;It!==null;)Sk(It)}function OV(a,c){var d=tn;tn|=2;var m=_k(),S=bk();gn!==a||Ht!==c?(jg=null,zg=k()+500,lh(a,c)):ih=ei(a,c);e:do try{if(nn!==0&&It!==null){c=It;var R=Li;t:switch(nn){case 1:nn=0,Li=null,uh(a,c,R,1);break;case 2:case 9:if(MR(R)){nn=0,Li=null,Ek(c);break}c=function(){nn!==2&&nn!==9||gn!==a||(nn=7),oo(a)},R.then(c,c);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:MR(R)?(nn=0,Li=null,Ek(c)):(nn=0,Li=null,uh(a,c,R,7));break;case 5:var G=null;switch(It.tag){case 26:G=It.memoizedState;case 5:case 27:var Z=It;if(!G||iD(G)){nn=0,Li=null;var pe=Z.sibling;if(pe!==null)It=pe;else{var Ce=Z.return;Ce!==null?(It=Ce,qg(Ce)):It=null}break t}}nn=0,Li=null,uh(a,c,R,5);break;case 6:nn=0,Li=null,uh(a,c,R,6);break;case 8:f_(),Dn=6;break e;default:throw Error(n(462))}}NV();break}catch(Ne){wk(a,Ne)}while(!0);return ia=Au=null,Q.H=m,Q.A=S,tn=d,It!==null?0:(gn=null,Ht=0,hg(),Dn)}function NV(){for(;It!==null&&!Se();)Sk(It)}function Sk(a){var c=Y2(a.alternate,a,fa);a.memoizedProps=a.pendingProps,c===null?qg(a):It=c}function Ek(a){var c=a,d=c.alternate;switch(c.tag){case 15:case 0:c=H2(d,c,c.pendingProps,c.type,void 0,Ht);break;case 11:c=H2(d,c,c.pendingProps,c.type.render,c.ref,Ht);break;case 5:k1(c);default:Q2(d,c),c=It=xR(c,fa),c=Y2(d,c,fa)}a.memoizedProps=a.pendingProps,c===null?qg(a):It=c}function uh(a,c,d,m){ia=Au=null,k1(c),eh=null,gd=0;var S=c.return;try{if(SV(a,S,c,d,Ht)){Dn=1,Pg(a,ss(d,a.current)),It=null;return}}catch(R){if(S!==null)throw It=S,R;Dn=1,Pg(a,ss(d,a.current)),It=null;return}c.flags&32768?(Xt||m===1?a=!0:ih||(Ht&536870912)!==0?a=!1:(Ja=a=!0,(m===2||m===9||m===3||m===6)&&(m=us.current,m!==null&&m.tag===13&&(m.flags|=16384))),xk(c,a)):qg(c)}function qg(a){var c=a;do{if((c.flags&32768)!==0){xk(c,Ja);return}a=c.return;var d=xV(c.alternate,c,fa);if(d!==null){It=d;return}if(c=c.sibling,c!==null){It=c;return}It=c=a}while(c!==null);Dn===0&&(Dn=5)}function xk(a,c){do{var d=TV(a.alternate,a);if(d!==null){d.flags&=32767,It=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(a=a.sibling,a!==null)){It=a;return}It=a=d}while(a!==null);Dn=6,It=null}function Tk(a,c,d,m,S,R,G,Z,pe){a.cancelPendingCommit=null;do Wg();while(Tr!==0);if((tn&6)!==0)throw Error(n(327));if(c!==null){if(c===a.current)throw Error(n(177));if(R=c.lanes|c.childLanes,R|=i1,Ri(a,d,R,G,Z,pe),a===gn&&(It=gn=null,Ht=0),oh=c,nl=a,ah=d,u_=R,c_=S,mk=m,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,BV(ge,function(){return Dk(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||m){m=Q.T,Q.T=null,S=X.p,X.p=2,G=tn,tn|=4;try{AV(a,c,d)}finally{tn=G,X.p=S,Q.T=m}}Tr=1,Ak(),Ck(),Rk()}}function Ak(){if(Tr===1){Tr=0;var a=nl,c=oh,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=Q.T,Q.T=null;var m=X.p;X.p=2;var S=tn;tn|=4;try{lk(c,a);var R=A_,G=pR(a.containerInfo),Z=R.focusedElem,pe=R.selectionRange;if(G!==Z&&Z&&Z.ownerDocument&&dR(Z.ownerDocument.documentElement,Z)){if(pe!==null&&Jw(Z)){var Ce=pe.start,Ne=pe.end;if(Ne===void 0&&(Ne=Ce),"selectionStart"in Z)Z.selectionStart=Ce,Z.selectionEnd=Math.min(Ne,Z.value.length);else{var Ve=Z.ownerDocument||document,Re=Ve&&Ve.defaultView||window;if(Re.getSelection){var ke=Re.getSelection(),vt=Z.textContent.length,ft=Math.min(pe.start,vt),an=pe.end===void 0?ft:Math.min(pe.end,vt);!ke.extend&&ft>an&&(G=an,an=ft,ft=G);var be=fR(Z,ft),we=fR(Z,an);if(be&&we&&(ke.rangeCount!==1||ke.anchorNode!==be.node||ke.anchorOffset!==be.offset||ke.focusNode!==we.node||ke.focusOffset!==we.offset)){var Te=Ve.createRange();Te.setStart(be.node,be.offset),ke.removeAllRanges(),ft>an?(ke.addRange(Te),ke.extend(we.node,we.offset)):(Te.setEnd(we.node,we.offset),ke.addRange(Te))}}}}for(Ve=[],ke=Z;ke=ke.parentNode;)ke.nodeType===1&&Ve.push({element:ke,left:ke.scrollLeft,top:ke.scrollTop});for(typeof Z.focus=="function"&&Z.focus(),Z=0;Z<Ve.length;Z++){var Le=Ve[Z];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}ry=!!T_,A_=T_=null}finally{tn=S,X.p=m,Q.T=d}}a.current=c,Tr=2}}function Ck(){if(Tr===2){Tr=0;var a=nl,c=oh,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=Q.T,Q.T=null;var m=X.p;X.p=2;var S=tn;tn|=4;try{ik(a,c.alternate,c)}finally{tn=S,X.p=m,Q.T=d}}Tr=3}}function Rk(){if(Tr===4||Tr===3){Tr=0,H();var a=nl,c=oh,d=ah,m=mk;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Tr=5:(Tr=0,oh=nl=null,kk(a,a.pendingLanes));var S=a.pendingLanes;if(S===0&&(tl=null),Va(d),c=c.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(He,c,void 0,(c.current.flags&128)===128)}catch{}if(m!==null){c=Q.T,S=X.p,X.p=2,Q.T=null;try{for(var R=a.onRecoverableError,G=0;G<m.length;G++){var Z=m[G];R(Z.value,{componentStack:Z.stack})}}finally{Q.T=c,X.p=S}}(ah&3)!==0&&Wg(),oo(a),S=a.pendingLanes,(d&4194090)!==0&&(S&42)!==0?a===h_?Td++:(Td=0,h_=a):Td=0,Ad(0)}}function kk(a,c){(a.pooledCacheLanes&=c)===0&&(c=a.pooledCache,c!=null&&(a.pooledCache=null,sd(c)))}function Wg(a){return Ak(),Ck(),Rk(),Dk()}function Dk(){if(Tr!==5)return!1;var a=nl,c=u_;u_=0;var d=Va(ah),m=Q.T,S=X.p;try{X.p=32>d?32:d,Q.T=null,d=c_,c_=null;var R=nl,G=ah;if(Tr=0,oh=nl=null,ah=0,(tn&6)!==0)throw Error(n(331));var Z=tn;if(tn|=4,dk(R.current),ck(R,R.current,G,d),tn=Z,Ad(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(He,R)}catch{}return!0}finally{X.p=S,Q.T=m,kk(a,c)}}function Ik(a,c,d){c=ss(d,c),c=H1(a.stateNode,c,2),a=Ga(a,c,2),a!==null&&(_r(a,2),oo(a))}function cn(a,c,d){if(a.tag===3)Ik(a,a,d);else for(;c!==null;){if(c.tag===3){Ik(c,a,d);break}else if(c.tag===1){var m=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(tl===null||!tl.has(m))){a=ss(d,a),d=P2(2),m=Ga(c,d,2),m!==null&&(L2(d,m,c,a),_r(m,2),oo(m));break}}c=c.return}}function m_(a,c,d){var m=a.pingCache;if(m===null){m=a.pingCache=new kV;var S=new Set;m.set(c,S)}else S=m.get(c),S===void 0&&(S=new Set,m.set(c,S));S.has(d)||(s_=!0,S.add(d),a=MV.bind(null,a,c,d),c.then(a,a))}function MV(a,c,d){var m=a.pingCache;m!==null&&m.delete(c),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,gn===a&&(Ht&d)===d&&(Dn===4||Dn===3&&(Ht&62914560)===Ht&&300>k()-l_?(tn&2)===0&&lh(a,0):o_|=d,sh===Ht&&(sh=0)),oo(a)}function Ok(a,c){c===0&&(c=Go()),a=qc(a,c),a!==null&&(_r(a,c),oo(a))}function PV(a){var c=a.memoizedState,d=0;c!==null&&(d=c.retryLane),Ok(a,d)}function LV(a,c){var d=0;switch(a.tag){case 13:var m=a.stateNode,S=a.memoizedState;S!==null&&(d=S.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(c),Ok(a,d)}function BV(a,c){return _e(a,c)}var Gg=null,ch=null,g_=!1,Kg=!1,y_=!1,Nu=0;function oo(a){a!==ch&&a.next===null&&(ch===null?Gg=ch=a:ch=ch.next=a),Kg=!0,g_||(g_=!0,VV())}function Ad(a,c){if(!y_&&Kg){y_=!0;do for(var d=!1,m=Gg;m!==null;){if(a!==0){var S=m.pendingLanes;if(S===0)var R=0;else{var G=m.suspendedLanes,Z=m.pingedLanes;R=(1<<31-Nt(42|a)+1)-1,R&=S&~(G&~Z),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(d=!0,Lk(m,R))}else R=Ht,R=Jn(m,m===gn?R:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(R&3)===0||ei(m,R)||(d=!0,Lk(m,R));m=m.next}while(d);y_=!1}}function FV(){Nk()}function Nk(){Kg=g_=!1;var a=0;Nu!==0&&(KV()&&(a=Nu),Nu=0);for(var c=k(),d=null,m=Gg;m!==null;){var S=m.next,R=Mk(m,c);R===0?(m.next=null,d===null?Gg=S:d.next=S,S===null&&(ch=d)):(d=m,(a!==0||(R&3)!==0)&&(Kg=!0)),m=S}Ad(a)}function Mk(a,c){for(var d=a.suspendedLanes,m=a.pingedLanes,S=a.expirationTimes,R=a.pendingLanes&-62914561;0<R;){var G=31-Nt(R),Z=1<<G,pe=S[G];pe===-1?((Z&d)===0||(Z&m)!==0)&&(S[G]=qs(Z,c)):pe<=c&&(a.expiredLanes|=Z),R&=~Z}if(c=gn,d=Ht,d=Jn(a,a===c?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===c&&(nn===2||nn===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&U(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||ei(a,d)){if(c=d&-d,c===a.callbackPriority)return c;switch(m!==null&&U(m),Va(d)){case 2:case 8:d=se;break;case 32:d=ge;break;case 268435456:d=De;break;default:d=ge}return m=Pk.bind(null,a),d=_e(d,m),a.callbackPriority=c,a.callbackNode=d,c}return m!==null&&m!==null&&U(m),a.callbackPriority=2,a.callbackNode=null,2}function Pk(a,c){if(Tr!==0&&Tr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Wg()&&a.callbackNode!==d)return null;var m=Ht;return m=Jn(a,a===gn?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(yk(a,m,c),Mk(a,k()),a.callbackNode!=null&&a.callbackNode===d?Pk.bind(null,a):null)}function Lk(a,c){if(Wg())return null;yk(a,c,!0)}function VV(){YV(function(){(tn&6)!==0?_e(z,FV):Nk()})}function v_(){return Nu===0&&(Nu=ks()),Nu}function Bk(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Oc(""+a)}function Fk(a,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,a.id&&d.setAttribute("form",a.id),c.parentNode.insertBefore(d,c),a=new FormData(a),d.parentNode.removeChild(d),a}function UV(a,c,d,m,S){if(c==="submit"&&d&&d.stateNode===S){var R=Bk((S[Ke]||null).action),G=m.submitter;G&&(c=(c=G[Ke]||null)?Bk(c.formAction):G.getAttribute("formAction"),c!==null&&(R=c,G=null));var Z=new Nc("action","action",null,m,S);a.push({event:Z,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(Nu!==0){var pe=G?Fk(S,G):new FormData(S);F1(d,{pending:!0,data:pe,method:S.method,action:R},null,pe)}}else typeof R=="function"&&(Z.preventDefault(),pe=G?Fk(S,G):new FormData(S),F1(d,{pending:!0,data:pe,method:S.method,action:R},R,pe))},currentTarget:S}]})}}for(var w_=0;w_<r1.length;w_++){var __=r1[w_],zV=__.toLowerCase(),jV=__[0].toUpperCase()+__.slice(1);Is(zV,"on"+jV)}Is(yR,"onAnimationEnd"),Is(vR,"onAnimationIteration"),Is(wR,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(sV,"onTransitionRun"),Is(oV,"onTransitionStart"),Is(aV,"onTransitionCancel"),Is(_R,"onTransitionEnd"),ri("onMouseEnter",["mouseout","mouseover"]),ri("onMouseLeave",["mouseout","mouseover"]),ri("onPointerEnter",["pointerout","pointerover"]),ri("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HV=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cd));function Vk(a,c){c=(c&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],S=m.event;m=m.listeners;e:{var R=void 0;if(c)for(var G=m.length-1;0<=G;G--){var Z=m[G],pe=Z.instance,Ce=Z.currentTarget;if(Z=Z.listener,pe!==R&&S.isPropagationStopped())break e;R=Z,S.currentTarget=Ce;try{R(S)}catch(Ne){Mg(Ne)}S.currentTarget=null,R=pe}else for(G=0;G<m.length;G++){if(Z=m[G],pe=Z.instance,Ce=Z.currentTarget,Z=Z.listener,pe!==R&&S.isPropagationStopped())break e;R=Z,S.currentTarget=Ce;try{R(S)}catch(Ne){Mg(Ne)}S.currentTarget=null,R=pe}}}}function Ot(a,c){var d=c[ut];d===void 0&&(d=c[ut]=new Set);var m=a+"__bubble";d.has(m)||(Uk(c,a,2,!1),d.add(m))}function b_(a,c,d){var m=0;c&&(m|=4),Uk(d,a,m,c)}var $g="_reactListening"+Math.random().toString(36).slice(2);function S_(a){if(!a[$g]){a[$g]=!0,Rt.forEach(function(d){d!=="selectionchange"&&(HV.has(d)||b_(d,!1,a),b_(d,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[$g]||(c[$g]=!0,b_("selectionchange",!1,c))}}function Uk(a,c,d,m){switch(cD(c)){case 2:var S=gU;break;case 8:S=yU;break;default:S=L_}d=S.bind(null,c,d,a),S=void 0,!rs||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(S=!0),m?S!==void 0?a.addEventListener(c,d,{capture:!0,passive:S}):a.addEventListener(c,d,!0):S!==void 0?a.addEventListener(c,d,{passive:S}):a.addEventListener(c,d,!1)}function E_(a,c,d,m,S){var R=m;if((c&1)===0&&(c&2)===0&&m!==null)e:for(;;){if(m===null)return;var G=m.tag;if(G===3||G===4){var Z=m.stateNode.containerInfo;if(Z===S)break;if(G===4)for(G=m.return;G!==null;){var pe=G.tag;if((pe===3||pe===4)&&G.stateNode.containerInfo===S)return;G=G.return}for(;Z!==null;){if(G=yt(Z),G===null)return;if(pe=G.tag,pe===5||pe===6||pe===26||pe===27){m=R=G;continue e}Z=Z.parentNode}}m=m.return}Xm(function(){var Ce=R,Ne=ns(d),Ve=[];e:{var Re=bR.get(a);if(Re!==void 0){var ke=Nc,vt=a;switch(a){case"keypress":if(Qs(d)===0)break e;case"keydown":case"keyup":ke=Vc;break;case"focusin":vt="focus",ke=Lc;break;case"focusout":vt="blur",ke=Lc;break;case"beforeblur":case"afterblur":ke=Lc;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=is;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=Yw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=ig;break;case yR:case vR:case wR:ke=Bc;break;case _R:ke=og;break;case"scroll":case"scrollend":ke=Qm;break;case"wheel":ke=Uc;break;case"copy":case"cut":case"paste":ke=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=Qf;break;case"toggle":case"beforetoggle":ke=lg}var ft=(c&4)!==0,an=!ft&&(a==="scroll"||a==="scrollend"),be=ft?Re!==null?Re+"Capture":null:Re;ft=[];for(var we=Ce,Te;we!==null;){var Le=we;if(Te=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||Te===null||be===null||(Le=fu(we,be),Le!=null&&ft.push(Rd(we,Le,Te))),an)break;we=we.return}0<ft.length&&(Re=new ke(Re,vt,null,d,Ne),Ve.push({event:Re,listeners:ft}))}}if((c&7)===0){e:{if(Re=a==="mouseover"||a==="pointerover",ke=a==="mouseout"||a==="pointerout",Re&&d!==Yo&&(vt=d.relatedTarget||d.fromElement)&&(yt(vt)||vt[Je]))break e;if((ke||Re)&&(Re=Ne.window===Ne?Ne:(Re=Ne.ownerDocument)?Re.defaultView||Re.parentWindow:window,ke?(vt=d.relatedTarget||d.toElement,ke=Ce,vt=vt?yt(vt):null,vt!==null&&(an=s(vt),ft=vt.tag,vt!==an||ft!==5&&ft!==27&&ft!==6)&&(vt=null)):(ke=null,vt=Ce),ke!==vt)){if(ft=is,Le="onMouseLeave",be="onMouseEnter",we="mouse",(a==="pointerout"||a==="pointerover")&&(ft=Qf,Le="onPointerLeave",be="onPointerEnter",we="pointer"),an=ke==null?Re:Zt(ke),Te=vt==null?Re:Zt(vt),Re=new ft(Le,we+"leave",ke,d,Ne),Re.target=an,Re.relatedTarget=Te,Le=null,yt(Ne)===Ce&&(ft=new ft(be,we+"enter",vt,d,Ne),ft.target=Te,ft.relatedTarget=an,Le=ft),an=Le,ke&&vt)t:{for(ft=ke,be=vt,we=0,Te=ft;Te;Te=hh(Te))we++;for(Te=0,Le=be;Le;Le=hh(Le))Te++;for(;0<we-Te;)ft=hh(ft),we--;for(;0<Te-we;)be=hh(be),Te--;for(;we--;){if(ft===be||be!==null&&ft===be.alternate)break t;ft=hh(ft),be=hh(be)}ft=null}else ft=null;ke!==null&&zk(Ve,Re,ke,ft,!1),vt!==null&&an!==null&&zk(Ve,an,vt,ft,!0)}}e:{if(Re=Ce?Zt(Ce):window,ke=Re.nodeName&&Re.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Re.type==="file")var rt=oR;else if(nr(Re))if(aR)rt=nV;else{rt=eV;var kt=JF}else ke=Re.nodeName,!ke||ke.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Ce&&qf(Ce.elementType)&&(rt=oR):rt=tV;if(rt&&(rt=rt(a,Ce))){ea(Ve,rt,d,Ne);break e}kt&&kt(a,Re,Ce),a==="focusout"&&Ce&&Re.type==="number"&&Ce.memoizedProps.value!=null&&za(Re,"number",Re.value)}switch(kt=Ce?Zt(Ce):window,a){case"focusin":(nr(kt)||kt.contentEditable==="true")&&(zc=kt,e1=Ce,ed=null);break;case"focusout":ed=e1=zc=null;break;case"mousedown":t1=!0;break;case"contextmenu":case"mouseup":case"dragend":t1=!1,mR(Ve,d,Ne);break;case"selectionchange":if(iV)break;case"keydown":case"keyup":mR(Ve,d,Ne)}var at;if(eo)e:{switch(a){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else zt?Ie(a,d)&&(pt="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(pt="onCompositionStart");pt&&(W&&d.locale!=="ko"&&(zt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&zt&&(at=Gf()):(Xs=Ne,ja="value"in Xs?Xs.value:Xs.textContent,zt=!0)),kt=Yg(Ce,pt),0<kt.length&&(pt=new Yf(pt,a,null,d,Ne),Ve.push({event:pt,listeners:kt}),at?pt.data=at:(at=$e(d),at!==null&&(pt.data=at)))),(at=L?tr(a,d):jt(a,d))&&(pt=Yg(Ce,"onBeforeInput"),0<pt.length&&(kt=new Yf("onBeforeInput","beforeinput",null,d,Ne),Ve.push({event:kt,listeners:pt}),kt.data=at)),UV(Ve,a,Ce,d,Ne)}Vk(Ve,c)})}function Rd(a,c,d){return{instance:a,listener:c,currentTarget:d}}function Yg(a,c){for(var d=c+"Capture",m=[];a!==null;){var S=a,R=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||R===null||(S=fu(a,d),S!=null&&m.unshift(Rd(a,S,R)),S=fu(a,c),S!=null&&m.push(Rd(a,S,R))),a.tag===3)return m;a=a.return}return[]}function hh(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function zk(a,c,d,m,S){for(var R=c._reactName,G=[];d!==null&&d!==m;){var Z=d,pe=Z.alternate,Ce=Z.stateNode;if(Z=Z.tag,pe!==null&&pe===m)break;Z!==5&&Z!==26&&Z!==27||Ce===null||(pe=Ce,S?(Ce=fu(d,R),Ce!=null&&G.unshift(Rd(d,Ce,pe))):S||(Ce=fu(d,R),Ce!=null&&G.push(Rd(d,Ce,pe)))),d=d.return}G.length!==0&&a.push({event:c,listeners:G})}var qV=/\r\n?/g,WV=/\u0000|\uFFFD/g;function jk(a){return(typeof a=="string"?a:""+a).replace(qV,`
`).replace(WV,"")}function Hk(a,c){return c=jk(c),jk(a)===c}function Xg(){}function on(a,c,d,m,S,R){switch(d){case"children":typeof m=="string"?c==="body"||c==="textarea"&&m===""||ts(a,m):(typeof m=="number"||typeof m=="bigint")&&c!=="body"&&ts(a,""+m);break;case"className":ii(a,"class",m);break;case"tabIndex":ii(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(a,d,m);break;case"style":Hf(a,m,R);break;case"data":if(c!=="object"){ii(a,"data",m);break}case"src":case"href":if(m===""&&(c!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Oc(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof R=="function"&&(d==="formAction"?(c!=="input"&&on(a,c,"name",S.name,S,null),on(a,c,"formEncType",S.formEncType,S,null),on(a,c,"formMethod",S.formMethod,S,null),on(a,c,"formTarget",S.formTarget,S,null)):(on(a,c,"encType",S.encType,S,null),on(a,c,"method",S.method,S,null),on(a,c,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Oc(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Xg);break;case"onScroll":m!=null&&Ot("scroll",a);break;case"onScrollEnd":m!=null&&Ot("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Oc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":Ot("beforetoggle",a),Ot("toggle",a),Fr(a,"popover",m);break;case"xlinkActuate":_t(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":_t(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":_t(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":_t(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":_t(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":_t(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":_t(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":_t(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":_t(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Fr(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Kw.get(d)||d,Fr(a,d,m))}}function x_(a,c,d,m,S,R){switch(d){case"style":Hf(a,m,R);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(d=m.__html,d!=null){if(S.children!=null)throw Error(n(60));a.innerHTML=d}}break;case"children":typeof m=="string"?ts(a,m):(typeof m=="number"||typeof m=="bigint")&&ts(a,""+m);break;case"onScroll":m!=null&&Ot("scroll",a);break;case"onScrollEnd":m!=null&&Ot("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Xg);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ji.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(S=d.endsWith("Capture"),c=d.slice(2,S?d.length-7:void 0),R=a[Ke]||null,R=R!=null?R[d]:null,typeof R=="function"&&a.removeEventListener(c,R,S),typeof m=="function")){typeof R!="function"&&R!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(c,m,S);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Fr(a,d,m)}}}function Ar(a,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",a),Ot("load",a);var m=!1,S=!1,R;for(R in d)if(d.hasOwnProperty(R)){var G=d[R];if(G!=null)switch(R){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:on(a,c,R,G,d,null)}}S&&on(a,c,"srcSet",d.srcSet,d,null),m&&on(a,c,"src",d.src,d,null);return;case"input":Ot("invalid",a);var Z=R=G=S=null,pe=null,Ce=null;for(m in d)if(d.hasOwnProperty(m)){var Ne=d[m];if(Ne!=null)switch(m){case"name":S=Ne;break;case"type":G=Ne;break;case"checked":pe=Ne;break;case"defaultChecked":Ce=Ne;break;case"value":R=Ne;break;case"defaultValue":Z=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(n(137,c));break;default:on(a,c,m,Ne,d,null)}}uu(a,R,Z,pe,Ce,G,S,!1),Ic(a);return;case"select":Ot("invalid",a),m=G=R=null;for(S in d)if(d.hasOwnProperty(S)&&(Z=d[S],Z!=null))switch(S){case"value":R=Z;break;case"defaultValue":G=Z;break;case"multiple":m=Z;default:on(a,c,S,Z,d,null)}c=R,d=G,a.multiple=!!m,c!=null?$o(a,!!m,c,!1):d!=null&&$o(a,!!m,d,!0);return;case"textarea":Ot("invalid",a),R=S=m=null;for(G in d)if(d.hasOwnProperty(G)&&(Z=d[G],Z!=null))switch(G){case"value":m=Z;break;case"defaultValue":S=Z;break;case"children":R=Z;break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(n(91));break;default:on(a,c,G,Z,d,null)}cu(a,m,S,R),Ic(a);return;case"option":for(pe in d)if(d.hasOwnProperty(pe)&&(m=d[pe],m!=null))switch(pe){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:on(a,c,pe,m,d,null)}return;case"dialog":Ot("beforetoggle",a),Ot("toggle",a),Ot("cancel",a),Ot("close",a);break;case"iframe":case"object":Ot("load",a);break;case"video":case"audio":for(m=0;m<Cd.length;m++)Ot(Cd[m],a);break;case"image":Ot("error",a),Ot("load",a);break;case"details":Ot("toggle",a);break;case"embed":case"source":case"link":Ot("error",a),Ot("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in d)if(d.hasOwnProperty(Ce)&&(m=d[Ce],m!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:on(a,c,Ce,m,d,null)}return;default:if(qf(c)){for(Ne in d)d.hasOwnProperty(Ne)&&(m=d[Ne],m!==void 0&&x_(a,c,Ne,m,d,void 0));return}}for(Z in d)d.hasOwnProperty(Z)&&(m=d[Z],m!=null&&on(a,c,Z,m,d,null))}function GV(a,c,d,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,R=null,G=null,Z=null,pe=null,Ce=null,Ne=null;for(ke in d){var Ve=d[ke];if(d.hasOwnProperty(ke)&&Ve!=null)switch(ke){case"checked":break;case"value":break;case"defaultValue":pe=Ve;default:m.hasOwnProperty(ke)||on(a,c,ke,null,m,Ve)}}for(var Re in m){var ke=m[Re];if(Ve=d[Re],m.hasOwnProperty(Re)&&(ke!=null||Ve!=null))switch(Re){case"type":R=ke;break;case"name":S=ke;break;case"checked":Ce=ke;break;case"defaultChecked":Ne=ke;break;case"value":G=ke;break;case"defaultValue":Z=ke;break;case"children":case"dangerouslySetInnerHTML":if(ke!=null)throw Error(n(137,c));break;default:ke!==Ve&&on(a,c,Re,ke,m,Ve)}}Ii(a,G,Z,pe,Ce,Ne,R,S);return;case"select":ke=G=Z=Re=null;for(R in d)if(pe=d[R],d.hasOwnProperty(R)&&pe!=null)switch(R){case"value":break;case"multiple":ke=pe;default:m.hasOwnProperty(R)||on(a,c,R,null,m,pe)}for(S in m)if(R=m[S],pe=d[S],m.hasOwnProperty(S)&&(R!=null||pe!=null))switch(S){case"value":Re=R;break;case"defaultValue":Z=R;break;case"multiple":G=R;default:R!==pe&&on(a,c,S,R,m,pe)}c=Z,d=G,m=ke,Re!=null?$o(a,!!d,Re,!1):!!m!=!!d&&(c!=null?$o(a,!!d,c,!0):$o(a,!!d,d?[]:"",!1));return;case"textarea":ke=Re=null;for(Z in d)if(S=d[Z],d.hasOwnProperty(Z)&&S!=null&&!m.hasOwnProperty(Z))switch(Z){case"value":break;case"children":break;default:on(a,c,Z,null,m,S)}for(G in m)if(S=m[G],R=d[G],m.hasOwnProperty(G)&&(S!=null||R!=null))switch(G){case"value":Re=S;break;case"defaultValue":ke=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==R&&on(a,c,G,S,m,R)}rn(a,Re,ke);return;case"option":for(var vt in d)if(Re=d[vt],d.hasOwnProperty(vt)&&Re!=null&&!m.hasOwnProperty(vt))switch(vt){case"selected":a.selected=!1;break;default:on(a,c,vt,null,m,Re)}for(pe in m)if(Re=m[pe],ke=d[pe],m.hasOwnProperty(pe)&&Re!==ke&&(Re!=null||ke!=null))switch(pe){case"selected":a.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:on(a,c,pe,Re,m,ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in d)Re=d[ft],d.hasOwnProperty(ft)&&Re!=null&&!m.hasOwnProperty(ft)&&on(a,c,ft,null,m,Re);for(Ce in m)if(Re=m[Ce],ke=d[Ce],m.hasOwnProperty(Ce)&&Re!==ke&&(Re!=null||ke!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,c));break;default:on(a,c,Ce,Re,m,ke)}return;default:if(qf(c)){for(var an in d)Re=d[an],d.hasOwnProperty(an)&&Re!==void 0&&!m.hasOwnProperty(an)&&x_(a,c,an,void 0,m,Re);for(Ne in m)Re=m[Ne],ke=d[Ne],!m.hasOwnProperty(Ne)||Re===ke||Re===void 0&&ke===void 0||x_(a,c,Ne,Re,m,ke);return}}for(var be in d)Re=d[be],d.hasOwnProperty(be)&&Re!=null&&!m.hasOwnProperty(be)&&on(a,c,be,null,m,Re);for(Ve in m)Re=m[Ve],ke=d[Ve],!m.hasOwnProperty(Ve)||Re===ke||Re==null&&ke==null||on(a,c,Ve,Re,m,ke)}var T_=null,A_=null;function Qg(a){return a.nodeType===9?a:a.ownerDocument}function qk(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wk(a,c){if(a===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&c==="foreignObject"?0:a}function C_(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var R_=null;function KV(){var a=window.event;return a&&a.type==="popstate"?a===R_?!1:(R_=a,!0):(R_=null,!1)}var Gk=typeof setTimeout=="function"?setTimeout:void 0,$V=typeof clearTimeout=="function"?clearTimeout:void 0,Kk=typeof Promise=="function"?Promise:void 0,YV=typeof queueMicrotask=="function"?queueMicrotask:typeof Kk<"u"?function(a){return Kk.resolve(null).then(a).catch(XV)}:Gk;function XV(a){setTimeout(function(){throw a})}function il(a){return a==="head"}function $k(a,c){var d=c,m=0,S=0;do{var R=d.nextSibling;if(a.removeChild(d),R&&R.nodeType===8)if(d=R.data,d==="/$"){if(0<m&&8>m){d=m;var G=a.ownerDocument;if(d&1&&kd(G.documentElement),d&2&&kd(G.body),d&4)for(d=G.head,kd(d),G=d.firstChild;G;){var Z=G.nextSibling,pe=G.nodeName;G[dt]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&G.rel.toLowerCase()==="stylesheet"||d.removeChild(G),G=Z}}if(S===0){a.removeChild(R),Bd(c);return}S--}else d==="$"||d==="$?"||d==="$!"?S++:m=d.charCodeAt(0)-48;else m=0;d=R}while(d);Bd(c)}function k_(a){var c=a.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":k_(d),ct(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function QV(a,c,d,m){for(;a.nodeType===1;){var S=d;if(a.nodeName.toLowerCase()!==c.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[dt])switch(c){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(R=a.getAttribute("rel"),R==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(R!==S.rel||a.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||a.getAttribute("title")!==(S.title==null?null:S.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(R=a.getAttribute("src"),(R!==(S.src==null?null:S.src)||a.getAttribute("type")!==(S.type==null?null:S.type)||a.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&R&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(c==="input"&&a.type==="hidden"){var R=S.name==null?null:""+S.name;if(S.type==="hidden"&&a.getAttribute("name")===R)return a}else return a;if(a=Ns(a.nextSibling),a===null)break}return null}function ZV(a,c,d){if(c==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=Ns(a.nextSibling),a===null))return null;return a}function D_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function JV(a,c){var d=a.ownerDocument;if(a.data!=="$?"||d.readyState==="complete")c();else{var m=function(){c(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function Ns(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?"||c==="F!"||c==="F")break;if(c==="/$")return null}}return a}var I_=null;function Yk(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"){if(c===0)return a;c--}else d==="/$"&&c++}a=a.previousSibling}return null}function Xk(a,c,d){switch(c=Qg(d),a){case"html":if(a=c.documentElement,!a)throw Error(n(452));return a;case"head":if(a=c.head,!a)throw Error(n(453));return a;case"body":if(a=c.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function kd(a){for(var c=a.attributes;c.length;)a.removeAttributeNode(c[0]);ct(a)}var hs=new Map,Qk=new Set;function Zg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var da=X.d;X.d={f:eU,r:tU,D:nU,C:rU,L:iU,m:sU,X:aU,S:oU,M:lU};function eU(){var a=da.f(),c=Hg();return a||c}function tU(a){var c=Dt(a);c!==null&&c.tag===5&&c.type==="form"?y2(c):da.r(a)}var fh=typeof document>"u"?null:document;function Zk(a,c,d){var m=fh;if(m&&typeof c=="string"&&c){var S=Hn(c);S='link[rel="'+a+'"][href="'+S+'"]',typeof d=="string"&&(S+='[crossorigin="'+d+'"]'),Qk.has(S)||(Qk.add(S),a={rel:a,crossOrigin:d,href:c},m.querySelector(S)===null&&(c=m.createElement("link"),Ar(c,"link",a),Bt(c),m.head.appendChild(c)))}}function nU(a){da.D(a),Zk("dns-prefetch",a,null)}function rU(a,c){da.C(a,c),Zk("preconnect",a,c)}function iU(a,c,d){da.L(a,c,d);var m=fh;if(m&&a&&c){var S='link[rel="preload"][as="'+Hn(c)+'"]';c==="image"&&d&&d.imageSrcSet?(S+='[imagesrcset="'+Hn(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(S+='[imagesizes="'+Hn(d.imageSizes)+'"]')):S+='[href="'+Hn(a)+'"]';var R=S;switch(c){case"style":R=dh(a);break;case"script":R=ph(a)}hs.has(R)||(a=f({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:a,as:c},d),hs.set(R,a),m.querySelector(S)!==null||c==="style"&&m.querySelector(Dd(R))||c==="script"&&m.querySelector(Id(R))||(c=m.createElement("link"),Ar(c,"link",a),Bt(c),m.head.appendChild(c)))}}function sU(a,c){da.m(a,c);var d=fh;if(d&&a){var m=c&&typeof c.as=="string"?c.as:"script",S='link[rel="modulepreload"][as="'+Hn(m)+'"][href="'+Hn(a)+'"]',R=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":R=ph(a)}if(!hs.has(R)&&(a=f({rel:"modulepreload",href:a},c),hs.set(R,a),d.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Id(R)))return}m=d.createElement("link"),Ar(m,"link",a),Bt(m),d.head.appendChild(m)}}}function oU(a,c,d){da.S(a,c,d);var m=fh;if(m&&a){var S=$t(m).hoistableStyles,R=dh(a);c=c||"default";var G=S.get(R);if(!G){var Z={loading:0,preload:null};if(G=m.querySelector(Dd(R)))Z.loading=5;else{a=f({rel:"stylesheet",href:a,"data-precedence":c},d),(d=hs.get(R))&&O_(a,d);var pe=G=m.createElement("link");Bt(pe),Ar(pe,"link",a),pe._p=new Promise(function(Ce,Ne){pe.onload=Ce,pe.onerror=Ne}),pe.addEventListener("load",function(){Z.loading|=1}),pe.addEventListener("error",function(){Z.loading|=2}),Z.loading|=4,Jg(G,c,m)}G={type:"stylesheet",instance:G,count:1,state:Z},S.set(R,G)}}}function aU(a,c){da.X(a,c);var d=fh;if(d&&a){var m=$t(d).hoistableScripts,S=ph(a),R=m.get(S);R||(R=d.querySelector(Id(S)),R||(a=f({src:a,async:!0},c),(c=hs.get(S))&&N_(a,c),R=d.createElement("script"),Bt(R),Ar(R,"link",a),d.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(S,R))}}function lU(a,c){da.M(a,c);var d=fh;if(d&&a){var m=$t(d).hoistableScripts,S=ph(a),R=m.get(S);R||(R=d.querySelector(Id(S)),R||(a=f({src:a,async:!0,type:"module"},c),(c=hs.get(S))&&N_(a,c),R=d.createElement("script"),Bt(R),Ar(R,"link",a),d.head.appendChild(R)),R={type:"script",instance:R,count:1,state:null},m.set(S,R))}}function Jk(a,c,d,m){var S=(S=ue.current)?Zg(S):null;if(!S)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=dh(d.href),d=$t(S).hoistableStyles,m=d.get(c),m||(m={type:"style",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=dh(d.href);var R=$t(S).hoistableStyles,G=R.get(a);if(G||(S=S.ownerDocument||S,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},R.set(a,G),(R=S.querySelector(Dd(a)))&&!R._p&&(G.instance=R,G.state.loading=5),hs.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},hs.set(a,d),R||uU(S,a,d,G.state))),c&&m===null)throw Error(n(528,""));return G}if(c&&m!==null)throw Error(n(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ph(d),d=$t(S).hoistableScripts,m=d.get(c),m||(m={type:"script",instance:null,count:0,state:null},d.set(c,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function dh(a){return'href="'+Hn(a)+'"'}function Dd(a){return'link[rel="stylesheet"]['+a+"]"}function eD(a){return f({},a,{"data-precedence":a.precedence,precedence:null})}function uU(a,c,d,m){a.querySelector('link[rel="preload"][as="style"]['+c+"]")?m.loading=1:(c=a.createElement("link"),m.preload=c,c.addEventListener("load",function(){return m.loading|=1}),c.addEventListener("error",function(){return m.loading|=2}),Ar(c,"link",d),Bt(c),a.head.appendChild(c))}function ph(a){return'[src="'+Hn(a)+'"]'}function Id(a){return"script[async]"+a}function tD(a,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var m=a.querySelector('style[data-href~="'+Hn(d.href)+'"]');if(m)return c.instance=m,Bt(m),m;var S=f({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Bt(m),Ar(m,"style",S),Jg(m,d.precedence,a),c.instance=m;case"stylesheet":S=dh(d.href);var R=a.querySelector(Dd(S));if(R)return c.state.loading|=4,c.instance=R,Bt(R),R;m=eD(d),(S=hs.get(S))&&O_(m,S),R=(a.ownerDocument||a).createElement("link"),Bt(R);var G=R;return G._p=new Promise(function(Z,pe){G.onload=Z,G.onerror=pe}),Ar(R,"link",m),c.state.loading|=4,Jg(R,d.precedence,a),c.instance=R;case"script":return R=ph(d.src),(S=a.querySelector(Id(R)))?(c.instance=S,Bt(S),S):(m=d,(S=hs.get(R))&&(m=f({},d),N_(m,S)),a=a.ownerDocument||a,S=a.createElement("script"),Bt(S),Ar(S,"link",m),a.head.appendChild(S),c.instance=S);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(m=c.instance,c.state.loading|=4,Jg(m,d.precedence,a));return c.instance}function Jg(a,c,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,R=S,G=0;G<m.length;G++){var Z=m[G];if(Z.dataset.precedence===c)R=Z;else if(R!==S)break}R?R.parentNode.insertBefore(a,R.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(a,c.firstChild))}function O_(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.title==null&&(a.title=c.title)}function N_(a,c){a.crossOrigin==null&&(a.crossOrigin=c.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=c.referrerPolicy),a.integrity==null&&(a.integrity=c.integrity)}var ey=null;function nD(a,c,d){if(ey===null){var m=new Map,S=ey=new Map;S.set(d,m)}else S=ey,m=S.get(d),m||(m=new Map,S.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),S=0;S<d.length;S++){var R=d[S];if(!(R[dt]||R[ze]||a==="link"&&R.getAttribute("rel")==="stylesheet")&&R.namespaceURI!=="http://www.w3.org/2000/svg"){var G=R.getAttribute(c)||"";G=a+G;var Z=m.get(G);Z?Z.push(R):m.set(G,[R])}}return m}function rD(a,c,d){a=a.ownerDocument||a,a.head.insertBefore(d,c==="title"?a.querySelector("head > title"):null)}function cU(a,c,d){if(d===1||c.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return a=c.disabled,typeof c.precedence=="string"&&a==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function iD(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Od=null;function hU(){}function fU(a,c,d){if(Od===null)throw Error(n(475));var m=Od;if(c.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var S=dh(d.href),R=a.querySelector(Dd(S));if(R){a=R._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(m.count++,m=ty.bind(m),a.then(m,m)),c.state.loading|=4,c.instance=R,Bt(R);return}R=a.ownerDocument||a,d=eD(d),(S=hs.get(S))&&O_(d,S),R=R.createElement("link"),Bt(R);var G=R;G._p=new Promise(function(Z,pe){G.onload=Z,G.onerror=pe}),Ar(R,"link",d),c.instance=R}m.stylesheets===null&&(m.stylesheets=new Map),m.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(m.count++,c=ty.bind(m),a.addEventListener("load",c),a.addEventListener("error",c))}}function dU(){if(Od===null)throw Error(n(475));var a=Od;return a.stylesheets&&a.count===0&&M_(a,a.stylesheets),0<a.count?function(c){var d=setTimeout(function(){if(a.stylesheets&&M_(a,a.stylesheets),a.unsuspend){var m=a.unsuspend;a.unsuspend=null,m()}},6e4);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(d)}}:null}function ty(){if(this.count--,this.count===0){if(this.stylesheets)M_(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ny=null;function M_(a,c){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ny=new Map,c.forEach(pU,a),ny=null,ty.call(a))}function pU(a,c){if(!(c.state.loading&4)){var d=ny.get(a);if(d)var m=d.get(null);else{d=new Map,ny.set(a,d);for(var S=a.querySelectorAll("link[data-precedence],style[data-precedence]"),R=0;R<S.length;R++){var G=S[R];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(d.set(G.dataset.precedence,G),m=G)}m&&d.set(null,m)}S=c.instance,G=S.getAttribute("data-precedence"),R=d.get(G)||m,R===m&&d.set(null,S),d.set(G,S),this.count++,m=ty.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),R?R.parentNode.insertBefore(S,R.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(S,a.firstChild)),c.state.loading|=4}}var Nd={$$typeof:T,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function mU(a,c,d,m,S,R,G,Z){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.hiddenUpdates=ti(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=R,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Z,this.incompleteTransitions=new Map}function sD(a,c,d,m,S,R,G,Z,pe,Ce,Ne,Ve){return a=new mU(a,c,d,G,Z,pe,Ce,Ve),c=1,R===!0&&(c|=24),R=Ni(3,null,null,c),a.current=R,R.stateNode=a,c=m1(),c.refCount++,a.pooledCache=c,c.refCount++,R.memoizedState={element:m,isDehydrated:d,cache:c},w1(R),a}function oD(a){return a?(a=Wc,a):Wc}function aD(a,c,d,m,S,R){S=oD(S),m.context===null?m.context=S:m.pendingContext=S,m=Wa(c),m.payload={element:d},R=R===void 0?null:R,R!==null&&(m.callback=R),d=Ga(a,m,c),d!==null&&(Fi(d,a,c),ud(d,a,c))}function lD(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<c?d:c}}function P_(a,c){lD(a,c),(a=a.alternate)&&lD(a,c)}function uD(a){if(a.tag===13){var c=qc(a,67108864);c!==null&&Fi(c,a,67108864),P_(a,67108864)}}var ry=!0;function gU(a,c,d,m){var S=Q.T;Q.T=null;var R=X.p;try{X.p=2,L_(a,c,d,m)}finally{X.p=R,Q.T=S}}function yU(a,c,d,m){var S=Q.T;Q.T=null;var R=X.p;try{X.p=8,L_(a,c,d,m)}finally{X.p=R,Q.T=S}}function L_(a,c,d,m){if(ry){var S=B_(m);if(S===null)E_(a,c,m,iy,d),hD(a,m);else if(wU(S,a,c,d,m))m.stopPropagation();else if(hD(a,m),c&4&&-1<vU.indexOf(a)){for(;S!==null;){var R=Dt(S);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var G=wr(R.pendingLanes);if(G!==0){var Z=R;for(Z.pendingLanes|=2,Z.entangledLanes|=2;G;){var pe=1<<31-Nt(G);Z.entanglements[1]|=pe,G&=~pe}oo(R),(tn&6)===0&&(zg=k()+500,Ad(0))}}break;case 13:Z=qc(R,2),Z!==null&&Fi(Z,R,2),Hg(),P_(R,2)}if(R=B_(m),R===null&&E_(a,c,m,iy,d),R===S)break;S=R}S!==null&&m.stopPropagation()}else E_(a,c,m,null,d)}}function B_(a){return a=ns(a),F_(a)}var iy=null;function F_(a){if(iy=null,a=yt(a),a!==null){var c=s(a);if(c===null)a=null;else{var d=c.tag;if(d===13){if(a=o(c),a!==null)return a;a=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null)}}return iy=a,null}function cD(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(I()){case z:return 2;case se:return 8;case ge:case le:return 32;case De:return 268435456;default:return 32}default:return 32}}var V_=!1,sl=null,ol=null,al=null,Md=new Map,Pd=new Map,ll=[],vU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hD(a,c){switch(a){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":ol=null;break;case"mouseover":case"mouseout":al=null;break;case"pointerover":case"pointerout":Md.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(c.pointerId)}}function Ld(a,c,d,m,S,R){return a===null||a.nativeEvent!==R?(a={blockedOn:c,domEventName:d,eventSystemFlags:m,nativeEvent:R,targetContainers:[S]},c!==null&&(c=Dt(c),c!==null&&uD(c)),a):(a.eventSystemFlags|=m,c=a.targetContainers,S!==null&&c.indexOf(S)===-1&&c.push(S),a)}function wU(a,c,d,m,S){switch(c){case"focusin":return sl=Ld(sl,a,c,d,m,S),!0;case"dragenter":return ol=Ld(ol,a,c,d,m,S),!0;case"mouseover":return al=Ld(al,a,c,d,m,S),!0;case"pointerover":var R=S.pointerId;return Md.set(R,Ld(Md.get(R)||null,a,c,d,m,S)),!0;case"gotpointercapture":return R=S.pointerId,Pd.set(R,Ld(Pd.get(R)||null,a,c,d,m,S)),!0}return!1}function fD(a){var c=yt(a.target);if(c!==null){var d=s(c);if(d!==null){if(c=d.tag,c===13){if(c=o(d),c!==null){a.blockedOn=c,Ee(a.priority,function(){if(d.tag===13){var m=Bi();m=Gs(m);var S=qc(d,m);S!==null&&Fi(S,d,m),P_(d,m)}});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function sy(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var d=B_(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Yo=m,d.target.dispatchEvent(m),Yo=null}else return c=Dt(d),c!==null&&uD(c),a.blockedOn=d,!1;c.shift()}return!0}function dD(a,c,d){sy(a)&&d.delete(c)}function _U(){V_=!1,sl!==null&&sy(sl)&&(sl=null),ol!==null&&sy(ol)&&(ol=null),al!==null&&sy(al)&&(al=null),Md.forEach(dD),Pd.forEach(dD)}function oy(a,c){a.blockedOn===c&&(a.blockedOn=null,V_||(V_=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_U)))}var ay=null;function pD(a){ay!==a&&(ay=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ay===a&&(ay=null);for(var c=0;c<a.length;c+=3){var d=a[c],m=a[c+1],S=a[c+2];if(typeof m!="function"){if(F_(m||d)===null)continue;break}var R=Dt(d);R!==null&&(a.splice(c,3),c-=3,F1(R,{pending:!0,data:S,method:d.method,action:m},m,S))}}))}function Bd(a){function c(pe){return oy(pe,a)}sl!==null&&oy(sl,a),ol!==null&&oy(ol,a),al!==null&&oy(al,a),Md.forEach(c),Pd.forEach(c);for(var d=0;d<ll.length;d++){var m=ll[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<ll.length&&(d=ll[0],d.blockedOn===null);)fD(d),d.blockedOn===null&&ll.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var S=d[m],R=d[m+1],G=S[Ke]||null;if(typeof R=="function")G||pD(d);else if(G){var Z=null;if(R&&R.hasAttribute("formAction")){if(S=R,G=R[Ke]||null)Z=G.formAction;else if(F_(S)!==null)continue}else Z=G.action;typeof Z=="function"?d[m+1]=Z:(d.splice(m,3),m-=3),pD(d)}}}function U_(a){this._internalRoot=a}ly.prototype.render=U_.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));var d=c.current,m=Bi();aD(d,m,a,c,null,null)},ly.prototype.unmount=U_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;aD(a.current,2,null,a,null,null),Hg(),c[Je]=null}};function ly(a){this._internalRoot=a}ly.prototype.unstable_scheduleHydration=function(a){if(a){var c=ye();a={blockedOn:null,target:a,priority:c};for(var d=0;d<ll.length&&c!==0&&c<ll[d].priority;d++);ll.splice(d,0,a),d===0&&fD(a)}};var mD=e.version;if(mD!=="19.1.0")throw Error(n(527,mD,"19.1.0"));X.findDOMNode=function(a){var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=u(c),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var bU={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uy.isDisabled&&uy.supportsFiber)try{He=uy.inject(bU),Ge=uy}catch{}}return qd.createRoot=function(a,c){if(!i(a))throw Error(n(299));var d=!1,m="",S=I2,R=O2,G=N2,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(S=c.onUncaughtError),c.onCaughtError!==void 0&&(R=c.onCaughtError),c.onRecoverableError!==void 0&&(G=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(Z=c.unstable_transitionCallbacks)),c=sD(a,1,!1,null,null,d,m,S,R,G,Z,null),a[Je]=c.current,S_(a),new U_(c)},qd.hydrateRoot=function(a,c,d){if(!i(a))throw Error(n(299));var m=!1,S="",R=I2,G=O2,Z=N2,pe=null,Ce=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(S=d.identifierPrefix),d.onUncaughtError!==void 0&&(R=d.onUncaughtError),d.onCaughtError!==void 0&&(G=d.onCaughtError),d.onRecoverableError!==void 0&&(Z=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(pe=d.unstable_transitionCallbacks),d.formState!==void 0&&(Ce=d.formState)),c=sD(a,1,!0,c,d??null,m,S,R,G,Z,pe,Ce),c.context=oD(null),d=c.current,m=Bi(),m=Gs(m),S=Wa(m),S.callback=null,Ga(d,S,m),d=m,c.current.lanes=d,_r(c,d),oo(c),a[Je]=c.current,S_(a),new ly(c)},qd.version="19.1.0",qd}var iN;function VQ(){if(iN)return bb.exports;iN=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),bb.exports=FQ(),bb.exports}var UQ=VQ();const zQ=XU({reducer:{noted:i$}}),g8="/Note_App-react/assets/eye2-B1pJtH4C.png",y8="/Note_App-react/assets/eye1-CGgUceQ_.png",v8="/Note_App-react/assets/google-Bp_336oh.png",w8="/Note_App-react/assets/facebook-DLyunh1C.png";function jQ(){const[r,e]=me.useState(!1),[t,n]=me.useState(""),[i,s]=me.useState(""),[o,l]=me.useState(!1),[u,h]=me.useState({}),f=xc(),p=Lf(),g=async y=>{f(q3(!1)),y.preventDefault();try{l(!0);const _=await Kj(gw,t,i),w=wx(ov(xp,"users"),_x("email","==",`${t}`)),E=await bx(w);if(l(!1),E.empty)return;const b=E.docs[0]?.data();f(lv(b)),f(Kp(!0)),p("/"),setTimeout(()=>{alert(`Succesfully logined, Welcome back ${b.username}`)},100);const A=E?.docs[0]}catch{l(!1),setTimeout(()=>{alert(`Some issue arised!
Check you network connection.`)},100)}finally{l(!1)}n(""),s(""),h("")};return me.useEffect(()=>{h({email:t,password:i})},[i,t]),ae.jsxs(ae.Fragment,{children:[o&&ae.jsx("div",{className:"fixed w-[100vw] h-[100%] z-[50]   bg-black bg-opacity-50 grid place-items-center",children:ae.jsx("div",{className:"w-[10vmin] h-[10vmin] rounded-full bg-transparent border-4 animate-spin border-t-gray-700"})}),ae.jsx("form",{onSubmit:g,children:ae.jsxs("div",{className:"fixed  top-[8%]  h-[100vh] w-[100vw]  flex justify-center items-center  flex-col ",children:[ae.jsxs("h1",{className:"head absolute top-[1%] left-[2%] text-white text-[8vmin] pt-1 ",children:[ae.jsx("span",{className:"text-white font-serif ",children:"My"}),ae.jsx("span",{className:"text-orange-700 text-[7vmin]",children:"Note"})]}),ae.jsxs("div",{className:"login w-[32vw] h-[70%] bg-black rounded-xl border-2 border-white flex justify-start items-center flex-col   gap-[1%]",children:[ae.jsxs("h1",{className:"am text-white font-semibold text-[6vmin] font-mono   mt-[2vmin] mb-1 h-[10%] text-center",children:[ae.jsx("span",{children:"Log"}),ae.jsx("span",{className:"text-orange-500",children:"in"})]}),ae.jsxs("span",{className:"w-[90%] h-[20%] flex items-center   gap-[4vmin] justify-start flex-col",children:[ae.jsx("input",{type:"text",value:t,onChange:y=>n(y.target.value),placeholder:"Enter your gmail..",className:`outline-none  bg-transparent border-b-orange-500 border-b-2 w-[100%] h-[40%] text-white
               placeholder:text-white text-[1rem]`}),ae.jsxs("div",{className:"relative w-[100%] h-[40%] flex justify-right items-center",children:[ae.jsx("input",{type:r?"text":"password",value:i,onChange:y=>s(y.target.value),placeholder:"Enter password...",className:`
                outline-none  bg-transparent border-b-orange-500 border-b-2 w-[100%] h-[100%] text-white 
                placeholder:text-white text-[1rem]`}),ae.jsx("img",{src:r?g8:y8,alt:"",className:" absolute w-[1.7rem] right-[5%] flex duration-200 ",onClick:()=>e(y=>!y)})]})]}),ae.jsx("div",{className:"text-[2.5vmin] w-[90%] h-[5%]  flex items-center justify-center ",children:ae.jsxs("span",{className:" w-[100%] h-[100%]  flex items-center justify-center flex-row gap-2 ",children:[ae.jsxs("span",{className:"w-[50%] flex  items-center justify-start   h-full",children:[ae.jsx("input",{type:"checkbox",name:"",id:"",className:"accent-orange-600 "}),"Remember me"]}),ae.jsx("a",{href:"",className:"text-orange-500 w-[50%]  hover:underline flex justify-end  items-center text-wrap",children:"Forget password?"})]})}),ae.jsx(ww,{to:"/signup",className:"text-orange-500 pb-4 w-[90%] h-[2%] text-left  text-[2.5vmin]   hover:underline",children:"Don't have an account?Signup?"}),ae.jsx("button",{onClick:g,className:"b text-[4vmin] border-4 font-mono font-semibold border-white bg-orange-500 py-1 mt-2 px-2 rounded-lg hover:text-orange-300 hover:bg-orange-500  hover:border-orange-700",children:"Login"}),ae.jsxs("div",{className:"w-[90%] h-[25%]  flex-col justify-center items-center  mt-1 gap-[5%] ",children:[ae.jsxs("span",{className:"flex w-full h-[40%] bg-white  rounded-md justify-center items-center gap-1 mt-4",children:[ae.jsx("img",{src:v8,className:"w-[5vmin] h-[5vmin] ml-3",alt:""}),ae.jsx("h5",{className:"text-black text-[1rem] font-semibold",children:"Login With Google"})]}),ae.jsxs("span",{className:"flex w-full h-[40%] bg-blue-700 rounded-md justify-center items-center gap-1 mt-4",children:[ae.jsx("img",{src:w8,className:"w-[7vmin]",alt:""}),ae.jsx("h5",{className:"text-[1rem] font-semibold",children:" Login With Facebook"})]})]})]})]})})]})}function HQ(){const[r,e]=me.useState(!1),[t,n]=me.useState(""),[i,s]=me.useState(""),[o,l]=me.useState(""),[u,h]=me.useState(""),[f,p]=me.useState(!1),g=xc(),y=Lf(),[_,w]=me.useState({}),E=async b=>{if(b.preventDefault(),u==""||i==""||t==""||u=="")alert("One input is empty.");else if(t.length<7)alert("Length of username mustbe atleast 7.");else if(`${u}`.length!=10)alert("Entered phonenumber length must be 10!");else if(o.length<7)alert("length of password mustbe atleast 7!");else{try{p(!0);const A=await Gj(gw,i,o);p(!1),setTimeout(()=>{alert(`Succesfully signed up, welcome to MyNote ${t}`)},100),g(n$(_)),g(Kp(!0)),y("/")}catch{p(!1),setTimeout(()=>{alert(`Some issue arised in signup!
Check you network connection.`)},100)}finally{p(!1)}w(""),l(""),s(""),n(""),l(""),h("")}};return me.useEffect(()=>{w({username:t,password:o,email:i,phonenumber:u})},[o,t,i,u]),ae.jsxs(ae.Fragment,{children:[f&&ae.jsx("div",{className:"fixed w-[100vw]  z-[50]  h-[100vh] bg-black bg-opacity-50 grid place-items-center",children:ae.jsx("div",{className:"w-[100px] h-[100px] rounded-full bg-transparent border-4 animate-spin border-t-gray-700"})}),ae.jsx("form",{onSubmit:E,children:ae.jsxs("div",{className:"signup absolute z-[1]  top-[8%]  h-[102vh] w-[100vw]  flex justify-center items-center  flex-col gap-2",children:[ae.jsxs("h1",{className:"head absolute top-[0.2%] left-[5%] text-white text-[8vmin] pt-1 ",children:[ae.jsx("span",{className:"text-white font-serif ",children:"My"}),ae.jsx("span",{className:"text-orange-700 text-[6vmin]",children:"Note"})]}),ae.jsxs("div",{className:`login signup absolute w-[35%] h-[82%]  bg-black rounded-xl border-2 mt-5 border-white flex justify-start 
            items-center flex-col gap-[1%]`,children:[ae.jsxs("h1",{className:"am text-white font-semibold text-[5vmin] font-mono  mt-2 h-[7%] text-center ",children:[ae.jsx("span",{children:"Sign"}),ae.jsx("span",{className:"text-orange-500",children:"up"})]}),ae.jsxs("span",{className:"w-[90%] flex items-center h-[40%]   gap-[10%] justify-start flex-col",children:[ae.jsx("input",{value:t,onChange:b=>n(b.target.value),type:"text",placeholder:"Enter a username...",className:` 
                outline-none p-0.5 bg-transparent border-b-orange-500 border-b-2 w-[100%] h-[20%] text-[3.5vmin]  text-white placeholder:text-white`}),ae.jsx("input",{type:"email",value:i,onChange:b=>s(b.target.value),placeholder:"Enter your gmail..",className:`h-[20%] text-[3.5vmin] 
              outline-none p-0.5 bg-transparent border-b-orange-500 border-b-2 w-[100%] text-white placeholder:text-white`}),ae.jsx("input",{type:"text",value:u,onChange:b=>{try{h(Number(b.target.value))}catch{alert("Invalid phonenumber format ,Re-enter phonenumber")}},placeholder:"Enter your phone number..",className:"outline-none p-0.5 h-[20%] text-[3.5vmin] bg-transparent border-b-orange-500 border-b-2 w-[100%] text-white placeholder:text-white"}),ae.jsxs("div",{className:"relative w-[100%] h-[20%]  flex justify-right items-center",children:[ae.jsx("input",{type:r?"text":"password",value:o,onChange:b=>l(b.target.value),placeholder:"Enter a password...",className:`h-[100%] text-[3.5vmin] 
                outline-none p-0.5 bg-transparent border-b-orange-500 border-b-2 w-[100%] text-white placeholder:text-white`}),ae.jsx("img",{src:r?g8:y8,alt:"",className:" absolute w-[1.7rem]  z-[5]  right-[5%] duration-200",onClick:()=>e(b=>!b)})]})]}),ae.jsxs("div",{className:"tick text-[2vmin] w-[90%] h-[18%]   flex items-start justify-center flex-col gap-1 ",children:[ae.jsxs("span",{className:"flex justify-start items-center text-[3.2vmin] w-[100%] ",children:[ae.jsx("input",{type:"checkbox",name:"",id:"",className:"accent-orange-600  h-[100%] w-[4%] "}),"Remember me"]}),ae.jsx(ww,{to:"/login",className:"text-orange-500 w-[100%] h-[50%] text-[3.5vmin] text-left hover:underline",children:"Already have an account?Login?"})]}),ae.jsx("button",{className:`b text-[4.5vmin] border-4  text-center font-mono font-semibold border-white bg-orange-500 
              py-1 px-2 rounded-lg
               hover:text-black hover:bg-orange-500  hover:border-orange-700 m-0`,children:"Signup"}),ae.jsxs("div",{className:"w-[90%] h-[20%]  flex-col justify-center items-center py-2  ",children:[ae.jsxs("span",{className:"flex w-full h-[40%] bg-white  rounded-md justify-center items-center gap-1",children:[ae.jsx("img",{src:v8,className:"w-[4.5vmin] h-[4.5vmin]  ",alt:""}),ae.jsx("h5",{className:"text-black text-[1rem] font-semibold",children:"Signup With Google"})]}),ae.jsxs("span",{className:"flex w-full h-[40%] bg-blue-700 rounded-md justify-center items-center gap-1 mt-4",children:[ae.jsx("img",{src:w8,className:"w-[7vmin] h-[7vmin]",alt:""}),ae.jsx("h5",{className:"text-[1rem] font-semibold",children:" Signup With Facebook"})]})]})]})]})})]})}const _8="/Note_App-react/assets/pencils-B_HwLlHI.png",pC="/Note_App-react/assets/post-gczXPPs4.png",b8="/Note_App-react/assets/save-CCF4XFhP.png";function qQ({not:r,items:e,searchmsg_note:t,setnotename:n,noten:i}){const[s,o]=me.useState(!1),[l,u]=me.useState(!1),[h,f]=me.useState(!0),[p,g]=me.useState(r.note_name),{folders:y}=e,_=mr(A=>A.noted.selectednote),w=mr(A=>A.noted.selectedfolderid),E=xc(),b=(A,T)=>{for(let x=0;x<T.length;x++)A[x]!=T[x]&&o(!0)};return me.useEffect(()=>{o(!1),t!=""?b(r.note_name,t):o(!1)},[t]),me.useEffect(()=>{r?.id==_?.id?u(!0):(f(!0),u(!1))},[_]),me.useEffect(()=>{r.id==2&&E(Ls(r))},[]),ae.jsxs("div",{className:`fols nots w-[100%] h-[5.5%] text-center flex-shrink-0  flex justify-center  items-center  pl-1 ${s?"hidden":""}`,children:[ae.jsxs("span",{className:"flex w-[100%] h-[100%] justify-center items-center",children:[ae.jsx("img",{src:pC,className:"w-[5.5vmin] h-[5.5vmin]  ",alt:"",onClick:()=>{r.id==_?.id?E(Ls(null)):E(Ls(r))}}),ae.jsx("input",{type:"text",disabled:h,value:p,className:"outline-none w-[100%] h-[100%]  bg-transparent text-[3vmin]",onChange:A=>{g(A.target.value),E(Ls(r))}})]}),ae.jsxs("span",{className:`flex w-[45%] h-[100%]  items-center justify-right flex-row
         ${l?"":"hidden"}`,children:[ae.jsx("img",{src:h?_8:b8,alt:"",onClick:()=>{if(f(A=>!A),h==!1){const A={note_name:p};i(p),E(Sx({id:r.id,folid:w,prop:A}))}},className:"w-[4.5vmin]  rounded-lg duration-200"}),ae.jsx("img",{src:xl,alt:"",className:"w-[4.5vmin]  rounded-lg ",onClick:()=>{E(e$({id:r.id,folid:w})),E(Ls(null))}})]})]})}const Hx="/Note_App-react/assets/folder-BqAWSYm-.png";function WQ({fold:r,set1:e,searchmsg:t,fol_ser:n}){const[i,s]=me.useState(!1),[o,l]=me.useState(!1),[u,h]=me.useState(!0),[f,p]=me.useState(!1),[g,y]=me.useState(""),[_,w]=me.useState(r.folname),E=mr(O=>O.noted.selectedfolderid),b=mr(O=>O.noted.Folders),A=b.find(O=>O.id==E),T=mr(O=>O.noted.selectednote),x=xc();let D=b?.length;me.useEffect(()=>{e(!1)},[f,u,f,g]);const P=(O,C)=>{for(let q=0;q<C.length;q++)O[q]!=C[q]&&s(!0)},N=()=>{xa.to(`#${n}`,{x:-100,opacity:0,ease:"circ",duration:.8})};return rm(()=>{b.length>D&&xa.from(`#fol${b.length}`,{yPercent:-100,opacity:0,ease:"circ",duration:1}),D=b.length},[b.length]),me.useEffect(()=>{r.id==1&&x(Mu(r.id))},[]),me.useEffect(()=>{s(!1),t!=""?P(r.folname,t):s(!1)},[t]),me.useEffect(()=>{E==r?.id?l(!0):(h(!0),l(!1))},[E]),ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{id:`${n}`,className:`fols w-[100%] h-[5.5%] z-20   flex justify-center  items-center  pl-1 ${i?"hidden":""}`,children:[ae.jsxs("span",{className:" w-[100%] h-[100%] flex justify-center items-center",children:[ae.jsx("img",{src:Hx,className:`w-[5.5min] h-[5.5vmin]  ${r.id==1?"grayscale":""} `,alt:"",onClick:()=>{x(Ls(null)),E==r.id?x(Mu(null)):x(Mu(r.id))}}),ae.jsx("input",{type:"text",disabled:u,value:_,className:"outline-none w-[100%] h-[100%] bg-transparent text-[3vmin] text-left  ",onChange:O=>{w(O.target.value)},onClick:()=>{if(f==!1)if(x(Mu(r.id)),T){const O=A?.notes.map(C=>C.id==T?T:null);x(Ls(O))}else x(Ls(null))}})]}),ae.jsxs("span",{className:`flex w-[60%] h-[100%]  items-center justify-center flex-row
         ${o?"":"hidden"}`,children:[ae.jsx("img",{src:xl,alt:"",className:`w-[5vmin] p-0.5 rounded-lg duration-200 ${f?"-rotate-90":"rotate-45"}`,onClick:()=>{p(O=>!O),y(""),f==!1&&x(Mu(r.id))}}),ae.jsx("img",{src:u?_8:b8,alt:"",onClick:()=>{if(h(O=>!O),x(Mu(r.id)),u==!1){const O={folname:_};x(t$({folid:r.id,prop:O}))}},className:r.id==1?"hidden":"w-[5vmin] p-0.5 rounded-lg duration-200"}),ae.jsx("img",{src:xl,alt:"",className:r.id==1?"hidden":"w-[5vmin] p-0.5 rounded-lg z-30",onClick:()=>{console.log("clicked"),N(),setTimeout(()=>{x(JK({id:r.id})),x(Mu(null)),x(Ls(null))},500)}})]})]}),ae.jsxs("div",{className:`w-[100%] h-[7%]  flex justify-center  items-center ${f?"":"hidden"}`,children:[ae.jsx("img",{src:pC,className:"w-[5vmin] h-[5vmin] ",alt:""}),ae.jsx("input",{readOnly:!1,type:"text",value:g,onChange:O=>{y(O.target.value)},onKeyDown:O=>{O.key==="Enter"&&(x(uO({id:r.id,name:g})),y(""),p(!1))},className:"outline-none  bg-transparent border-b-2 text-[3vmin] w-[70%] text-orange-500",placeholder:"Give a title..."}),ae.jsx("button",{className:"text-[3vmin] p-0.5 px-1 bg-orange-600 ml-1 border-2 rounded-lg",onClick:()=>{g!=""?(x(uO({id:r.id,name:g})),y(""),p(!1)):alert("Note name is empty...")},children:"Add"})]})]})}function qx(){return qx=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},qx.apply(null,arguments)}function GQ(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}let Wx=[],S8=[];(()=>{let r="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<r.length;e++)(e%2?S8:Wx).push(t=t+r[e])})();function KQ(r){if(r<768)return!1;for(let e=0,t=Wx.length;;){let n=e+t>>1;if(r<Wx[n])t=n;else if(r>=S8[n])e=n+1;else return!0;if(e==t)return!1}}function sN(r){return r>=127462&&r<=127487}const oN=8205;function $Q(r,e,t=!0,n=!0){return(t?E8:YQ)(r,e,n)}function E8(r,e,t){if(e==r.length)return e;e&&x8(r.charCodeAt(e))&&T8(r.charCodeAt(e-1))&&e--;let n=xb(r,e);for(e+=aN(n);e<r.length;){let i=xb(r,e);if(n==oN||i==oN||t&&KQ(i))e+=aN(i),n=i;else if(sN(i)){let s=0,o=e-2;for(;o>=0&&sN(xb(r,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function YQ(r,e,t){for(;e>0;){let n=E8(r,e-2,t);if(n<e)return n;e--}return 0}function xb(r,e){let t=r.charCodeAt(e);if(!T8(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return x8(n)?(t-55296<<10)+(n-56320)+65536:t}function x8(r){return r>=56320&&r<57344}function T8(r){return r>=55296&&r<56320}function aN(r){return r<65536?1:2}let Qt=class A8{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,n){[e,t]=pf(this,e,t);let i=[];return this.decompose(0,e,i,2),n.length&&n.decompose(0,n.length,i,3),this.decompose(t,this.length,i,1),wo.from(i,this.length-(t-e)+n.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=pf(this,e,t);let n=[];return this.decompose(e,t,n,0),wo.from(n,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),n=this.length-this.scanIdentical(e,-1),i=new Rp(this),s=new Rp(e);for(let o=t,l=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=n)return!0}}iter(e=1){return new Rp(this,e)}iterRange(e,t=this.length){return new C8(this,e,t)}iterLines(e,t){let n;if(e==null)n=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;n=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new R8(n)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?A8.empty:e.length<=32?new Ln(e):wo.from(Ln.split(e,[]))}};class Ln extends Qt{constructor(e,t=XQ(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,n,i){for(let s=0;;s++){let o=this.text[s],l=i+o.length;if((t?n:l)>=e)return new QQ(i,l,n,o);i=l+1,n++}}decompose(e,t,n,i){let s=e<=0&&t>=this.length?this:new Ln(lN(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=n.pop(),l=E0(s.text,o.text.slice(),0,s.length);if(l.length<=32)n.push(new Ln(l,o.length+s.length));else{let u=l.length>>1;n.push(new Ln(l.slice(0,u)),new Ln(l.slice(u)))}}else n.push(s)}replace(e,t,n){if(!(n instanceof Ln))return super.replace(e,t,n);[e,t]=pf(this,e,t);let i=E0(this.text,E0(n.text,lN(this.text,0,e)),t),s=this.length+n.length-(t-e);return i.length<=32?new Ln(i,s):wo.from(Ln.split(i,[]),s)}sliceString(e,t=this.length,n=`
`){[e,t]=pf(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let l=this.text[o],u=s+l.length;s>e&&o&&(i+=n),e<u&&t>s&&(i+=l.slice(Math.max(0,e-s),t-s)),s=u+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let n=[],i=-1;for(let s of e)n.push(s),i+=s.length+1,n.length==32&&(t.push(new Ln(n,i)),n=[],i=-1);return i>-1&&t.push(new Ln(n,i)),t}}class wo extends Qt{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let n of e)this.lines+=n.lines}lineInner(e,t,n,i){for(let s=0;;s++){let o=this.children[s],l=i+o.length,u=n+o.lines-1;if((t?u:l)>=e)return o.lineInner(e,t,n,i);i=l+1,n=u+1}}decompose(e,t,n,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let l=this.children[s],u=o+l.length;if(e<=u&&t>=o){let h=i&((o<=e?1:0)|(u>=t?2:0));o>=e&&u<=t&&!h?n.push(l):l.decompose(e-o,t-o,n,h)}o=u+1}}replace(e,t,n){if([e,t]=pf(this,e,t),n.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(e>=s&&t<=l){let u=o.replace(e-s,t-s,n),h=this.lines-o.lines+u.lines;if(u.lines<h>>4&&u.lines>h>>6){let f=this.children.slice();return f[i]=u,new wo(f,this.length-(t-e)+n.length)}return super.replace(s,l,u)}s=l+1}return super.replace(e,t,n)}sliceString(e,t=this.length,n=`
`){[e,t]=pf(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let l=this.children[s],u=o+l.length;o>e&&s&&(i+=n),e<u&&t>o&&(i+=l.sliceString(e-o,t-o,n)),o=u+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof wo))return 0;let n=0,[i,s,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==l)return n;let u=this.children[i],h=e.children[s];if(u!=h)return n+u.scanIdentical(h,t);n+=u.length+1}}static from(e,t=e.reduce((n,i)=>n+i.length+1,-1)){let n=0;for(let y of e)n+=y.lines;if(n<32){let y=[];for(let _ of e)_.flatten(y);return new Ln(y,t)}let i=Math.max(32,n>>5),s=i<<1,o=i>>1,l=[],u=0,h=-1,f=[];function p(y){let _;if(y.lines>s&&y instanceof wo)for(let w of y.children)p(w);else y.lines>o&&(u>o||!u)?(g(),l.push(y)):y instanceof Ln&&u&&(_=f[f.length-1])instanceof Ln&&y.lines+_.lines<=32?(u+=y.lines,h+=y.length+1,f[f.length-1]=new Ln(_.text.concat(y.text),_.length+1+y.length)):(u+y.lines>i&&g(),u+=y.lines,h+=y.length+1,f.push(y))}function g(){u!=0&&(l.push(f.length==1?f[0]:wo.from(f,h)),h=-1,u=f.length=0)}for(let y of e)p(y);return g(),l.length==1?l[0]:new wo(l,t)}}Qt.empty=new Ln([""],0);function XQ(r){let e=-1;for(let t of r)e+=t.length+1;return e}function E0(r,e,t=0,n=1e9){for(let i=0,s=0,o=!0;s<r.length&&i<=n;s++){let l=r[s],u=i+l.length;u>=t&&(u>n&&(l=l.slice(0,n-i)),i<t&&(l=l.slice(t-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=u+1}return e}function lN(r,e,t){return E0(r,[""],e,t)}class Rp{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ln?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let n=this.nodes.length-1,i=this.nodes[n],s=this.offsets[n],o=s>>1,l=i instanceof Ln?i.text.length:i.children.length;if(o==(t>0?l:0)){if(n==0)return this.done=!0,this.value="",this;t>0&&this.offsets[n-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[n]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ln){let u=i.text[o+(t<0?-1:0)];if(this.offsets[n]+=t,u.length>Math.max(0,e))return this.value=e==0?u:t>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[o+(t<0?-1:0)];e>u.length?(e-=u.length,this.offsets[n]+=t):(t<0&&this.offsets[n]--,this.nodes.push(u),this.offsets.push(t>0?1:(u instanceof Ln?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class C8{constructor(e,t,n){this.value="",this.done=!1,this.cursor=new Rp(e,t>n?-1:1),this.pos=t>n?e.length:0,this.from=Math.min(t,n),this.to=Math.max(t,n)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let n=t<0?this.pos-this.from:this.to-this.pos;e>n&&(e=n),n-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=n?i:t<0?i.slice(i.length-n):i.slice(0,n),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class R8{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:n,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):n?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Qt.prototype[Symbol.iterator]=function(){return this.iter()},Rp.prototype[Symbol.iterator]=C8.prototype[Symbol.iterator]=R8.prototype[Symbol.iterator]=function(){return this});class QQ{constructor(e,t,n,i){this.from=e,this.to=t,this.number=n,this.text=i}get length(){return this.to-this.from}}function pf(r,e,t){return e=Math.max(0,Math.min(r.length,e)),[e,Math.max(e,Math.min(r.length,t))]}function Nr(r,e,t=!0,n=!0){return $Q(r,e,t,n)}function ZQ(r){return r>=56320&&r<57344}function JQ(r){return r>=55296&&r<56320}function gi(r,e){let t=r.charCodeAt(e);if(!JQ(t)||e+1==r.length)return t;let n=r.charCodeAt(e+1);return ZQ(n)?(t-55296<<10)+(n-56320)+65536:t}function mC(r){return r<=65535?String.fromCharCode(r):(r-=65536,String.fromCharCode((r>>10)+55296,(r&1023)+56320))}function _o(r){return r<65536?1:2}const Gx=/\r\n?|\n/;var li=function(r){return r[r.Simple=0]="Simple",r[r.TrackDel=1]="TrackDel",r[r.TrackBefore=2]="TrackBefore",r[r.TrackAfter=3]="TrackAfter",r}(li||(li={}));class Po{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t+1];e+=n<0?this.sections[t]:n}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,n=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(n,i,s),i+=s):i+=o,n+=s}}iterChangedRanges(e,t=!1){Kx(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];i<0?e.push(n,i):e.push(i,n)}return new Po(e)}composeDesc(e){return this.empty?e:e.empty?this:k8(this,e)}mapDesc(e,t=!1){return e.empty?this:$x(this,e,t)}mapPos(e,t=-1,n=li.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],u=this.sections[o++],h=i+l;if(u<0){if(h>e)return s+(e-i);s+=l}else{if(n!=li.Simple&&h>=e&&(n==li.TrackDel&&i<e&&h>e||n==li.TrackBefore&&i<e||n==li.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!l)return e==i||t<0?s:s+u;s+=u}i=h}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let n=0,i=0;n<this.sections.length&&i<=t;){let s=this.sections[n++],o=this.sections[n++],l=i+s;if(o>=0&&i<=t&&l>=e)return i<e&&l>t?"cover":!0;i=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let n=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+n+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Po(e)}static create(e){return new Po(e)}}class sr extends Po{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Kx(this,(t,n,i,s,o)=>e=e.replace(i,i+(n-t),o),!1),e}mapDesc(e,t=!1){return $x(this,e,t,!0)}invert(e){let t=this.sections.slice(),n=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],l=t[i+1];if(l>=0){t[i]=l,t[i+1]=o;let u=i>>1;for(;n.length<u;)n.push(Qt.empty);n.push(o?e.slice(s,s+o):Qt.empty)}s+=o}return new sr(t,n)}compose(e){return this.empty?e:e.empty?this:k8(this,e,!0)}map(e,t=!1){return e.empty?this:$x(this,e,t,!0)}iterChanges(e,t=!1){Kx(this,e,t)}get desc(){return Po.create(this.sections)}filter(e){let t=[],n=[],i=[],s=new im(this);e:for(let o=0,l=0;;){let u=o==e.length?1e9:e[o++];for(;l<u||l==u&&s.len==0;){if(s.done)break e;let f=Math.min(s.len,u-l);Hr(i,f,-1);let p=s.ins==-1?-1:s.off==0?s.ins:0;Hr(t,f,p),p>0&&Tl(n,t,s.text),s.forward(f),l+=f}let h=e[o++];for(;l<h;){if(s.done)break e;let f=Math.min(s.len,h-l);Hr(t,f,-1),Hr(i,f,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(f),l+=f}}return{changes:new sr(t,n),filtered:Po.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let n=this.sections[t],i=this.sections[t+1];i<0?e.push(n):i==0?e.push([n]):e.push([n].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,n){let i=[],s=[],o=0,l=null;function u(f=!1){if(!f&&!i.length)return;o<t&&Hr(i,t-o,-1);let p=new sr(i,s);l=l?l.compose(p.map(l)):p,i=[],s=[],o=0}function h(f){if(Array.isArray(f))for(let p of f)h(p);else if(f instanceof sr){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);u(),l=l?l.compose(f.map(l)):f}else{let{from:p,to:g=p,insert:y}=f;if(p>g||p<0||g>t)throw new RangeError(`Invalid change range ${p} to ${g} (in doc of length ${t})`);let _=y?typeof y=="string"?Qt.of(y.split(n||Gx)):y:Qt.empty,w=_.length;if(p==g&&w==0)return;p<o&&u(),p>o&&Hr(i,p-o,-1),Hr(i,g-p,w),Tl(s,i,_),o=g}}return h(e),u(!l),l}static empty(e){return new sr(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],n=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;n.length<i;)n.push(Qt.empty);n[i]=Qt.of(s.slice(1)),t.push(s[0],n[i].length)}}}return new sr(t,n)}static createSet(e,t){return new sr(e,t)}}function Hr(r,e,t,n=!1){if(e==0&&t<=0)return;let i=r.length-2;i>=0&&t<=0&&t==r[i+1]?r[i]+=e:i>=0&&e==0&&r[i]==0?r[i+1]+=t:n?(r[i]+=e,r[i+1]+=t):r.push(e,t)}function Tl(r,e,t){if(t.length==0)return;let n=e.length-2>>1;if(n<r.length)r[r.length-1]=r[r.length-1].append(t);else{for(;r.length<n;)r.push(Qt.empty);r.push(t)}}function Kx(r,e,t){let n=r.inserted;for(let i=0,s=0,o=0;o<r.sections.length;){let l=r.sections[o++],u=r.sections[o++];if(u<0)i+=l,s+=l;else{let h=i,f=s,p=Qt.empty;for(;h+=l,f+=u,u&&n&&(p=p.append(n[o-2>>1])),!(t||o==r.sections.length||r.sections[o+1]<0);)l=r.sections[o++],u=r.sections[o++];e(i,h,s,f,p),i=h,s=f}}}function $x(r,e,t,n=!1){let i=[],s=n?[]:null,o=new im(r),l=new im(e);for(let u=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let h=Math.min(o.len,l.len);Hr(i,h,-1),o.forward(h),l.forward(h)}else if(l.ins>=0&&(o.ins<0||u==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let h=l.len;for(Hr(i,l.ins,-1);h;){let f=Math.min(o.len,h);o.ins>=0&&u<o.i&&o.len<=f&&(Hr(i,0,o.ins),s&&Tl(s,i,o.text),u=o.i),o.forward(f),h-=f}l.next()}else if(o.ins>=0){let h=0,f=o.len;for(;f;)if(l.ins==-1){let p=Math.min(f,l.len);h+=p,f-=p,l.forward(p)}else if(l.ins==0&&l.len<f)f-=l.len,l.next();else break;Hr(i,h,u<o.i?o.ins:0),s&&u<o.i&&Tl(s,i,o.text),u=o.i,o.forward(o.len-f)}else{if(o.done&&l.done)return s?sr.createSet(i,s):Po.create(i);throw new Error("Mismatched change set lengths")}}}function k8(r,e,t=!1){let n=[],i=t?[]:null,s=new im(r),o=new im(e);for(let l=!1;;){if(s.done&&o.done)return i?sr.createSet(n,i):Po.create(n);if(s.ins==0)Hr(n,s.len,0,l),s.next();else if(o.len==0&&!o.done)Hr(n,0,o.ins,l),i&&Tl(i,n,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let u=Math.min(s.len2,o.len),h=n.length;if(s.ins==-1){let f=o.ins==-1?-1:o.off?0:o.ins;Hr(n,u,f,l),i&&f&&Tl(i,n,o.text)}else o.ins==-1?(Hr(n,s.off?0:s.len,u,l),i&&Tl(i,n,s.textBit(u))):(Hr(n,s.off?0:s.len,o.off?0:o.ins,l),i&&!o.off&&Tl(i,n,o.text));l=(s.ins>u||o.ins>=0&&o.len>u)&&(l||n.length>h),s.forward2(u),o.forward(u)}}}}class im{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Qt.empty:e[t]}textBit(e){let{inserted:t}=this.set,n=this.i-2>>1;return n>=t.length&&!e?Qt.empty:t[n].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Xu{constructor(e,t,n){this.from=e,this.to=t,this.flags=n}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let n,i;return this.empty?n=i=e.mapPos(this.from,t):(n=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),n==this.from&&i==this.to?this:new Xu(n,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return Ue.range(e,t);let n=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return Ue.range(this.anchor,n)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Ue.range(e.anchor,e.head)}static create(e,t,n){return new Xu(e,t,n)}}class Ue{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Ue.create(this.ranges.map(n=>n.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Ue([this.main],0)}addRange(e,t=!0){return Ue.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let n=this.ranges.slice();return n[t]=e,Ue.create(n,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Ue(e.ranges.map(t=>Xu.fromJSON(t)),e.main)}static single(e,t=e){return new Ue([Ue.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let n=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=n:s.from<n)return Ue.normalized(e.slice(),t);n=s.to}return new Ue(e,t)}static cursor(e,t=0,n,i){return Xu.create(e,e,(t==0?0:t<0?8:16)|(n==null?7:Math.min(6,n))|(i??16777215)<<6)}static range(e,t,n,i){let s=(n??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Xu.create(t,e,48|s):Xu.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let n=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(n);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,u=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?Ue.range(u,l):Ue.range(l,u))}}return new Ue(e,t)}}function D8(r,e){for(let t of r.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let gC=0;class tt{constructor(e,t,n,i,s){this.combine=e,this.compareInput=t,this.compare=n,this.isStatic=i,this.id=gC++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new tt(e.combine||(t=>t),e.compareInput||((t,n)=>t===n),e.compare||(e.combine?(t,n)=>t===n:yC),!!e.static,e.enables)}of(e){return new x0([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new x0(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new x0(e,this,2,t)}from(e,t){return t||(t=n=>n),this.compute([e],n=>t(n.field(e)))}}function yC(r,e){return r==e||r.length==e.length&&r.every((t,n)=>t===e[n])}class x0{constructor(e,t,n,i){this.dependencies=e,this.facet=t,this.type=n,this.value=i,this.id=gC++}dynamicSlot(e){var t;let n=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,u=!1,h=!1,f=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?h=!0:(((t=e[p.id])!==null&&t!==void 0?t:1)&1)==0&&f.push(e[p.id]);return{create(p){return p.values[o]=n(p),1},update(p,g){if(u&&g.docChanged||h&&(g.docChanged||g.selection)||Yx(p,f)){let y=n(p);if(l?!uN(y,p.values[o],i):!i(y,p.values[o]))return p.values[o]=y,1}return 0},reconfigure:(p,g)=>{let y,_=g.config.address[s];if(_!=null){let w=bv(g,_);if(this.dependencies.every(E=>E instanceof tt?g.facet(E)===p.facet(E):E instanceof Lr?g.field(E,!1)==p.field(E,!1):!0)||(l?uN(y=n(p),w,i):i(y=n(p),w)))return p.values[o]=w,0}else y=n(p);return p.values[o]=y,1}}}}function uN(r,e,t){if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(!t(r[n],e[n]))return!1;return!0}function Yx(r,e){let t=!1;for(let n of e)kp(r,n)&1&&(t=!0);return t}function eZ(r,e,t){let n=t.map(u=>r[u.id]),i=t.map(u=>u.type),s=n.filter(u=>!(u&1)),o=r[e.id]>>1;function l(u){let h=[];for(let f=0;f<n.length;f++){let p=bv(u,n[f]);if(i[f]==2)for(let g of p)h.push(g);else h.push(p)}return e.combine(h)}return{create(u){for(let h of n)kp(u,h);return u.values[o]=l(u),1},update(u,h){if(!Yx(u,s))return 0;let f=l(u);return e.compare(f,u.values[o])?0:(u.values[o]=f,1)},reconfigure(u,h){let f=Yx(u,n),p=h.config.facets[e.id],g=h.facet(e);if(p&&!f&&yC(t,p))return u.values[o]=g,0;let y=l(u);return e.compare(y,g)?(u.values[o]=g,0):(u.values[o]=y,1)}}}const xy=tt.define({static:!0});class Lr{constructor(e,t,n,i,s){this.id=e,this.createF=t,this.updateF=n,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new Lr(gC++,e.create,e.update,e.compare||((n,i)=>n===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(xy).find(n=>n.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:n=>(n.values[t]=this.create(n),1),update:(n,i)=>{let s=n.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(n.values[t]=o,1)},reconfigure:(n,i)=>{let s=n.facet(xy),o=i.facet(xy),l;return(l=s.find(u=>u.field==this))&&l!=o.find(u=>u.field==this)?(n.values[t]=l.create(n),1):i.config.address[this.id]!=null?(n.values[t]=i.field(this),0):(n.values[t]=this.create(n),1)}}}init(e){return[this,xy.of({field:this,create:e})]}get extension(){return this}}const Wu={lowest:4,low:3,default:2,high:1,highest:0};function Wd(r){return e=>new I8(e,r)}const Rc={highest:Wd(Wu.highest),high:Wd(Wu.high),default:Wd(Wu.default),low:Wd(Wu.low),lowest:Wd(Wu.lowest)};class I8{constructor(e,t){this.inner=e,this.prec=t}}class Ew{of(e){return new Xx(this,e)}reconfigure(e){return Ew.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Xx{constructor(e,t){this.compartment=e,this.inner=t}}class _v{constructor(e,t,n,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=n,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<n.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,n){let i=[],s=Object.create(null),o=new Map;for(let g of tZ(e,t,o))g instanceof Lr?i.push(g):(s[g.facet.id]||(s[g.facet.id]=[])).push(g);let l=Object.create(null),u=[],h=[];for(let g of i)l[g.id]=h.length<<1,h.push(y=>g.slot(y));let f=n?.config.facets;for(let g in s){let y=s[g],_=y[0].facet,w=f&&f[g]||[];if(y.every(E=>E.type==0))if(l[_.id]=u.length<<1|1,yC(w,y))u.push(n.facet(_));else{let E=_.combine(y.map(b=>b.value));u.push(n&&_.compare(E,n.facet(_))?n.facet(_):E)}else{for(let E of y)E.type==0?(l[E.id]=u.length<<1|1,u.push(E.value)):(l[E.id]=h.length<<1,h.push(b=>E.dynamicSlot(b)));l[_.id]=h.length<<1,h.push(E=>eZ(E,_,y))}}let p=h.map(g=>g(l));return new _v(e,o,p,l,u,s)}}function tZ(r,e,t){let n=[[],[],[],[],[]],i=new Map;function s(o,l){let u=i.get(o);if(u!=null){if(u<=l)return;let h=n[u].indexOf(o);h>-1&&n[u].splice(h,1),o instanceof Xx&&t.delete(o.compartment)}if(i.set(o,l),Array.isArray(o))for(let h of o)s(h,l);else if(o instanceof Xx){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),s(h,l)}else if(o instanceof I8)s(o.inner,o.prec);else if(o instanceof Lr)n[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof x0)n[l].push(o),o.facet.extensions&&s(o.facet.extensions,Wu.default);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,l)}}return s(r,Wu.default),n.reduce((o,l)=>o.concat(l))}function kp(r,e){if(e&1)return 2;let t=e>>1,n=r.status[t];if(n==4)throw new Error("Cyclic dependency between fields and/or facets");if(n&2)return n;r.status[t]=4;let i=r.computeSlot(r,r.config.dynamicSlots[t]);return r.status[t]=2|i}function bv(r,e){return e&1?r.config.staticValues[e>>1]:r.values[e>>1]}const O8=tt.define(),Qx=tt.define({combine:r=>r.some(e=>e),static:!0}),N8=tt.define({combine:r=>r.length?r[0]:void 0,static:!0}),M8=tt.define(),P8=tt.define(),L8=tt.define(),B8=tt.define({combine:r=>r.length?r[0]:!1});class jo{constructor(e,t){this.type=e,this.value=t}static define(){return new nZ}}class nZ{of(e){return new jo(this,e)}}class rZ{constructor(e){this.map=e}of(e){return new Et(this,e)}}class Et{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Et(this.type,t)}is(e){return this.type==e}static define(e={}){return new rZ(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let n=[];for(let i of e){let s=i.map(t);s&&n.push(s)}return n}}Et.reconfigure=Et.define();Et.appendConfig=Et.define();class ar{constructor(e,t,n,i,s,o){this.startState=e,this.changes=t,this.selection=n,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,n&&D8(n,t.newLength),s.some(l=>l.type==ar.time)||(this.annotations=s.concat(ar.time.of(Date.now())))}static create(e,t,n,i,s,o){return new ar(e,t,n,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(ar.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}ar.time=jo.define();ar.userEvent=jo.define();ar.addToHistory=jo.define();ar.remote=jo.define();function iZ(r,e){let t=[];for(let n=0,i=0;;){let s,o;if(n<r.length&&(i==e.length||e[i]>=r[n]))s=r[n++],o=r[n++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function F8(r,e,t){var n;let i,s,o;return t?(i=e.changes,s=sr.empty(e.changes.length),o=r.changes.compose(e.changes)):(i=e.changes.map(r.changes),s=r.changes.mapDesc(e.changes,!0),o=r.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(n=r.selection)===null||n===void 0?void 0:n.map(i),effects:Et.mapEffects(r.effects,i).concat(Et.mapEffects(e.effects,s)),annotations:r.annotations.length?r.annotations.concat(e.annotations):e.annotations,scrollIntoView:r.scrollIntoView||e.scrollIntoView}}function Zx(r,e,t){let n=e.selection,i=qh(e.annotations);return e.userEvent&&(i=i.concat(ar.userEvent.of(e.userEvent))),{changes:e.changes instanceof sr?e.changes:sr.of(e.changes||[],t,r.facet(N8)),selection:n&&(n instanceof Ue?n:Ue.single(n.anchor,n.head)),effects:qh(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function V8(r,e,t){let n=Zx(r,e.length?e[0]:{},r.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;n=F8(n,Zx(r,e[s],o?n.changes.newLength:r.doc.length),o)}let i=ar.create(r,n.changes,n.selection,n.effects,n.annotations,n.scrollIntoView);return oZ(t?sZ(i):i)}function sZ(r){let e=r.startState,t=!0;for(let i of e.facet(M8)){let s=i(r);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:iZ(t,s))}if(t!==!0){let i,s;if(t===!1)s=r.changes.invertedDesc,i=sr.empty(e.doc.length);else{let o=r.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}r=ar.create(e,i,r.selection&&r.selection.map(s),Et.mapEffects(r.effects,s),r.annotations,r.scrollIntoView)}let n=e.facet(P8);for(let i=n.length-1;i>=0;i--){let s=n[i](r);s instanceof ar?r=s:Array.isArray(s)&&s.length==1&&s[0]instanceof ar?r=s[0]:r=V8(e,qh(s),!1)}return r}function oZ(r){let e=r.startState,t=e.facet(L8),n=r;for(let i=t.length-1;i>=0;i--){let s=t[i](r);s&&Object.keys(s).length&&(n=F8(n,Zx(e,s,r.changes.newLength),!0))}return n==r?r:ar.create(e,r.changes,r.selection,n.effects,n.annotations,n.scrollIntoView)}const aZ=[];function qh(r){return r==null?aZ:Array.isArray(r)?r:[r]}var En=function(r){return r[r.Word=0]="Word",r[r.Space=1]="Space",r[r.Other=2]="Other",r}(En||(En={}));const lZ=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Jx;try{Jx=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function uZ(r){if(Jx)return Jx.test(r);for(let e=0;e<r.length;e++){let t=r[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||lZ.test(t)))return!0}return!1}function cZ(r){return e=>{if(!/\S/.test(e))return En.Space;if(uZ(e))return En.Word;for(let t=0;t<r.length;t++)if(e.indexOf(r[t])>-1)return En.Word;return En.Other}}class Ft{constructor(e,t,n,i,s,o){this.config=e,this.doc=t,this.selection=n,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)kp(this,l<<1);this.computeSlot=null}field(e,t=!0){let n=this.config.address[e.id];if(n==null){if(t)throw new RangeError("Field is not present in this state");return}return kp(this,n),bv(this,n)}update(...e){return V8(this,e,!0)}applyTransaction(e){let t=this.config,{base:n,compartments:i}=t;for(let l of e.effects)l.is(Ew.reconfigure)?(t&&(i=new Map,t.compartments.forEach((u,h)=>i.set(h,u)),t=null),i.set(l.value.compartment,l.value.extension)):l.is(Et.reconfigure)?(t=null,n=l.value):l.is(Et.appendConfig)&&(t=null,n=qh(n).concat(l.value));let s;t?s=e.startState.values.slice():(t=_v.resolve(n,i,this),s=new Ft(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(u,h)=>h.reconfigure(u,this),null).values);let o=e.startState.facet(Qx)?e.newSelection:e.newSelection.asSingle();new Ft(t,e.newDoc,o,s,(l,u)=>u.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:Ue.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,n=e(t.ranges[0]),i=this.changes(n.changes),s=[n.range],o=qh(n.effects);for(let l=1;l<t.ranges.length;l++){let u=e(t.ranges[l]),h=this.changes(u.changes),f=h.map(i);for(let g=0;g<l;g++)s[g]=s[g].map(f);let p=i.mapDesc(h,!0);s.push(u.range.map(p)),i=i.compose(f),o=Et.mapEffects(o,f).concat(Et.mapEffects(qh(u.effects),p))}return{changes:i,selection:Ue.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof sr?e:sr.of(e,this.doc.length,this.facet(Ft.lineSeparator))}toText(e){return Qt.of(e.split(this.facet(Ft.lineSeparator)||Gx))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(kp(this,t),bv(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let n in e){let i=e[n];i instanceof Lr&&this.config.address[i.id]!=null&&(t[n]=i.spec.toJSON(this.field(e[n]),this))}return t}static fromJSON(e,t={},n){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(n){for(let s in n)if(Object.prototype.hasOwnProperty.call(e,s)){let o=n[s],l=e[s];i.push(o.init(u=>o.spec.fromJSON(l,u)))}}return Ft.create({doc:e.doc,selection:Ue.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=_v.resolve(e.extensions||[],new Map),n=e.doc instanceof Qt?e.doc:Qt.of((e.doc||"").split(t.staticFacet(Ft.lineSeparator)||Gx)),i=e.selection?e.selection instanceof Ue?e.selection:Ue.single(e.selection.anchor,e.selection.head):Ue.single(0);return D8(i,n.length),t.staticFacet(Qx)||(i=i.asSingle()),new Ft(t,n,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(Ft.tabSize)}get lineBreak(){return this.facet(Ft.lineSeparator)||`
`}get readOnly(){return this.facet(B8)}phrase(e,...t){for(let n of this.facet(Ft.phrases))if(Object.prototype.hasOwnProperty.call(n,e)){e=n[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(n,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?n:t[s-1]})),e}languageDataAt(e,t,n=-1){let i=[];for(let s of this.facet(O8))for(let o of s(this,t,n))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return cZ(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:n,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-n,l=e-n;for(;o>0;){let u=Nr(t,o,!1);if(s(t.slice(u,o))!=En.Word)break;o=u}for(;l<i;){let u=Nr(t,l);if(s(t.slice(l,u))!=En.Word)break;l=u}return o==l?null:Ue.range(o+n,l+n)}}Ft.allowMultipleSelections=Qx;Ft.tabSize=tt.define({combine:r=>r.length?r[0]:4});Ft.lineSeparator=N8;Ft.readOnly=B8;Ft.phrases=tt.define({compare(r,e){let t=Object.keys(r),n=Object.keys(e);return t.length==n.length&&t.every(i=>r[i]==e[i])}});Ft.languageData=O8;Ft.changeFilter=M8;Ft.transactionFilter=P8;Ft.transactionExtender=L8;Ew.reconfigure=Et.define();function Ho(r,e,t={}){let n={};for(let i of r)for(let s of Object.keys(i)){let o=i[s],l=n[s];if(l===void 0)n[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,s))n[s]=t[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)n[i]===void 0&&(n[i]=e[i]);return n}class gc{eq(e){return this==e}range(e,t=e){return eT.create(e,t,this)}}gc.prototype.startSide=gc.prototype.endSide=0;gc.prototype.point=!1;gc.prototype.mapMode=li.TrackDel;let eT=class U8{constructor(e,t,n){this.from=e,this.to=t,this.value=n}static create(e,t,n){return new U8(e,t,n)}};function tT(r,e){return r.from-e.from||r.value.startSide-e.value.startSide}class vC{constructor(e,t,n,i){this.from=e,this.to=t,this.value=n,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,n,i=0){let s=n?this.to:this.from;for(let o=i,l=s.length;;){if(o==l)return o;let u=o+l>>1,h=s[u]-e||(n?this.value[u].endSide:this.value[u].startSide)-t;if(u==o)return h>=0?o:l;h>=0?l=u:o=u+1}}between(e,t,n,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(n,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let n=[],i=[],s=[],o=-1,l=-1;for(let u=0;u<this.value.length;u++){let h=this.value[u],f=this.from[u]+e,p=this.to[u]+e,g,y;if(f==p){let _=t.mapPos(f,h.startSide,h.mapMode);if(_==null||(g=y=_,h.startSide!=h.endSide&&(y=t.mapPos(f,h.endSide),y<g)))continue}else if(g=t.mapPos(f,h.startSide),y=t.mapPos(p,h.endSide),g>y||g==y&&h.startSide>0&&h.endSide<=0)continue;(y-g||h.endSide-h.startSide)<0||(o<0&&(o=g),h.point&&(l=Math.max(l,y-g)),n.push(h),i.push(g-o),s.push(y-o))}return{mapped:n.length?new vC(i,s,n,l):null,pos:o}}}class Gt{constructor(e,t,n,i){this.chunkPos=e,this.chunk=t,this.nextLayer=n,this.maxPoint=i}static create(e,t,n,i){return new Gt(e,t,n,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:n=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(n&&(t=t.slice().sort(tT)),this.isEmpty)return t.length?Gt.of(t):this;let l=new z8(this,null,-1).goto(0),u=0,h=[],f=new Na;for(;l.value||u<t.length;)if(u<t.length&&(l.from-t[u].from||l.startSide-t[u].value.startSide)>=0){let p=t[u++];f.addInner(p.from,p.to,p.value)||h.push(p)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(u==t.length||this.chunkEnd(l.chunkIndex)<t[u].from)&&(!o||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&f.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||i>l.to||s<l.from||o(l.from,l.to,l.value))&&(f.addInner(l.from,l.to,l.value)||h.push(eT.create(l.from,l.to,l.value))),l.next());return f.finishInner(this.nextLayer.isEmpty&&!h.length?Gt.empty:this.nextLayer.update({add:h,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],n=[],i=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],u=this.chunk[o],h=e.touchesRange(l,l+u.length);if(h===!1)i=Math.max(i,u.maxPoint),t.push(u),n.push(e.mapPos(l));else if(h===!0){let{mapped:f,pos:p}=u.map(l,e);f&&(i=Math.max(i,f.maxPoint),t.push(f),n.push(p))}}let s=this.nextLayer.map(e);return t.length==0?s:new Gt(n,t,s||Gt.empty,i)}between(e,t,n){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,n)===!1)return}this.nextLayer.between(e,t,n)}}iter(e=0){return sm.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return sm.from(e).goto(t)}static compare(e,t,n,i,s=-1){let o=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),l=t.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=s),u=cN(o,l,n),h=new Gd(o,u,s),f=new Gd(l,u,s);n.iterGaps((p,g,y)=>hN(h,p,f,g,y,i)),n.empty&&n.length==0&&hN(h,0,f,0,0,i)}static eq(e,t,n=0,i){i==null&&(i=999999999);let s=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),o=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=cN(s,o),u=new Gd(s,l,0).goto(n),h=new Gd(o,l,0).goto(n);for(;;){if(u.to!=h.to||!nT(u.active,h.active)||u.point&&(!h.point||!u.point.eq(h.point)))return!1;if(u.to>i)return!0;u.next(),h.next()}}static spans(e,t,n,i,s=-1){let o=new Gd(e,null,s).goto(t),l=t,u=o.openStart;for(;;){let h=Math.min(o.to,n);if(o.point){let f=o.activeForPoint(o.to),p=o.pointFrom<t?f.length+1:o.point.startSide<0?f.length:Math.min(f.length,u);i.point(l,h,o.point,f,p,o.pointRank),u=Math.min(o.openEnd(h),f.length)}else h>l&&(i.span(l,h,o.active,u),u=o.openEnd(h));if(o.to>n)return u+(o.point&&o.to>n?1:0);l=o.to,o.next()}}static of(e,t=!1){let n=new Na;for(let i of e instanceof eT?[e]:t?hZ(e):e)n.add(i.from,i.to,i.value);return n.finish()}static join(e){if(!e.length)return Gt.empty;let t=e[e.length-1];for(let n=e.length-2;n>=0;n--)for(let i=e[n];i!=Gt.empty;i=i.nextLayer)t=new Gt(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}Gt.empty=new Gt([],[],null,-1);function hZ(r){if(r.length>1)for(let e=r[0],t=1;t<r.length;t++){let n=r[t];if(tT(e,n)>0)return r.slice().sort(tT);e=n}return r}Gt.empty.nextLayer=Gt.empty;class Na{finishChunk(e){this.chunks.push(new vC(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,n){this.addInner(e,t,n)||(this.nextLayer||(this.nextLayer=new Na)).add(e,t,n)}addInner(e,t,n){let i=e-this.lastTo||n.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||n.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=n,this.lastFrom=e,this.lastTo=t,this.value.push(n),n.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let n=t.value.length-1;return this.last=t.value[n],this.lastFrom=t.from[n]+e,this.lastTo=t.to[n]+e,!0}finish(){return this.finishInner(Gt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Gt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function cN(r,e,t){let n=new Map;for(let s of r)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&n.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=n.get(s.chunk[o]);l!=null&&(t?t.mapPos(l):l)==s.chunkPos[o]&&!t?.touchesRange(l,l+s.chunk[o].length)&&i.add(s.chunk[o])}return i}class z8{constructor(e,t,n,i=0){this.layer=e,this.skip=t,this.minPoint=n,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,n){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,n=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!n||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],n=e+t.from[this.rangeIndex];if(this.from=n,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class sm{constructor(e){this.heap=e}static from(e,t=null,n=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=n&&i.push(new z8(o,t,n,s));return i.length==1?i[0]:new sm(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let n of this.heap)n.goto(e,t);for(let n=this.heap.length>>1;n>=0;n--)Tb(this.heap,n);return this.next(),this}forward(e,t){for(let n of this.heap)n.forward(e,t);for(let n=this.heap.length>>1;n>=0;n--)Tb(this.heap,n);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Tb(this.heap,0)}}}function Tb(r,e){for(let t=r[e];;){let n=(e<<1)+1;if(n>=r.length)break;let i=r[n];if(n+1<r.length&&i.compare(r[n+1])>=0&&(i=r[n+1],n++),t.compare(i)<0)break;r[n]=t,r[e]=i,e=n}}class Gd{constructor(e,t,n){this.minPoint=n,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=sm.from(e,t,n)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Ty(this.active,e),Ty(this.activeTo,e),Ty(this.activeRank,e),this.minActive=fN(this.active,this.activeTo)}addActive(e){let t=0,{value:n,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;Ay(this.active,t,n),Ay(this.activeTo,t,i),Ay(this.activeRank,t,s),e&&Ay(e,t,this.cursor.from),this.minActive=fN(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let n=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),n&&Ty(n,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(n),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(n){this.openStart=0;for(let i=n.length-1;i>=0&&n[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let n=this.active.length-1;n>=0&&!(this.activeRank[n]<this.pointRank);n--)(this.activeTo[n]>e||this.activeTo[n]==e&&this.active[n].endSide>=this.point.endSide)&&t.push(this.active[n]);return t.reverse()}openEnd(e){let t=0;for(let n=this.activeTo.length-1;n>=0&&this.activeTo[n]>e;n--)t++;return t}}function hN(r,e,t,n,i,s){r.goto(e),t.goto(n);let o=n+i,l=n,u=n-e;for(;;){let h=r.to+u-t.to,f=h||r.endSide-t.endSide,p=f<0?r.to+u:t.to,g=Math.min(p,o);if(r.point||t.point?r.point&&t.point&&(r.point==t.point||r.point.eq(t.point))&&nT(r.activeForPoint(r.to),t.activeForPoint(t.to))||s.comparePoint(l,g,r.point,t.point):g>l&&!nT(r.active,t.active)&&s.compareRange(l,g,r.active,t.active),p>o)break;(h||r.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(p),l=p,f<=0&&r.next(),f>=0&&t.next()}}function nT(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!=e[t]&&!r[t].eq(e[t]))return!1;return!0}function Ty(r,e){for(let t=e,n=r.length-1;t<n;t++)r[t]=r[t+1];r.pop()}function Ay(r,e,t){for(let n=r.length-1;n>=e;n--)r[n+1]=r[n];r[e]=t}function fN(r,e){let t=-1,n=1e9;for(let i=0;i<e.length;i++)(e[i]-n||r[i].endSide-r[t].endSide)<0&&(t=i,n=e[i]);return t}function Bf(r,e,t=r.length){let n=0;for(let i=0;i<t&&i<r.length;)r.charCodeAt(i)==9?(n+=e-n%e,i++):(n++,i=Nr(r,i));return n}function rT(r,e,t,n){for(let i=0,s=0;;){if(s>=e)return i;if(i==r.length)break;s+=r.charCodeAt(i)==9?t-s%t:1,i=Nr(r,i)}return n===!0?-1:r.length}const iT="",dN=typeof Symbol>"u"?"__"+iT:Symbol.for(iT),sT=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),pN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class $l{constructor(e,t){this.rules=[];let{finish:n}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,u,h){let f=[],p=/^@(\w+)\b/.exec(o[0]),g=p&&p[1]=="keyframes";if(p&&l==null)return u.push(o[0]+";");for(let y in l){let _=l[y];if(/&/.test(y))s(y.split(/,\s*/).map(w=>o.map(E=>w.replace(/&/,E))).reduce((w,E)=>w.concat(E)),_,u);else if(_&&typeof _=="object"){if(!p)throw new RangeError("The value of a property ("+y+") should be a primitive value.");s(i(y),_,f,g)}else _!=null&&f.push(y.replace(/_.*/,"").replace(/[A-Z]/g,w=>"-"+w.toLowerCase())+": "+_+";")}(f.length||g)&&u.push((n&&!p&&!h?o.map(n):o).join(", ")+" {"+f.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=pN[dN]||1;return pN[dN]=e+1,iT+e.toString(36)}static mount(e,t,n){let i=e[sT],s=n&&n.nonce;i?s&&i.setNonce(s):i=new fZ(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let mN=new Map;class fZ{constructor(e,t){let n=e.ownerDocument||e,i=n.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=mN.get(n);if(s)return e[sT]=s;this.sheet=new i.CSSStyleSheet,mN.set(n,this)}else this.styleTag=n.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[sT]=this}mount(e,t){let n=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let l=e[o],u=this.modules.indexOf(l);if(u<s&&u>-1&&(this.modules.splice(u,1),s--,u=-1),u==-1){if(this.modules.splice(s++,0,l),n)for(let h=0;h<l.rules.length;h++)n.insertRule(l.rules[h],i++)}else{for(;s<u;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(n)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let u=0;u<this.modules.length;u++)o+=this.modules[u].getRules()+`
`;this.styleTag.textContent=o;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Yl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},om={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dZ=typeof navigator<"u"&&/Mac/.test(navigator.platform),pZ=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Dr=0;Dr<10;Dr++)Yl[48+Dr]=Yl[96+Dr]=String(Dr);for(var Dr=1;Dr<=24;Dr++)Yl[Dr+111]="F"+Dr;for(var Dr=65;Dr<=90;Dr++)Yl[Dr]=String.fromCharCode(Dr+32),om[Dr]=String.fromCharCode(Dr);for(var Ab in Yl)om.hasOwnProperty(Ab)||(om[Ab]=Yl[Ab]);function mZ(r){var e=dZ&&r.metaKey&&r.shiftKey&&!r.ctrlKey&&!r.altKey||pZ&&r.shiftKey&&r.key&&r.key.length==1||r.key=="Unidentified",t=!e&&r.key||(r.shiftKey?om:Yl)[r.keyCode]||r.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function fn(){var r=arguments[0];typeof r=="string"&&(r=document.createElement(r));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=t[n];typeof i=="string"?r.setAttribute(n,i):i!=null&&(r[n]=i)}e++}for(;e<arguments.length;e++)j8(r,arguments[e]);return r}function j8(r,e){if(typeof e=="string")r.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)r.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)j8(r,e[t]);else throw new RangeError("Unsupported child node: "+e)}function am(r){let e;return r.nodeType==11?e=r.getSelection?r:r.ownerDocument:e=r,e.getSelection()}function oT(r,e){return e?r==e||r.contains(e.nodeType!=1?e.parentNode:e):!1}function T0(r,e){if(!e.anchorNode)return!1;try{return oT(r,e.anchorNode)}catch{return!1}}function mf(r){return r.nodeType==3?vc(r,0,r.nodeValue.length).getClientRects():r.nodeType==1?r.getClientRects():[]}function Dp(r,e,t,n){return t?gN(r,e,t,n,-1)||gN(r,e,t,n,1):!1}function yc(r){for(var e=0;;e++)if(r=r.previousSibling,!r)return e}function Sv(r){return r.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(r.nodeName)}function gN(r,e,t,n,i){for(;;){if(r==t&&e==n)return!0;if(e==(i<0?0:Fo(r))){if(r.nodeName=="DIV")return!1;let s=r.parentNode;if(!s||s.nodeType!=1)return!1;e=yc(r)+(i<0?0:1),r=s}else if(r.nodeType==1){if(r=r.childNodes[e+(i<0?-1:0)],r.nodeType==1&&r.contentEditable=="false")return!1;e=i<0?Fo(r):0}else return!1}}function Fo(r){return r.nodeType==3?r.nodeValue.length:r.childNodes.length}function Lm(r,e){let t=e?r.left:r.right;return{left:t,right:t,top:r.top,bottom:r.bottom}}function gZ(r){let e=r.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:r.innerWidth,top:0,bottom:r.innerHeight}}function H8(r,e){let t=e.width/r.offsetWidth,n=e.height/r.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-r.offsetWidth)<1)&&(t=1),(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.height-r.offsetHeight)<1)&&(n=1),{scaleX:t,scaleY:n}}function yZ(r,e,t,n,i,s,o,l){let u=r.ownerDocument,h=u.defaultView||window;for(let f=r,p=!1;f&&!p;)if(f.nodeType==1){let g,y=f==u.body,_=1,w=1;if(y)g=gZ(h);else{if(/^(fixed|sticky)$/.test(getComputedStyle(f).position)&&(p=!0),f.scrollHeight<=f.clientHeight&&f.scrollWidth<=f.clientWidth){f=f.assignedSlot||f.parentNode;continue}let A=f.getBoundingClientRect();({scaleX:_,scaleY:w}=H8(f,A)),g={left:A.left,right:A.left+f.clientWidth*_,top:A.top,bottom:A.top+f.clientHeight*w}}let E=0,b=0;if(i=="nearest")e.top<g.top?(b=e.top-(g.top+o),t>0&&e.bottom>g.bottom+b&&(b=e.bottom-g.bottom+o)):e.bottom>g.bottom&&(b=e.bottom-g.bottom+o,t<0&&e.top-b<g.top&&(b=e.top-(g.top+o)));else{let A=e.bottom-e.top,T=g.bottom-g.top;b=(i=="center"&&A<=T?e.top+A/2-T/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-T+o)-g.top}if(n=="nearest"?e.left<g.left?(E=e.left-(g.left+s),t>0&&e.right>g.right+E&&(E=e.right-g.right+s)):e.right>g.right&&(E=e.right-g.right+s,t<0&&e.left<g.left+E&&(E=e.left-(g.left+s))):E=(n=="center"?e.left+(e.right-e.left)/2-(g.right-g.left)/2:n=="start"==l?e.left-s:e.right-(g.right-g.left)+s)-g.left,E||b)if(y)h.scrollBy(E,b);else{let A=0,T=0;if(b){let x=f.scrollTop;f.scrollTop+=b/w,T=(f.scrollTop-x)*w}if(E){let x=f.scrollLeft;f.scrollLeft+=E/_,A=(f.scrollLeft-x)*_}e={left:e.left-A,top:e.top-T,right:e.right-A,bottom:e.bottom-T},A&&Math.abs(A-E)<1&&(n="nearest"),T&&Math.abs(T-b)<1&&(i="nearest")}if(y)break;(e.top<g.top||e.bottom>g.bottom||e.left<g.left||e.right>g.right)&&(e={left:Math.max(e.left,g.left),right:Math.min(e.right,g.right),top:Math.max(e.top,g.top),bottom:Math.min(e.bottom,g.bottom)}),f=f.assignedSlot||f.parentNode}else if(f.nodeType==11)f=f.host;else break}function vZ(r){let e=r.ownerDocument,t,n;for(let i=r.parentNode;i&&!(i==e.body||t&&n);)if(i.nodeType==1)!n&&i.scrollHeight>i.clientHeight&&(n=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:n}}class wZ{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:n}=e;this.set(t,Math.min(e.anchorOffset,t?Fo(t):0),n,Math.min(e.focusOffset,n?Fo(n):0))}set(e,t,n,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=n,this.focusOffset=i}}let gh=null;function q8(r){if(r.setActive)return r.setActive();if(gh)return r.focus(gh);let e=[];for(let t=r;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(r.focus(gh==null?{get preventScroll(){return gh={preventScroll:!0},!0}}:void 0),!gh){gh=!1;for(let t=0;t<e.length;){let n=e[t++],i=e[t++],s=e[t++];n.scrollTop!=i&&(n.scrollTop=i),n.scrollLeft!=s&&(n.scrollLeft=s)}}}let yN;function vc(r,e,t=e){let n=yN||(yN=document.createRange());return n.setEnd(r,t),n.setStart(r,e),n}function Wh(r,e,t,n){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};n&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=n);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,r.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,r.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function _Z(r){for(;r;){if(r&&(r.nodeType==9||r.nodeType==11&&r.host))return r;r=r.assignedSlot||r.parentNode}return null}function W8(r){for(;r.attributes.length;)r.removeAttributeNode(r.attributes[0])}function bZ(r,e){let t=e.focusNode,n=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=n)return!1;for(n=Math.min(n,Fo(t));;)if(n){if(t.nodeType!=1)return!1;let i=t.childNodes[n-1];i.contentEditable=="false"?n--:(t=i,n=Fo(t))}else{if(t==r)return!0;n=yc(t),t=t.parentNode}}function G8(r){return r.scrollTop>Math.max(1,r.scrollHeight-r.clientHeight-4)}function K8(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n>0)return{node:t,offset:n};if(t.nodeType==1&&n>0){if(t.contentEditable=="false")return null;t=t.childNodes[n-1],n=Fo(t)}else if(t.parentNode&&!Sv(t))n=yc(t),t=t.parentNode;else return null}}function $8(r,e){for(let t=r,n=e;;){if(t.nodeType==3&&n<t.nodeValue.length)return{node:t,offset:n};if(t.nodeType==1&&n<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[n],n=0}else if(t.parentNode&&!Sv(t))n=yc(t)+1,t=t.parentNode;else return null}}class Gr{constructor(e,t,n=!0){this.node=e,this.offset=t,this.precise=n}static before(e,t){return new Gr(e.parentNode,yc(e),t)}static after(e,t){return new Gr(e.parentNode,yc(e)+1,t)}}const wC=[];class mn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let n of this.children){if(n==e)return t;t+=n.length+n.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let n=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:n.firstChild)){let l=mn.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:n.firstChild,t&&!t.written&&t.node==n&&s!=o.dom&&(t.written=!0),o.dom.parentNode==n)for(;s&&s!=o.dom;)s=vN(s);else n.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:n.firstChild,s&&t&&t.node==n&&(t.written=!0);s;)s=vN(s)}else if(this.flags&1)for(let n of this.children)n.flags&7&&(n.sync(e,t),n.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let n;if(e==this.dom)n=this.dom.childNodes[t];else{let i=Fo(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?n=e:n=e.nextSibling}if(n==this.dom.firstChild)return 0;for(;n&&!mn.get(n);)n=n.nextSibling;if(!n)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==n)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,n=0){let i=-1,s=-1,o=-1,l=-1;for(let u=0,h=n,f=n;u<this.children.length;u++){let p=this.children[u],g=h+p.length;if(h<e&&g>t)return p.domBoundsAround(e,t,h);if(g>=e&&i==-1&&(i=u,s=h),h>t&&p.dom.parentNode==this.dom){o=u,l=f;break}f=g,h=g+p.breakAfter}return{from:s,to:l<0?n+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,n=wC){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&n.indexOf(s)<0&&s.destroy()}n.length<250?this.children.splice(e,t-e,...n):this.children=[].concat(this.children.slice(0,e),n,this.children.slice(t));for(let i=0;i<n.length;i++)n[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new Y8(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,n,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}mn.prototype.breakAfter=0;function vN(r){let e=r.nextSibling;return r.parentNode.removeChild(r),e}class Y8{constructor(e,t,n){this.children=e,this.pos=t,this.i=n,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let n=this.children[--this.i];this.pos-=n.length+n.breakAfter}}}function X8(r,e,t,n,i,s,o,l,u){let{children:h}=r,f=h.length?h[e]:null,p=s.length?s[s.length-1]:null,g=p?p.breakAfter:o;if(!(e==n&&f&&!o&&!g&&s.length<2&&f.merge(t,i,s.length?p:null,t==0,l,u))){if(n<h.length){let y=h[n];y&&(i<y.length||y.breakAfter&&p?.breakAfter)?(e==n&&(y=y.split(i),i=0),!g&&p&&y.merge(0,i,p,!0,0,u)?s[s.length-1]=y:((i||y.children.length&&!y.children[0].length)&&y.merge(0,i,null,!1,0,u),s.push(y))):y?.breakAfter&&(p?p.breakAfter=1:o=1),n++}for(f&&(f.breakAfter=o,t>0&&(!o&&s.length&&f.merge(t,f.length,s[0],!1,l,0)?f.breakAfter=s.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,l,0),e++));e<n&&s.length;)if(h[n-1].become(s[s.length-1]))n--,s.pop(),u=s.length?0:l;else if(h[e].become(s[0]))e++,s.shift(),l=s.length?0:u;else break;!s.length&&e&&n<h.length&&!h[e-1].breakAfter&&h[n].merge(0,0,h[e-1],!1,l,u)&&e--,(e<n||s.length)&&r.replaceChildren(e,n,s)}}function Q8(r,e,t,n,i,s){let o=r.childCursor(),{i:l,off:u}=o.findPos(t,1),{i:h,off:f}=o.findPos(e,-1),p=e-t;for(let g of n)p+=g.length;r.length+=p,X8(r,h,f,l,u,n,0,i,s)}let yi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},aT=typeof document<"u"?document:{documentElement:{style:{}}};const lT=/Edge\/(\d+)/.exec(yi.userAgent),Z8=/MSIE \d/.test(yi.userAgent),uT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi.userAgent),xw=!!(Z8||uT||lT),wN=!xw&&/gecko\/(\d+)/i.test(yi.userAgent),Cb=!xw&&/Chrome\/(\d+)/.exec(yi.userAgent),SZ="webkitFontSmoothing"in aT.documentElement.style,J8=!xw&&/Apple Computer/.test(yi.vendor),_N=J8&&(/Mobile\/\w+/.test(yi.userAgent)||yi.maxTouchPoints>2);var Qe={mac:_N||/Mac/.test(yi.platform),windows:/Win/.test(yi.platform),linux:/Linux|X11/.test(yi.platform),ie:xw,ie_version:Z8?aT.documentMode||6:uT?+uT[1]:lT?+lT[1]:0,gecko:wN,gecko_version:wN?+(/Firefox\/(\d+)/.exec(yi.userAgent)||[0,0])[1]:0,chrome:!!Cb,chrome_version:Cb?+Cb[1]:0,ios:_N,android:/Android\b/.test(yi.userAgent),safari:J8,webkit_version:SZ?+(/\bAppleWebKit\/(\d+)/.exec(yi.userAgent)||[0,0])[1]:0,tabSize:aT.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const EZ=256;class zs extends mn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,n){return this.flags&8||n&&(!(n instanceof zs)||this.length-(t-e)+n.length>EZ||n.flags&8)?!1:(this.text=this.text.slice(0,e)+(n?n.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new zs(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Gr(this.dom,e)}domBoundsAround(e,t,n){return{from:n,to:n+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return xZ(this.dom,e,t)}}class Ma extends mn{constructor(e,t=[],n=0){super(),this.mark=e,this.children=t,this.length=n;for(let i of t)i.setParent(this)}setAttrs(e){if(W8(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,n,i,s,o){return n&&(!(n instanceof Ma&&n.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(Q8(this,e,t,n?n.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],n=0,i=-1,s=0;for(let l of this.children){let u=n+l.length;u>e&&t.push(n<e?l.split(e-n):l),i<0&&n>=e&&(i=s),n=u,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ma(this.mark,t,o)}domAtPos(e){return eB(this,e)}coordsAt(e,t){return nB(this,e,t)}}function xZ(r,e,t){let n=r.nodeValue.length;e>n&&(e=n);let i=e,s=e,o=0;e==0&&t<0||e==n&&t>=0?Qe.chrome||Qe.gecko||(e?(i--,o=1):s<n&&(s++,o=-1)):t<0?i--:s<n&&s++;let l=vc(r,i,s).getClientRects();if(!l.length)return null;let u=l[(o?o<0:t>=0)?0:l.length-1];return Qe.safari&&!o&&u.width==0&&(u=Array.prototype.find.call(l,h=>h.width)||u),o?Lm(u,o<0):u||null}class Al extends mn{static create(e,t,n){return new Al(e,t,n)}constructor(e,t,n){super(),this.widget=e,this.length=t,this.side=n,this.prevWidget=null}split(e){let t=Al.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,n,i,s,o){return n&&(!(n instanceof Al)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}become(e){return e instanceof Al&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Qt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,n=t&&t.state.doc,i=this.posAtStart;return n?n.slice(i,i+this.length):Qt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Gr.before(this.dom):Gr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);if(n)return n;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?i.length-1:0;s=i[l],!(e>0?l==0:l==i.length-1||s.top<s.bottom);l+=o?-1:1);return Lm(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class gf extends mn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof gf&&e.side==this.side}split(){return new gf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Gr.before(this.dom):Gr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Qt.empty}get isHidden(){return!0}}zs.prototype.children=Al.prototype.children=gf.prototype.children=wC;function eB(r,e){let t=r.dom,{children:n}=r,i=0;for(let s=0;i<n.length;i++){let o=n[i],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=i;s>0;s--){let o=n[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<n.length;s++){let o=n[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new Gr(t,0)}function tB(r,e,t){let n,{children:i}=r;t>0&&e instanceof Ma&&i.length&&(n=i[i.length-1])instanceof Ma&&n.mark.eq(e.mark)?tB(n,e.children[0],t-1):(i.push(e),e.setParent(r)),r.length+=e.length}function nB(r,e,t){let n=null,i=-1,s=null,o=-1;function l(h,f){for(let p=0,g=0;p<h.children.length&&g<=f;p++){let y=h.children[p],_=g+y.length;_>=f&&(y.children.length?l(y,f-g):(!s||s.isHidden&&(t>0||AZ(s,y)))&&(_>f||g==_&&y.getSide()>0)?(s=y,o=f-g):(g<f||g==_&&y.getSide()<0&&!y.isHidden)&&(n=y,i=f-g)),g=_}}l(r,e);let u=(t<0?n:s)||n||s;return u?u.coordsAt(Math.max(0,u==n?i:o),t):TZ(r)}function TZ(r){let e=r.dom.lastChild;if(!e)return r.dom.getBoundingClientRect();let t=mf(e);return t[t.length-1]||null}function AZ(r,e){let t=r.coordsAt(0,1),n=e.coordsAt(0,1);return t&&n&&n.top<t.bottom}function cT(r,e){for(let t in r)t=="class"&&e.class?e.class+=" "+r.class:t=="style"&&e.style?e.style+=";"+r.style:e[t]=r[t];return e}const bN=Object.create(null);function Ev(r,e,t){if(r==e)return!0;r||(r=bN),e||(e=bN);let n=Object.keys(r),i=Object.keys(e);if(n.length-(t&&n.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of n)if(s!=t&&(i.indexOf(s)==-1||r[s]!==e[s]))return!1;return!0}function hT(r,e,t){let n=!1;if(e)for(let i in e)t&&i in t||(n=!0,i=="style"?r.style.cssText="":r.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(n=!0,i=="style"?r.style.cssText=t[i]:r.setAttribute(i,t[i]));return n}function CZ(r){let e=Object.create(null);for(let t=0;t<r.attributes.length;t++){let n=r.attributes[t];e[n.name]=n.value}return e}class Ba{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,n){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var ui=function(r){return r[r.Text=0]="Text",r[r.WidgetBefore=1]="WidgetBefore",r[r.WidgetAfter=2]="WidgetAfter",r[r.WidgetRange=3]="WidgetRange",r}(ui||(ui={}));class ht extends gc{constructor(e,t,n,i){super(),this.startSide=e,this.endSide=t,this.widget=n,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Bm(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),n=!!e.block;return t+=n&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new Xl(e,t,t,n,e.widget||null,!1)}static replace(e){let t=!!e.block,n,i;if(e.isBlockGap)n=-5e8,i=4e8;else{let{start:s,end:o}=rB(e,t);n=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new Xl(e,n,i,t,e.widget||null,!0)}static line(e){return new Fm(e)}static set(e,t=!1){return Gt.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}ht.none=Gt.empty;class Bm extends ht{constructor(e){let{start:t,end:n}=rB(e);super(t?-1:5e8,n?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,n;return this==e||e instanceof Bm&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((n=e.attrs)===null||n===void 0?void 0:n.class))&&Ev(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Bm.prototype.point=!1;class Fm extends ht{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Fm&&this.spec.class==e.spec.class&&Ev(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Fm.prototype.mapMode=li.TrackBefore;Fm.prototype.point=!0;class Xl extends ht{constructor(e,t,n,i,s,o){super(t,n,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?li.TrackBefore:li.TrackAfter:li.TrackDel}get type(){return this.startSide!=this.endSide?ui.WidgetRange:this.startSide<=0?ui.WidgetBefore:ui.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Xl&&RZ(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Xl.prototype.point=!0;function rB(r,e=!1){let{inclusiveStart:t,inclusiveEnd:n}=r;return t==null&&(t=r.inclusive),n==null&&(n=r.inclusive),{start:t??e,end:n??e}}function RZ(r,e){return r==e||!!(r&&e&&r.compare(e))}function A0(r,e,t,n=0){let i=t.length-1;i>=0&&t[i]+n>=r?t[i]=Math.max(t[i],e):t.push(r,e)}class Kn extends mn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,n,i,s,o){if(n){if(!(n instanceof Kn))return!1;this.dom||n.transferDOM(this)}return i&&this.setDeco(n?n.attrs:null),Q8(this,e,t,n?n.children.slice():[],s,o),!0}split(e){let t=new Kn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:n,off:i}=this.childPos(e);i&&(t.append(this.children[n].split(i),0),this.children[n].merge(i,this.children[n].length,null,!1,0,0),n++);for(let s=n;s<this.children.length;s++)t.append(this.children[s],0);for(;n>0&&this.children[n-1].length==0;)this.children[--n].destroy();return this.children.length=n,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Ev(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){tB(this,e,t)}addLineDeco(e){let t=e.spec.attributes,n=e.spec.class;t&&(this.attrs=cT(t,this.attrs||{})),n&&(this.attrs=cT({class:n},this.attrs||{}))}domAtPos(e){return eB(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var n;this.dom?this.flags&4&&(W8(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(hT(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&mn.get(i)instanceof Ma;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((n=mn.get(i))===null||n===void 0?void 0:n.isEditable)==!1&&(!Qe.ios||!this.children.some(s=>s instanceof zs))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let n of this.children){if(!(n instanceof zs)||/[^ -~]/.test(n.text))return null;let i=mf(n.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let n=nB(this,e,t);if(!this.children.length&&n&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=n.bottom-n.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:n.top+o,bottom:n.bottom-o,left:n.left,right:n.left}}}return n}become(e){return e instanceof Kn&&this.children.length==0&&e.children.length==0&&Ev(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let n=0,i=0;n<e.children.length;n++){let s=e.children[n],o=i+s.length;if(o>=t){if(s instanceof Kn)return s;if(o>t)break}i=o+s.breakAfter}return null}}class Ta extends mn{constructor(e,t,n){super(),this.widget=e,this.length=t,this.deco=n,this.breakAfter=0,this.prevWidget=null}merge(e,t,n,i,s,o){return n&&(!(n instanceof Ta)||!this.widget.compare(n.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(n?n.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Gr.before(this.dom):Gr.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let n=new Ta(this.widget,t,this.deco);return n.breakAfter=this.breakAfter,n}get children(){return wC}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Qt.empty}domBoundsAround(){return null}become(e){return e instanceof Ta&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let n=this.widget.coordsAt(this.dom,e,t);return n||(this.widget instanceof fT?null:Lm(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:n}=this.deco;return t==n?!1:e<0?t<0:n>0}}class fT extends Ba{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Ip{constructor(e,t,n,i){this.doc=e,this.pos=t,this.end=n,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ta&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Kn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Cy(new gf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ta)&&this.getLine()}buildText(e,t,n){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:l}=this.cursor.next(this.skip);if(this.skip=0,l)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=s,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-n)),this.getLine().append(Cy(new zs(this.text.slice(this.textOff,this.textOff+i)),t),n),this.atCursorPos=!0,this.textOff+=i,e-=i,n=0}}span(e,t,n,i){this.buildText(t-e,n,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,n,i,s,o){if(this.disallowBlockEffectsFor[o]&&n instanceof Xl){if(n.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(n instanceof Xl)if(n.block)n.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ta(n.widget||yf.block,l,n));else{let u=Al.create(n.widget||yf.inline,l,l?0:n.startSide),h=this.atCursorPos&&!u.isEditable&&s<=i.length&&(e<t||n.startSide>0),f=!u.isEditable&&(e<t||s>i.length||n.startSide<=0),p=this.getLine();this.pendingBuffer==2&&!h&&!u.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),h&&(p.append(Cy(new gf(1),i),s),s=i.length+Math.max(0,s-i.length)),p.append(Cy(u,i),s),this.atCursorPos=f,this.pendingBuffer=f?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(n);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,n,i,s){let o=new Ip(e,t,n,s);return o.openEnd=Gt.spans(i,t,n,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function Cy(r,e){for(let t of e)r=new Ma(t,[r],r.length);return r}class yf extends Ba{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}yf.inline=new yf("span");yf.block=new yf("div");var _n=function(r){return r[r.LTR=0]="LTR",r[r.RTL=1]="RTL",r}(_n||(_n={}));const wc=_n.LTR,_C=_n.RTL;function iB(r){let e=[];for(let t=0;t<r.length;t++)e.push(1<<+r[t]);return e}const kZ=iB("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),DZ=iB("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),dT=Object.create(null),ao=[];for(let r of["()","[]","{}"]){let e=r.charCodeAt(0),t=r.charCodeAt(1);dT[e]=t,dT[t]=-e}function sB(r){return r<=247?kZ[r]:1424<=r&&r<=1524?2:1536<=r&&r<=1785?DZ[r-1536]:1774<=r&&r<=2220?4:8192<=r&&r<=8204?256:64336<=r&&r<=65023?4:1}const IZ=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Cl{get dir(){return this.level%2?_C:wc}constructor(e,t,n){this.from=e,this.to=t,this.level=n}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,n,i){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==n)return o;(s<0||(i!=0?i<0?l.from<t:l.to>t:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function oB(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++){let n=r[t],i=e[t];if(n.from!=i.from||n.to!=i.to||n.direction!=i.direction||!oB(n.inner,i.inner))return!1}return!0}const pn=[];function OZ(r,e,t,n,i){for(let s=0;s<=n.length;s++){let o=s?n[s-1].to:e,l=s<n.length?n[s].from:t,u=s?256:i;for(let h=o,f=u,p=u;h<l;h++){let g=sB(r.charCodeAt(h));g==512?g=f:g==8&&p==4&&(g=16),pn[h]=g==4?2:g,g&7&&(p=g),f=g}for(let h=o,f=u,p=u;h<l;h++){let g=pn[h];if(g==128)h<l-1&&f==pn[h+1]&&f&24?g=pn[h]=f:pn[h]=256;else if(g==64){let y=h+1;for(;y<l&&pn[y]==64;)y++;let _=h&&f==8||y<t&&pn[y]==8?p==1?1:8:256;for(let w=h;w<y;w++)pn[w]=_;h=y-1}else g==8&&p==1&&(pn[h]=1);f=g,g&7&&(p=g)}}}function NZ(r,e,t,n,i){let s=i==1?2:1;for(let o=0,l=0,u=0;o<=n.length;o++){let h=o?n[o-1].to:e,f=o<n.length?n[o].from:t;for(let p=h,g,y,_;p<f;p++)if(y=dT[g=r.charCodeAt(p)])if(y<0){for(let w=l-3;w>=0;w-=3)if(ao[w+1]==-y){let E=ao[w+2],b=E&2?i:E&4?E&1?s:i:0;b&&(pn[p]=pn[ao[w]]=b),l=w;break}}else{if(ao.length==189)break;ao[l++]=p,ao[l++]=g,ao[l++]=u}else if((_=pn[p])==2||_==1){let w=_==i;u=w?0:1;for(let E=l-3;E>=0;E-=3){let b=ao[E+2];if(b&2)break;if(w)ao[E+2]|=2;else{if(b&4)break;ao[E+2]|=4}}}}}function MZ(r,e,t,n){for(let i=0,s=n;i<=t.length;i++){let o=i?t[i-1].to:r,l=i<t.length?t[i].from:e;for(let u=o;u<l;){let h=pn[u];if(h==256){let f=u+1;for(;;)if(f==l){if(i==t.length)break;f=t[i++].to,l=i<t.length?t[i].from:e}else if(pn[f]==256)f++;else break;let p=s==1,g=(f<e?pn[f]:n)==1,y=p==g?p?1:2:n;for(let _=f,w=i,E=w?t[w-1].to:r;_>u;)_==E&&(_=t[--w].from,E=w?t[w-1].to:r),pn[--_]=y;u=f}else s=h,u++}}}function pT(r,e,t,n,i,s,o){let l=n%2?2:1;if(n%2==i%2)for(let u=e,h=0;u<t;){let f=!0,p=!1;if(h==s.length||u<s[h].from){let w=pn[u];w!=l&&(f=!1,p=w==16)}let g=!f&&l==1?[]:null,y=f?n:n+1,_=u;e:for(;;)if(h<s.length&&_==s[h].from){if(p)break e;let w=s[h];if(!f)for(let E=w.to,b=h+1;;){if(E==t)break e;if(b<s.length&&s[b].from==E)E=s[b++].to;else{if(pn[E]==l)break e;break}}if(h++,g)g.push(w);else{w.from>u&&o.push(new Cl(u,w.from,y));let E=w.direction==wc!=!(y%2);mT(r,E?n+1:n,i,w.inner,w.from,w.to,o),u=w.to}_=w.to}else{if(_==t||(f?pn[_]!=l:pn[_]==l))break;_++}g?pT(r,u,_,n+1,i,g,o):u<_&&o.push(new Cl(u,_,y)),u=_}else for(let u=t,h=s.length;u>e;){let f=!0,p=!1;if(!h||u>s[h-1].to){let w=pn[u-1];w!=l&&(f=!1,p=w==16)}let g=!f&&l==1?[]:null,y=f?n:n+1,_=u;e:for(;;)if(h&&_==s[h-1].to){if(p)break e;let w=s[--h];if(!f)for(let E=w.from,b=h;;){if(E==e)break e;if(b&&s[b-1].to==E)E=s[--b].from;else{if(pn[E-1]==l)break e;break}}if(g)g.push(w);else{w.to<u&&o.push(new Cl(w.to,u,y));let E=w.direction==wc!=!(y%2);mT(r,E?n+1:n,i,w.inner,w.from,w.to,o),u=w.from}_=w.from}else{if(_==e||(f?pn[_-1]!=l:pn[_-1]==l))break;_--}g?pT(r,_,u,n+1,i,g,o):_<u&&o.push(new Cl(_,u,y)),u=_}}function mT(r,e,t,n,i,s,o){let l=e%2?2:1;OZ(r,i,s,n,l),NZ(r,i,s,n,l),MZ(i,s,n,l),pT(r,i,s,e,t,n,o)}function PZ(r,e,t){if(!r)return[new Cl(0,0,e==_C?1:0)];if(e==wc&&!t.length&&!IZ.test(r))return aB(r.length);if(t.length)for(;r.length>pn.length;)pn[pn.length]=256;let n=[],i=e==wc?0:1;return mT(r,i,i,t,0,r.length,n),n}function aB(r){return[new Cl(0,r,0)]}let lB="";function LZ(r,e,t,n,i){var s;let o=n.head-r.from,l=Cl.find(e,o,(s=n.bidiLevel)!==null&&s!==void 0?s:-1,n.assoc),u=e[l],h=u.side(i,t);if(o==h){let g=l+=i?1:-1;if(g<0||g>=e.length)return null;u=e[l=g],o=u.side(!i,t),h=u.side(i,t)}let f=Nr(r.text,o,u.forward(i,t));(f<u.from||f>u.to)&&(f=h),lB=r.text.slice(Math.min(o,f),Math.max(o,f));let p=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return p&&f==h&&p.level+(i?0:1)<u.level?Ue.cursor(p.side(!i,t)+r.from,p.forward(i,t)?1:-1,p.level):Ue.cursor(f+r.from,u.forward(i,t)?-1:1,u.level)}function BZ(r,e,t){for(let n=e;n<t;n++){let i=sB(r.charCodeAt(n));if(i==1)return wc;if(i==2||i==4)return _C}return wc}const uB=tt.define(),cB=tt.define(),hB=tt.define(),fB=tt.define(),gT=tt.define(),dB=tt.define(),pB=tt.define(),bC=tt.define(),SC=tt.define(),mB=tt.define({combine:r=>r.some(e=>e)}),gB=tt.define({combine:r=>r.some(e=>e)}),yB=tt.define();class Gh{constructor(e,t="nearest",n="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=n,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new Gh(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Gh(Ue.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Ry=Et.define({map:(r,e)=>r.map(e)}),vB=Et.define();function _i(r,e,t){let n=r.facet(fB);n.length?n[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const va=tt.define({combine:r=>r.length?r[0]:!0});let FZ=0;const Ih=tt.define({combine(r){return r.filter((e,t)=>{for(let n=0;n<t;n++)if(r[n].plugin==e.plugin)return!1;return!0})}});class Vn{constructor(e,t,n,i,s){this.id=e,this.create=t,this.domEventHandlers=n,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(Ih.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(Ih.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:n,eventObservers:i,provide:s,decorations:o}=t||{};return new Vn(FZ++,e,n,i,l=>{let u=[];return o&&u.push(lm.of(h=>{let f=h.plugin(l);return f?o(f):ht.none})),s&&u.push(s(l)),u})}static fromClass(e,t){return Vn.define((n,i)=>new e(n,i),t)}}class Rb{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(n){if(_i(t.state,n,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){_i(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(n){_i(e.state,n,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const wB=tt.define(),EC=tt.define(),lm=tt.define(),_B=tt.define(),xC=tt.define(),bB=tt.define();function SN(r,e){let t=r.state.facet(bB);if(!t.length)return t;let n=t.map(s=>s instanceof Function?s(r):s),i=[];return Gt.spans(n,e.from,e.to,{point(){},span(s,o,l,u){let h=s-e.from,f=o-e.from,p=i;for(let g=l.length-1;g>=0;g--,u--){let y=l[g].spec.bidiIsolate,_;if(y==null&&(y=BZ(e.text,h,f)),u>0&&p.length&&(_=p[p.length-1]).to==h&&_.direction==y)_.to=f,p=_.inner;else{let w={from:h,to:f,direction:y,inner:[]};p.push(w),p=w.inner}}}}),i}const SB=tt.define();function TC(r){let e=0,t=0,n=0,i=0;for(let s of r.state.facet(SB)){let o=s(r);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(n=Math.max(n,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:n,bottom:i}}const dp=tt.define();class Es{constructor(e,t,n,i){this.fromA=e,this.toA=t,this.fromB=n,this.toB=i}join(e){return new Es(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,n=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>n.toA)){if(i.toA<n.fromA)break;n=n.join(i),e.splice(t-1,1)}}return e.splice(t,0,n),e}static extendWithRanges(e,t){if(t.length==0)return e;let n=[];for(let i=0,s=0,o=0,l=0;;i++){let u=i==e.length?null:e[i],h=o-l,f=u?u.fromB:1e9;for(;s<t.length&&t[s]<f;){let p=t[s],g=t[s+1],y=Math.max(l,p),_=Math.min(f,g);if(y<=_&&new Es(y+h,_+h,y,_).addToSet(n),g>f)break;s+=2}if(!u)return n;new Es(u.fromA,u.toA,u.fromB,u.toB).addToSet(n),o=u.toA,l=u.toB}}}class xv{constructor(e,t,n){this.view=e,this.state=t,this.transactions=n,this.flags=0,this.startState=e.state,this.changes=sr.empty(this.startState.doc.length);for(let s of n)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,l,u)=>i.push(new Es(s,o,l,u))),this.changedRanges=i}static create(e,t,n){return new xv(e,t,n)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class EN extends mn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ht.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Kn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Es(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let n=e.changedRanges;this.minWidth>0&&n.length&&(n.every(({fromA:h,toA:f})=>f<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!WZ(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?UZ(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:h,to:f}=this.hasComposition;n=new Es(h,f,e.changes.mapPos(h,-1),e.changes.mapPos(f,1)).addToSet(n.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Qe.ie||Qe.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),u=HZ(o,l,e.changes);return n=Es.extendWithRanges(n,u),!(this.flags&7)&&n.length==0?!1:(this.updateInner(n,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,n){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,n);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Qe.chrome||Qe.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Ta&&o.widget instanceof fT&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,n){let i=n?n.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let l=o>=0?i[o]:null;if(!l)break;let{fromA:u,toA:h,fromB:f,toB:p}=l,g,y,_,w;if(n&&n.range.fromB<p&&n.range.toB>f){let x=Ip.build(this.view.state.doc,f,n.range.fromB,this.decorations,this.dynamicDecorationMap),D=Ip.build(this.view.state.doc,n.range.toB,p,this.decorations,this.dynamicDecorationMap);y=x.breakAtStart,_=x.openStart,w=D.openEnd;let P=this.compositionView(n);D.breakAtStart?P.breakAfter=1:D.content.length&&P.merge(P.length,P.length,D.content[0],!1,D.openStart,0)&&(P.breakAfter=D.content[0].breakAfter,D.content.shift()),x.content.length&&P.merge(0,0,x.content[x.content.length-1],!0,0,x.openEnd)&&x.content.pop(),g=x.content.concat(P).concat(D.content)}else({content:g,breakAtStart:y,openStart:_,openEnd:w}=Ip.build(this.view.state.doc,f,p,this.decorations,this.dynamicDecorationMap));let{i:E,off:b}=s.findPos(h,1),{i:A,off:T}=s.findPos(u,-1);X8(this,A,T,E,b,g,y,_,w)}n&&this.fixCompositionDOM(n)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let n of t.effects)n.is(vB)&&(this.editContextFormatting=n.value)}compositionView(e){let t=new zs(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Ma(i,[t],t.length);let n=new Kn;return n.append(t,0),n}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(u=>u.flags&7)?1:0),this.markedForComposition.add(o);let l=mn.get(s);l&&l!=o&&(l.dom=null),o.setDOM(s)},n=this.childPos(e.range.fromB,1),i=this.children[n.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)n=i.childPos(n.off,1),i=i.children[n.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let n=this.view.root.activeElement,i=n==this.dom,s=!i&&!(this.view.state.facet(va)||this.dom.tabIndex>-1)&&T0(this.dom,this.view.observer.selectionRange)&&!(n&&this.dom.contains(n));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,u=this.moveToLine(this.domAtPos(l.anchor)),h=l.empty?u:this.moveToLine(this.domAtPos(l.head));if(Qe.gecko&&l.empty&&!this.hasComposition&&VZ(u)){let p=document.createTextNode("");this.view.observer.ignore(()=>u.node.insertBefore(p,u.node.childNodes[u.offset]||null)),u=h=new Gr(p,0),o=!0}let f=this.view.observer.selectionRange;(o||!f.focusNode||(!Dp(u.node,u.offset,f.anchorNode,f.anchorOffset)||!Dp(h.node,h.offset,f.focusNode,f.focusOffset))&&!this.suppressWidgetCursorChange(f,l))&&(this.view.observer.ignore(()=>{Qe.android&&Qe.chrome&&this.dom.contains(f.focusNode)&&qZ(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let p=am(this.view.root);if(p)if(l.empty){if(Qe.gecko){let g=zZ(u.node,u.offset);if(g&&g!=3){let y=(g==1?K8:$8)(u.node,u.offset);y&&(u=new Gr(y.node,y.offset))}}p.collapse(u.node,u.offset),l.bidiLevel!=null&&p.caretBidiLevel!==void 0&&(p.caretBidiLevel=l.bidiLevel)}else if(p.extend){p.collapse(u.node,u.offset);try{p.extend(h.node,h.offset)}catch{}}else{let g=document.createRange();l.anchor>l.head&&([u,h]=[h,u]),g.setEnd(h.node,h.offset),g.setStart(u.node,u.offset),p.removeAllRanges(),p.addRange(g)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),n&&n.focus())}),this.view.observer.setSelectionRange(u,h)),this.impreciseAnchor=u.precise?null:new Gr(f.anchorNode,f.anchorOffset),this.impreciseHead=h.precise?null:new Gr(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Dp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,n=am(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!n||!t.empty||!t.assoc||!n.modify)return;let o=Kn.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let u=this.coordsAt(t.head,-1),h=this.coordsAt(t.head,1);if(!u||!h||u.bottom>h.top)return;let f=this.domAtPos(t.head+t.assoc);n.collapse(f.node,f.offset),n.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=t.from&&n.collapse(i,s)}moveToLine(e){let t=this.dom,n;if(e.node!=t)return e;for(let i=e.offset;!n&&i<t.childNodes.length;i++){let s=mn.get(t.childNodes[i]);s instanceof Kn&&(n=s.domAtPos(0))}for(let i=e.offset-1;!n&&i>=0;i--){let s=mn.get(t.childNodes[i]);s instanceof Kn&&(n=s.domAtPos(s.length))}return n?new Gr(n.node,n.offset,!0):e}nearest(e){for(let t=e;t;){let n=mn.get(t);if(n&&n.rootView==this)return n;t=t.parentNode}return null}posFromDOM(e,t){let n=this.nearest(e);if(!n)throw new RangeError("Trying to find position for a DOM position outside of the document");return n.localPosFromDOM(e,t)+n.posAtStart}domAtPos(e){let{i:t,off:n}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(n<i.length||i instanceof Kn)break;t++,n=0}return this.children[t].domAtPos(n)}coordsAt(e,t){let n=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],u=s-l.breakAfter,h=u-l.length;if(u<e)break;if(h<=e&&(h<e||l.covers(-1))&&(u>e||l.covers(1))&&(!n||l instanceof Kn&&!(n instanceof Kn&&t>=0)))n=l,i=h;else if(n&&h==e&&u==e&&l instanceof Ta&&Math.abs(t)<2){if(l.deco.startSide<0)break;o&&(n=null)}s=h}return n?n.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:n}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Kn))return null;for(;i.children.length;){let{i:l,off:u}=i.childPos(n,1);for(;;l++){if(l==i.children.length)return null;if((i=i.children[l]).length)break}n=u}if(!(i instanceof zs))return null;let s=Nr(i.text,n);if(s==n)return null;let o=vc(i.dom,n,s).getClientRects();for(let l=0;l<o.length;l++){let u=o[l];if(l==o.length-1||u.top<u.bottom&&u.left<u.right)return u}return null}measureVisibleLineHeights(e){let t=[],{from:n,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,u=this.view.textDirection==_n.LTR;for(let h=0,f=0;f<this.children.length;f++){let p=this.children[f],g=h+p.length;if(g>i)break;if(h>=n){let y=p.dom.getBoundingClientRect();if(t.push(y.height),o){let _=p.dom.lastChild,w=_?mf(_):[];if(w.length){let E=w[w.length-1],b=u?E.right-y.left:y.right-E.left;b>l&&(l=b,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=g)}}}h=g+p.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?_n.RTL:_n.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Kn){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,n,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=mf(e.firstChild)[0];t=e.getBoundingClientRect().height,n=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:n,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new Y8(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let n=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>n){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(n).top)/this.view.scaleY;e.push(ht.replace({widget:new fT(l),block:!0,inclusive:!0,isBlockGap:!0}).range(n,o))}if(!s)break;n=s.to+1}return ht.set(e)}updateDeco(){let e=1,t=this.view.state.facet(lm).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),n=!1,i=this.view.state.facet(_B).map((s,o)=>{let l=typeof s=="function";return l&&(n=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=n,t.push(Gt.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let h=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=h.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let h of this.view.state.facet(yB))try{if(h(this.view,e.range,e))return!0}catch(f){_i(this.view.state,f,"scroll handler")}let{range:t}=e,n=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!n)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(n={left:Math.min(n.left,i.left),top:Math.min(n.top,i.top),right:Math.max(n.right,i.right),bottom:Math.max(n.bottom,i.bottom)});let s=TC(this.view),o={left:n.left-s.left,top:n.top-s.top,right:n.right+s.right,bottom:n.bottom+s.bottom},{offsetWidth:l,offsetHeight:u}=this.view.scrollDOM;yZ(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==_n.LTR)}}function VZ(r){return r.node.nodeType==1&&r.node.firstChild&&(r.offset==0||r.node.childNodes[r.offset-1].contentEditable=="false")&&(r.offset==r.node.childNodes.length||r.node.childNodes[r.offset].contentEditable=="false")}function EB(r,e){let t=r.observer.selectionRange;if(!t.focusNode)return null;let n=K8(t.focusNode,t.focusOffset),i=$8(t.focusNode,t.focusOffset),s=n||i;if(i&&n&&i.node!=n.node){let l=mn.get(i.node);if(!l||l instanceof zs&&l.text!=i.node.nodeValue)s=i;else if(r.docView.lastCompositionAfterCursor){let u=mn.get(n.node);!u||u instanceof zs&&u.text!=n.node.nodeValue||(s=i)}}if(r.docView.lastCompositionAfterCursor=s!=n,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function UZ(r,e,t){let n=EB(r,t);if(!n)return null;let{node:i,from:s,to:o}=n,l=i.nodeValue;if(/[\n\r]/.test(l)||r.state.doc.sliceString(n.from,n.to)!=l)return null;let u=e.invertedDesc,h=new Es(u.mapPos(s),u.mapPos(o),s,o),f=[];for(let p=i.parentNode;;p=p.parentNode){let g=mn.get(p);if(g instanceof Ma)f.push({node:p,deco:g.mark});else{if(g instanceof Kn||p.nodeName=="DIV"&&p.parentNode==r.contentDOM)return{range:h,text:i,marks:f,line:p};if(p!=r.contentDOM)f.push({node:p,deco:new Bm({inclusive:!0,attributes:CZ(p),tagName:p.tagName.toLowerCase()})});else return null}}}function zZ(r,e){return r.nodeType!=1?0:(e&&r.childNodes[e-1].contentEditable=="false"?1:0)|(e<r.childNodes.length&&r.childNodes[e].contentEditable=="false"?2:0)}let jZ=class{constructor(){this.changes=[]}compareRange(e,t){A0(e,t,this.changes)}comparePoint(e,t){A0(e,t,this.changes)}boundChange(e){A0(e,e,this.changes)}};function HZ(r,e,t){let n=new jZ;return Gt.compare(r,e,t,n),n.changes}function qZ(r,e){for(let t=r;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function WZ(r,e){let t=!1;return e&&r.iterChangedRanges((n,i)=>{n<e.to&&i>e.from&&(t=!0)}),t}function GZ(r,e,t=1){let n=r.charCategorizer(e),i=r.doc.lineAt(e),s=e-i.from;if(i.length==0)return Ue.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,l=s;t<0?o=Nr(i.text,s,!1):l=Nr(i.text,s);let u=n(i.text.slice(o,l));for(;o>0;){let h=Nr(i.text,o,!1);if(n(i.text.slice(h,o))!=u)break;o=h}for(;l<i.length;){let h=Nr(i.text,l);if(n(i.text.slice(l,h))!=u)break;l=h}return Ue.range(o+i.from,l+i.from)}function KZ(r,e){return e.left>r?e.left-r:Math.max(0,r-e.right)}function $Z(r,e){return e.top>r?e.top-r:Math.max(0,r-e.bottom)}function kb(r,e){return r.top<e.bottom-1&&r.bottom>e.top+1}function xN(r,e){return e<r.top?{top:e,left:r.left,right:r.right,bottom:r.bottom}:r}function TN(r,e){return e>r.bottom?{top:r.top,left:r.left,right:r.right,bottom:e}:r}function yT(r,e,t){let n,i,s,o,l=!1,u,h,f,p;for(let _=r.firstChild;_;_=_.nextSibling){let w=mf(_);for(let E=0;E<w.length;E++){let b=w[E];i&&kb(i,b)&&(b=xN(TN(b,i.bottom),i.top));let A=KZ(e,b),T=$Z(t,b);if(A==0&&T==0)return _.nodeType==3?AN(_,e,t):yT(_,e,t);(!n||o>T||o==T&&s>A)&&(n=_,i=b,s=A,o=T,l=A?e<b.left?E>0:E<w.length-1:!0),A==0?t>b.bottom&&(!f||f.bottom<b.bottom)?(u=_,f=b):t<b.top&&(!p||p.top>b.top)&&(h=_,p=b):f&&kb(f,b)?f=TN(f,b.bottom):p&&kb(p,b)&&(p=xN(p,b.top))}}if(f&&f.bottom>=t?(n=u,i=f):p&&p.top<=t&&(n=h,i=p),!n)return{node:r,offset:0};let g=Math.max(i.left,Math.min(i.right,e));if(n.nodeType==3)return AN(n,g,t);if(l&&n.contentEditable!="false")return yT(n,g,t);let y=Array.prototype.indexOf.call(r.childNodes,n)+(e>=(i.left+i.right)/2?1:0);return{node:r,offset:y}}function AN(r,e,t){let n=r.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<n;l++){let u=vc(r,l,l+1).getClientRects();for(let h=0;h<u.length;h++){let f=u[h];if(f.top==f.bottom)continue;o||(o=e-f.left);let p=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&p<s){let g=e>=(f.left+f.right)/2,y=g;if((Qe.chrome||Qe.gecko)&&vc(r,l).getBoundingClientRect().left==f.right&&(y=!g),p<=0)return{node:r,offset:l+(y?1:0)};i=l+(y?1:0),s=p}}}return{node:r,offset:i>-1?i:o>0?r.nodeValue.length:0}}function xB(r,e,t,n=-1){var i,s;let o=r.contentDOM.getBoundingClientRect(),l=o.top+r.viewState.paddingTop,u,{docHeight:h}=r.viewState,{x:f,y:p}=e,g=p-l;if(g<0)return 0;if(g>h)return r.state.doc.length;for(let x=r.viewState.heightOracle.textHeight/2,D=!1;u=r.elementAtHeight(g),u.type!=ui.Text;)for(;g=n>0?u.bottom+x:u.top-x,!(g>=0&&g<=h);){if(D)return t?null:0;D=!0,n=-n}p=l+g;let y=u.from;if(y<r.viewport.from)return r.viewport.from==0?0:t?null:CN(r,o,u,f,p);if(y>r.viewport.to)return r.viewport.to==r.state.doc.length?r.state.doc.length:t?null:CN(r,o,u,f,p);let _=r.dom.ownerDocument,w=r.root.elementFromPoint?r.root:_,E=w.elementFromPoint(f,p);E&&!r.contentDOM.contains(E)&&(E=null),E||(f=Math.max(o.left+1,Math.min(o.right-1,f)),E=w.elementFromPoint(f,p),E&&!r.contentDOM.contains(E)&&(E=null));let b,A=-1;if(E&&((i=r.docView.nearest(E))===null||i===void 0?void 0:i.isEditable)!=!1){if(_.caretPositionFromPoint){let x=_.caretPositionFromPoint(f,p);x&&({offsetNode:b,offset:A}=x)}else if(_.caretRangeFromPoint){let x=_.caretRangeFromPoint(f,p);x&&({startContainer:b,startOffset:A}=x,(!r.contentDOM.contains(b)||Qe.safari&&YZ(b,A,f)||Qe.chrome&&XZ(b,A,f))&&(b=void 0))}b&&(A=Math.min(Fo(b),A))}if(!b||!r.docView.dom.contains(b)){let x=Kn.find(r.docView,y);if(!x)return g>u.top+u.height/2?u.to:u.from;({node:b,offset:A}=yT(x.dom,f,p))}let T=r.docView.nearest(b);if(!T)return null;if(T.isWidget&&((s=T.dom)===null||s===void 0?void 0:s.nodeType)==1){let x=T.dom.getBoundingClientRect();return e.y<x.top||e.y<=x.bottom&&e.x<=(x.left+x.right)/2?T.posAtStart:T.posAtEnd}else return T.localPosFromDOM(b,A)+T.posAtStart}function CN(r,e,t,n,i){let s=Math.round((n-e.left)*r.defaultCharacterWidth);if(r.lineWrapping&&t.height>r.defaultLineHeight*1.5){let l=r.viewState.heightOracle.textHeight,u=Math.floor((i-t.top-(r.defaultLineHeight-l)*.5)/l);s+=u*r.viewState.heightOracle.lineLength}let o=r.state.sliceDoc(t.from,t.to);return t.from+rT(o,s,r.state.tabSize)}function YZ(r,e,t){let n,i=r;if(r.nodeType!=3||e!=(n=r.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return vc(r,n-1,n).getBoundingClientRect().right>t}function XZ(r,e,t){if(e!=0)return!1;for(let i=r;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let n=r.nodeType==1?r.getBoundingClientRect():vc(r,0,Math.max(r.nodeValue.length,1)).getBoundingClientRect();return t-n.left>5}function vT(r,e,t){let n=r.lineBlockAt(e);if(Array.isArray(n.type)){let i;for(let s of n.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==ui.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||n}return n}function QZ(r,e,t,n){let i=vT(r,e.head,e.assoc||-1),s=!n||i.type!=ui.Text||!(r.lineWrapping||i.widgetLineBreaks)?null:r.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=r.dom.getBoundingClientRect(),l=r.textDirectionAt(i.from),u=r.posAtCoords({x:t==(l==_n.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(u!=null)return Ue.cursor(u,t?-1:1)}return Ue.cursor(t?i.to:i.from,t?-1:1)}function RN(r,e,t,n){let i=r.state.doc.lineAt(e.head),s=r.bidiSpans(i),o=r.textDirectionAt(i.from);for(let l=e,u=null;;){let h=LZ(i,s,o,l,t),f=lB;if(!h){if(i.number==(t?r.state.doc.lines:1))return l;f=`
`,i=r.state.doc.line(i.number+(t?1:-1)),s=r.bidiSpans(i),h=r.visualLineSide(i,!t)}if(u){if(!u(f))return l}else{if(!n)return h;u=n(f)}l=h}}function ZZ(r,e,t){let n=r.state.charCategorizer(e),i=n(t);return s=>{let o=n(s);return i==En.Space&&(i=o),i==o}}function JZ(r,e,t,n){let i=e.head,s=t?1:-1;if(i==(t?r.state.doc.length:0))return Ue.cursor(i,e.assoc);let o=e.goalColumn,l,u=r.contentDOM.getBoundingClientRect(),h=r.coordsAtPos(i,e.assoc||-1),f=r.documentTop;if(h)o==null&&(o=h.left-u.left),l=s<0?h.top:h.bottom;else{let y=r.viewState.lineBlockAt(i);o==null&&(o=Math.min(u.right-u.left,r.defaultCharacterWidth*(i-y.from))),l=(s<0?y.top:y.bottom)+f}let p=u.left+o,g=n??r.viewState.heightOracle.textHeight>>1;for(let y=0;;y+=10){let _=l+(g+y)*s,w=xB(r,{x:p,y:_},!1,s);if(_<u.top||_>u.bottom||(s<0?w<i:w>i)){let E=r.docView.coordsForChar(w),b=!E||_<E.top?-1:1;return Ue.cursor(w,b,void 0,o)}}}function C0(r,e,t){for(;;){let n=0;for(let i of r)i.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let u=n||t||(e-s<o-e?-1:1);e=u<0?s:o,n=u}});if(!n)return e}}function Db(r,e,t){let n=C0(r.state.facet(xC).map(i=>i(r)),t.from,e.head>t.from?-1:1);return n==t.from?t:Ue.cursor(n,n<t.from?1:-1)}const pp="";class eJ{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Ft.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=pp}readRange(e,t){if(!e)return this;let n=e.parentNode;for(let i=e;;){this.findPointBefore(n,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let l=mn.get(i),u=mn.get(o);(l&&u?l.breakAfter:(l?l.breakAfter:Sv(i))||Sv(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(n,t),this}readTextNode(e){let t=e.nodeValue;for(let n of this.points)n.node==e&&(n.pos=this.text.length+Math.min(n.offset,t.length));for(let n=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,n),o=this.lineSeparator.length):(l=i.exec(t))&&(s=l.index,o=l[0].length),this.append(t.slice(n,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=o-1);n=s+o}}readNode(e){if(e.cmIgnore)return;let t=mn.get(e),n=t&&t.overrideDOMText;if(n!=null){this.findPointInside(e,n.length);for(let i=n.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let n of this.points)n.node==e&&e.childNodes[n.offset]==t&&(n.pos=this.text.length)}findPointInside(e,t){for(let n of this.points)(e.nodeType==3?n.node==e:e.contains(n.node))&&(n.pos=this.text.length+(tJ(e,n.node,n.offset)?t:0))}}function tJ(r,e,t){for(;;){if(!e||t<Fo(e))return!1;if(e==r)return!0;t=yc(e)+1,e=e.parentNode}}class kN{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class nJ{constructor(e,t,n,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,n,0))){let l=s||o?[]:sJ(e),u=new eJ(l,e.state);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=oJ(l,this.bounds.from)}else{let l=e.observer.selectionRange,u=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!oT(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),h=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!oT(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),f=e.viewport;if((Qe.ios||Qe.chrome)&&e.state.selection.main.empty&&u!=h&&(f.from>0||f.to<e.state.doc.length)){let p=Math.min(u,h),g=Math.max(u,h),y=f.from-p,_=f.to-g;(y==0||y==1||p==0)&&(_==0||_==-1||g==e.state.doc.length)&&(u=0,h=e.state.doc.length)}this.newSel=Ue.single(h,u)}}}function TB(r,e){let t,{newSel:n}=e,i=r.state.selection.main,s=r.inputState.lastKeyTime>Date.now()-100?r.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,u=i.from,h=null;(s===8||Qe.android&&e.text.length<l-o)&&(u=i.to,h="end");let f=iJ(r.state.doc.sliceString(o,l,pp),e.text,u-o,h);f&&(Qe.chrome&&s==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==pp+pp&&f.toB--,t={from:o+f.from,to:o+f.toA,insert:Qt.of(e.text.slice(f.from,f.toB).split(pp))})}else n&&(!r.hasFocus&&r.state.facet(va)||n.main.eq(i))&&(n=null);if(!t&&!n)return!1;if(!t&&e.typeOver&&!i.empty&&n&&n.main.empty?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,i.to)}:(Qe.mac||Qe.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&r.contentDOM.getAttribute("autocorrect")=="off"?(n&&t.insert.length==2&&(n=Ue.single(n.main.anchor-1,n.main.head-1)),t={from:t.from,to:t.to,insert:Qt.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:r.state.doc.slice(i.from,t.from).append(t.insert).append(r.state.doc.slice(t.to,i.to))}:Qe.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&r.lineWrapping&&(n&&(n=Ue.single(n.main.anchor-1,n.main.head-1)),t={from:i.from,to:i.to,insert:Qt.of([" "])}),t)return AC(r,t,n,s);if(n&&!n.main.eq(i)){let o=!1,l="select";return r.inputState.lastSelectionTime>Date.now()-50&&(r.inputState.lastSelectionOrigin=="select"&&(o=!0),l=r.inputState.lastSelectionOrigin),r.dispatch({selection:n,scrollIntoView:o,userEvent:l}),!0}else return!1}function AC(r,e,t,n=-1){if(Qe.ios&&r.inputState.flushIOSKey(e))return!0;let i=r.state.selection.main;if(Qe.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&r.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Wh(r.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||n==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Wh(r.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Wh(r.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();r.inputState.composing>=0&&r.inputState.composing++;let o,l=()=>o||(o=rJ(r,e,t));return r.state.facet(dB).some(u=>u(r,e.from,e.to,s,l))||r.dispatch(l()),!0}function rJ(r,e,t){let n,i=r.state,s=i.selection.main;if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&r.inputState.composing<0){let l=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";n=i.replaceSelection(r.state.toText(l+e.insert.sliceString(0,void 0,r.state.lineBreak)+u))}else{let l=i.changes(e),u=t&&t.main.to<=l.newLength?t.main:void 0;if(i.selection.ranges.length>1&&r.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let h=r.state.sliceDoc(e.from,e.to),f,p=t&&EB(r,t.main.head);if(p){let _=e.insert.length-(e.to-e.from);f={from:p.from,to:p.to-_}}else f=r.state.doc.lineAt(s.head);let g=s.to-e.to,y=s.to-s.from;n=i.changeByRange(_=>{if(_.from==s.from&&_.to==s.to)return{changes:l,range:u||_.map(l)};let w=_.to-g,E=w-h.length;if(_.to-_.from!=y||r.state.sliceDoc(E,w)!=h||_.to>=f.from&&_.from<=f.to)return{range:_};let b=i.changes({from:E,to:w,insert:e.insert}),A=_.to-s.to;return{changes:b,range:u?Ue.range(Math.max(0,u.anchor+A),Math.max(0,u.head+A)):_.map(b)}})}else n={changes:l,selection:u&&i.selection.replaceRange(u)}}let o="input.type";return(r.composing||r.inputState.compositionPendingChange&&r.inputState.compositionEndedAt>Date.now()-50)&&(r.inputState.compositionPendingChange=!1,o+=".compose",r.inputState.compositionFirstChange&&(o+=".start",r.inputState.compositionFirstChange=!1)),i.update(n,{userEvent:o,scrollIntoView:!0})}function iJ(r,e,t,n){let i=Math.min(r.length,e.length),s=0;for(;s<i&&r.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&r.length==e.length)return null;let o=r.length,l=e.length;for(;o>0&&l>0&&r.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(n=="end"){let u=Math.max(0,s-Math.min(o,l));t-=o+u-s}if(o<s&&r.length<e.length){let u=t<=s&&t>=o?s-t:0;s-=u,l=s+(l-o),o=s}else if(l<s){let u=t<=s&&t>=l?s-t:0;s-=u,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function sJ(r){let e=[];if(r.root.activeElement!=r.contentDOM)return e;let{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}=r.observer.selectionRange;return t&&(e.push(new kN(t,n)),(i!=t||s!=n)&&e.push(new kN(i,s))),e}function oJ(r,e){if(r.length==0)return null;let t=r[0].pos,n=r.length==2?r[1].pos:t;return t>-1&&n>-1?Ue.single(t+e,n+e):null}class aJ{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Qe.safari&&e.contentDOM.addEventListener("input",()=>null),Qe.gecko&&EJ(e.contentDOM.ownerDocument)}handleEvent(e){!mJ(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let n=this.handlers[e];if(n){for(let i of n.observers)i(this.view,t);for(let i of n.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=lJ(e),n=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,l=n[s];l&&o!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in n)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&CB.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Qe.android&&Qe.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Qe.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=AB.find(n=>n.keyCode==e.keyCode))&&!e.ctrlKey||uJ.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Wh(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Qe.safari&&!Qe.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function DN(r,e){return(t,n)=>{try{return e.call(r,n,t)}catch(i){_i(t.state,i)}}}function lJ(r){let e=Object.create(null);function t(n){return e[n]||(e[n]={observers:[],handlers:[]})}for(let n of r){let i=n.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let l in s){let u=s[l];u&&t(l).handlers.push(DN(n.value,u))}if(o)for(let l in o){let u=o[l];u&&t(l).observers.push(DN(n.value,u))}}for(let n in js)t(n).handlers.push(js[n]);for(let n in As)t(n).observers.push(As[n]);return e}const AB=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],uJ="dthko",CB=[16,17,18,20,91,92,224,225],ky=6;function Dy(r){return Math.max(0,r)*.7+8}function cJ(r,e){return Math.max(Math.abs(r.clientX-e.clientX),Math.abs(r.clientY-e.clientY))}class hJ{constructor(e,t,n,i){this.view=e,this.startEvent=t,this.style=n,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=vZ(e.contentDOM),this.atoms=e.state.facet(xC).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Ft.allowMultipleSelections)&&fJ(e,t),this.dragging=pJ(e,t)&&DB(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&cJ(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,n=0,i=0,s=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let u=TC(this.view);e.clientX-u.left<=i+ky?t=-Dy(i-e.clientX):e.clientX+u.right>=o-ky&&(t=Dy(e.clientX-o)),e.clientY-u.top<=s+ky?n=-Dy(s-e.clientY):e.clientY+u.bottom>=l-ky&&(n=Dy(e.clientY-l)),this.setScrollSpeed(t,n)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let n=0;n<e.ranges.length;n++){let i=e.ranges[n],s=null;if(i.empty){let o=C0(this.atoms,i.from,0);o!=i.from&&(s=Ue.cursor(o,-1))}else{let o=C0(this.atoms,i.from,-1),l=C0(this.atoms,i.to,1);(o!=i.from||l!=i.to)&&(s=Ue.range(i.from==i.anchor?o:l,i.from==i.head?o:l))}s&&(t||(t=e.ranges.slice()),t[n]=s)}return t?Ue.create(t,e.mainIndex):e}select(e){let{view:t}=this,n=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!n.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:n,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function fJ(r,e){let t=r.state.facet(uB);return t.length?t[0](e):Qe.mac?e.metaKey:e.ctrlKey}function dJ(r,e){let t=r.state.facet(cB);return t.length?t[0](e):Qe.mac?!e.altKey:!e.ctrlKey}function pJ(r,e){let{main:t}=r.state.selection;if(t.empty)return!1;let n=am(r.root);if(!n||n.rangeCount==0)return!0;let i=n.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function mJ(r,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,n;t!=r.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(n=mn.get(t))&&n.ignoreEvent(e))return!1;return!0}const js=Object.create(null),As=Object.create(null),RB=Qe.ie&&Qe.ie_version<15||Qe.ios&&Qe.webkit_version<604;function gJ(r){let e=r.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{r.focus(),t.remove(),kB(r,t.value)},50)}function Tw(r,e,t){for(let n of r.facet(e))t=n(t,r);return t}function kB(r,e){e=Tw(r.state,bC,e);let{state:t}=r,n,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(wT!=null&&t.selection.ranges.every(u=>u.empty)&&wT==s.toString()){let u=-1;n=t.changeByRange(h=>{let f=t.doc.lineAt(h.from);if(f.from==u)return{range:h};u=f.from;let p=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:f.from,insert:p},range:Ue.cursor(h.from+p.length)}})}else o?n=t.changeByRange(u=>{let h=s.line(i++);return{changes:{from:u.from,to:u.to,insert:h.text},range:Ue.cursor(u.from+h.length)}}):n=t.replaceSelection(s);r.dispatch(n,{userEvent:"input.paste",scrollIntoView:!0})}As.scroll=r=>{r.inputState.lastScrollTop=r.scrollDOM.scrollTop,r.inputState.lastScrollLeft=r.scrollDOM.scrollLeft};js.keydown=(r,e)=>(r.inputState.setSelectionOrigin("select"),e.keyCode==27&&r.inputState.tabFocusMode!=0&&(r.inputState.tabFocusMode=Date.now()+2e3),!1);As.touchstart=(r,e)=>{r.inputState.lastTouchTime=Date.now(),r.inputState.setSelectionOrigin("select.pointer")};As.touchmove=r=>{r.inputState.setSelectionOrigin("select.pointer")};js.mousedown=(r,e)=>{if(r.observer.flush(),r.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let n of r.state.facet(hB))if(t=n(r,e),t)break;if(!t&&e.button==0&&(t=wJ(r,e)),t){let n=!r.hasFocus;r.inputState.startMouseSelection(new hJ(r,e,t,n)),n&&r.observer.ignore(()=>{q8(r.contentDOM);let s=r.root.activeElement;s&&!s.contains(r.contentDOM)&&s.blur()});let i=r.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function IN(r,e,t,n){if(n==1)return Ue.cursor(e,t);if(n==2)return GZ(r.state,e,t);{let i=Kn.find(r.docView,e),s=r.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<r.state.doc.length&&l==s.to&&l++,Ue.range(o,l)}}let ON=(r,e,t)=>e>=t.top&&e<=t.bottom&&r>=t.left&&r<=t.right;function yJ(r,e,t,n){let i=Kn.find(r.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&ON(t,n,o))return-1;let l=i.coordsAt(s,1);return l&&ON(t,n,l)?1:o&&o.bottom>=n?-1:1}function NN(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:yJ(r,t,e.clientX,e.clientY)}}const vJ=Qe.ie&&Qe.ie_version<=11;let MN=null,PN=0,LN=0;function DB(r){if(!vJ)return r.detail;let e=MN,t=LN;return MN=r,LN=Date.now(),PN=!e||t>Date.now()-400&&Math.abs(e.clientX-r.clientX)<2&&Math.abs(e.clientY-r.clientY)<2?(PN+1)%3:1}function wJ(r,e){let t=NN(r,e),n=DB(e),i=r.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,l){let u=NN(r,s),h,f=IN(r,u.pos,u.bias,n);if(t.pos!=u.pos&&!o){let p=IN(r,t.pos,t.bias,n),g=Math.min(p.from,f.from),y=Math.max(p.to,f.to);f=g<f.from?Ue.range(g,y):Ue.range(y,g)}return o?i.replaceRange(i.main.extend(f.from,f.to)):l&&n==1&&i.ranges.length>1&&(h=_J(i,u.pos))?h:l?i.addRange(f):Ue.create([f])}}}function _J(r,e){for(let t=0;t<r.ranges.length;t++){let{from:n,to:i}=r.ranges[t];if(n<=e&&i>=e)return Ue.create(r.ranges.slice(0,t).concat(r.ranges.slice(t+1)),r.mainIndex==t?0:r.mainIndex-(r.mainIndex>t?1:0))}return null}js.dragstart=(r,e)=>{let{selection:{main:t}}=r.state;if(e.target.draggable){let i=r.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=Ue.range(s,o))}}let{inputState:n}=r;return n.mouseSelection&&(n.mouseSelection.dragging=!0),n.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",Tw(r.state,SC,r.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};js.dragend=r=>(r.inputState.draggedContent=null,!1);function BN(r,e,t,n){if(t=Tw(r.state,bC,t),!t)return;let i=r.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=r.inputState,o=n&&s&&dJ(r,e)?{from:s.from,to:s.to}:null,l={from:i,insert:t},u=r.state.changes(o?[o,l]:l);r.focus(),r.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),r.inputState.draggedContent=null}js.drop=(r,e)=>{if(!e.dataTransfer)return!1;if(r.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let n=Array(t.length),i=0,s=()=>{++i==t.length&&BN(r,e,n.filter(o=>o!=null).join(r.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(n[o]=l.result),s()},l.readAsText(t[o])}return!0}else{let n=e.dataTransfer.getData("Text");if(n)return BN(r,e,n,!0),!0}return!1};js.paste=(r,e)=>{if(r.state.readOnly)return!0;r.observer.flush();let t=RB?null:e.clipboardData;return t?(kB(r,t.getData("text/plain")||t.getData("text/uri-list")),!0):(gJ(r),!1)};function bJ(r,e){let t=r.dom.parentNode;if(!t)return;let n=t.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.value=e,n.focus(),n.selectionEnd=e.length,n.selectionStart=0,setTimeout(()=>{n.remove(),r.focus()},50)}function SJ(r){let e=[],t=[],n=!1;for(let i of r.selection.ranges)i.empty||(e.push(r.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of r.selection.ranges){let o=r.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(r.doc.length,o.to+1)})),i=o.number}n=!0}return{text:Tw(r,SC,e.join(r.lineBreak)),ranges:t,linewise:n}}let wT=null;js.copy=js.cut=(r,e)=>{let{text:t,ranges:n,linewise:i}=SJ(r.state);if(!t&&!i)return!1;wT=i?t:null,e.type=="cut"&&!r.state.readOnly&&r.dispatch({changes:n,scrollIntoView:!0,userEvent:"delete.cut"});let s=RB?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(bJ(r,t),!1)};const IB=jo.define();function OB(r,e){let t=[];for(let n of r.facet(pB)){let i=n(r,e);i&&t.push(i)}return t.length?r.update({effects:t,annotations:IB.of(!0)}):null}function NB(r){setTimeout(()=>{let e=r.hasFocus;if(e!=r.inputState.notifiedFocused){let t=OB(r.state,e);t?r.dispatch(t):r.update([])}},10)}As.focus=r=>{r.inputState.lastFocusTime=Date.now(),!r.scrollDOM.scrollTop&&(r.inputState.lastScrollTop||r.inputState.lastScrollLeft)&&(r.scrollDOM.scrollTop=r.inputState.lastScrollTop,r.scrollDOM.scrollLeft=r.inputState.lastScrollLeft),NB(r)};As.blur=r=>{r.observer.clearSelectionRange(),NB(r)};As.compositionstart=As.compositionupdate=r=>{r.observer.editContext||(r.inputState.compositionFirstChange==null&&(r.inputState.compositionFirstChange=!0),r.inputState.composing<0&&(r.inputState.composing=0))};As.compositionend=r=>{r.observer.editContext||(r.inputState.composing=-1,r.inputState.compositionEndedAt=Date.now(),r.inputState.compositionPendingKey=!0,r.inputState.compositionPendingChange=r.observer.pendingRecords().length>0,r.inputState.compositionFirstChange=null,Qe.chrome&&Qe.android?r.observer.flushSoon():r.inputState.compositionPendingChange?Promise.resolve().then(()=>r.observer.flush()):setTimeout(()=>{r.inputState.composing<0&&r.docView.hasComposition&&r.update([])},50))};As.contextmenu=r=>{r.inputState.lastContextMenu=Date.now()};js.beforeinput=(r,e)=>{var t,n;if(e.inputType=="insertReplacementText"&&r.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let l=o[0],u=r.posAtDOM(l.startContainer,l.startOffset),h=r.posAtDOM(l.endContainer,l.endOffset);return AC(r,{from:u,to:h,insert:r.state.toText(s)},null),!0}}let i;if(Qe.chrome&&Qe.android&&(i=AB.find(s=>s.inputType==e.inputType))&&(r.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&r.hasFocus&&(r.contentDOM.blur(),r.focus())},100)}return Qe.ios&&e.inputType=="deleteContentForward"&&r.observer.flushSoon(),Qe.safari&&e.inputType=="insertText"&&r.inputState.composing>=0&&setTimeout(()=>As.compositionend(r,e),20),!1};const FN=new Set;function EJ(r){FN.has(r)||(FN.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}const VN=["pre-wrap","normal","pre-line","break-spaces"];let vf=!1;function UN(){vf=!1}class xJ{constructor(e){this.lineWrapping=e,this.doc=Qt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let n=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(n+=Math.max(0,Math.ceil((t-e-n*this.lineLength*.5)/this.lineLength))),this.lineHeight*n}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return VN.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let n=0;n<e.length;n++){let i=e[n];i<0?n++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,n,i,s,o){let l=VN.indexOf(e)>-1,u=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=n,this.textHeight=i,this.lineLength=s,u){this.heightSamples={};for(let h=0;h<o.length;h++){let f=o[h];f<0?h++:this.heightSamples[Math.floor(f*10)]=!0}}return u}}class TJ{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class bo{constructor(e,t,n,i,s){this.from=e,this.length=t,this.top=n,this.height=i,this._content=s}get type(){return typeof this._content=="number"?ui.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Xl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new bo(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var vn=function(r){return r[r.ByPos=0]="ByPos",r[r.ByHeight=1]="ByHeight",r[r.ByPosNoHeight=2]="ByPosNoHeight",r}(vn||(vn={}));const R0=.001;class ci{constructor(e,t,n=2){this.length=e,this.height=t,this.flags=n}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>R0&&(vf=!0),this.height=e)}replace(e,t,n){return ci.of(n)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,n,i){let s=this,o=n.doc;for(let l=i.length-1;l>=0;l--){let{fromA:u,toA:h,fromB:f,toB:p}=i[l],g=s.lineAt(u,vn.ByPosNoHeight,n.setDoc(t),0,0),y=g.to>=h?g:s.lineAt(h,vn.ByPosNoHeight,n,0,0);for(p+=y.to-h,h=y.to;l>0&&g.from<=i[l-1].toA;)u=i[l-1].fromA,f=i[l-1].fromB,l--,u<g.from&&(g=s.lineAt(u,vn.ByPosNoHeight,n,0,0));f+=g.from-u,u=g.from;let _=CC.build(n.setDoc(o),e,f,p);s=Tv(s,s.replace(u,h,_))}return s.updateHeight(n,0)}static empty(){return new Ui(0,0)}static of(e){if(e.length==1)return e[0];let t=0,n=e.length,i=0,s=0;for(;;)if(t==n)if(i>s*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),n+=1+l.break,i-=l.size}else if(s>i*2){let l=e[n];l.break?e.splice(n,1,l.left,null,l.right):e.splice(n,1,l.left,l.right),n+=2+l.break,s-=l.size}else break;else if(i<s){let l=e[t++];l&&(i+=l.size)}else{let l=e[--n];l&&(s+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,n++),new AJ(ci.of(e.slice(0,t)),o,ci.of(e.slice(n)))}}function Tv(r,e){return r==e?r:(r.constructor!=e.constructor&&(vf=!0),e)}ci.prototype.size=1;class MB extends ci{constructor(e,t,n){super(e,t),this.deco=n}blockAt(e,t,n,i){return new bo(i,this.length,n,this.height,this.deco||0)}lineAt(e,t,n,i,s){return this.blockAt(0,n,i,s)}forEachLine(e,t,n,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,n,i,s))}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ui extends MB{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,n,i){return new bo(i,this.length,n,this.height,this.breaks)}replace(e,t,n){let i=n[0];return n.length==1&&(i instanceof Ui||i instanceof Rr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof Rr?i=new Ui(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):ci.of(n)}updateHeight(e,t=0,n=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(n||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class Rr extends ci{constructor(e){super(e,0)}heightMetrics(e,t){let n=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-n+1,o,l=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*s);o=u/s,this.length>s+1&&(l=(this.height-u)/(this.length-s-1))}else o=this.height/s;return{firstLine:n,lastLine:i,perLine:o,perChar:l}}blockAt(e,t,n,i){let{firstLine:s,lastLine:o,perLine:l,perChar:u}=this.heightMetrics(t,i);if(t.lineWrapping){let h=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-n)/this.height))*this.length)),f=t.doc.lineAt(h),p=l+f.length*u,g=Math.max(n,e-p/2);return new bo(f.from,f.length,g,p,0)}else{let h=Math.max(0,Math.min(o-s,Math.floor((e-n)/l))),{from:f,length:p}=t.doc.line(s+h);return new bo(f,p,n+l*h,l,0)}}lineAt(e,t,n,i,s){if(t==vn.ByHeight)return this.blockAt(e,n,i,s);if(t==vn.ByPosNoHeight){let{from:y,to:_}=n.doc.lineAt(e);return new bo(y,_-y,0,0,0)}let{firstLine:o,perLine:l,perChar:u}=this.heightMetrics(n,s),h=n.doc.lineAt(e),f=l+h.length*u,p=h.number-o,g=i+l*p+u*(h.from-s-p);return new bo(h.from,h.length,Math.max(i,Math.min(g,i+this.height-f)),f,0)}forEachLine(e,t,n,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:l,perLine:u,perChar:h}=this.heightMetrics(n,s);for(let f=e,p=i;f<=t;){let g=n.doc.lineAt(f);if(f==e){let _=g.number-l;p+=u*_+h*(e-s-_)}let y=u+h*g.length;o(new bo(g.from,g.length,p,y,0)),p+=y,f=g.to+1}}replace(e,t,n){let i=this.length-t;if(i>0){let s=n[n.length-1];s instanceof Rr?n[n.length-1]=new Rr(s.length+i):n.push(null,new Rr(i-1))}if(e>0){let s=n[0];s instanceof Rr?n[0]=new Rr(e+s.length):n.unshift(new Rr(e-1),null)}return ci.of(n)}decomposeLeft(e,t){t.push(new Rr(e-1),null)}decomposeRight(e,t){t.push(null,new Rr(this.length-e-1))}updateHeight(e,t=0,n=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],l=Math.max(t,i.from),u=-1;for(i.from>t&&o.push(new Rr(i.from-t-1).updateHeight(e,t));l<=s&&i.more;){let f=e.doc.lineAt(l).length;o.length&&o.push(null);let p=i.heights[i.index++];u==-1?u=p:Math.abs(p-u)>=R0&&(u=-2);let g=new Ui(f,p);g.outdated=!1,o.push(g),l+=f+1}l<=s&&o.push(null,new Rr(s-l).updateHeight(e,l));let h=ci.of(o);return(u<0||Math.abs(h.height-this.height)>=R0||Math.abs(u-this.heightMetrics(e,t).perLine)>=R0)&&(vf=!0),Tv(this,h)}else(n||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class AJ extends ci{constructor(e,t,n){super(e.length+t+n.length,e.height+n.height,t|(e.outdated||n.outdated?2:0)),this.left=e,this.right=n,this.size=e.size+n.size}get break(){return this.flags&1}blockAt(e,t,n,i){let s=n+this.left.height;return e<s?this.left.blockAt(e,t,n,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,n,i,s){let o=i+this.left.height,l=s+this.left.length+this.break,u=t==vn.ByHeight?e<o:e<l,h=u?this.left.lineAt(e,t,n,i,s):this.right.lineAt(e,t,n,o,l);if(this.break||(u?h.to<l:h.from>l))return h;let f=t==vn.ByPosNoHeight?vn.ByPosNoHeight:vn.ByPos;return u?h.join(this.right.lineAt(l,f,n,o,l)):this.left.lineAt(l,f,n,i,s).join(h)}forEachLine(e,t,n,i,s,o){let l=i+this.left.height,u=s+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,t,n,i,s,o),t>=u&&this.right.forEachLine(e,t,n,l,u,o);else{let h=this.lineAt(u,vn.ByPos,n,i,s);e<h.from&&this.left.forEachLine(e,h.from-1,n,i,s,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,n,l,u,o)}}replace(e,t,n){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,n),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,n));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of n)s.push(l);if(e>0&&zN(s,o-1),t<this.length){let l=s.length;this.decomposeRight(t,s),zN(s,l)}return ci.of(s)}decomposeLeft(e,t){let n=this.left.length;if(e<=n)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(n++,e>=n&&t.push(null)),e>n&&this.right.decomposeLeft(e-n,t)}decomposeRight(e,t){let n=this.left.length,i=n+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<n&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?ci.of(this.break?[e,null,t]:[e,t]):(this.left=Tv(this.left,e),this.right=Tv(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,n=!1,i){let{left:s,right:o}=this,l=t+s.length+this.break,u=null;return i&&i.from<=t+s.length&&i.more?u=s=s.updateHeight(e,t,n,i):s.updateHeight(e,t,n),i&&i.from<=l+o.length&&i.more?u=o=o.updateHeight(e,l,n,i):o.updateHeight(e,l,n),u?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function zN(r,e){let t,n;r[e]==null&&(t=r[e-1])instanceof Rr&&(n=r[e+1])instanceof Rr&&r.splice(e-1,3,new Rr(t.length+1+n.length))}const CJ=5;class CC{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let n=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ui?i.length+=n-this.pos:(n>this.pos||!this.isCovered)&&this.nodes.push(new Ui(n-this.pos,-1)),this.writtenTo=n,t>n&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,n){if(e<t||n.heightRelevant){let i=n.widget?n.widget.estimatedHeight:0,s=n.widget?n.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;n.block?this.addBlock(new MB(o,i,n)):(o||s||i>=CJ)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ui(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let n=new Rr(t-e);return this.oracle.doc.lineAt(e).to==t&&(n.flags|=4),n}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ui)return e;let t=new Ui(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,n){let i=this.ensureLine();i.length+=n,i.collapsed+=n,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+n}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Ui)&&!this.isCovered?this.nodes.push(new Ui(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let n=e;for(let i of this.nodes)i instanceof Ui&&i.updateHeight(this.oracle,n),n+=i?i.length:1;return this.nodes}static build(e,t,n,i){let s=new CC(n,e);return Gt.spans(t,n,i,s,0),s.finish(n)}}function RJ(r,e,t){let n=new kJ;return Gt.compare(r,e,t,n,0),n.changes}class kJ{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,n,i){(e<t||n&&n.heightRelevant||i&&i.heightRelevant)&&A0(e,t,this.changes,5)}}function DJ(r,e){let t=r.getBoundingClientRect(),n=r.ownerDocument,i=n.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),l=Math.max(0,t.top),u=Math.min(i.innerHeight,t.bottom);for(let h=r.parentNode;h&&h!=n.body;)if(h.nodeType==1){let f=h,p=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&p.overflow!="visible"){let g=f.getBoundingClientRect();s=Math.max(s,g.left),o=Math.min(o,g.right),l=Math.max(l,g.top),u=Math.min(h==r.parentNode?i.innerHeight:u,g.bottom)}h=p.position=="absolute"||p.position=="fixed"?f.offsetParent:f.parentNode}else if(h.nodeType==11)h=h.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,u)-(t.top+e)}}function IJ(r){let e=r.getBoundingClientRect(),t=r.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function OJ(r,e){let t=r.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Ib{constructor(e,t,n,i){this.from=e,this.to=t,this.size=n,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],s=t[n];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return ht.replace({widget:new NJ(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class NJ extends Ba{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class jN{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=HN,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=_n.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(EC).some(n=>typeof n!="function"&&n.class=="cm-lineWrapping");this.heightOracle=new xJ(t),this.stateDeco=e.facet(lm).filter(n=>typeof n!="function"),this.heightMap=ci.empty().applyChanges(this.stateDeco,Qt.empty,this.heightOracle.setDoc(e.doc),[new Es(0,0,0,e.doc.length)]);for(let n=0;n<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());n++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ht.set(this.lineGaps.map(n=>n.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let n=0;n<=1;n++){let i=n?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new Iy(s,o))}}return this.viewports=e.sort((n,i)=>n.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?HN:new RC(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(mp(e,this.scaler))})}update(e,t=null){this.state=e.state;let n=this.stateDeco;this.stateDeco=this.state.facet(lm).filter(f=>typeof f!="function");let i=e.changedRanges,s=Es.extendWithRanges(i,RJ(n,this.stateDeco,e?e.changes:sr.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);UN(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||vf)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let u=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<u.from||t.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,t));let h=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(h||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(gB)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,n=window.getComputedStyle(t),i=this.heightOracle,s=n.whiteSpace;this.defaultTextDirection=n.direction=="rtl"?_n.RTL:_n.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=t.getBoundingClientRect(),u=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let h=0,f=0;if(l.width&&l.height){let{scaleX:x,scaleY:D}=H8(t,l);(x>.005&&Math.abs(this.scaleX-x)>.005||D>.005&&Math.abs(this.scaleY-D)>.005)&&(this.scaleX=x,this.scaleY=D,h|=16,o=u=!0)}let p=(parseInt(n.paddingTop)||0)*this.scaleY,g=(parseInt(n.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=g)&&(this.paddingTop=p,this.paddingBottom=g,h|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,h|=16);let y=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=y&&(this.scrollAnchorHeight=-1,this.scrollTop=y),this.scrolledToBottom=G8(e.scrollDOM);let _=(this.printing?OJ:DJ)(t,this.paddingTop),w=_.top-this.pixelViewport.top,E=_.bottom-this.pixelViewport.bottom;this.pixelViewport=_;let b=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(b!=this.inView&&(this.inView=b,b&&(u=!0)),!this.inView&&!this.scrollTarget&&!IJ(e.dom))return 0;let A=l.width;if((this.contentDOMWidth!=A||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,h|=16),u){let x=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(x)&&(o=!0),o||i.lineWrapping&&Math.abs(A-this.contentDOMWidth)>i.charWidth){let{lineHeight:D,charWidth:P,textHeight:N}=e.docView.measureTextSize();o=D>0&&i.refresh(s,D,P,N,Math.max(5,A/P),x),o&&(e.docView.minWidth=0,h|=16)}w>0&&E>0?f=Math.max(w,E):w<0&&E<0&&(f=Math.min(w,E)),UN();for(let D of this.viewports){let P=D.from==this.viewport.from?x:e.docView.measureVisibleLineHeights(D);this.heightMap=(o?ci.empty().applyChanges(this.stateDeco,Qt.empty,this.heightOracle,[new Es(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new TJ(D.from,P))}vf&&(h|=2)}let T=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return T&&(h&2&&(h|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),h|=this.updateForViewport()),(h&2||T)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),h|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),h}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let n=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,u=new Iy(i.lineAt(o-n*1e3,vn.ByHeight,s,0,0).from,i.lineAt(l+(1-n)*1e3,vn.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<u.from||h>u.to){let f=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=i.lineAt(h,vn.ByPos,s,0,0),g;t.y=="center"?g=(p.top+p.bottom)/2-f/2:t.y=="start"||t.y=="nearest"&&h<u.from?g=p.top:g=p.bottom-f,u=new Iy(i.lineAt(g-1e3/2,vn.ByHeight,s,0,0).from,i.lineAt(g+f+1e3/2,vn.ByHeight,s,0,0).to)}}return u}mapViewport(e,t){let n=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new Iy(this.heightMap.lineAt(n,vn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,vn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},n=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,vn.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,vn.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||i<=o-Math.max(10,Math.min(-n,250)))&&(t==this.state.doc.length||s>=l+Math.max(10,Math.min(n,250)))&&i>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let n=[];for(let i of e)t.touchesRange(i.from,i.to)||n.push(new Ib(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return n}ensureLineGaps(e,t){let n=this.heightOracle.lineWrapping,i=n?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=_n.LTR&&!n)return[];let l=[],u=(f,p,g,y)=>{if(p-f<s)return;let _=this.state.selection.main,w=[_.from];_.empty||w.push(_.to);for(let b of w)if(b>f&&b<p){u(f,b-10,g,y),u(b+10,p,g,y);return}let E=PJ(e,b=>b.from>=g.from&&b.to<=g.to&&Math.abs(b.from-f)<s&&Math.abs(b.to-p)<s&&!w.some(A=>b.from<A&&b.to>A));if(!E){if(p<g.to&&t&&n&&t.visibleRanges.some(T=>T.from<=p&&T.to>=p)){let T=t.moveToLineBoundary(Ue.cursor(p),!1,!0).head;T>f&&(p=T)}let b=this.gapSize(g,f,p,y),A=n||b<2e6?b:2e6;E=new Ib(f,p,b,A)}l.push(E)},h=f=>{if(f.length<o||f.type!=ui.Text)return;let p=MJ(f.from,f.to,this.stateDeco);if(p.total<o)return;let g=this.scrollTarget?this.scrollTarget.range.head:null,y,_;if(n){let w=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,E,b;if(g!=null){let A=Ny(p,g),T=((this.visibleBottom-this.visibleTop)/2+w)/f.height;E=A-T,b=A+T}else E=(this.visibleTop-f.top-w)/f.height,b=(this.visibleBottom-f.top+w)/f.height;y=Oy(p,E),_=Oy(p,b)}else{let w=p.total*this.heightOracle.charWidth,E=i*this.heightOracle.charWidth,b=0;if(w>2e6)for(let P of e)P.from>=f.from&&P.from<f.to&&P.size!=P.displaySize&&P.from*this.heightOracle.charWidth+b<this.pixelViewport.left&&(b=P.size-P.displaySize);let A=this.pixelViewport.left+b,T=this.pixelViewport.right+b,x,D;if(g!=null){let P=Ny(p,g),N=((T-A)/2+E)/w;x=P-N,D=P+N}else x=(A-E)/w,D=(T+E)/w;y=Oy(p,x),_=Oy(p,D)}y>f.from&&u(f.from,y,f,p),_<f.to&&u(_,f.to,f,p)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(h):h(f);return l}gapSize(e,t,n,i){let s=Ny(i,n)-Ny(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){Ib.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ht.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let n=[];Gt.spans(t,this.viewport.from,this.viewport.to,{span(s,o){n.push({from:s,to:o})},point(){}},20);let i=0;if(n.length!=this.visibleRanges.length)i=12;else for(let s=0;s<n.length&&!(i&8);s++){let o=this.visibleRanges[s],l=n[s];(o.from!=l.from||o.to!=l.to)&&(i|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(i|=8))}return this.visibleRanges=n,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||mp(this.heightMap.lineAt(e,vn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||mp(this.heightMap.lineAt(this.scaler.fromDOM(e),vn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return mp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Iy{constructor(e,t){this.from=e,this.to=t}}function MJ(r,e,t){let n=[],i=r,s=0;return Gt.spans(t,r,e,{span(){},point(o,l){o>i&&(n.push({from:i,to:o}),s+=o-i),i=l}},20),i<e&&(n.push({from:i,to:e}),s+=e-i),{total:s,ranges:n}}function Oy({total:r,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let n=Math.floor(r*t);for(let i=0;;i++){let{from:s,to:o}=e[i],l=o-s;if(n<=l)return s+n;n-=l}}function Ny(r,e){let t=0;for(let{from:n,to:i}of r.ranges){if(e<=i){t+=e-n;break}t+=i-n}return t/r.total}function PJ(r,e){for(let t of r)if(e(t))return t}const HN={toDOM(r){return r},fromDOM(r){return r},scale:1,eq(r){return r==this}};class RC{constructor(e,t,n){let i=0,s=0,o=0;this.viewports=n.map(({from:l,to:u})=>{let h=t.lineAt(l,vn.ByPos,e,0,0).top,f=t.lineAt(u,vn.ByPos,e,0,0).bottom;return i+=f-h,{from:l,to:u,top:h,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-n)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);n=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,n=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return n+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);n=s.bottom,i=s.domBottom}}eq(e){return e instanceof RC?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,n)=>t.from==e.viewports[n].from&&t.to==e.viewports[n].to):!1}}function mp(r,e){if(e.scale==1)return r;let t=e.toDOM(r.top),n=e.toDOM(r.bottom);return new bo(r.from,r.length,t,n-t,Array.isArray(r._content)?r._content.map(i=>mp(i,e)):r._content)}const My=tt.define({combine:r=>r.join(" ")}),_T=tt.define({combine:r=>r.indexOf(!0)>-1}),bT=$l.newName(),PB=$l.newName(),LB=$l.newName(),BB={"&light":"."+PB,"&dark":"."+LB};function ST(r,e,t){return new $l(e,{finish(n){return/&/.test(n)?n.replace(/&\w*/,i=>{if(i=="&")return r;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):r+" "+n}})}const LJ=ST("."+bT,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},BB),BJ={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Ob=Qe.ie&&Qe.ie_version<=11;class FJ{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new wZ,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let n of t)this.queue.push(n);(Qe.ie&&Qe.ie_version<=11||Qe.ios&&e.composing)&&t.some(n=>n.type=="childList"&&n.removedNodes.length||n.type=="characterData"&&n.oldValue.length>n.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Qe.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Qe.chrome&&Qe.chrome_version<126)&&(this.editContext=new UJ(e),e.state.facet(va)&&(e.contentDOM.editContext=this.editContext.editContext)),Ob&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,n)=>t!=e[n]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:n}=this,i=this.selectionRange;if(n.state.facet(va)?n.root.activeElement!=this.dom:!T0(this.dom,i))return;let s=i.anchorNode&&n.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Qe.ie&&Qe.ie_version<=11||Qe.android&&Qe.chrome)&&!n.state.selection.main.empty&&i.focusNode&&Dp(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=am(e.root);if(!t)return!1;let n=Qe.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&VJ(this.view,t)||t;if(!n||this.selectionRange.eq(n))return!1;let i=T0(this.dom,n);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&bZ(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let n=this.dom;n;)if(n.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==n?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(n),n=n.assignedSlot||n.parentNode;else if(n.nodeType==11)n=n.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let n of this.scrollTargets)n.removeEventListener("scroll",this.onScroll);for(let n of this.scrollTargets=t)n.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,BJ),Ob&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Ob&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var n;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&Wh(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((n=this.delayedAndroidKey)===null||n===void 0)&&n.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,n=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:n}=o:(t=Math.min(o.from,t),n=Math.max(o.to,n)))}return{from:t,to:n,typeOver:i}}readChange(){let{from:e,to:t,typeOver:n}=this.processRecords(),i=this.selectionChanged&&T0(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new nJ(this.view,e,t,n);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let n=this.view.state,i=TB(this.view,t);return this.view.state==n&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let n=qN(t,e.previousSibling||e.target.previousSibling,-1),i=qN(t,e.nextSibling||e.target.nextSibling,1);return{from:n?t.posAfter(n):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(va)!=e.state.facet(va)&&(e.view.contentDOM.editContext=e.state.facet(va)?this.editContext.editContext:null))}destroy(){var e,t,n;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(n=this.resizeScroll)===null||n===void 0||n.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function qN(r,e,t){for(;e;){let n=mn.get(e);if(n&&n.parent==r)return n;let i=e.parentNode;e=i!=r.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function WN(r,e){let t=e.startContainer,n=e.startOffset,i=e.endContainer,s=e.endOffset,o=r.docView.domAtPos(r.state.selection.main.anchor);return Dp(o.node,o.offset,i,s)&&([t,n,i,s]=[i,s,t,n]),{anchorNode:t,anchorOffset:n,focusNode:i,focusOffset:s}}function VJ(r,e){if(e.getComposedRanges){let i=e.getComposedRanges(r.root)[0];if(i)return WN(r,i)}let t=null;function n(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return r.contentDOM.addEventListener("beforeinput",n,!0),r.dom.ownerDocument.execCommand("indent"),r.contentDOM.removeEventListener("beforeinput",n,!0),t?WN(r,t):null}class UJ{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=n=>{let i=e.state.selection.main,{anchor:s,head:o}=i,l=this.toEditorPos(n.updateRangeStart),u=this.toEditorPos(n.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:n.updateRangeStart,editorBase:l,drifted:!1});let h={from:l,to:u,insert:Qt.of(n.text.split(`
`))};if(h.from==this.from&&s<this.from?h.from=s:h.to==this.to&&s>this.to&&(h.to=s),h.from==h.to&&!h.insert.length){let f=Ue.single(this.toEditorPos(n.selectionStart),this.toEditorPos(n.selectionEnd));f.main.eq(i)||e.dispatch({selection:f,userEvent:"select"});return}if((Qe.mac||Qe.android)&&h.from==o-1&&/^\. ?$/.test(n.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(h={from:l,to:u,insert:Qt.of([n.text.replace("."," ")])}),this.pendingContextChange=h,!e.state.readOnly){let f=this.to-this.from+(h.to-h.from+h.insert.length);AC(e,h,Ue.single(this.toEditorPos(n.selectionStart,f),this.toEditorPos(n.selectionEnd,f)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state))},this.handlers.characterboundsupdate=n=>{let i=[],s=null;for(let o=this.toEditorPos(n.rangeStart),l=this.toEditorPos(n.rangeEnd);o<l;o++){let u=e.coordsForChar(o);s=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(n.rangeStart,i)},this.handlers.textformatupdate=n=>{let i=[];for(let s of n.getTextFormats()){let o=s.underlineStyle,l=s.underlineThickness;if(o!="None"&&l!="None"){let u=this.toEditorPos(s.rangeStart),h=this.toEditorPos(s.rangeEnd);if(u<h){let f=`text-decoration: underline ${o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${l=="Thin"?1:2}px`;i.push(ht.mark({attributes:{style:f}}).range(u,h))}}}e.dispatch({effects:vB.of(ht.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:n}=this.composing;this.composing=null,n&&this.reset(e.state)}};for(let n in this.handlers)t.addEventListener(n,this.handlers[n]);this.measureReq={read:n=>{this.editContext.updateControlBounds(n.contentDOM.getBoundingClientRect());let i=am(n.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,n=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,l,u,h)=>{if(n)return;let f=h.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(h)){i=this.pendingContextChange=null,t+=f,this.to+=f;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=f,this.to+=f;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+h.length>3e4){n=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),h.toString()),this.to+=f}t+=f}),i&&!n&&this.revertPending(e.state),!n}update(e){let t=this.pendingContextChange,n=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(n.from,n.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,n=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=n||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(n,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let n=this.composing;return n&&n.drifted?n.editorBase+(e-n.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class Xe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(i=>i.forEach(s=>n(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||_Z(e.parent)||document,this.viewState=new jN(e.state||Ft.create(e)),e.scrollTo&&e.scrollTo.is(Ry)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ih).map(i=>new Rb(i));for(let i of this.plugins)i.update(this);this.observer=new FJ(this),this.inputState=new aJ(this),this.inputState.ensureHandlers(this.plugins),this.docView=new EN(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof ar?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,n=!1,i,s=this.state;for(let g of e){if(g.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=g.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,u=null;e.some(g=>g.annotation(IB))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,u=OB(s,o),u||(l=1));let h=this.observer.delayedAndroidKey,f=null;if(h?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(f=null)):this.observer.clear(),s.facet(Ft.phrases)!=this.state.facet(Ft.phrases))return this.setState(s);i=xv.create(this,s,e),i.flags|=l;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let g of e){if(p&&(p=p.map(g.changes)),g.scrollIntoView){let{main:y}=g.state.selection;p=new Gh(y.empty?y:Ue.cursor(y.head,y.head>y.anchor?-1:1))}for(let y of g.effects)y.is(Ry)&&(p=y.value.clip(this.state))}this.viewState.update(i,p),this.bidiCache=Av.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(dp)!=this.styleModules&&this.mountStyles(),n=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(g=>g.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(My)!=i.state.facet(My)&&(this.viewState.mustMeasureContent=!0),(t||n||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let g of this.state.facet(gT))try{g(i)}catch(y){_i(this.state,y,"update listener")}(u||f)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),f&&!TB(this,f)&&h.force&&Wh(this.contentDOM,h.key,h.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let n of this.plugins)n.destroy(this);this.viewState=new jN(e),this.plugins=e.facet(Ih).map(n=>new Rb(n)),this.pluginMap.clear();for(let n of this.plugins)n.update(this);this.docView.destroy(),this.docView=new EN(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ih),n=e.state.facet(Ih);if(t!=n){let i=[];for(let s of n){let o=t.indexOf(s);if(o<0)i.push(new Rb(s));else{let l=this.plugins[o];l.mustUpdate=e,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=n&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(n){_i(this.state,n,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,n=this.scrollDOM,i=n.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(G8(n))s=-1,o=this.viewState.heightMap.height;else{let y=this.viewState.scrollAnchorAt(i);s=y.from,o=y.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let h=[];u&4||([this.measureRequests,h]=[h,this.measureRequests]);let f=h.map(y=>{try{return y.read(this)}catch(_){return _i(this.state,_),GN}}),p=xv.create(this,this.state,[]),g=!1;p.flags|=u,t?t.flags|=u:t=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),g=this.docView.update(p),g&&this.docViewUpdate());for(let y=0;y<h.length;y++)if(f[y]!=GN)try{let _=h[y];_.write&&_.write(f[y],this)}catch(_){_i(this.state,_)}if(g&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let _=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(_>1||_<-1){i=i+_,n.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(gT))l(t)}get themeClasses(){return bT+" "+(this.state.facet(_T)?LB:PB)+" "+this.state.facet(My)}updateAttrs(){let e=KN(this,wB,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(va)?"true":"false",class:"cm-content",style:`${Qe.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),KN(this,EC,t);let n=this.observer.ignore(()=>{let i=hT(this.contentDOM,this.contentAttrs,t),s=hT(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,n}showAnnouncements(e){let t=!0;for(let n of e)for(let i of n.effects)if(i.is(Xe.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(dp);let e=this.state.facet(Xe.cspNonce);$l.mount(this.root,this.styleModules.concat(LJ).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(n=>n.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,n){return Db(this,e,RN(this,e,t,n))}moveByGroup(e,t){return Db(this,e,RN(this,e,t,n=>ZZ(this,e.head,n)))}visualLineSide(e,t){let n=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=n[t?n.length-1:0];return Ue.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,n=!0){return QZ(this,e,t,n)}moveVertically(e,t,n){return Db(this,e,JZ(this,e,t,n))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),xB(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let n=this.docView.coordsAt(e,t);if(!n||n.left==n.right)return n;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[Cl.find(s,e-i.from,-1,t)];return Lm(n,o.dir==_n.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(mB)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>zJ)return aB(e.length);let t=this.textDirectionAt(e.from),n;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||oB(s.isolates,n=SN(this,e))))return s.order;n||(n=SN(this,e));let i=PZ(e.text,t,n);return this.bidiCache.push(new Av(e.from,e.to,t,n,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Qe.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{q8(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Ry.of(new Gh(typeof e=="number"?Ue.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,n=this.viewState.scrollAnchorAt(e);return Ry.of(new Gh(Ue.cursor(n.from),"start","start",n.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Vn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Vn.define(()=>({}),{eventObservers:e})}static theme(e,t){let n=$l.newName(),i=[My.of(n),dp.of(ST(`.${n}`,e))];return t&&t.dark&&i.push(_T.of(!0)),i}static baseTheme(e){return Rc.lowest(dp.of(ST("."+bT,e,BB)))}static findFromDOM(e){var t;let n=e.querySelector(".cm-content"),i=n&&mn.get(n)||mn.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}Xe.styleModule=dp;Xe.inputHandler=dB;Xe.clipboardInputFilter=bC;Xe.clipboardOutputFilter=SC;Xe.scrollHandler=yB;Xe.focusChangeEffect=pB;Xe.perLineTextDirection=mB;Xe.exceptionSink=fB;Xe.updateListener=gT;Xe.editable=va;Xe.mouseSelectionStyle=hB;Xe.dragMovesSelection=cB;Xe.clickAddsSelectionRange=uB;Xe.decorations=lm;Xe.outerDecorations=_B;Xe.atomicRanges=xC;Xe.bidiIsolatedRanges=bB;Xe.scrollMargins=SB;Xe.darkTheme=_T;Xe.cspNonce=tt.define({combine:r=>r.length?r[0]:""});Xe.contentAttributes=EC;Xe.editorAttributes=wB;Xe.lineWrapping=Xe.contentAttributes.of({class:"cm-lineWrapping"});Xe.announce=Et.define();const zJ=4096,GN={};class Av{constructor(e,t,n,i,s,o){this.from=e,this.to=t,this.dir=n,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let n=[],i=e.length?e[e.length-1].dir:_n.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&n.push(new Av(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return n}}function KN(r,e,t){for(let n=r.state.facet(e),i=n.length-1;i>=0;i--){let s=n[i],o=typeof s=="function"?s(r):s;o&&cT(o,t)}return t}const jJ=Qe.mac?"mac":Qe.windows?"win":Qe.linux?"linux":"key";function HJ(r,e){const t=r.split(/-(?!$)/);let n=t[t.length-1];n=="Space"&&(n=" ");let i,s,o,l;for(let u=0;u<t.length-1;++u){const h=t[u];if(/^(cmd|meta|m)$/i.test(h))l=!0;else if(/^a(lt)?$/i.test(h))i=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return i&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function Py(r,e,t){return e.altKey&&(r="Alt-"+r),e.ctrlKey&&(r="Ctrl-"+r),e.metaKey&&(r="Meta-"+r),t!==!1&&e.shiftKey&&(r="Shift-"+r),r}const qJ=Rc.default(Xe.domEventHandlers({keydown(r,e){return VB(FB(e.state),r,e,"editor")}})),Aw=tt.define({enables:qJ}),$N=new WeakMap;function FB(r){let e=r.facet(Aw),t=$N.get(e);return t||$N.set(e,t=KJ(e.reduce((n,i)=>n.concat(i),[]))),t}function WJ(r,e,t){return VB(FB(r.state),e,r,t)}let wl=null;const GJ=4e3;function KJ(r,e=jJ){let t=Object.create(null),n=Object.create(null),i=(o,l)=>{let u=n[o];if(u==null)n[o]=l;else if(u!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,u,h,f)=>{var p,g;let y=t[o]||(t[o]=Object.create(null)),_=l.split(/ (?!$)/).map(b=>HJ(b,e));for(let b=1;b<_.length;b++){let A=_.slice(0,b).join(" ");i(A,!0),y[A]||(y[A]={preventDefault:!0,stopPropagation:!1,run:[T=>{let x=wl={view:T,prefix:A,scope:o};return setTimeout(()=>{wl==x&&(wl=null)},GJ),!0}]})}let w=_.join(" ");i(w,!1);let E=y[w]||(y[w]={preventDefault:!1,stopPropagation:!1,run:((g=(p=y._any)===null||p===void 0?void 0:p.run)===null||g===void 0?void 0:g.slice())||[]});u&&E.run.push(u),h&&(E.preventDefault=!0),f&&(E.stopPropagation=!0)};for(let o of r){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let h of l){let f=t[h]||(t[h]=Object.create(null));f._any||(f._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=o;for(let g in f)f[g].run.push(y=>p(y,ET))}let u=o[e]||o.key;if(u)for(let h of l)s(h,u,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(h,"Shift-"+u,o.shift,o.preventDefault,o.stopPropagation)}return t}let ET=null;function VB(r,e,t,n){ET=e;let i=mZ(e),s=gi(i,0),o=_o(s)==i.length&&i!=" ",l="",u=!1,h=!1,f=!1;wl&&wl.view==t&&wl.scope==n&&(l=wl.prefix+" ",CB.indexOf(e.keyCode)<0&&(h=!0,wl=null));let p=new Set,g=E=>{if(E){for(let b of E.run)if(!p.has(b)&&(p.add(b),b(t)))return E.stopPropagation&&(f=!0),!0;E.preventDefault&&(E.stopPropagation&&(f=!0),h=!0)}return!1},y=r[n],_,w;return y&&(g(y[l+Py(i,e,!o)])?u=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Qe.windows&&e.ctrlKey&&e.altKey)&&!(Qe.mac&&e.altKey&&!e.ctrlKey)&&(_=Yl[e.keyCode])&&_!=i?(g(y[l+Py(_,e,!0)])||e.shiftKey&&(w=om[e.keyCode])!=i&&w!=_&&g(y[l+Py(w,e,!1)]))&&(u=!0):o&&e.shiftKey&&g(y[l+Py(i,e,!0)])&&(u=!0),!u&&g(y._any)&&(u=!0)),h&&(u=!0),u&&f&&e.stopPropagation(),ET=null,u}class Vm{constructor(e,t,n,i,s){this.className=e,this.left=t,this.top=n,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,n){if(n.empty){let i=e.coordsAtPos(n.head,n.assoc||1);if(!i)return[];let s=UB(e);return[new Vm(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return $J(e,t,n)}}function UB(r){let e=r.scrollDOM.getBoundingClientRect();return{left:(r.textDirection==_n.LTR?e.left:e.right-r.scrollDOM.clientWidth*r.scaleX)-r.scrollDOM.scrollLeft*r.scaleX,top:e.top-r.scrollDOM.scrollTop*r.scaleY}}function YN(r,e,t,n){let i=r.coordsAtPos(e,t*2);if(!i)return n;let s=r.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,l=r.posAtCoords({x:s.left+1,y:o}),u=r.posAtCoords({x:s.right-1,y:o});return l==null||u==null?n:{from:Math.max(n.from,Math.min(l,u)),to:Math.min(n.to,Math.max(l,u))}}function $J(r,e,t){if(t.to<=r.viewport.from||t.from>=r.viewport.to)return[];let n=Math.max(t.from,r.viewport.from),i=Math.min(t.to,r.viewport.to),s=r.textDirection==_n.LTR,o=r.contentDOM,l=o.getBoundingClientRect(),u=UB(r),h=o.querySelector(".cm-line"),f=h&&window.getComputedStyle(h),p=l.left+(f?parseInt(f.paddingLeft)+Math.min(0,parseInt(f.textIndent)):0),g=l.right-(f?parseInt(f.paddingRight):0),y=vT(r,n,1),_=vT(r,i,-1),w=y.type==ui.Text?y:null,E=_.type==ui.Text?_:null;if(w&&(r.lineWrapping||y.widgetLineBreaks)&&(w=YN(r,n,1,w)),E&&(r.lineWrapping||_.widgetLineBreaks)&&(E=YN(r,i,-1,E)),w&&E&&w.from==E.from&&w.to==E.to)return A(T(t.from,t.to,w));{let D=w?T(t.from,null,w):x(y,!1),P=E?T(null,t.to,E):x(_,!0),N=[];return(w||y).to<(E||_).from-(w&&E?1:0)||y.widgetLineBreaks>1&&D.bottom+r.defaultLineHeight/2<P.top?N.push(b(p,D.bottom,g,P.top)):D.bottom<P.top&&r.elementAtHeight((D.bottom+P.top)/2).type==ui.Text&&(D.bottom=P.top=(D.bottom+P.top)/2),A(D).concat(N).concat(A(P))}function b(D,P,N,O){return new Vm(e,D-u.left,P-u.top,N-D,O-P)}function A({top:D,bottom:P,horizontal:N}){let O=[];for(let C=0;C<N.length;C+=2)O.push(b(N[C],D,N[C+1],P));return O}function T(D,P,N){let O=1e9,C=-1e9,q=[];function $(B,oe,Q,X,fe){let de=r.coordsAtPos(B,B==N.to?-2:2),ee=r.coordsAtPos(Q,Q==N.from?2:-2);!de||!ee||(O=Math.min(de.top,ee.top,O),C=Math.max(de.bottom,ee.bottom,C),fe==_n.LTR?q.push(s&&oe?p:de.left,s&&X?g:ee.right):q.push(!s&&X?p:ee.left,!s&&oe?g:de.right))}let M=D??N.from,V=P??N.to;for(let B of r.visibleRanges)if(B.to>M&&B.from<V)for(let oe=Math.max(B.from,M),Q=Math.min(B.to,V);;){let X=r.state.doc.lineAt(oe);for(let fe of r.bidiSpans(X)){let de=fe.from+X.from,ee=fe.to+X.from;if(de>=Q)break;ee>oe&&$(Math.max(de,oe),D==null&&de<=M,Math.min(ee,Q),P==null&&ee>=V,fe.dir)}if(oe=X.to+1,oe>=Q)break}return q.length==0&&$(M,D==null,V,P==null,r.textDirection),{top:O,bottom:C,horizontal:q}}function x(D,P){let N=l.top+(P?D.top:D.bottom);return{top:N,bottom:N,horizontal:[]}}}function YJ(r,e){return r.constructor==e.constructor&&r.eq(e)}class XJ{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(k0)!=e.state.facet(k0)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,n=e.facet(k0);for(;t<n.length&&n[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,n)=>!YJ(t,this.drawn[n]))){let t=this.dom.firstChild,n=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[n].constructor&&i.update(t,this.drawn[n])?(t=t.nextSibling,n++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const k0=tt.define();function zB(r){return[Vn.define(e=>new XJ(e,r)),k0.of(r)]}const um=tt.define({combine(r){return Ho(r,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function QJ(r={}){return[um.of(r),ZJ,JJ,eee,gB.of(!0)]}function jB(r){return r.startState.facet(um)!=r.state.facet(um)}const ZJ=zB({above:!0,markers(r){let{state:e}=r,t=e.facet(um),n=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:Ue.cursor(i.head,i.head>i.anchor?-1:1);for(let u of Vm.forRange(r,o,l))n.push(u)}}return n},update(r,e){r.transactions.some(n=>n.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=jB(r);return t&&XN(r.state,e),r.docChanged||r.selectionSet||t},mount(r,e){XN(e.state,r)},class:"cm-cursorLayer"});function XN(r,e){e.style.animationDuration=r.facet(um).cursorBlinkRate+"ms"}const JJ=zB({above:!1,markers(r){return r.state.selection.ranges.map(e=>e.empty?[]:Vm.forRange(r,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(r,e){return r.docChanged||r.selectionSet||r.viewportChanged||jB(r)},class:"cm-selectionLayer"}),eee=Rc.highest(Xe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),HB=Et.define({map(r,e){return r==null?null:e.mapPos(r)}}),gp=Lr.define({create(){return null},update(r,e){return r!=null&&(r=e.changes.mapPos(r)),e.effects.reduce((t,n)=>n.is(HB)?n.value:t,r)}}),tee=Vn.fromClass(class{constructor(r){this.view=r,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(r){var e;let t=r.state.field(gp);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(r.startState.field(gp)!=t||r.docChanged||r.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:r}=this,e=r.state.field(gp),t=e!=null&&r.coordsAtPos(e);if(!t)return null;let n=r.scrollDOM.getBoundingClientRect();return{left:t.left-n.left+r.scrollDOM.scrollLeft*r.scaleX,top:t.top-n.top+r.scrollDOM.scrollTop*r.scaleY,height:t.bottom-t.top}}drawCursor(r){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;r?(this.cursor.style.left=r.left/e+"px",this.cursor.style.top=r.top/t+"px",this.cursor.style.height=r.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(r){this.view.state.field(gp)!=r&&this.view.dispatch({effects:HB.of(r)})}},{eventObservers:{dragover(r){this.setDropPos(this.view.posAtCoords({x:r.clientX,y:r.clientY}))},dragleave(r){(r.target==this.view.contentDOM||!this.view.contentDOM.contains(r.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function nee(){return[gp,tee]}function QN(r,e,t,n,i){e.lastIndex=0;for(let s=r.iterRange(t,n),o=t,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)i(o+l.index,l)}function ree(r,e){let t=r.visibleRanges;if(t.length==1&&t[0].from==r.viewport.from&&t[0].to==r.viewport.to)return t;let n=[];for(let{from:i,to:s}of t)i=Math.max(r.state.doc.lineAt(i).from,i-e),s=Math.min(r.state.doc.lineAt(s).to,s+e),n.length&&n[n.length-1].to>=i?n[n.length-1].to=s:n.push({from:i,to:s});return n}class iee{constructor(e){const{regexp:t,decoration:n,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(l,u,h,f)=>i(f,h,h+l[0].length,l,u);else if(typeof n=="function")this.addMatch=(l,u,h,f)=>{let p=n(l,u,h);p&&f(h,h+l[0].length,p)};else if(n)this.addMatch=(l,u,h,f)=>f(h,h+l[0].length,n);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Na,n=t.add.bind(t);for(let{from:i,to:s}of ree(e,this.maxLength))QN(e.state.doc,this.regexp,i,s,(o,l)=>this.addMatch(l,e,o,n));return t.finish()}updateDeco(e,t){let n=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,u)=>{u>=e.view.viewport.from&&l<=e.view.viewport.to&&(n=Math.min(l,n),i=Math.max(u,i))}),e.viewportMoved||i-n>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),n,i):t}updateRange(e,t,n,i){for(let s of e.visibleRanges){let o=Math.max(s.from,n),l=Math.min(s.to,i);if(l>=o){let u=e.state.doc.lineAt(o),h=u.to<l?e.state.doc.lineAt(l):u,f=Math.max(s.from,u.from),p=Math.min(s.to,h.to);if(this.boundary){for(;o>u.from;o--)if(this.boundary.test(u.text[o-1-u.from])){f=o;break}for(;l<h.to;l++)if(this.boundary.test(h.text[l-h.from])){p=l;break}}let g=[],y,_=(w,E,b)=>g.push(b.range(w,E));if(u==h)for(this.regexp.lastIndex=f-u.from;(y=this.regexp.exec(u.text))&&y.index<p-u.from;)this.addMatch(y,e,y.index+u.from,_);else QN(e.state.doc,this.regexp,f,p,(w,E)=>this.addMatch(E,e,w,_));t=t.update({filterFrom:f,filterTo:p,filter:(w,E)=>w<f||E>p,add:g})}}return t}}const xT=/x/.unicode!=null?"gu":"g",see=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,xT),oee={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Nb=null;function aee(){var r;if(Nb==null&&typeof document<"u"&&document.body){let e=document.body.style;Nb=((r=e.tabSize)!==null&&r!==void 0?r:e.MozTabSize)!=null}return Nb||!1}const D0=tt.define({combine(r){let e=Ho(r,{render:null,specialChars:see,addSpecialChars:null});return(e.replaceTabs=!aee())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,xT)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,xT)),e}});function lee(r={}){return[D0.of(r),uee()]}let ZN=null;function uee(){return ZN||(ZN=Vn.fromClass(class{constructor(r){this.view=r,this.decorations=ht.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(r.state.facet(D0)),this.decorations=this.decorator.createDeco(r)}makeDecorator(r){return new iee({regexp:r.specialChars,decoration:(e,t,n)=>{let{doc:i}=t.state,s=gi(e[0],0);if(s==9){let o=i.lineAt(n),l=t.state.tabSize,u=Bf(o.text,l,n-o.from);return ht.replace({widget:new dee((l-u%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=ht.replace({widget:new fee(r,s)}))},boundary:r.replaceTabs?void 0:/[^]/})}update(r){let e=r.state.facet(D0);r.startState.facet(D0)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(r.view)):this.decorations=this.decorator.updateDeco(r,this.decorations)}},{decorations:r=>r.decorations}))}const cee="";function hee(r){return r>=32?cee:r==10?"":String.fromCharCode(9216+r)}class fee extends Ba{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=hee(this.code),n=e.state.phrase("Control character")+" "+(oee[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,n,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=n,s.setAttribute("aria-label",n),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class dee extends Ba{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function pee(){return gee}const mee=ht.line({class:"cm-activeLine"}),gee=Vn.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.docChanged||r.selectionSet)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=-1,t=[];for(let n of r.state.selection.ranges){let i=r.lineBlockAt(n.head);i.from>e&&(t.push(mee.range(i.from)),e=i.from)}return ht.set(t)}},{decorations:r=>r.decorations});class yee extends Ba{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?mf(e.firstChild):[];if(!t.length)return null;let n=window.getComputedStyle(e.parentNode),i=Lm(t[0],n.direction!="rtl"),s=parseInt(n.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function vee(r){let e=Vn.fromClass(class{constructor(t){this.view=t,this.placeholder=r?ht.set([ht.widget({widget:new yee(r),side:1}).range(0)]):ht.none}get decorations(){return this.view.state.doc.length?ht.none:this.placeholder}},{decorations:t=>t.decorations});return typeof r=="string"?[e,Xe.contentAttributes.of({"aria-placeholder":r})]:e}const TT=2e3;function wee(r,e,t){let n=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>TT||t.off>TT||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let u=n;u<=i;u++){let h=r.doc.line(u);h.length<=l&&s.push(Ue.range(h.from+o,h.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let u=n;u<=i;u++){let h=r.doc.line(u),f=rT(h.text,o,r.tabSize,!0);if(f<0)s.push(Ue.cursor(h.to));else{let p=rT(h.text,l,r.tabSize);s.push(Ue.range(h.from+f,h.from+p))}}}return s}function _ee(r,e){let t=r.coordsAtPos(r.viewport.from);return t?Math.round(Math.abs((t.left-e)/r.defaultCharacterWidth)):-1}function JN(r,e){let t=r.posAtCoords({x:e.clientX,y:e.clientY},!1),n=r.state.doc.lineAt(t),i=t-n.from,s=i>TT?-1:i==n.length?_ee(r,e.clientX):Bf(n.text,r.state.tabSize,t-n.from);return{line:n.number,col:s,off:i}}function bee(r,e){let t=JN(r,e),n=r.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},n=n.map(i.changes)}},get(i,s,o){let l=JN(r,i);if(!l)return n;let u=wee(r.state,t,l);return u.length?o?Ue.create(u.concat(n.ranges)):Ue.create(u):n}}:null}function See(r){let e=t=>t.altKey&&t.button==0;return Xe.mouseSelectionStyle.of((t,n)=>e(n)?bee(t,n):null)}const Eee={Alt:[18,r=>!!r.altKey],Control:[17,r=>!!r.ctrlKey],Shift:[16,r=>!!r.shiftKey],Meta:[91,r=>!!r.metaKey]},xee={style:"cursor: crosshair"};function Tee(r={}){let[e,t]=Eee[r.key||"Alt"],n=Vn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[n,Xe.contentAttributes.of(i=>{var s;return!((s=i.plugin(n))===null||s===void 0)&&s.isDown?xee:null})]}const Kd="-10000px";class qB{constructor(e,t,n,i){this.facet=t,this.createTooltipView=n,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=n(o,s))}update(e,t){var n;let i=e.state.facet(this.facet),s=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let o=[],l=t?[]:null;for(let u=0;u<s.length;u++){let h=s[u],f=-1;if(h){for(let p=0;p<this.tooltips.length;p++){let g=this.tooltips[p];g&&g.create==h.create&&(f=p)}if(f<0)o[u]=this.createTooltipView(h,u?o[u-1]:null),l&&(l[u]=!!h.above);else{let p=o[u]=this.tooltipViews[f];l&&(l[u]=t[f]),p.update&&p.update(e)}}}for(let u of this.tooltipViews)o.indexOf(u)<0&&(this.removeTooltipView(u),(n=u.destroy)===null||n===void 0||n.call(u));return t&&(l.forEach((u,h)=>t[h]=u),t.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function Aee(r){let e=r.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const Mb=tt.define({combine:r=>{var e,t,n;return{position:Qe.ios?"absolute":((e=r.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=r.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((n=r.find(i=>i.tooltipSpace))===null||n===void 0?void 0:n.tooltipSpace)||Aee}}}),eM=new WeakMap,kC=Vn.fromClass(class{constructor(r){this.view=r,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=r.state.facet(Mb);this.position=e.position,this.parent=e.parent,this.classes=r.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new qB(r,DC,(t,n)=>this.createTooltip(t,n),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),r.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let r of this.manager.tooltipViews)this.intersectionObserver.observe(r.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(r){r.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(r,this.above);e&&this.observeIntersection();let t=e||r.geometryChanged,n=r.state.facet(Mb);if(n.position!=this.position&&!this.madeAbsolute){this.position=n.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(n.parent!=this.parent){this.parent&&this.container.remove(),this.parent=n.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(r,e){let t=r.create(this.view),n=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),r.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Kd,t.dom.style.left="0px",this.container.insertBefore(t.dom,n),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var r,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(r=n.destroy)===null||r===void 0||r.call(n);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let r=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Qe.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Kd&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(r=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:r,scaleY:e}=this.view.viewState);let n=this.view.scrollDOM.getBoundingClientRect(),i=TC(this.view);return{visible:{left:n.left+i.left,top:n.top+i.top,right:n.right-i.right,bottom:n.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(Mb).tooltipSpace(this.view),scaleX:r,scaleY:e,makeAbsolute:t}}writeMeasure(r){var e;if(r.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:t,space:n,scaleX:i,scaleY:s}=r,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let u=this.manager.tooltips[l],h=this.manager.tooltipViews[l],{dom:f}=h,p=r.pos[l],g=r.size[l];if(!p||u.clip!==!1&&(p.bottom<=Math.max(t.top,n.top)||p.top>=Math.min(t.bottom,n.bottom)||p.right<Math.max(t.left,n.left)-.1||p.left>Math.min(t.right,n.right)+.1)){f.style.top=Kd;continue}let y=u.arrow?h.dom.querySelector(".cm-tooltip-arrow"):null,_=y?7:0,w=g.right-g.left,E=(e=eM.get(h))!==null&&e!==void 0?e:g.bottom-g.top,b=h.offset||Ree,A=this.view.textDirection==_n.LTR,T=g.width>n.right-n.left?A?n.left:n.right-g.width:A?Math.max(n.left,Math.min(p.left-(y?14:0)+b.x,n.right-w)):Math.min(Math.max(n.left,p.left-w+(y?14:0)-b.x),n.right-w),x=this.above[l];!u.strictSide&&(x?p.top-E-_-b.y<n.top:p.bottom+E+_+b.y>n.bottom)&&x==n.bottom-p.bottom>p.top-n.top&&(x=this.above[l]=!x);let D=(x?p.top-n.top:n.bottom-p.bottom)-_;if(D<E&&h.resize!==!1){if(D<this.view.defaultLineHeight){f.style.top=Kd;continue}eM.set(h,E),f.style.height=(E=D)/s+"px"}else f.style.height&&(f.style.height="");let P=x?p.top-E-_-b.y:p.bottom+_+b.y,N=T+w;if(h.overlap!==!0)for(let O of o)O.left<N&&O.right>T&&O.top<P+E&&O.bottom>P&&(P=x?O.top-E-2-_:O.bottom+_+2);if(this.position=="absolute"?(f.style.top=(P-r.parent.top)/s+"px",tM(f,(T-r.parent.left)/i)):(f.style.top=P/s+"px",tM(f,T/i)),y){let O=p.left+(A?b.x:-b.x)-(T+14-7);y.style.left=O/i+"px"}h.overlap!==!0&&o.push({left:T,top:P,right:N,bottom:P+E}),f.classList.toggle("cm-tooltip-above",x),f.classList.toggle("cm-tooltip-below",!x),h.positioned&&h.positioned(r.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let r of this.manager.tooltipViews)r.dom.style.top=Kd}},{eventObservers:{scroll(){this.maybeMeasure()}}});function tM(r,e){let t=parseInt(r.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(r.style.left=e+"px")}const Cee=Xe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),Ree={x:0,y:0},DC=tt.define({enables:[kC,Cee]}),Cv=tt.define({combine:r=>r.reduce((e,t)=>e.concat(t),[])});class Cw{static create(e){return new Cw(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new qB(e,Cv,(t,n)=>this.createHostedView(t,n),t=>t.dom.remove())}createHostedView(e,t){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(n.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let n of this.manager.tooltipViews){let i=n[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const kee=DC.compute([Cv],r=>{let e=r.facet(Cv);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var n;return(n=t.end)!==null&&n!==void 0?n:t.pos})),create:Cw.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Dee{constructor(e,t,n,i,s){this.view=e,this.source=t,this.field=n,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,n=e.docView.nearest(t.target);if(!n)return;let i,s=1;if(n instanceof Al)i=n.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let l=e.coordsAtPos(i);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),h=u&&u.dir==_n.RTL?-1:1;s=t.x<l.left?-h:h}let o=this.source(e,i,s);if(o?.then){let l=this.pending={pos:i};o.then(u=>{this.pending==l&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>_i(e.state,u,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(kC),t=e?e.manager.tooltips.findIndex(n=>n.create==Cw.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!Iee(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,l=(n=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&n!==void 0?n:o;(o==l?this.view.posAtCoords(this.lastMove)!=o:!Oee(this.view,o,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:n}=this;n&&n.dom.contains(e.relatedTarget)?this.watchTooltipLeave(n.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=n=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(n.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ly=4;function Iee(r,e){let{left:t,right:n,top:i,bottom:s}=r.getBoundingClientRect(),o;if(o=r.querySelector(".cm-tooltip-arrow")){let l=o.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return e.clientX>=t-Ly&&e.clientX<=n+Ly&&e.clientY>=i-Ly&&e.clientY<=s+Ly}function Oee(r,e,t,n,i,s){let o=r.scrollDOM.getBoundingClientRect(),l=r.documentTop+r.documentPadding.top+r.contentHeight;if(o.left>n||o.right<n||o.top>i||Math.min(o.bottom,l)<i)return!1;let u=r.posAtCoords({x:n,y:i},!1);return u>=e&&u<=t}function Nee(r,e={}){let t=Et.define(),n=Lr.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let l of i){let u=s.changes.mapPos(l.pos,-1,li.TrackDel);if(u!=null){let h=Object.assign(Object.create(null),l);h.pos=u,h.end!=null&&(h.end=s.changes.mapPos(h.end)),o.push(h)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(Mee)&&(i=[]);return i},provide:i=>Cv.from(i)});return{active:n,extension:[n,Vn.define(i=>new Dee(i,r,n,t,e.hoverTime||300)),kee]}}function WB(r,e){let t=r.plugin(kC);if(!t)return null;let n=t.manager.tooltips.indexOf(e);return n<0?null:t.manager.tooltipViews[n]}const Mee=Et.define(),nM=tt.define({combine(r){let e,t;for(let n of r)e=e||n.topContainer,t=t||n.bottomContainer;return{topContainer:e,bottomContainer:t}}});function cm(r,e){let t=r.plugin(GB),n=t?t.specs.indexOf(e):-1;return n>-1?t.panels[n]:null}const GB=Vn.fromClass(class{constructor(r){this.input=r.state.facet(hm),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(r));let e=r.state.facet(nM);this.top=new By(r,!0,e.topContainer),this.bottom=new By(r,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(r){let e=r.state.facet(nM);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new By(r.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new By(r.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=r.state.facet(hm);if(t!=this.input){let n=t.filter(u=>u),i=[],s=[],o=[],l=[];for(let u of n){let h=this.specs.indexOf(u),f;h<0?(f=u(r.view),l.push(f)):(f=this.panels[h],f.update&&f.update(r)),i.push(f),(f.top?s:o).push(f)}this.specs=n,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let u of l)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let n of this.panels)n.update&&n.update(r)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:r=>Xe.scrollMargins.of(e=>{let t=e.plugin(r);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class By{constructor(e,t,n){this.view=e,this.top=t,this.container=n,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=rM(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=rM(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function rM(r){let e=r.nextSibling;return r.remove(),e}const hm=tt.define({enables:GB});class Pa extends gc{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Pa.prototype.elementClass="";Pa.prototype.toDOM=void 0;Pa.prototype.mapMode=li.TrackBefore;Pa.prototype.startSide=Pa.prototype.endSide=-1;Pa.prototype.point=!0;const I0=tt.define(),Pee=tt.define(),Lee={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Gt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Op=tt.define();function Bee(r){return[KB(),Op.of({...Lee,...r})]}const iM=tt.define({combine:r=>r.some(e=>e)});function KB(r){return[Fee]}const Fee=Vn.fromClass(class{constructor(r){this.view=r,this.domAfter=null,this.prevViewport=r.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=r.state.facet(Op).map(e=>new oM(r,e)),this.fixed=!r.state.facet(iM);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),r.scrollDOM.insertBefore(this.dom,r.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(r){if(this.updateGutters(r)){let e=this.prevViewport,t=r.view.viewport,n=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(n<(t.to-t.from)*.8)}if(r.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(iM)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=r.view.viewport}syncGutters(r){let e=this.dom.nextSibling;r&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=Gt.iter(this.view.state.facet(I0),this.view.viewport.from),n=[],i=this.gutters.map(s=>new Vee(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(n.length&&(n=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==ui.Text&&o){AT(t,n,l.from);for(let u of i)u.line(this.view,l,n);o=!1}else if(l.widget)for(let u of i)u.widget(this.view,l)}else if(s.type==ui.Text){AT(t,n,s.from);for(let o of i)o.line(this.view,s,n)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();r&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(r){let e=r.startState.facet(Op),t=r.state.facet(Op),n=r.docChanged||r.heightChanged||r.viewportChanged||!Gt.eq(r.startState.facet(I0),r.state.facet(I0),r.view.viewport.from,r.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(r)&&(n=!0);else{n=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new oM(this.view,s)):(this.gutters[o].update(r),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return n}destroy(){for(let r of this.gutters)r.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:r=>Xe.scrollMargins.of(e=>{let t=e.plugin(r);if(!t||t.gutters.length==0||!t.fixed)return null;let n=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==_n.LTR?{left:n,right:i}:{right:n,left:i}})});function sM(r){return Array.isArray(r)?r:[r]}function AT(r,e,t){for(;r.value&&r.from<=t;)r.from==t&&e.push(r.value),r.next()}class Vee{constructor(e,t,n){this.gutter=e,this.height=n,this.i=0,this.cursor=Gt.iter(e.markers,t.from)}addElement(e,t,n){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let l=new $B(e,o,s,n);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,o,s,n);this.height=t.bottom,this.i++}line(e,t,n){let i=[];AT(this.cursor,i,t.from),n.length&&(i=i.concat(n));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let n=this.gutter.config.widgetMarker(e,t.widget,t),i=n?[n]:null;for(let s of e.state.facet(Pee)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class oM{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let n in t.domEventHandlers)this.dom.addEventListener(n,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let u=s.getBoundingClientRect();o=(u.top+u.bottom)/2}else o=i.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[n](e,l,i)&&i.preventDefault()});this.markers=sM(t.markers(e)),t.initialSpacer&&(this.spacer=new $B(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=sM(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let n=e.view.viewport;return!Gt.eq(this.markers,t,n.from,n.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class $B{constructor(e,t,n,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,n,i)}update(e,t,n,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=n&&(this.dom.style.marginTop=(this.above=n)?n+"px":""),Uee(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let n="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let l=o,u=s<t.length?t[s++]:null,h=!1;if(u){let f=u.elementClass;f&&(n+=" "+f);for(let p=o;p<this.markers.length;p++)if(this.markers[p].compare(u)){l=p,h=!0;break}}else l=this.markers.length;for(;o<l;){let f=this.markers[o++];if(f.toDOM){f.destroy(i);let p=i.nextSibling;i.remove(),i=p}}if(!u)break;u.toDOM&&(h?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),h&&o++}this.dom.className=n,this.markers=t}destroy(){this.setMarkers(null,[])}}function Uee(r,e){if(r.length!=e.length)return!1;for(let t=0;t<r.length;t++)if(!r[t].compare(e[t]))return!1;return!0}const zee=tt.define(),jee=tt.define(),Oh=tt.define({combine(r){return Ho(r,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let n=Object.assign({},e);for(let i in t){let s=n[i],o=t[i];n[i]=s?(l,u,h)=>s(l,u,h)||o(l,u,h):o}return n}})}});class Pb extends Pa{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Lb(r,e){return r.state.facet(Oh).formatNumber(e,r.state)}const Hee=Op.compute([Oh],r=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(zee)},lineMarker(e,t,n){return n.some(i=>i.toDOM)?null:new Pb(Lb(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,n)=>{for(let i of e.state.facet(jee)){let s=i(e,t,n);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Oh)!=e.state.facet(Oh),initialSpacer(e){return new Pb(Lb(e,aM(e.state.doc.lines)))},updateSpacer(e,t){let n=Lb(t.view,aM(t.view.state.doc.lines));return n==e.number?e:new Pb(n)},domEventHandlers:r.facet(Oh).domEventHandlers,side:"before"}));function qee(r={}){return[Oh.of(r),KB(),Hee]}function aM(r){let e=9;for(;e<r;)e=e*10+9;return e}const Wee=new class extends Pa{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Gee=I0.compute(["selection"],r=>{let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.head).from;i>t&&(t=i,e.push(Wee.range(i)))}return Gt.of(e)});function Kee(){return Gee}const $ee=1024;let Yee=0;class Bb{constructor(e,t){this.from=e,this.to=t}}class Ut{constructor(e={}){this.id=Yee++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Cs.match(e)),t=>{let n=e(t);return n===void 0?null:[this,n]}}}Ut.closedBy=new Ut({deserialize:r=>r.split(" ")});Ut.openedBy=new Ut({deserialize:r=>r.split(" ")});Ut.group=new Ut({deserialize:r=>r.split(" ")});Ut.isolate=new Ut({deserialize:r=>{if(r&&r!="rtl"&&r!="ltr"&&r!="auto")throw new RangeError("Invalid value for isolate: "+r);return r||"auto"}});Ut.contextHash=new Ut({perNode:!0});Ut.lookAhead=new Ut({perNode:!0});Ut.mounted=new Ut({perNode:!0});class Rv{constructor(e,t,n){this.tree=e,this.overlay=t,this.parser=n}static get(e){return e&&e.props&&e.props[Ut.mounted.id]}}const Xee=Object.create(null);class Cs{constructor(e,t,n,i=0){this.name=e,this.props=t,this.id=n,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Xee,n=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Cs(e.name||"",t,e.id,n);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ut.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let n in e)for(let i of n.split(" "))t[i]=e[n];return n=>{for(let i=n.prop(Ut.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?n.name:i[s]];if(o)return o}}}}Cs.none=new Cs("",Object.create(null),0,8);const Fy=new WeakMap,lM=new WeakMap;var Ir;(function(r){r[r.ExcludeBuffers=1]="ExcludeBuffers",r[r.IncludeAnonymous=2]="IncludeAnonymous",r[r.IgnoreMounts=4]="IgnoreMounts",r[r.IgnoreOverlays=8]="IgnoreOverlays"})(Ir||(Ir={}));class Kr{constructor(e,t,n,i,s){if(this.type=e,this.children=t,this.positions=n,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=Rv.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let n of this.children){let i=n.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new RT(this.topNode,e)}cursorAt(e,t=0,n=0){let i=Fy.get(this)||this.topNode,s=new RT(i);return s.moveTo(e,t),Fy.set(this,s._tree),s}get topNode(){return new xs(this,0,0,null)}resolve(e,t=0){let n=fm(Fy.get(this)||this.topNode,e,t,!1);return Fy.set(this,n),n}resolveInner(e,t=0){let n=fm(lM.get(this)||this.topNode,e,t,!0);return lM.set(this,n),n}resolveStack(e,t=0){return Jee(this,e,t)}iterate(e){let{enter:t,leave:n,from:i=0,to:s=this.length}=e,o=e.mode||0,l=(o&Ir.IncludeAnonymous)>0;for(let u=this.cursor(o|Ir.IncludeAnonymous);;){let h=!1;if(u.from<=s&&u.to>=i&&(!l&&u.type.isAnonymous||t(u)!==!1)){if(u.firstChild())continue;h=!0}for(;h&&n&&(l||!u.type.isAnonymous)&&n(u),!u.nextSibling();){if(!u.parent())return;h=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:NC(Cs.none,this.children,this.positions,0,this.children.length,0,this.length,(t,n,i)=>new Kr(this.type,t,n,i,this.propValues),e.makeTree||((t,n,i)=>new Kr(Cs.none,t,n,i)))}static build(e){return ete(e)}}Kr.empty=new Kr(Cs.none,[],[],0);class IC{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new IC(this.buffer,this.index)}}class Ql{constructor(e,t,n){this.buffer=e,this.length=t,this.set=n}get type(){return Cs.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],n=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,n==e)return s;let o=[];for(;e<n;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,n,i,s){let{buffer:o}=this,l=-1;for(let u=e;u!=t&&!(YB(s,i,o[u+1],o[u+2])&&(l=u,n>0));u=o[u+3]);return l}slice(e,t,n){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let l=e,u=0;l<t;){s[u++]=i[l++],s[u++]=i[l++]-n;let h=s[u++]=i[l++]-n;s[u++]=i[l++]-e,o=Math.max(o,h)}return new Ql(s,o,this.set)}}function YB(r,e,t,n){switch(r){case-2:return t<e;case-1:return n>=e&&t<e;case 0:return t<e&&n>e;case 1:return t<=e&&n>e;case 2:return n>e;case 4:return!0}}function fm(r,e,t,n){for(var i;r.from==r.to||(t<1?r.from>=e:r.from>e)||(t>-1?r.to<=e:r.to<e);){let o=!n&&r instanceof xs&&r.index<0?null:r.parent;if(!o)return r;r=o}let s=n?0:Ir.IgnoreOverlays;if(n)for(let o=r,l=o.parent;l;o=l,l=o.parent)o instanceof xs&&o.index<0&&((i=l.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(r=l);for(;;){let o=r.enter(e,t,s);if(!o)return r;r=o}}class XB{cursor(e=0){return new RT(this,e)}getChild(e,t=null,n=null){let i=uM(this,e,t,n);return i.length?i[0]:null}getChildren(e,t=null,n=null){return uM(this,e,t,n)}resolve(e,t=0){return fm(this,e,t,!1)}resolveInner(e,t=0){return fm(this,e,t,!0)}matchContext(e){return CT(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),n=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}get node(){return this}get next(){return this.parent}}class xs extends XB{constructor(e,t,n,i){super(),this._tree=e,this.from=t,this.index=n,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,n,i,s=0){for(let o=this;;){for(let{children:l,positions:u}=o._tree,h=t>0?l.length:-1;e!=h;e+=t){let f=l[e],p=u[e]+o.from;if(YB(i,n,p,p+f.length)){if(f instanceof Ql){if(s&Ir.ExcludeBuffers)continue;let g=f.findChild(0,f.buffer.length,t,n-p,i);if(g>-1)return new Rl(new Qee(o,f,e,p),null,g)}else if(s&Ir.IncludeAnonymous||!f.type.isAnonymous||OC(f)){let g;if(!(s&Ir.IgnoreMounts)&&(g=Rv.get(f))&&!g.overlay)return new xs(g.tree,p,e,o);let y=new xs(f,p,e,o);return s&Ir.IncludeAnonymous||!y.type.isAnonymous?y:y.nextChild(t<0?f.children.length-1:0,t,n,i)}}}if(s&Ir.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,n=0){let i;if(!(n&Ir.IgnoreOverlays)&&(i=Rv.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:l}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?l>=s:l>s))return new xs(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,n)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function uM(r,e,t,n){let i=r.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(n!=null&&i.type.is(n))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return n==null?s:[]}}function CT(r,e,t=e.length-1){for(let n=r;t>=0;n=n.parent){if(!n)return!1;if(!n.type.isAnonymous){if(e[t]&&e[t]!=n.name)return!1;t--}}return!0}class Qee{constructor(e,t,n,i){this.parent=e,this.buffer=t,this.index=n,this.start=i}}class Rl extends XB{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,n){super(),this.context=e,this._parent=t,this.index=n,this.type=e.buffer.set.types[e.buffer.buffer[n]]}child(e,t,n){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,n);return s<0?null:new Rl(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,n=0){if(n&Ir.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Rl(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Rl(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Rl(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:n}=this.context,i=this.index+4,s=n.buffer[this.index+3];if(s>i){let o=n.buffer[this.index+1];e.push(n.slice(i,s,o)),t.push(0)}return new Kr(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function QB(r){if(!r.length)return null;let e=0,t=r[0];for(let s=1;s<r.length;s++){let o=r[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let n=t instanceof xs&&t.index<0?null:t.parent,i=r.slice();return n?i[e]=n:i.splice(e,1),new Zee(i,t)}class Zee{constructor(e,t){this.heads=e,this.node=t}get next(){return QB(this.heads)}}function Jee(r,e,t){let n=r.resolveInner(e,t),i=null;for(let s=n instanceof xs?n:n.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[n])).push(o.resolve(e,t)),s=o}else{let o=Rv.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new xs(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[n])).push(fm(l,e,t,!1))}}return i?QB(i):n}class RT{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof xs)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let n=e._parent;n;n=n._parent)this.stack.unshift(n.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:n,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=n+i.buffer[e+1],this.to=n+i.buffer[e+2],!0}yield(e){return e?e instanceof xs?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,n){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,n,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,n);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,n=this.mode){return this.buffer?n&Ir.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,n))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ir.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ir.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,n=this.stack.length-1;if(e<0){let i=n<0?0:this.stack[n]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(n<0?t.buffer.length:t.buffer[this.stack[n]+3]))return this.yieldBuf(i)}return n<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,n,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:n}=i)}else({index:t,_parent:n}=this._tree);for(;n;{index:t,_parent:n}=n)if(t>-1)for(let s=t+e,o=e<0?-1:n._tree.children.length;s!=o;s+=e){let l=n._tree.children[s];if(this.mode&Ir.IncludeAnonymous||l instanceof Ql||!l.type.isAnonymous||OC(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,n=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,n=s+1;break e}i=this.stack[--s]}for(let i=n;i<this.stack.length;i++)t=new Rl(this.buffer,t,this.stack[i]);return this.bufferNode=new Rl(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let n=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){n++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!n)return;if(this.nextSibling())break;this.parent(),n--,i=!0}}}matchContext(e){if(!this.buffer)return CT(this.node.parent,e);let{buffer:t}=this.buffer,{types:n}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return CT(this._tree,e,i);let o=n[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function OC(r){return r.children.some(e=>e instanceof Ql||!e.type.isAnonymous||OC(e))}function ete(r){var e;let{buffer:t,nodeSet:n,maxBufferLength:i=$ee,reused:s=[],minRepeatType:o=n.types.length}=r,l=Array.isArray(t)?new IC(t,t.length):t,u=n.types,h=0,f=0;function p(D,P,N,O,C,q){let{id:$,start:M,end:V,size:B}=l,oe=f,Q=h;for(;B<0;)if(l.next(),B==-1){let J=s[$];N.push(J),O.push(M-D);return}else if(B==-3){h=$;return}else if(B==-4){f=$;return}else throw new RangeError(`Unrecognized record size: ${B}`);let X=u[$],fe,de,ee=M-D;if(V-M<=i&&(de=E(l.pos-P,C))){let J=new Uint16Array(de.size-de.skip),K=l.pos-de.size,re=J.length;for(;l.pos>K;)re=b(de.start,J,re);fe=new Ql(J,V-de.start,n),ee=de.start-D}else{let J=l.pos-B;l.next();let K=[],re=[],he=$>=o?$:-1,ve=0,ue=V;for(;l.pos>J;)he>=0&&l.id==he&&l.size>=0?(l.end<=ue-i&&(_(K,re,M,ve,l.end,ue,he,oe,Q),ve=K.length,ue=l.end),l.next()):q>2500?g(M,J,K,re):p(M,J,K,re,he,q+1);if(he>=0&&ve>0&&ve<K.length&&_(K,re,M,ve,M,ue,he,oe,Q),K.reverse(),re.reverse(),he>-1&&ve>0){let j=y(X,Q);fe=NC(X,K,re,0,K.length,0,V-M,j,j)}else fe=w(X,K,re,V-M,oe-V,Q)}N.push(fe),O.push(ee)}function g(D,P,N,O){let C=[],q=0,$=-1;for(;l.pos>P;){let{id:M,start:V,end:B,size:oe}=l;if(oe>4)l.next();else{if($>-1&&V<$)break;$<0&&($=B-i),C.push(M,V,B),q++,l.next()}}if(q){let M=new Uint16Array(q*4),V=C[C.length-2];for(let B=C.length-3,oe=0;B>=0;B-=3)M[oe++]=C[B],M[oe++]=C[B+1]-V,M[oe++]=C[B+2]-V,M[oe++]=oe;N.push(new Ql(M,C[2]-V,n)),O.push(V-D)}}function y(D,P){return(N,O,C)=>{let q=0,$=N.length-1,M,V;if($>=0&&(M=N[$])instanceof Kr){if(!$&&M.type==D&&M.length==C)return M;(V=M.prop(Ut.lookAhead))&&(q=O[$]+M.length+V)}return w(D,N,O,C,q,P)}}function _(D,P,N,O,C,q,$,M,V){let B=[],oe=[];for(;D.length>O;)B.push(D.pop()),oe.push(P.pop()+N-C);D.push(w(n.types[$],B,oe,q-C,M-q,V)),P.push(C-N)}function w(D,P,N,O,C,q,$){if(q){let M=[Ut.contextHash,q];$=$?[M].concat($):[M]}if(C>25){let M=[Ut.lookAhead,C];$=$?[M].concat($):[M]}return new Kr(D,P,N,O,$)}function E(D,P){let N=l.fork(),O=0,C=0,q=0,$=N.end-i,M={size:0,start:0,skip:0};e:for(let V=N.pos-D;N.pos>V;){let B=N.size;if(N.id==P&&B>=0){M.size=O,M.start=C,M.skip=q,q+=4,O+=4,N.next();continue}let oe=N.pos-B;if(B<0||oe<V||N.start<$)break;let Q=N.id>=o?4:0,X=N.start;for(N.next();N.pos>oe;){if(N.size<0)if(N.size==-3)Q+=4;else break e;else N.id>=o&&(Q+=4);N.next()}C=X,O+=B,q+=Q}return(P<0||O==D)&&(M.size=O,M.start=C,M.skip=q),M.size>4?M:void 0}function b(D,P,N){let{id:O,start:C,end:q,size:$}=l;if(l.next(),$>=0&&O<o){let M=N;if($>4){let V=l.pos-($-4);for(;l.pos>V;)N=b(D,P,N)}P[--N]=M,P[--N]=q-D,P[--N]=C-D,P[--N]=O}else $==-3?h=O:$==-4&&(f=O);return N}let A=[],T=[];for(;l.pos>0;)p(r.start||0,r.bufferStart||0,A,T,-1,0);let x=(e=r.length)!==null&&e!==void 0?e:A.length?T[0]+A[0].length:0;return new Kr(u[r.topID],A.reverse(),T.reverse(),x)}const cM=new WeakMap;function O0(r,e){if(!r.isAnonymous||e instanceof Ql||e.type!=r)return 1;let t=cM.get(e);if(t==null){t=1;for(let n of e.children){if(n.type!=r||!(n instanceof Kr)){t=1;break}t+=O0(r,n)}cM.set(e,t)}return t}function NC(r,e,t,n,i,s,o,l,u){let h=0;for(let _=n;_<i;_++)h+=O0(r,e[_]);let f=Math.ceil(h*1.5/8),p=[],g=[];function y(_,w,E,b,A){for(let T=E;T<b;){let x=T,D=w[T],P=O0(r,_[T]);for(T++;T<b;T++){let N=O0(r,_[T]);if(P+N>=f)break;P+=N}if(T==x+1){if(P>f){let N=_[x];y(N.children,N.positions,0,N.children.length,w[x]+A);continue}p.push(_[x])}else{let N=w[T-1]+_[T-1].length-D;p.push(NC(r,_,w,x,T,D,N,null,u))}g.push(D+A-s)}}return y(e,t,n,i,0),(l||u)(p,g,o)}class sc{constructor(e,t,n,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=n,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],n=!1){let i=[new sc(0,e.length,e,0,!1,n)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,n=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let l=0,u=0,h=0;;l++){let f=l<t.length?t[l]:null,p=f?f.fromA:1e9;if(p-u>=n)for(;o&&o.from<p;){let g=o;if(u>=g.from||p<=g.to||h){let y=Math.max(g.from,u)-h,_=Math.min(g.to,p)-h;g=y>=_?null:new sc(y,_,g.tree,g.offset+h,l>0,!!f)}if(g&&i.push(g),o.to>p)break;o=s<e.length?e[s++]:null}if(!f)break;u=f.toA,h=f.toA-f.toB}return i}}class tte{startParse(e,t,n){return typeof e=="string"&&(e=new nte(e)),n=n?n.length?n.map(i=>new Bb(i.from,i.to)):[new Bb(0,0)]:[new Bb(0,e.length)],this.createParse(e,t||[],n)}parse(e,t,n){let i=this.startParse(e,t,n);for(;;){let s=i.advance();if(s)return s}}}class nte{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Ut({perNode:!0});let rte=0;class ms{constructor(e,t,n,i){this.name=e,this.set=t,this.base=n,this.modified=i,this.id=rte++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let n=typeof e=="string"?e:"?";if(e instanceof ms&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new ms(n,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new kv(e);return n=>n.modified.indexOf(t)>-1?n:kv.get(n.base||n,n.modified.concat(t).sort((i,s)=>i.id-s.id))}}let ite=0;class kv{constructor(e){this.name=e,this.instances=[],this.id=ite++}static get(e,t){if(!t.length)return e;let n=t[0].instances.find(l=>l.base==e&&ste(t,l.modified));if(n)return n;let i=[],s=new ms(e.name,i,e,t);for(let l of t)l.instances.push(s);let o=ote(t);for(let l of e.set)if(!l.modified.length)for(let u of o)i.push(kv.get(l,u));return s}}function ste(r,e){return r.length==e.length&&r.every((t,n)=>t==e[n])}function ote(r){let e=[[]];for(let t=0;t<r.length;t++)for(let n=0,i=e.length;n<i;n++)e.push(e[n].concat(r[t]));return e.sort((t,n)=>n.length-t.length)}function ate(r){let e=Object.create(null);for(let t in r){let n=r[t];Array.isArray(n)||(n=[n]);for(let i of t.split(" "))if(i){let s=[],o=2,l=i;for(let p=0;;){if(l=="..."&&p>0&&p+3==i.length){o=1;break}let g=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!g)throw new RangeError("Invalid path: "+i);if(s.push(g[0]=="*"?"":g[0][0]=='"'?JSON.parse(g[0]):g[0]),p+=g[0].length,p==i.length)break;let y=i[p++];if(p==i.length&&y=="!"){o=0;break}if(y!="/")throw new RangeError("Invalid path: "+i);l=i.slice(p)}let u=s.length-1,h=s[u];if(!h)throw new RangeError("Invalid path: "+i);let f=new Dv(n,o,u>0?s.slice(0,u):null);e[h]=f.sort(e[h])}}return ZB.add(e)}const ZB=new Ut;class Dv{constructor(e,t,n,i){this.tags=e,this.mode=t,this.context=n,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Dv.empty=new Dv([],2,null);function JB(r,e){let t=Object.create(null);for(let s of r)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:n,all:i=null}=e||{};return{style:s=>{let o=i;for(let l of s)for(let u of l.set){let h=t[u.id];if(h){o=o?o+" "+h:h;break}}return o},scope:n}}function lte(r,e){let t=null;for(let n of r){let i=n.style(e);i&&(t=t?t+" "+i:i)}return t}function ute(r,e,t,n=0,i=r.length){let s=new cte(n,Array.isArray(e)?e:[e],t);s.highlightRange(r.cursor(),n,i,"",s.highlighters),s.flush(i)}class cte{constructor(e,t,n){this.at=e,this.highlighters=t,this.span=n,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,n,i,s){let{type:o,from:l,to:u}=e;if(l>=n||u<=t)return;o.isTop&&(s=this.highlighters.filter(y=>!y.scope||y.scope(o)));let h=i,f=hte(e)||Dv.empty,p=lte(s,f.tags);if(p&&(h&&(h+=" "),h+=p,f.mode==1&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(t,l),h),f.opaque)return;let g=e.tree&&e.tree.prop(Ut.mounted);if(g&&g.overlay){let y=e.node.enter(g.overlay[0].from+l,1),_=this.highlighters.filter(E=>!E.scope||E.scope(g.tree.type)),w=e.firstChild();for(let E=0,b=l;;E++){let A=E<g.overlay.length?g.overlay[E]:null,T=A?A.from+l:u,x=Math.max(t,b),D=Math.min(n,T);if(x<D&&w)for(;e.from<D&&(this.highlightRange(e,x,D,i,s),this.startSpan(Math.min(D,e.to),h),!(e.to>=T||!e.nextSibling())););if(!A||T>n)break;b=A.to+l,b>t&&(this.highlightRange(y.cursor(),Math.max(t,A.from+l),Math.min(n,b),"",_),this.startSpan(Math.min(n,b),h))}w&&e.parent()}else if(e.firstChild()){g&&(i="");do if(!(e.to<=t)){if(e.from>=n)break;this.highlightRange(e,t,n,i,s),this.startSpan(Math.min(n,e.to),h)}while(e.nextSibling());e.parent()}}}function hte(r){let e=r.type.prop(ZB);for(;e&&e.context&&!r.matchContext(e.context);)e=e.next;return e||null}const Ye=ms.define,Vy=Ye(),fl=Ye(),hM=Ye(fl),fM=Ye(fl),dl=Ye(),Uy=Ye(dl),Fb=Ye(dl),ho=Ye(),Bu=Ye(ho),lo=Ye(),uo=Ye(),kT=Ye(),$d=Ye(kT),zy=Ye(),Me={comment:Vy,lineComment:Ye(Vy),blockComment:Ye(Vy),docComment:Ye(Vy),name:fl,variableName:Ye(fl),typeName:hM,tagName:Ye(hM),propertyName:fM,attributeName:Ye(fM),className:Ye(fl),labelName:Ye(fl),namespace:Ye(fl),macroName:Ye(fl),literal:dl,string:Uy,docString:Ye(Uy),character:Ye(Uy),attributeValue:Ye(Uy),number:Fb,integer:Ye(Fb),float:Ye(Fb),bool:Ye(dl),regexp:Ye(dl),escape:Ye(dl),color:Ye(dl),url:Ye(dl),keyword:lo,self:Ye(lo),null:Ye(lo),atom:Ye(lo),unit:Ye(lo),modifier:Ye(lo),operatorKeyword:Ye(lo),controlKeyword:Ye(lo),definitionKeyword:Ye(lo),moduleKeyword:Ye(lo),operator:uo,derefOperator:Ye(uo),arithmeticOperator:Ye(uo),logicOperator:Ye(uo),bitwiseOperator:Ye(uo),compareOperator:Ye(uo),updateOperator:Ye(uo),definitionOperator:Ye(uo),typeOperator:Ye(uo),controlOperator:Ye(uo),punctuation:kT,separator:Ye(kT),bracket:$d,angleBracket:Ye($d),squareBracket:Ye($d),paren:Ye($d),brace:Ye($d),content:ho,heading:Bu,heading1:Ye(Bu),heading2:Ye(Bu),heading3:Ye(Bu),heading4:Ye(Bu),heading5:Ye(Bu),heading6:Ye(Bu),contentSeparator:Ye(ho),list:Ye(ho),quote:Ye(ho),emphasis:Ye(ho),strong:Ye(ho),link:Ye(ho),monospace:Ye(ho),strikethrough:Ye(ho),inserted:Ye(),deleted:Ye(),changed:Ye(),invalid:Ye(),meta:zy,documentMeta:Ye(zy),annotation:Ye(zy),processingInstruction:Ye(zy),definition:ms.defineModifier("definition"),constant:ms.defineModifier("constant"),function:ms.defineModifier("function"),standard:ms.defineModifier("standard"),local:ms.defineModifier("local"),special:ms.defineModifier("special")};for(let r in Me){let e=Me[r];e instanceof ms&&(e.name=r)}JB([{tag:Me.link,class:"tok-link"},{tag:Me.heading,class:"tok-heading"},{tag:Me.emphasis,class:"tok-emphasis"},{tag:Me.strong,class:"tok-strong"},{tag:Me.keyword,class:"tok-keyword"},{tag:Me.atom,class:"tok-atom"},{tag:Me.bool,class:"tok-bool"},{tag:Me.url,class:"tok-url"},{tag:Me.labelName,class:"tok-labelName"},{tag:Me.inserted,class:"tok-inserted"},{tag:Me.deleted,class:"tok-deleted"},{tag:Me.literal,class:"tok-literal"},{tag:Me.string,class:"tok-string"},{tag:Me.number,class:"tok-number"},{tag:[Me.regexp,Me.escape,Me.special(Me.string)],class:"tok-string2"},{tag:Me.variableName,class:"tok-variableName"},{tag:Me.local(Me.variableName),class:"tok-variableName tok-local"},{tag:Me.definition(Me.variableName),class:"tok-variableName tok-definition"},{tag:Me.special(Me.variableName),class:"tok-variableName2"},{tag:Me.definition(Me.propertyName),class:"tok-propertyName tok-definition"},{tag:Me.typeName,class:"tok-typeName"},{tag:Me.namespace,class:"tok-namespace"},{tag:Me.className,class:"tok-className"},{tag:Me.macroName,class:"tok-macroName"},{tag:Me.propertyName,class:"tok-propertyName"},{tag:Me.operator,class:"tok-operator"},{tag:Me.comment,class:"tok-comment"},{tag:Me.meta,class:"tok-meta"},{tag:Me.invalid,class:"tok-invalid"},{tag:Me.punctuation,class:"tok-punctuation"}]);var Vb;const yp=new Ut,fte=new Ut;class Eo{constructor(e,t,n=[],i=""){this.data=e,this.name=i,Ft.prototype.hasOwnProperty("tree")||Object.defineProperty(Ft.prototype,"tree",{get(){return Xr(this)}}),this.parser=t,this.extension=[Zl.of(this),Ft.languageData.of((s,o,l)=>{let u=dM(s,o,l),h=u.type.prop(yp);if(!h)return[];let f=s.facet(h),p=u.type.prop(fte);if(p){let g=u.resolve(o-u.from,l);for(let y of p)if(y.test(g,s)){let _=s.facet(y.facet);return y.type=="replace"?_:_.concat(f)}}return f})].concat(n)}isActiveAt(e,t,n=-1){return dM(e,t,n).type.prop(yp)==this.data}findRegions(e){let t=e.facet(Zl);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let n=[],i=(s,o)=>{if(s.prop(yp)==this.data){n.push({from:o,to:o+s.length});return}let l=s.prop(Ut.mounted);if(l){if(l.tree.prop(yp)==this.data){if(l.overlay)for(let u of l.overlay)n.push({from:u.from+o,to:u.to+o});else n.push({from:o,to:o+s.length});return}else if(l.overlay){let u=n.length;if(i(l.tree,l.overlay[0].from+o),n.length>u)return}}for(let u=0;u<s.children.length;u++){let h=s.children[u];h instanceof Kr&&i(h,s.positions[u]+o)}};return i(Xr(e),0),n}get allowsNesting(){return!0}}Eo.setState=Et.define();function dM(r,e,t){let n=r.facet(Zl),i=Xr(r).topNode;if(!n||n.allowsNesting)for(let s=i;s;s=s.enter(e,t,Ir.ExcludeBuffers))s.type.isTop&&(i=s);return i}function Xr(r){let e=r.field(Eo.state,!1);return e?e.tree:Kr.empty}class dte{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let n=this.cursorPos-this.string.length;return e<n||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-n,t-n)}}let Yd=null;class Iv{constructor(e,t,n=[],i,s,o,l,u){this.parser=e,this.state=t,this.fragments=n,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,t,n){return new Iv(e,t,[],Kr.empty,0,n,[],null)}startParse(){return this.parser.startParse(new dte(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Kr.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var n;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(sc.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(n=this.parse.stoppedAt)!==null&&n!==void 0?n:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(sc.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Yd;Yd=this;try{return e()}finally{Yd=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=pM(e,t.from,t.to);return e}changes(e,t){let{fragments:n,tree:i,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((h,f,p,g)=>u.push({fromA:h,toA:f,fromB:p,toB:g})),n=sc.applyChanges(n,u),i=Kr.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let h of this.skipped){let f=e.mapPos(h.from,1),p=e.mapPos(h.to,-1);f<p&&l.push({from:f,to:p})}}}return new Iv(this.parser,t,n,i,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let n=0;n<this.skipped.length;n++){let{from:i,to:s}=this.skipped[n];i<e.to&&s>e.from&&(this.fragments=pM(this.fragments,i,s),this.skipped.splice(n--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends tte{createParse(t,n,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let u=Yd;if(u){for(let h of i)u.tempSkipped.push(h);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=o,new Kr(Cs.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Yd}}function pM(r,e,t){return sc.applyChanges(r,[{fromA:e,toA:t,fromB:e,toB:t}])}class wf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),n=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,n)||t.takeTree(),new wf(t)}static init(e){let t=Math.min(3e3,e.doc.length),n=Iv.create(e.facet(Zl).parser,e,{from:0,to:t});return n.work(20,t)||n.takeTree(),new wf(n)}}Eo.state=Lr.define({create:wf.init,update(r,e){for(let t of e.effects)if(t.is(Eo.setState))return t.value;return e.startState.facet(Zl)!=e.state.facet(Zl)?wf.init(e.state):r.apply(e)}});let e9=r=>{let e=setTimeout(()=>r(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(e9=r=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(r,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Ub=typeof navigator<"u"&&(!((Vb=navigator.scheduling)===null||Vb===void 0)&&Vb.isInputPending)?()=>navigator.scheduling.isInputPending():null,pte=Vn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(Eo.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(Eo.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=e9(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:n,viewport:{to:i}}=this.view,s=n.field(Eo.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!Ub?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<i&&n.doc.length>i+1e3,u=s.context.work(()=>Ub&&Ub()||Date.now()>o,i+(l?0:1e5));this.chunkBudget-=Date.now()-t,(u||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:Eo.setState.of(new wf(s.context))})),this.chunkBudget>0&&!(u&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>_i(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Zl=tt.define({combine(r){return r.length?r[0]:null},enables:r=>[Eo.state,pte,Xe.contentAttributes.compute([r],e=>{let t=e.facet(r);return t&&t.name?{"data-language":t.name}:{}})]}),mte=tt.define(),Rw=tt.define({combine:r=>{if(!r.length)return"  ";let e=r[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(r[0]));return e}});function Ov(r){let e=r.facet(Rw);return e.charCodeAt(0)==9?r.tabSize*e.length:e.length}function dm(r,e){let t="",n=r.tabSize,i=r.facet(Rw)[0];if(i=="	"){for(;e>=n;)t+="	",e-=n;i=" "}for(let s=0;s<e;s++)t+=i;return t}function MC(r,e){r instanceof Ft&&(r=new kw(r));for(let n of r.state.facet(mte)){let i=n(r,e);if(i!==void 0)return i}let t=Xr(r.state);return t.length>=e?yte(r,t,e):null}class kw{constructor(e,t={}){this.state=e,this.options=t,this.unit=Ov(e)}lineAt(e,t=1){let n=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=n.from&&i<=n.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:n.text.slice(i-n.from),from:i}:{text:n.text.slice(0,i-n.from),from:n.from}:n}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:n,from:i}=this.lineAt(e,t);return n.slice(e-i,Math.min(n.length,e+100-i))}column(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.countColumn(n,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(n,n.search(/\S|$/))),s}countColumn(e,t=e.length){return Bf(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:n,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(n,n.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const gte=new Ut;function yte(r,e,t){let n=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=n.node){let s=[];for(let o=i;o&&!(o.from<n.node.from||o.to>n.node.to||o.from==n.node.from&&o.type==n.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)n={node:s[o],next:n}}return t9(n,r,t)}function t9(r,e,t){for(let n=r;n;n=n.next){let i=wte(n.node);if(i)return i(PC.create(e,t,n))}return 0}function vte(r){return r.pos==r.options.simulateBreak&&r.options.simulateDoubleBreak}function wte(r){let e=r.type.prop(gte);if(e)return e;let t=r.firstChild,n;if(t&&(n=t.type.prop(Ut.closedBy))){let i=r.lastChild,s=i&&n.indexOf(i.name)>-1;return o=>Ete(o,!0,1,void 0,s&&!vte(o)?i.from:void 0)}return r.parent==null?_te:null}function _te(){return 0}class PC extends kw{constructor(e,t,n){super(e.state,e.options),this.base=e,this.pos=t,this.context=n}get node(){return this.context.node}static create(e,t,n){return new PC(e,t,n)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let n=e.resolve(t.from);for(;n.parent&&n.parent.from==n.from;)n=n.parent;if(bte(n,e))break;t=this.state.doc.lineAt(n.from)}return this.lineIndent(t.from)}continue(){return t9(this.context.next,this.base,this.pos)}}function bte(r,e){for(let t=e;t;t=t.parent)if(r==t)return!0;return!1}function Ste(r){let e=r.node,t=e.childAfter(e.from),n=e.lastChild;if(!t)return null;let i=r.options.simulateBreak,s=r.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=t.to;;){let u=e.childAfter(l);if(!u||u==n)return null;if(!u.type.isSkipped){if(u.from>=o)return null;let h=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+h}}l=u.to}}function Ete(r,e,t,n,i){let s=r.textAfter,o=s.match(/^\s*/)[0].length,l=n&&s.slice(o,o+n.length)==n||i==r.pos+o,u=Ste(r);return u?l?r.column(u.from):r.column(u.to):r.baseIndent+(l?0:r.unit*t)}const xte=200;function Tte(){return Ft.transactionFilter.of(r=>{if(!r.docChanged||!r.isUserEvent("input.type")&&!r.isUserEvent("input.complete"))return r;let e=r.startState.languageDataAt("indentOnInput",r.startState.selection.main.head);if(!e.length)return r;let t=r.newDoc,{head:n}=r.newSelection.main,i=t.lineAt(n);if(n>i.from+xte)return r;let s=t.sliceString(i.from,n);if(!e.some(h=>h.test(s)))return r;let{state:o}=r,l=-1,u=[];for(let{head:h}of o.selection.ranges){let f=o.doc.lineAt(h);if(f.from==l)continue;l=f.from;let p=MC(o,f.from);if(p==null)continue;let g=/^\s*/.exec(f.text)[0],y=dm(o,p);g!=y&&u.push({from:f.from,to:f.from+g.length,insert:y})}return u.length?[r,{changes:u,sequential:!0}]:r})}const Ate=tt.define(),Cte=new Ut;function Rte(r,e,t){let n=Xr(r);if(n.length<t)return null;let i=n.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let l=o.node;if(l.to<=t||l.from>t)continue;if(s&&l.from<e)break;let u=l.type.prop(Cte);if(u&&(l.to<n.length-50||n.length==r.doc.length||!kte(l))){let h=u(l,r);h&&h.from<=t&&h.from>=e&&h.to>t&&(s=h)}}return s}function kte(r){let e=r.lastChild;return e&&e.to==r.to&&e.type.isError}function Nv(r,e,t){for(let n of r.facet(Ate)){let i=n(r,e,t);if(i)return i}return Rte(r,e,t)}function n9(r,e){let t=e.mapPos(r.from,1),n=e.mapPos(r.to,-1);return t>=n?void 0:{from:t,to:n}}const Dw=Et.define({map:n9}),Um=Et.define({map:n9});function r9(r){let e=[];for(let{head:t}of r.state.selection.ranges)e.some(n=>n.from<=t&&n.to>=t)||e.push(r.lineBlockAt(t));return e}const _c=Lr.define({create(){return ht.none},update(r,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,n)=>r=mM(r,t,n)),r=r.map(e.changes);for(let t of e.effects)if(t.is(Dw)&&!Dte(r,t.value.from,t.value.to)){let{preparePlaceholder:n}=e.state.facet(o9),i=n?ht.replace({widget:new Bte(n(e.state,t.value))}):gM;r=r.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(Um)&&(r=r.update({filter:(n,i)=>t.value.from!=n||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(r=mM(r,e.selection.main.head)),r},provide:r=>Xe.decorations.from(r),toJSON(r,e){let t=[];return r.between(0,e.doc.length,(n,i)=>{t.push(n,i)}),t},fromJSON(r){if(!Array.isArray(r)||r.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<r.length;){let n=r[t++],i=r[t++];if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(gM.range(n,i))}return ht.set(e,!0)}});function mM(r,e,t=e){let n=!1;return r.between(e,t,(i,s)=>{i<t&&s>e&&(n=!0)}),n?r.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):r}function Mv(r,e,t){var n;let i=null;return(n=r.field(_c,!1))===null||n===void 0||n.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function Dte(r,e,t){let n=!1;return r.between(e,e,(i,s)=>{i==e&&s==t&&(n=!0)}),n}function i9(r,e){return r.field(_c,!1)?e:e.concat(Et.appendConfig.of(a9()))}const Ite=r=>{for(let e of r9(r)){let t=Nv(r.state,e.from,e.to);if(t)return r.dispatch({effects:i9(r.state,[Dw.of(t),s9(r,t)])}),!0}return!1},Ote=r=>{if(!r.state.field(_c,!1))return!1;let e=[];for(let t of r9(r)){let n=Mv(r.state,t.from,t.to);n&&e.push(Um.of(n),s9(r,n,!1))}return e.length&&r.dispatch({effects:e}),e.length>0};function s9(r,e,t=!0){let n=r.state.doc.lineAt(e.from).number,i=r.state.doc.lineAt(e.to).number;return Xe.announce.of(`${r.state.phrase(t?"Folded lines":"Unfolded lines")} ${n} ${r.state.phrase("to")} ${i}.`)}const Nte=r=>{let{state:e}=r,t=[];for(let n=0;n<e.doc.length;){let i=r.lineBlockAt(n),s=Nv(e,i.from,i.to);s&&t.push(Dw.of(s)),n=(s?r.lineBlockAt(s.to):i).to+1}return t.length&&r.dispatch({effects:i9(r.state,t)}),!!t.length},Mte=r=>{let e=r.state.field(_c,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,r.state.doc.length,(n,i)=>{t.push(Um.of({from:n,to:i}))}),r.dispatch({effects:t}),!0},Pte=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ite},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Ote},{key:"Ctrl-Alt-[",run:Nte},{key:"Ctrl-Alt-]",run:Mte}],Lte={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},o9=tt.define({combine(r){return Ho(r,Lte)}});function a9(r){return[_c,Ute]}function l9(r,e){let{state:t}=r,n=t.facet(o9),i=o=>{let l=r.lineBlockAt(r.posAtDOM(o.target)),u=Mv(r.state,l.from,l.to);u&&r.dispatch({effects:Um.of(u)}),o.preventDefault()};if(n.placeholderDOM)return n.placeholderDOM(r,i,e);let s=document.createElement("span");return s.textContent=n.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const gM=ht.replace({widget:new class extends Ba{toDOM(r){return l9(r,null)}}});class Bte extends Ba{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return l9(e,this.value)}}const Fte={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class zb extends Pa{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Vte(r={}){let e={...Fte,...r},t=new zb(e,!0),n=new zb(e,!1),i=Vn.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Zl)!=o.state.facet(Zl)||o.startState.field(_c,!1)!=o.state.field(_c,!1)||Xr(o.startState)!=Xr(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new Na;for(let u of o.viewportLineBlocks){let h=Mv(o.state,u.from,u.to)?n:Nv(o.state,u.from,u.to)?t:null;h&&l.add(u.from,u.from,h)}return l.finish()}}),{domEventHandlers:s}=e;return[i,Bee({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(i))===null||l===void 0?void 0:l.markers)||Gt.empty},initialSpacer(){return new zb(e,!1)},domEventHandlers:{...s,click:(o,l,u)=>{if(s.click&&s.click(o,l,u))return!0;let h=Mv(o.state,l.from,l.to);if(h)return o.dispatch({effects:Um.of(h)}),!0;let f=Nv(o.state,l.from,l.to);return f?(o.dispatch({effects:Dw.of(f)}),!0):!1}}}),a9()]}const Ute=Xe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class zm{constructor(e,t){this.specs=e;let n;function i(l){let u=$l.newName();return(n||(n=Object.create(null)))["."+u]=l,u}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof Eo?l=>l.prop(yp)==o.data:o?l=>l==o:void 0,this.style=JB(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=n?new $l(n):null,this.themeType=t.themeType}static define(e,t){return new zm(e,t||{})}}const DT=tt.define(),u9=tt.define({combine(r){return r.length?[r[0]]:null}});function jb(r){let e=r.facet(DT);return e.length?e:r.facet(u9)}function c9(r,e){let t=[jte],n;return r instanceof zm&&(r.module&&t.push(Xe.styleModule.of(r.module)),n=r.themeType),e?.fallback?t.push(u9.of(r)):n?t.push(DT.computeN([Xe.darkTheme],i=>i.facet(Xe.darkTheme)==(n=="dark")?[r]:[])):t.push(DT.of(r)),t}class zte{constructor(e){this.markCache=Object.create(null),this.tree=Xr(e.state),this.decorations=this.buildDeco(e,jb(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=Xr(e.state),n=jb(e.state),i=n!=jb(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,n),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return ht.none;let n=new Na;for(let{from:i,to:s}of e.visibleRanges)ute(this.tree,t,(o,l,u)=>{n.add(o,l,this.markCache[u]||(this.markCache[u]=ht.mark({class:u})))},i,s);return n.finish()}}const jte=Rc.high(Vn.fromClass(zte,{decorations:r=>r.decorations})),Hte=zm.define([{tag:Me.meta,color:"#404740"},{tag:Me.link,textDecoration:"underline"},{tag:Me.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Me.emphasis,fontStyle:"italic"},{tag:Me.strong,fontWeight:"bold"},{tag:Me.strikethrough,textDecoration:"line-through"},{tag:Me.keyword,color:"#708"},{tag:[Me.atom,Me.bool,Me.url,Me.contentSeparator,Me.labelName],color:"#219"},{tag:[Me.literal,Me.inserted],color:"#164"},{tag:[Me.string,Me.deleted],color:"#a11"},{tag:[Me.regexp,Me.escape,Me.special(Me.string)],color:"#e40"},{tag:Me.definition(Me.variableName),color:"#00f"},{tag:Me.local(Me.variableName),color:"#30a"},{tag:[Me.typeName,Me.namespace],color:"#085"},{tag:Me.className,color:"#167"},{tag:[Me.special(Me.variableName),Me.macroName],color:"#256"},{tag:Me.definition(Me.propertyName),color:"#00c"},{tag:Me.comment,color:"#940"},{tag:Me.invalid,color:"#f00"}]),qte=Xe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),h9=1e4,f9="()[]{}",d9=tt.define({combine(r){return Ho(r,{afterCursor:!0,brackets:f9,maxScanDistance:h9,renderMatch:Kte})}}),Wte=ht.mark({class:"cm-matchingBracket"}),Gte=ht.mark({class:"cm-nonmatchingBracket"});function Kte(r){let e=[],t=r.matched?Wte:Gte;return e.push(t.range(r.start.from,r.start.to)),r.end&&e.push(t.range(r.end.from,r.end.to)),e}const $te=Lr.define({create(){return ht.none},update(r,e){if(!e.docChanged&&!e.selection)return r;let t=[],n=e.state.facet(d9);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=xo(e.state,i.head,-1,n)||i.head>0&&xo(e.state,i.head-1,1,n)||n.afterCursor&&(xo(e.state,i.head,1,n)||i.head<e.state.doc.length&&xo(e.state,i.head+1,-1,n));s&&(t=t.concat(n.renderMatch(s,e.state)))}return ht.set(t,!0)},provide:r=>Xe.decorations.from(r)}),Yte=[$te,qte];function Xte(r={}){return[d9.of(r),Yte]}const Qte=new Ut;function IT(r,e,t){let n=r.prop(e<0?Ut.openedBy:Ut.closedBy);if(n)return n;if(r.name.length==1){let i=t.indexOf(r.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function OT(r){let e=r.type.prop(Qte);return e?e(r.node):r}function xo(r,e,t,n={}){let i=n.maxScanDistance||h9,s=n.brackets||f9,o=Xr(r),l=o.resolveInner(e,t);for(let u=l;u;u=u.parent){let h=IT(u.type,t,s);if(h&&u.from<u.to){let f=OT(u);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return Zte(r,e,t,u,f,h,s)}}return Jte(r,e,t,o,l.type,i,s)}function Zte(r,e,t,n,i,s,o){let l=n.parent,u={from:i.from,to:i.to},h=0,f=l?.cursor();if(f&&(t<0?f.childBefore(n.from):f.childAfter(n.to)))do if(t<0?f.to<=n.from:f.from>=n.to){if(h==0&&s.indexOf(f.type.name)>-1&&f.from<f.to){let p=OT(f);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(IT(f.type,t,o))h++;else if(IT(f.type,-t,o)){if(h==0){let p=OT(f);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}h--}}while(t<0?f.prevSibling():f.nextSibling());return{start:u,matched:!1}}function Jte(r,e,t,n,i,s,o){let l=t<0?r.sliceDoc(e-1,e):r.sliceDoc(e,e+1),u=o.indexOf(l);if(u<0||u%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},f=r.doc.iterRange(e,t>0?r.doc.length:0),p=0;for(let g=0;!f.next().done&&g<=s;){let y=f.value;t<0&&(g+=y.length);let _=e+g*t;for(let w=t>0?0:y.length-1,E=t>0?y.length:-1;w!=E;w+=t){let b=o.indexOf(y[w]);if(!(b<0||n.resolveInner(_+w,1).type!=i))if(b%2==0==t>0)p++;else{if(p==1)return{start:h,end:{from:_+w,to:_+w+1},matched:b>>1==u>>1};p--}}t>0&&(g+=y.length)}return f.done?{start:h,matched:!1}:null}const ene=Object.create(null),yM=[Cs.none],vM=[],wM=Object.create(null),tne=Object.create(null);for(let[r,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])tne[r]=nne(ene,e);function Hb(r,e){vM.indexOf(r)>-1||(vM.push(r),console.warn(e))}function nne(r,e){let t=[];for(let l of e.split(" ")){let u=[];for(let h of l.split(".")){let f=r[h]||Me[h];f?typeof f=="function"?u.length?u=u.map(f):Hb(h,`Modifier ${h} used at start of tag`):u.length?Hb(h,`Tag ${h} used as modifier`):u=Array.isArray(f)?f:[f]:Hb(h,`Unknown highlighting tag ${h}`)}for(let h of u)t.push(h)}if(!t.length)return 0;let n=e.replace(/ /g,"_"),i=n+" "+t.map(l=>l.id),s=wM[i];if(s)return s.id;let o=wM[i]=Cs.define({id:yM.length,name:n,props:[ate({[n]:t})]});return yM.push(o),o.id}_n.RTL,_n.LTR;const rne=r=>{let{state:e}=r,t=e.doc.lineAt(e.selection.main.from),n=BC(r.state,t.from);return n.line?ine(r):n.block?one(r):!1};function LC(r,e){return({state:t,dispatch:n})=>{if(t.readOnly)return!1;let i=r(e,t);return i?(n(t.update(i)),!0):!1}}const ine=LC(une,0),sne=LC(p9,0),one=LC((r,e)=>p9(r,e,lne(e)),0);function BC(r,e){let t=r.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const Xd=50;function ane(r,{open:e,close:t},n,i){let s=r.sliceDoc(n-Xd,n),o=r.sliceDoc(i,i+Xd),l=/\s*$/.exec(s)[0].length,u=/^\s*/.exec(o)[0].length,h=s.length-l;if(s.slice(h-e.length,h)==e&&o.slice(u,u+t.length)==t)return{open:{pos:n-l,margin:l&&1},close:{pos:i+u,margin:u&&1}};let f,p;i-n<=2*Xd?f=p=r.sliceDoc(n,i):(f=r.sliceDoc(n,n+Xd),p=r.sliceDoc(i-Xd,i));let g=/^\s*/.exec(f)[0].length,y=/\s*$/.exec(p)[0].length,_=p.length-y-t.length;return f.slice(g,g+e.length)==e&&p.slice(_,_+t.length)==t?{open:{pos:n+g+e.length,margin:/\s/.test(f.charAt(g+e.length))?1:0},close:{pos:i-y-t.length,margin:/\s/.test(p.charAt(_-1))?1:0}}:null}function lne(r){let e=[];for(let t of r.selection.ranges){let n=r.doc.lineAt(t.from),i=t.to<=n.to?n:r.doc.lineAt(t.to);i.from>n.from&&i.from==t.to&&(i=t.to==n.to+1?n:r.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>n.from?e[s].to=i.to:e.push({from:n.from+/^\s*/.exec(n.text)[0].length,to:i.to})}return e}function p9(r,e,t=e.selection.ranges){let n=t.map(s=>BC(e,s.from).block);if(!n.every(s=>s))return null;let i=t.map((s,o)=>ane(e,n[o],s.from,s.to));if(r!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:n[o].open+" "},{from:s.to,insert:" "+n[o].close}]))};if(r!=1&&i.some(s=>s)){let s=[];for(let o=0,l;o<i.length;o++)if(l=i[o]){let u=n[o],{open:h,close:f}=l;s.push({from:h.pos-u.open.length,to:h.pos+h.margin},{from:f.pos-f.margin,to:f.pos+u.close.length})}return{changes:s}}return null}function une(r,e,t=e.selection.ranges){let n=[],i=-1;for(let{from:s,to:o}of t){let l=n.length,u=1e9,h=BC(e,s).line;if(h){for(let f=s;f<=o;){let p=e.doc.lineAt(f);if(p.from>i&&(s==o||o>p.from)){i=p.from;let g=/^\s*/.exec(p.text)[0].length,y=g==p.length,_=p.text.slice(g,g+h.length)==h?g:-1;g<p.text.length&&g<u&&(u=g),n.push({line:p,comment:_,token:h,indent:g,empty:y,single:!1})}f=p.to+1}if(u<1e9)for(let f=l;f<n.length;f++)n[f].indent<n[f].line.text.length&&(n[f].indent=u);n.length==l+1&&(n[l].single=!0)}}if(r!=2&&n.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:u,indent:h,empty:f,single:p}of n)(p||!f)&&s.push({from:l.from+h,insert:u+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(r!=1&&n.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:u}of n)if(l>=0){let h=o.from+l,f=h+u.length;o.text[f-o.from]==" "&&f++,s.push({from:h,to:f})}return{changes:s}}return null}const NT=jo.define(),cne=jo.define(),hne=tt.define(),m9=tt.define({combine(r){return Ho(r,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(n,i)=>e(n,i)||t(n,i)})}}),g9=Lr.define({create(){return To.empty},update(r,e){let t=e.state.facet(m9),n=e.annotation(NT);if(n){let u=bi.fromTransaction(e,n.selection),h=n.side,f=h==0?r.undone:r.done;return u?f=Pv(f,f.length,t.minDepth,u):f=w9(f,e.startState.selection),new To(h==0?n.rest:f,h==0?f:n.rest)}let i=e.annotation(cne);if((i=="full"||i=="before")&&(r=r.isolate()),e.annotation(ar.addToHistory)===!1)return e.changes.empty?r:r.addMapping(e.changes.desc);let s=bi.fromTransaction(e),o=e.annotation(ar.time),l=e.annotation(ar.userEvent);return s?r=r.addChanges(s,o,l,t,e):e.selection&&(r=r.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(i=="full"||i=="after")&&(r=r.isolate()),r},toJSON(r){return{done:r.done.map(e=>e.toJSON()),undone:r.undone.map(e=>e.toJSON())}},fromJSON(r){return new To(r.done.map(bi.fromJSON),r.undone.map(bi.fromJSON))}});function fne(r={}){return[g9,m9.of(r),Xe.domEventHandlers({beforeinput(e,t){let n=e.inputType=="historyUndo"?y9:e.inputType=="historyRedo"?MT:null;return n?(e.preventDefault(),n(t)):!1}})]}function Iw(r,e){return function({state:t,dispatch:n}){if(!e&&t.readOnly)return!1;let i=t.field(g9,!1);if(!i)return!1;let s=i.pop(r,t,e);return s?(n(s),!0):!1}}const y9=Iw(0,!1),MT=Iw(1,!1),dne=Iw(0,!0),pne=Iw(1,!0);class bi{constructor(e,t,n,i,s){this.changes=e,this.effects=t,this.mapped=n,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new bi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,n;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(n=this.startSelection)===null||n===void 0?void 0:n.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new bi(e.changes&&sr.fromJSON(e.changes),[],e.mapped&&Po.fromJSON(e.mapped),e.startSelection&&Ue.fromJSON(e.startSelection),e.selectionsAfter.map(Ue.fromJSON))}static fromTransaction(e,t){let n=bs;for(let i of e.startState.facet(hne)){let s=i(e);s.length&&(n=n.concat(s))}return!n.length&&e.changes.empty?null:new bi(e.changes.invert(e.startState.doc),n,void 0,t||e.startState.selection,bs)}static selection(e){return new bi(void 0,bs,void 0,void 0,e)}}function Pv(r,e,t,n){let i=e+1>t+20?e-t-1:0,s=r.slice(i,e);return s.push(n),s}function mne(r,e){let t=[],n=!1;return r.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,l)=>{for(let u=0;u<t.length;){let h=t[u++],f=t[u++];l>=h&&o<=f&&(n=!0)}}),n}function gne(r,e){return r.ranges.length==e.ranges.length&&r.ranges.filter((t,n)=>t.empty!=e.ranges[n].empty).length===0}function v9(r,e){return r.length?e.length?r.concat(e):r:e}const bs=[],yne=200;function w9(r,e){if(r.length){let t=r[r.length-1],n=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-yne));return n.length&&n[n.length-1].eq(e)?r:(n.push(e),Pv(r,r.length-1,1e9,t.setSelAfter(n)))}else return[bi.selection([e])]}function vne(r){let e=r[r.length-1],t=r.slice();return t[r.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function qb(r,e){if(!r.length)return r;let t=r.length,n=bs;for(;t;){let i=wne(r[t-1],e,n);if(i.changes&&!i.changes.empty||i.effects.length){let s=r.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,n=i.selectionsAfter}return n.length?[bi.selection(n)]:bs}function wne(r,e,t){let n=v9(r.selectionsAfter.length?r.selectionsAfter.map(l=>l.map(e)):bs,t);if(!r.changes)return bi.selection(n);let i=r.changes.map(e),s=e.mapDesc(r.changes,!0),o=r.mapped?r.mapped.composeDesc(s):s;return new bi(i,Et.mapEffects(r.effects,e),o,r.startSelection.map(s),n)}const _ne=/^(input\.type|delete)($|\.)/;class To{constructor(e,t,n=0,i=void 0){this.done=e,this.undone=t,this.prevTime=n,this.prevUserEvent=i}isolate(){return this.prevTime?new To(this.done,this.undone):this}addChanges(e,t,n,i,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!n||_ne.test(n))&&(!l.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,mne(l.changes,e.changes))||n=="input.type.compose")?o=Pv(o,o.length-1,i.minDepth,new bi(e.changes.compose(l.changes),v9(Et.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,bs)):o=Pv(o,o.length,i.minDepth,e),new To(o,bs,t,n)}addSelection(e,t,n,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:bs;return s.length>0&&t-this.prevTime<i&&n==this.prevUserEvent&&n&&/^select($|\.)/.test(n)&&gne(s[s.length-1],e)?this:new To(w9(this.done,e),this.undone,t,n)}addMapping(e){return new To(qb(this.done,e),qb(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,n){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(n&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:NT.of({side:e,rest:vne(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?bs:i.slice(0,i.length-1);return s.mapped&&(l=qb(l,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:NT.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}To.empty=new To(bs,bs);const bne=[{key:"Mod-z",run:y9,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:MT,preventDefault:!0},{linux:"Ctrl-Shift-z",run:MT,preventDefault:!0},{key:"Mod-u",run:dne,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:pne,preventDefault:!0}];function Ff(r,e){return Ue.create(r.ranges.map(e),r.mainIndex)}function qo(r,e){return r.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Hs({state:r,dispatch:e},t){let n=Ff(r.selection,t);return n.eq(r.selection,!0)?!1:(e(qo(r,n)),!0)}function Ow(r,e){return Ue.cursor(e?r.to:r.from)}function _9(r,e){return Hs(r,t=>t.empty?r.moveByChar(t,e):Ow(t,e))}function Qr(r){return r.textDirectionAt(r.state.selection.main.head)==_n.LTR}const b9=r=>_9(r,!Qr(r)),S9=r=>_9(r,Qr(r));function E9(r,e){return Hs(r,t=>t.empty?r.moveByGroup(t,e):Ow(t,e))}const Sne=r=>E9(r,!Qr(r)),Ene=r=>E9(r,Qr(r));function xne(r,e,t){if(e.type.prop(t))return!0;let n=e.to-e.from;return n&&(n>2||/[^\s,.;:]/.test(r.sliceDoc(e.from,e.to)))||e.firstChild}function Nw(r,e,t){let n=Xr(r).resolveInner(e.head),i=t?Ut.closedBy:Ut.openedBy;for(let u=e.head;;){let h=t?n.childAfter(u):n.childBefore(u);if(!h)break;xne(r,h,i)?n=h:u=t?h.to:h.from}let s=n.type.prop(i),o,l;return s&&(o=t?xo(r,n.from,1):xo(r,n.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?n.to:n.from,Ue.cursor(l,t?-1:1)}const Tne=r=>Hs(r,e=>Nw(r.state,e,!Qr(r))),Ane=r=>Hs(r,e=>Nw(r.state,e,Qr(r)));function x9(r,e){return Hs(r,t=>{if(!t.empty)return Ow(t,e);let n=r.moveVertically(t,e);return n.head!=t.head?n:r.moveToLineBoundary(t,e)})}const T9=r=>x9(r,!1),A9=r=>x9(r,!0);function C9(r){let e=r.scrollDOM.clientHeight<r.scrollDOM.scrollHeight-2,t=0,n=0,i;if(e){for(let s of r.state.facet(Xe.scrollMargins)){let o=s(r);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(n=Math.max(o?.bottom,n))}i=r.scrollDOM.clientHeight-t-n}else i=(r.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:n,selfScroll:e,height:Math.max(r.defaultLineHeight,i-5)}}function R9(r,e){let t=C9(r),{state:n}=r,i=Ff(n.selection,o=>o.empty?r.moveVertically(o,e,t.height):Ow(o,e));if(i.eq(n.selection))return!1;let s;if(t.selfScroll){let o=r.coordsAtPos(n.selection.main.head),l=r.scrollDOM.getBoundingClientRect(),u=l.top+t.marginTop,h=l.bottom-t.marginBottom;o&&o.top>u&&o.bottom<h&&(s=Xe.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-u}))}return r.dispatch(qo(n,i),{effects:s}),!0}const _M=r=>R9(r,!1),PT=r=>R9(r,!0);function su(r,e,t){let n=r.lineBlockAt(e.head),i=r.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?n.to:n.from)&&(i=r.moveToLineBoundary(e,t,!1)),!t&&i.head==n.from&&n.length){let s=/^\s*/.exec(r.state.sliceDoc(n.from,Math.min(n.from+100,n.to)))[0].length;s&&e.head!=n.from+s&&(i=Ue.cursor(n.from+s))}return i}const Cne=r=>Hs(r,e=>su(r,e,!0)),Rne=r=>Hs(r,e=>su(r,e,!1)),kne=r=>Hs(r,e=>su(r,e,!Qr(r))),Dne=r=>Hs(r,e=>su(r,e,Qr(r))),Ine=r=>Hs(r,e=>Ue.cursor(r.lineBlockAt(e.head).from,1)),One=r=>Hs(r,e=>Ue.cursor(r.lineBlockAt(e.head).to,-1));function Nne(r,e,t){let n=!1,i=Ff(r.selection,s=>{let o=xo(r,s.head,-1)||xo(r,s.head,1)||s.head>0&&xo(r,s.head-1,1)||s.head<r.doc.length&&xo(r,s.head+1,-1);if(!o||!o.end)return s;n=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return Ue.cursor(l)});return n?(e(qo(r,i)),!0):!1}const Mne=({state:r,dispatch:e})=>Nne(r,e);function Rs(r,e){let t=Ff(r.state.selection,n=>{let i=e(n);return Ue.range(n.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(r.state.selection)?!1:(r.dispatch(qo(r.state,t)),!0)}function k9(r,e){return Rs(r,t=>r.moveByChar(t,e))}const D9=r=>k9(r,!Qr(r)),I9=r=>k9(r,Qr(r));function O9(r,e){return Rs(r,t=>r.moveByGroup(t,e))}const Pne=r=>O9(r,!Qr(r)),Lne=r=>O9(r,Qr(r)),Bne=r=>Rs(r,e=>Nw(r.state,e,!Qr(r))),Fne=r=>Rs(r,e=>Nw(r.state,e,Qr(r)));function N9(r,e){return Rs(r,t=>r.moveVertically(t,e))}const M9=r=>N9(r,!1),P9=r=>N9(r,!0);function L9(r,e){return Rs(r,t=>r.moveVertically(t,e,C9(r).height))}const bM=r=>L9(r,!1),SM=r=>L9(r,!0),Vne=r=>Rs(r,e=>su(r,e,!0)),Une=r=>Rs(r,e=>su(r,e,!1)),zne=r=>Rs(r,e=>su(r,e,!Qr(r))),jne=r=>Rs(r,e=>su(r,e,Qr(r))),Hne=r=>Rs(r,e=>Ue.cursor(r.lineBlockAt(e.head).from)),qne=r=>Rs(r,e=>Ue.cursor(r.lineBlockAt(e.head).to)),EM=({state:r,dispatch:e})=>(e(qo(r,{anchor:0})),!0),xM=({state:r,dispatch:e})=>(e(qo(r,{anchor:r.doc.length})),!0),TM=({state:r,dispatch:e})=>(e(qo(r,{anchor:r.selection.main.anchor,head:0})),!0),AM=({state:r,dispatch:e})=>(e(qo(r,{anchor:r.selection.main.anchor,head:r.doc.length})),!0),Wne=({state:r,dispatch:e})=>(e(r.update({selection:{anchor:0,head:r.doc.length},userEvent:"select"})),!0),Gne=({state:r,dispatch:e})=>{let t=Mw(r).map(({from:n,to:i})=>Ue.range(n,Math.min(i+1,r.doc.length)));return e(r.update({selection:Ue.create(t),userEvent:"select"})),!0},Kne=({state:r,dispatch:e})=>{let t=Ff(r.selection,n=>{let i=Xr(r),s=i.resolveStack(n.from,1);if(n.empty){let o=i.resolveStack(n.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<n.from&&l.to>=n.to||l.to>n.to&&l.from<=n.from)&&o.next)return Ue.range(l.to,l.from)}return n});return t.eq(r.selection)?!1:(e(qo(r,t)),!0)},$ne=({state:r,dispatch:e})=>{let t=r.selection,n=null;return t.ranges.length>1?n=Ue.create([t.main]):t.main.empty||(n=Ue.create([Ue.cursor(t.main.head)])),n?(e(qo(r,n)),!0):!1};function jm(r,e){if(r.state.readOnly)return!1;let t="delete.selection",{state:n}=r,i=n.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let u=e(s);u<o?(t="delete.backward",u=jy(r,u,!1)):u>o&&(t="delete.forward",u=jy(r,u,!0)),o=Math.min(o,u),l=Math.max(l,u)}else o=jy(r,o,!1),l=jy(r,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:Ue.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(r.dispatch(n.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?Xe.announce.of(n.phrase("Selection deleted")):void 0})),!0)}function jy(r,e,t){if(r instanceof Xe)for(let n of r.state.facet(Xe.atomicRanges).map(i=>i(r)))n.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const B9=(r,e,t)=>jm(r,n=>{let i=n.from,{state:s}=r,o=s.doc.lineAt(i),l,u;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(l=o.text.slice(0,i-o.from))){if(l[l.length-1]=="	")return i-1;let h=Bf(l,s.tabSize),f=h%Ov(s)||Ov(s);for(let p=0;p<f&&l[l.length-1-p]==" ";p++)i--;u=i}else u=Nr(o.text,i-o.from,e,e)+o.from,u==i&&o.number!=(e?s.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(u-o.from,i-o.from))&&(u=Nr(o.text,u-o.from,!1,!1)+o.from);return u}),LT=r=>B9(r,!1,!0),F9=r=>B9(r,!0,!1),V9=(r,e)=>jm(r,t=>{let n=t.head,{state:i}=r,s=i.doc.lineAt(n),o=i.charCategorizer(n);for(let l=null;;){if(n==(e?s.to:s.from)){n==t.head&&s.number!=(e?i.doc.lines:1)&&(n+=e?1:-1);break}let u=Nr(s.text,n-s.from,e)+s.from,h=s.text.slice(Math.min(n,u)-s.from,Math.max(n,u)-s.from),f=o(h);if(l!=null&&f!=l)break;(h!=" "||n!=t.head)&&(l=f),n=u}return n}),U9=r=>V9(r,!1),Yne=r=>V9(r,!0),Xne=r=>jm(r,e=>{let t=r.lineBlockAt(e.head).to;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Qne=r=>jm(r,e=>{let t=r.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),Zne=r=>jm(r,e=>{let t=r.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(r.state.doc.length,e.head+1)}),Jne=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:Qt.of(["",""])},range:Ue.cursor(n.from)}));return e(r.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},ere=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=r.changeByRange(n=>{if(!n.empty||n.from==0||n.from==r.doc.length)return{range:n};let i=n.from,s=r.doc.lineAt(i),o=i==s.from?i-1:Nr(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:Nr(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:r.doc.slice(i,l).append(r.doc.slice(o,i))},range:Ue.cursor(l)}});return t.changes.empty?!1:(e(r.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Mw(r){let e=[],t=-1;for(let n of r.selection.ranges){let i=r.doc.lineAt(n.from),s=r.doc.lineAt(n.to);if(!n.empty&&n.to==s.from&&(s=r.doc.lineAt(n.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(n)}else e.push({from:i.from,to:s.to,ranges:[n]});t=s.number+1}return e}function z9(r,e,t){if(r.readOnly)return!1;let n=[],i=[];for(let s of Mw(r)){if(t?s.to==r.doc.length:s.from==0)continue;let o=r.doc.lineAt(t?s.to+1:s.from-1),l=o.length+1;if(t){n.push({from:s.to,to:o.to},{from:s.from,insert:o.text+r.lineBreak});for(let u of s.ranges)i.push(Ue.range(Math.min(r.doc.length,u.anchor+l),Math.min(r.doc.length,u.head+l)))}else{n.push({from:o.from,to:s.from},{from:s.to,insert:r.lineBreak+o.text});for(let u of s.ranges)i.push(Ue.range(u.anchor-l,u.head-l))}}return n.length?(e(r.update({changes:n,scrollIntoView:!0,selection:Ue.create(i,r.selection.mainIndex),userEvent:"move.line"})),!0):!1}const tre=({state:r,dispatch:e})=>z9(r,e,!1),nre=({state:r,dispatch:e})=>z9(r,e,!0);function j9(r,e,t){if(r.readOnly)return!1;let n=[];for(let i of Mw(r))t?n.push({from:i.from,insert:r.doc.slice(i.from,i.to)+r.lineBreak}):n.push({from:i.to,insert:r.lineBreak+r.doc.slice(i.from,i.to)});return e(r.update({changes:n,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const rre=({state:r,dispatch:e})=>j9(r,e,!1),ire=({state:r,dispatch:e})=>j9(r,e,!0),sre=r=>{if(r.state.readOnly)return!1;let{state:e}=r,t=e.changes(Mw(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),n=Ff(e.selection,i=>{let s;if(r.lineWrapping){let o=r.lineBlockAt(i.head),l=r.coordsAtPos(i.head,i.assoc||1);l&&(s=o.bottom+r.documentTop-l.bottom+r.defaultLineHeight/2)}return r.moveVertically(i,!0,s)}).map(t);return r.dispatch({changes:t,selection:n,scrollIntoView:!0,userEvent:"delete.line"}),!0};function ore(r,e){if(/\(\)|\[\]|\{\}/.test(r.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=Xr(r).resolveInner(e),n=t.childBefore(e),i=t.childAfter(e),s;return n&&i&&n.to<=e&&i.from>=e&&(s=n.type.prop(Ut.closedBy))&&s.indexOf(i.name)>-1&&r.doc.lineAt(n.to).from==r.doc.lineAt(i.from).from&&!/\S/.test(r.sliceDoc(n.to,i.from))?{from:n.to,to:i.from}:null}const CM=H9(!1),are=H9(!0);function H9(r){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let n=e.changeByRange(i=>{let{from:s,to:o}=i,l=e.doc.lineAt(s),u=!r&&s==o&&ore(e,s);r&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let h=new kw(e,{simulateBreak:s,simulateDoubleBreak:!!u}),f=MC(h,s);for(f==null&&(f=Bf(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;u?{from:s,to:o}=u:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let p=["",dm(e,f)];return u&&p.push(dm(e,h.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:Qt.of(p)},range:Ue.cursor(s+1+p[1].length)}});return t(e.update(n,{scrollIntoView:!0,userEvent:"input"})),!0}}function FC(r,e){let t=-1;return r.changeByRange(n=>{let i=[];for(let o=n.from;o<=n.to;){let l=r.doc.lineAt(o);l.number>t&&(n.empty||n.to>l.from)&&(e(l,i,n),t=l.number),o=l.to+1}let s=r.changes(i);return{changes:i,range:Ue.range(s.mapPos(n.anchor,1),s.mapPos(n.head,1))}})}const lre=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let t=Object.create(null),n=new kw(r,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=FC(r,(s,o,l)=>{let u=MC(n,s.from);if(u==null)return;/\S/.test(s.text)||(u=0);let h=/^\s*/.exec(s.text)[0],f=dm(r,u);(h!=f||l.from<s.from+h.length)&&(t[s.from]=u,o.push({from:s.from,to:s.from+h.length,insert:f}))});return i.changes.empty||e(r.update(i,{userEvent:"indent"})),!0},q9=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(FC(r,(t,n)=>{n.push({from:t.from,insert:r.facet(Rw)})}),{userEvent:"input.indent"})),!0),W9=({state:r,dispatch:e})=>r.readOnly?!1:(e(r.update(FC(r,(t,n)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Bf(i,r.tabSize),o=0,l=dm(r,Math.max(0,s-Ov(r)));for(;o<i.length&&o<l.length&&i.charCodeAt(o)==l.charCodeAt(o);)o++;n.push({from:t.from+o,to:t.from+i.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),ure=r=>(r.setTabFocusMode(),!0),cre=[{key:"Ctrl-b",run:b9,shift:D9,preventDefault:!0},{key:"Ctrl-f",run:S9,shift:I9},{key:"Ctrl-p",run:T9,shift:M9},{key:"Ctrl-n",run:A9,shift:P9},{key:"Ctrl-a",run:Ine,shift:Hne},{key:"Ctrl-e",run:One,shift:qne},{key:"Ctrl-d",run:F9},{key:"Ctrl-h",run:LT},{key:"Ctrl-k",run:Xne},{key:"Ctrl-Alt-h",run:U9},{key:"Ctrl-o",run:Jne},{key:"Ctrl-t",run:ere},{key:"Ctrl-v",run:PT}],hre=[{key:"ArrowLeft",run:b9,shift:D9,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:Sne,shift:Pne,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:kne,shift:zne,preventDefault:!0},{key:"ArrowRight",run:S9,shift:I9,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:Ene,shift:Lne,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Dne,shift:jne,preventDefault:!0},{key:"ArrowUp",run:T9,shift:M9,preventDefault:!0},{mac:"Cmd-ArrowUp",run:EM,shift:TM},{mac:"Ctrl-ArrowUp",run:_M,shift:bM},{key:"ArrowDown",run:A9,shift:P9,preventDefault:!0},{mac:"Cmd-ArrowDown",run:xM,shift:AM},{mac:"Ctrl-ArrowDown",run:PT,shift:SM},{key:"PageUp",run:_M,shift:bM},{key:"PageDown",run:PT,shift:SM},{key:"Home",run:Rne,shift:Une,preventDefault:!0},{key:"Mod-Home",run:EM,shift:TM},{key:"End",run:Cne,shift:Vne,preventDefault:!0},{key:"Mod-End",run:xM,shift:AM},{key:"Enter",run:CM,shift:CM},{key:"Mod-a",run:Wne},{key:"Backspace",run:LT,shift:LT},{key:"Delete",run:F9},{key:"Mod-Backspace",mac:"Alt-Backspace",run:U9},{key:"Mod-Delete",mac:"Alt-Delete",run:Yne},{mac:"Mod-Backspace",run:Qne},{mac:"Mod-Delete",run:Zne}].concat(cre.map(r=>({mac:r.key,run:r.run,shift:r.shift}))),fre=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Tne,shift:Bne},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Ane,shift:Fne},{key:"Alt-ArrowUp",run:tre},{key:"Shift-Alt-ArrowUp",run:rre},{key:"Alt-ArrowDown",run:nre},{key:"Shift-Alt-ArrowDown",run:ire},{key:"Escape",run:$ne},{key:"Mod-Enter",run:are},{key:"Alt-l",mac:"Ctrl-l",run:Gne},{key:"Mod-i",run:Kne,preventDefault:!0},{key:"Mod-[",run:W9},{key:"Mod-]",run:q9},{key:"Mod-Alt-\\",run:lre},{key:"Shift-Mod-k",run:sre},{key:"Shift-Mod-\\",run:Mne},{key:"Mod-/",run:rne},{key:"Alt-A",run:sne},{key:"Ctrl-m",mac:"Shift-Alt-m",run:ure}].concat(hre),dre={key:"Tab",run:q9,shift:W9},RM=typeof String.prototype.normalize=="function"?r=>r.normalize("NFKD"):r=>r;class _f{constructor(e,t,n=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(n,i),this.bufferStart=n,this.normalize=s?l=>s(RM(l)):RM,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return gi(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=mC(e),n=this.bufferStart+this.bufferPos;this.bufferPos+=_o(e);let i=this.normalize(t);if(i.length)for(let s=0,o=n;;s++){let l=i.charCodeAt(s),u=this.match(l,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(u)return this.value=u,this;break}o==n&&s<t.length&&t.charCodeAt(s)==l&&o++}}}match(e,t,n){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],l=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:n}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:n}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(_f.prototype[Symbol.iterator]=function(){return this});const G9={from:-1,to:-1,match:/.*/.exec("")},VC="gm"+(/x/.unicode==null?"":"u");class K9{constructor(e,t,n,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=G9,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new $9(e,t,n,i,s);this.re=new RegExp(t,VC+(n?.ignoreCase?"i":"")),this.test=n?.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Lv(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let n=this.curLineStart+t.index,i=n+t[0].length;if(this.matchPos=Lv(this.text,i+(n==i?1:0)),n==this.curLineStart+this.curLine.length&&this.nextLine(),(n<i||n>this.value.to)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Wb=new WeakMap;class Kh{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,n){let i=Wb.get(e);if(!i||i.from>=n||i.to<=t){let l=new Kh(t,e.sliceString(t,n));return Wb.set(e,l),l}if(i.from==t&&i.to==n)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<n&&(s+=e.sliceString(i.to,n)),Wb.set(e,new Kh(o,s)),new Kh(t,s.slice(t-o,n-o))}}class $9{constructor(e,t,n,i,s){this.text=e,this.to=s,this.done=!1,this.value=G9,this.matchPos=Lv(e,i),this.re=new RegExp(t,VC+(n?.ignoreCase?"i":"")),this.test=n?.test,this.flat=Kh.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let n=this.flat.from+t.index,i=n+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(n,i,t)))return this.value={from:n,to:i,match:t},this.matchPos=Lv(this.text,i+(n==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Kh.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(K9.prototype[Symbol.iterator]=$9.prototype[Symbol.iterator]=function(){return this});function pre(r){try{return new RegExp(r,VC),!0}catch{return!1}}function Lv(r,e){if(e>=r.length)return e;let t=r.lineAt(e),n;for(;e<t.to&&(n=t.text.charCodeAt(e-t.from))>=56320&&n<57344;)e++;return e}function BT(r){let e=String(r.state.doc.lineAt(r.state.selection.main.head).number),t=fn("input",{class:"cm-textfield",name:"line",value:e}),n=fn("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),r.dispatch({effects:Np.of(!1)}),r.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},fn("label",r.state.phrase("Go to line"),": ",t)," ",fn("button",{class:"cm-button",type:"submit"},r.state.phrase("go")),fn("button",{name:"close",onclick:()=>{r.dispatch({effects:Np.of(!1)}),r.focus()},"aria-label":r.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=r,l=o.doc.lineAt(o.selection.main.head),[,u,h,f,p]=s,g=f?+f.slice(1):0,y=h?+h:l.number;if(h&&p){let E=y/100;u&&(E=E*(u=="-"?-1:1)+l.number/o.doc.lines),y=Math.round(o.doc.lines*E)}else h&&u&&(y=y*(u=="-"?-1:1)+l.number);let _=o.doc.line(Math.max(1,Math.min(o.doc.lines,y))),w=Ue.cursor(_.from+Math.max(0,Math.min(g,_.length)));r.dispatch({effects:[Np.of(!1),Xe.scrollIntoView(w.from,{y:"center"})],selection:w}),r.focus()}return{dom:n}}const Np=Et.define(),kM=Lr.define({create(){return!0},update(r,e){for(let t of e.effects)t.is(Np)&&(r=t.value);return r},provide:r=>hm.from(r,e=>e?BT:null)}),mre=r=>{let e=cm(r,BT);if(!e){let t=[Np.of(!0)];r.state.field(kM,!1)==null&&t.push(Et.appendConfig.of([kM,gre])),r.dispatch({effects:t}),e=cm(r,BT)}return e&&e.dom.querySelector("input").select(),!0},gre=Xe.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),yre={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},vre=tt.define({combine(r){return Ho(r,yre,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function wre(r){return[xre,Ere]}const _re=ht.mark({class:"cm-selectionMatch"}),bre=ht.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function DM(r,e,t,n){return(t==0||r(e.sliceDoc(t-1,t))!=En.Word)&&(n==e.doc.length||r(e.sliceDoc(n,n+1))!=En.Word)}function Sre(r,e,t,n){return r(e.sliceDoc(t,t+1))==En.Word&&r(e.sliceDoc(n-1,n))==En.Word}const Ere=Vn.fromClass(class{constructor(r){this.decorations=this.getDeco(r)}update(r){(r.selectionSet||r.docChanged||r.viewportChanged)&&(this.decorations=this.getDeco(r.view))}getDeco(r){let e=r.state.facet(vre),{state:t}=r,n=t.selection;if(n.ranges.length>1)return ht.none;let i=n.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return ht.none;let u=t.wordAt(i.head);if(!u)return ht.none;o=t.charCategorizer(i.head),s=t.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return ht.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(DM(o,t,i.from,i.to)&&Sre(o,t,i.from,i.to)))return ht.none}else if(s=t.sliceDoc(i.from,i.to),!s)return ht.none}let l=[];for(let u of r.visibleRanges){let h=new _f(t.doc,s,u.from,u.to);for(;!h.next().done;){let{from:f,to:p}=h.value;if((!o||DM(o,t,f,p))&&(i.empty&&f<=i.from&&p>=i.to?l.push(bre.range(f,p)):(f>=i.to||p<=i.from)&&l.push(_re.range(f,p)),l.length>e.maxMatches))return ht.none}}return ht.set(l)}},{decorations:r=>r.decorations}),xre=Xe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),Tre=({state:r,dispatch:e})=>{let{selection:t}=r,n=Ue.create(t.ranges.map(i=>r.wordAt(i.head)||Ue.cursor(i.head)),t.mainIndex);return n.eq(t)?!1:(e(r.update({selection:n})),!0)};function Are(r,e){let{main:t,ranges:n}=r.selection,i=r.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,l=new _f(r.doc,e,n[n.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new _f(r.doc,e,0,Math.max(0,n[n.length-1].from-1)),o=!0}else{if(o&&n.some(u=>u.from==l.value.from))continue;if(s){let u=r.wordAt(l.value.from);if(!u||u.from!=l.value.from||u.to!=l.value.to)continue}return l.value}}const Cre=({state:r,dispatch:e})=>{let{ranges:t}=r.selection;if(t.some(s=>s.from===s.to))return Tre({state:r,dispatch:e});let n=r.sliceDoc(t[0].from,t[0].to);if(r.selection.ranges.some(s=>r.sliceDoc(s.from,s.to)!=n))return!1;let i=Are(r,n);return i?(e(r.update({selection:r.selection.addRange(Ue.range(i.from,i.to),!1),effects:Xe.scrollIntoView(i.to)})),!0):!1},Vf=tt.define({combine(r){return Ho(r,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Vre(e),scrollToMatch:e=>Xe.scrollIntoView(e)})}});class Y9{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||pre(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,n)=>n=="n"?`
`:n=="r"?"\r":n=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new Ire(this):new kre(this)}getCursor(e,t=0,n){let i=e.doc?e:Ft.create({doc:e});return n==null&&(n=i.doc.length),this.regexp?Ah(this,i,t,n):Th(this,i,t,n)}}class X9{constructor(e){this.spec=e}}function Th(r,e,t,n){return new _f(e.doc,r.unquoted,t,n,r.caseSensitive?void 0:i=>i.toLowerCase(),r.wholeWord?Rre(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function Rre(r,e){return(t,n,i,s)=>((s>t||s+i.length<n)&&(s=Math.max(0,t-2),i=r.sliceString(s,Math.min(r.length,n+2))),(e(Bv(i,t-s))!=En.Word||e(Fv(i,t-s))!=En.Word)&&(e(Fv(i,n-s))!=En.Word||e(Bv(i,n-s))!=En.Word))}class kre extends X9{constructor(e){super(e)}nextMatch(e,t,n){let i=Th(this.spec,e,n,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Th(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==n?null:i.value}prevMatchInRange(e,t,n){for(let i=n;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=Th(this.spec,e,s,i),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==t)return null;i-=1e4}}prevMatch(e,t,n){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,n-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=n)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let n=Th(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=Th(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(n+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Ah(r,e,t,n){return new K9(e.doc,r.search,{ignoreCase:!r.caseSensitive,test:r.wholeWord?Dre(e.charCategorizer(e.selection.main.head)):void 0},t,n)}function Bv(r,e){return r.slice(Nr(r,e,!1),e)}function Fv(r,e){return r.slice(e,Nr(r,e))}function Dre(r){return(e,t,n)=>!n[0].length||(r(Bv(n.input,n.index))!=En.Word||r(Fv(n.input,n.index))!=En.Word)&&(r(Fv(n.input,n.index+n[0].length))!=En.Word||r(Bv(n.input,n.index+n[0].length))!=En.Word)}class Ire extends X9{nextMatch(e,t,n){let i=Ah(this.spec,e,n,e.doc.length).next();return i.done&&(i=Ah(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,n){for(let i=1;;i++){let s=Math.max(t,n-i*1e4),o=Ah(this.spec,e,s,n),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==t||l.from>s+10))return l;if(s==t)return null}}prevMatch(e,t,n){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,n,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,n)=>{if(n=="&")return e.match[0];if(n=="$")return"$";for(let i=n.length;i>0;i--){let s=+n.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+n.slice(i)}return t})}matchAll(e,t){let n=Ah(this.spec,e,0,e.doc.length),i=[];for(;!n.next().done;){if(i.length>=t)return null;i.push(n.value)}return i}highlight(e,t,n,i){let s=Ah(this.spec,e,Math.max(0,t-250),Math.min(n+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const pm=Et.define(),UC=Et.define(),Bl=Lr.define({create(r){return new Gb(FT(r).create(),null)},update(r,e){for(let t of e.effects)t.is(pm)?r=new Gb(t.value.create(),r.panel):t.is(UC)&&(r=new Gb(r.query,t.value?zC:null));return r},provide:r=>hm.from(r,e=>e.panel)});class Gb{constructor(e,t){this.query=e,this.panel=t}}const Ore=ht.mark({class:"cm-searchMatch"}),Nre=ht.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Mre=Vn.fromClass(class{constructor(r){this.view=r,this.decorations=this.highlight(r.state.field(Bl))}update(r){let e=r.state.field(Bl);(e!=r.startState.field(Bl)||r.docChanged||r.selectionSet||r.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:r,panel:e}){if(!e||!r.spec.valid)return ht.none;let{view:t}=this,n=new Na;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:l,to:u}=s[i];for(;i<o-1&&u>s[i+1].from-2*250;)u=s[++i].to;r.highlight(t.state,l,u,(h,f)=>{let p=t.state.selection.ranges.some(g=>g.from==h&&g.to==f);n.add(h,f,p?Nre:Ore)})}return n.finish()}},{decorations:r=>r.decorations});function Hm(r){return e=>{let t=e.state.field(Bl,!1);return t&&t.query.spec.valid?r(e,t):J9(e)}}const Vv=Hm((r,{query:e})=>{let{to:t}=r.state.selection.main,n=e.nextMatch(r.state,t,t);if(!n)return!1;let i=Ue.single(n.from,n.to),s=r.state.facet(Vf);return r.dispatch({selection:i,effects:[jC(r,n),s.scrollToMatch(i.main,r)],userEvent:"select.search"}),Z9(r),!0}),Uv=Hm((r,{query:e})=>{let{state:t}=r,{from:n}=t.selection.main,i=e.prevMatch(t,n,n);if(!i)return!1;let s=Ue.single(i.from,i.to),o=r.state.facet(Vf);return r.dispatch({selection:s,effects:[jC(r,i),o.scrollToMatch(s.main,r)],userEvent:"select.search"}),Z9(r),!0}),Pre=Hm((r,{query:e})=>{let t=e.matchAll(r.state,1e3);return!t||!t.length?!1:(r.dispatch({selection:Ue.create(t.map(n=>Ue.range(n.from,n.to))),userEvent:"select.search.matches"}),!0)}),Lre=({state:r,dispatch:e})=>{let t=r.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:n,to:i}=t.main,s=[],o=0;for(let l=new _f(r.doc,r.sliceDoc(n,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==n&&(o=s.length),s.push(Ue.range(l.value.from,l.value.to))}return e(r.update({selection:Ue.create(s,o),userEvent:"select.search.matches"})),!0},IM=Hm((r,{query:e})=>{let{state:t}=r,{from:n,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,n,n);if(!s)return!1;let o=s,l=[],u,h,f=[];o.from==n&&o.to==i&&(h=t.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:h}),o=e.nextMatch(t,o.from,o.to),f.push(Xe.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(n).number)+".")));let p=r.state.changes(l);return o&&(u=Ue.single(o.from,o.to).map(p),f.push(jC(r,o)),f.push(t.facet(Vf).scrollToMatch(u.main,r))),r.dispatch({changes:p,selection:u,effects:f,userEvent:"input.replace"}),!0}),Bre=Hm((r,{query:e})=>{if(r.state.readOnly)return!1;let t=e.matchAll(r.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let n=r.state.phrase("replaced $ matches",t.length)+".";return r.dispatch({changes:t,effects:Xe.announce.of(n),userEvent:"input.replace.all"}),!0});function zC(r){return r.state.facet(Vf).createPanel(r)}function FT(r,e){var t,n,i,s,o;let l=r.selection.main,u=l.empty||l.to>l.from+100?"":r.sliceDoc(l.from,l.to);if(e&&!u)return e;let h=r.facet(Vf);return new Y9({search:((t=e?.literal)!==null&&t!==void 0?t:h.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(n=e?.caseSensitive)!==null&&n!==void 0?n:h.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:h.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:h.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:h.wholeWord})}function Q9(r){let e=cm(r,zC);return e&&e.dom.querySelector("[main-field]")}function Z9(r){let e=Q9(r);e&&e==r.root.activeElement&&e.select()}const J9=r=>{let e=r.state.field(Bl,!1);if(e&&e.panel){let t=Q9(r);if(t&&t!=r.root.activeElement){let n=FT(r.state,e.query.spec);n.valid&&r.dispatch({effects:pm.of(n)}),t.focus(),t.select()}}else r.dispatch({effects:[UC.of(!0),e?pm.of(FT(r.state,e.query.spec)):Et.appendConfig.of(zre)]});return!0},eF=r=>{let e=r.state.field(Bl,!1);if(!e||!e.panel)return!1;let t=cm(r,zC);return t&&t.dom.contains(r.root.activeElement)&&r.focus(),r.dispatch({effects:UC.of(!1)}),!0},Fre=[{key:"Mod-f",run:J9,scope:"editor search-panel"},{key:"F3",run:Vv,shift:Uv,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Vv,shift:Uv,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:eF,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Lre},{key:"Mod-Alt-g",run:mre},{key:"Mod-d",run:Cre,preventDefault:!0}];class Vre{constructor(e){this.view=e;let t=this.query=e.state.field(Bl).query.spec;this.commit=this.commit.bind(this),this.searchField=fn("input",{value:t.search,placeholder:Vi(e,"Find"),"aria-label":Vi(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=fn("input",{value:t.replace,placeholder:Vi(e,"Replace"),"aria-label":Vi(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=fn("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=fn("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=fn("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function n(i,s,o){return fn("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=fn("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,n("next",()=>Vv(e),[Vi(e,"next")]),n("prev",()=>Uv(e),[Vi(e,"previous")]),n("select",()=>Pre(e),[Vi(e,"all")]),fn("label",null,[this.caseField,Vi(e,"match case")]),fn("label",null,[this.reField,Vi(e,"regexp")]),fn("label",null,[this.wordField,Vi(e,"by word")]),...e.state.readOnly?[]:[fn("br"),this.replaceField,n("replace",()=>IM(e),[Vi(e,"replace")]),n("replaceAll",()=>Bre(e),[Vi(e,"replace all")])],fn("button",{name:"close",onclick:()=>eF(e),"aria-label":Vi(e,"close"),type:"button"},[""])])}commit(){let e=new Y9({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:pm.of(e)}))}keydown(e){WJ(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Uv:Vv)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),IM(this.view))}update(e){for(let t of e.transactions)for(let n of t.effects)n.is(pm)&&!n.value.eq(this.query)&&this.setQuery(n.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Vf).top}}function Vi(r,e){return r.state.phrase(e)}const Hy=30,qy=/[\s\.,:;?!]/;function jC(r,{from:e,to:t}){let n=r.state.doc.lineAt(e),i=r.state.doc.lineAt(t).to,s=Math.max(n.from,e-Hy),o=Math.min(i,t+Hy),l=r.state.sliceDoc(s,o);if(s!=n.from){for(let u=0;u<Hy;u++)if(!qy.test(l[u+1])&&qy.test(l[u])){l=l.slice(u);break}}if(o!=i){for(let u=l.length-1;u>l.length-Hy;u--)if(!qy.test(l[u-1])&&qy.test(l[u])){l=l.slice(0,u);break}}return Xe.announce.of(`${r.state.phrase("current match")}. ${l} ${r.state.phrase("on line")} ${n.number}.`)}const Ure=Xe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),zre=[Bl,Rc.low(Mre),Ure];class tF{constructor(e,t,n,i){this.state=e,this.pos=t,this.explicit=n,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=Xr(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),n=Math.max(t.from,this.pos-250),i=t.text.slice(n-t.from,this.pos-t.from),s=i.search(nF(e,!1));return s<0?null:{from:n+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,n){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),n&&n.onDocChange&&(this.abortOnDocChange=!0))}}function OM(r){let e=Object.keys(r).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function jre(r){let e=Object.create(null),t=Object.create(null);for(let{label:i}of r){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let n=OM(e)+OM(t)+"*$";return[new RegExp("^"+n),new RegExp(n)]}function Hre(r){let e=r.map(i=>typeof i=="string"?{label:i}:i),[t,n]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:jre(e);return i=>{let s=i.matchBefore(n);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}class NM{constructor(e,t,n,i){this.completion=e,this.source=t,this.match=n,this.score=i}}function oc(r){return r.selection.main.from}function nF(r,e){var t;let{source:n}=r,i=e&&n[0]!="^",s=n[n.length-1]!="$";return!i&&!s?r:new RegExp(`${i?"^":""}(?:${n})${s?"$":""}`,(t=r.flags)!==null&&t!==void 0?t:r.ignoreCase?"i":"")}const rF=jo.define();function qre(r,e,t,n){let{main:i}=r.selection,s=t-i.from,o=n-i.from;return Object.assign(Object.assign({},r.changeByRange(l=>{if(l!=i&&t!=n&&r.sliceDoc(l.from+s,l.from+o)!=r.sliceDoc(t,n))return{range:l};let u=r.toText(e);return{changes:{from:l.from+s,to:n==i.from?l.to:l.from+o,insert:u},range:Ue.cursor(l.from+s+u.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}const MM=new WeakMap;function Wre(r){if(!Array.isArray(r))return r;let e=MM.get(r);return e||MM.set(r,e=Hre(r)),e}const zv=Et.define(),mm=Et.define();class Gre{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let n=gi(e,t),i=_o(n);this.chars.push(n);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(gi(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:n,any:i,precise:s,byWord:o}=this;if(t.length==1){let A=gi(e,0),T=_o(A),x=T==e.length?0:-100;if(A!=t[0])if(A==n[0])x+=-200;else return null;return this.ret(x,[0,T])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=t.length,h=0;if(l<0){for(let A=0,T=Math.min(e.length,200);A<T&&h<u;){let x=gi(e,A);(x==t[h]||x==n[h])&&(i[h++]=A),A+=_o(x)}if(h<u)return null}let f=0,p=0,g=!1,y=0,_=-1,w=-1,E=/[a-z]/.test(e),b=!0;for(let A=0,T=Math.min(e.length,200),x=0;A<T&&p<u;){let D=gi(e,A);l<0&&(f<u&&D==t[f]&&(s[f++]=A),y<u&&(D==t[y]||D==n[y]?(y==0&&(_=A),w=A+1,y++):y=0));let P,N=D<255?D>=48&&D<=57||D>=97&&D<=122?2:D>=65&&D<=90?1:0:(P=mC(D))!=P.toLowerCase()?1:P!=P.toUpperCase()?2:0;(!A||N==1&&E||x==0&&N!=0)&&(t[p]==D||n[p]==D&&(g=!0)?o[p++]=A:o.length&&(b=!1)),x=N,A+=_o(D)}return p==u&&o[0]==0&&b?this.result(-100+(g?-200:0),o,e):y==u&&_==0?this.ret(-200-e.length+(w==e.length?0:-100),[0,w]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):y==u?this.ret(-900-e.length,[_,w]):p==u?this.result(-100+(g?-200:0)+-700+(b?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,n){let i=[],s=0;for(let o of t){let l=o+(this.astral?_o(gi(n,o)):1);s&&i[s-1]==o?i[s-1]=l:(i[s++]=o,i[s++]=l)}return this.ret(e-n.length,i)}}class Kre{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),n=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return n==null?null:(this.matched=[0,t.length],this.score=n+(e.length==this.pattern.length?0:-100),this)}}const gr=tt.define({combine(r){return Ho(r,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:$re,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>n=>PM(e(n),t(n)),optionClass:(e,t)=>n=>PM(e(n),t(n)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function PM(r,e){return r?e?r+" "+e:r:e}function $re(r,e,t,n,i,s){let o=r.textDirection==_n.RTL,l=o,u=!1,h="top",f,p,g=e.left-i.left,y=i.right-e.right,_=n.right-n.left,w=n.bottom-n.top;if(l&&g<Math.min(_,y)?l=!1:!l&&y<Math.min(_,g)&&(l=!0),_<=(l?g:y))f=Math.max(i.top,Math.min(t.top,i.bottom-w))-e.top,p=Math.min(400,l?g:y);else{u=!0,p=Math.min(400,(o?e.right:i.right-e.left)-30);let A=i.bottom-e.bottom;A>=w||A>e.top?f=t.bottom-e.top:(h="bottom",f=e.bottom-t.top)}let E=(e.bottom-e.top)/s.offsetHeight,b=(e.right-e.left)/s.offsetWidth;return{style:`${h}: ${f/E}px; max-width: ${p/b}px`,class:"cm-completionInfo-"+(u?o?"left-narrow":"right-narrow":l?"left":"right")}}function Yre(r){let e=r.addToOptions.slice();return r.icons&&e.push({render(t){let n=document.createElement("div");return n.classList.add("cm-completionIcon"),t.type&&n.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),n.setAttribute("aria-hidden","true"),n},position:20}),e.push({render(t,n,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let l=t.displayLabel||t.label,u=0;for(let h=0;h<s.length;){let f=s[h++],p=s[h++];f>u&&o.appendChild(document.createTextNode(l.slice(u,f)));let g=o.appendChild(document.createElement("span"));g.appendChild(document.createTextNode(l.slice(f,p))),g.className="cm-completionMatchedText",u=p}return u<l.length&&o.appendChild(document.createTextNode(l.slice(u))),o},position:50},{render(t){if(!t.detail)return null;let n=document.createElement("span");return n.className="cm-completionDetail",n.textContent=t.detail,n},position:80}),e.sort((t,n)=>t.position-n.position).map(t=>t.render)}function Kb(r,e,t){if(r<=t)return{from:0,to:r};if(e<0&&(e=0),e<=r>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let n=Math.floor((r-e)/t);return{from:r-(n+1)*t,to:r-n*t}}class Xre{constructor(e,t,n){this.view=e,this.stateField=t,this.applyCompletion=n,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,l=e.state.facet(gr);this.optionContent=Yre(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=Kb(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:h}=e.state.field(t).open;for(let f=u.target,p;f&&f!=this.dom;f=f.parentNode)if(f.nodeName=="LI"&&(p=/-(\d+)$/.exec(f.id))&&+p[1]<h.length){this.applyCompletion(e,h[+p[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let h=e.state.field(this.stateField,!1);h&&h.tooltip&&e.state.facet(gr).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:mm.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let n=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),n!=i){let{options:s,selected:o,disabled:l}=n.open;(!i.open||i.open.options!=s)&&(this.range=Kb(s.length,o,e.state.facet(gr).maxRenderedOptions),this.showOptions(s,n.id)),this.updateSel(),l!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let n of this.currentClass.split(" "))n&&this.dom.classList.remove(n);for(let n of t.split(" "))n&&this.dom.classList.add(n);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Kb(t.options.length,t.selected,this.view.state.facet(gr).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:n}=t.options[t.selected],{info:i}=n;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(n);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,n)}).catch(o=>_i(this.view.state,o,"completion info")):this.addInfoPane(s,n)}}addInfoPane(e,t){this.destroyInfo();let n=this.info=document.createElement("div");if(n.className="cm-tooltip cm-completionInfo",e.nodeType!=null)n.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;n.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(n),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let n=this.list.firstChild,i=this.range.from;n;n=n.nextSibling,i++)n.nodeName!="LI"||!n.id?i--:i==e?n.hasAttribute("aria-selected")||(n.setAttribute("aria-selected","true"),t=n):n.hasAttribute("aria-selected")&&n.removeAttribute("aria-selected");return t&&Zre(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),n=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(gr).positionInfo(this.view,t,i,n,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,n){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=n.from;o<n.to;o++){let{completion:l,match:u}=e[o],{section:h}=l;if(h){let g=typeof h=="string"?h:h.name;if(g!=s&&(o>n.from||n.from==0))if(s=g,typeof h!="string"&&h.header)i.appendChild(h.header(h));else{let y=i.appendChild(document.createElement("completion-section"));y.textContent=g}}const f=i.appendChild(document.createElement("li"));f.id=t+"-"+o,f.setAttribute("role","option");let p=this.optionClass(l);p&&(f.className=p);for(let g of this.optionContent){let y=g(l,this.view.state,this.view,u);y&&f.appendChild(y)}}return n.from&&i.classList.add("cm-completionListIncompleteTop"),n.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Qre(r,e){return t=>new Xre(t,r,e)}function Zre(r,e){let t=r.getBoundingClientRect(),n=e.getBoundingClientRect(),i=t.height/r.offsetHeight;n.top<t.top?r.scrollTop-=(t.top-n.top)/i:n.bottom>t.bottom&&(r.scrollTop+=(n.bottom-t.bottom)/i)}function LM(r){return(r.boost||0)*100+(r.apply?10:0)+(r.info?5:0)+(r.type?1:0)}function Jre(r,e){let t=[],n=null,i=h=>{t.push(h);let{section:f}=h.completion;if(f){n||(n=[]);let p=typeof f=="string"?f:f.name;n.some(g=>g.name==p)||n.push(typeof f=="string"?{name:p}:f)}},s=e.facet(gr);for(let h of r)if(h.hasResult()){let f=h.result.getMatch;if(h.result.filter===!1)for(let p of h.result.options)i(new NM(p,h.source,f?f(p):[],1e9-t.length));else{let p=e.sliceDoc(h.from,h.to),g,y=s.filterStrict?new Kre(p):new Gre(p);for(let _ of h.result.options)if(g=y.match(_.label)){let w=_.displayLabel?f?f(_,g.matched):[]:g.matched;i(new NM(_,h.source,w,g.score+(_.boost||0)))}}}if(n){let h=Object.create(null),f=0,p=(g,y)=>{var _,w;return((_=g.rank)!==null&&_!==void 0?_:1e9)-((w=y.rank)!==null&&w!==void 0?w:1e9)||(g.name<y.name?-1:1)};for(let g of n.sort(p))f-=1e5,h[g.name]=f;for(let g of t){let{section:y}=g.completion;y&&(g.score+=h[typeof y=="string"?y:y.name])}}let o=[],l=null,u=s.compareCompletions;for(let h of t.sort((f,p)=>p.score-f.score||u(f.completion,p.completion))){let f=h.completion;!l||l.label!=f.label||l.detail!=f.detail||l.type!=null&&f.type!=null&&l.type!=f.type||l.apply!=f.apply||l.boost!=f.boost?o.push(h):LM(h.completion)>LM(l)&&(o[o.length-1]=h),l=h.completion}return o}class Nh{constructor(e,t,n,i,s,o){this.options=e,this.attrs=t,this.tooltip=n,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Nh(this.options,BM(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,n,i,s,o){if(i&&!o&&e.some(h=>h.isPending))return i.setDisabled();let l=Jre(e,t);if(!l.length)return i&&e.some(h=>h.isPending)?i.setDisabled():null;let u=t.facet(gr).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let h=i.options[i.selected].completion;for(let f=0;f<l.length;f++)if(l[f].completion==h){u=f;break}}return new Nh(l,BM(n,u),{pos:e.reduce((h,f)=>f.hasResult()?Math.min(h,f.from):h,1e8),create:sie,above:s.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new Nh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Nh(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class jv{constructor(e,t,n){this.active=e,this.id=t,this.open=n}static start(){return new jv(rie,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,n=t.facet(gr),s=(n.override||t.languageDataAt("autocomplete",oc(t)).map(Wre)).map(u=>(this.active.find(f=>f.source==u)||new Ss(u,this.active.some(f=>f.state!=0)?1:0)).update(e,n));s.length==this.active.length&&s.every((u,h)=>u==this.active[h])&&(s=this.active);let o=this.open,l=e.effects.some(u=>u.is(HC));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!eie(s,this.active)||l?o=Nh.build(s,t,this.id,o,n,l):o&&o.disabled&&!s.some(u=>u.isPending)&&(o=null),!o&&s.every(u=>!u.isPending)&&s.some(u=>u.hasResult())&&(s=s.map(u=>u.hasResult()?new Ss(u.source,0):u));for(let u of e.effects)u.is(sF)&&(o=o&&o.setSelected(u.value,this.id));return s==this.active&&o==this.open?this:new jv(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?tie:nie}}function eie(r,e){if(r==e)return!0;for(let t=0,n=0;;){for(;t<r.length&&!r[t].hasResult();)t++;for(;n<e.length&&!e[n].hasResult();)n++;let i=t==r.length,s=n==e.length;if(i||s)return i==s;if(r[t++].result!=e[n++].result)return!1}}const tie={"aria-autocomplete":"list"},nie={};function BM(r,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":r};return e>-1&&(t["aria-activedescendant"]=r+"-"+e),t}const rie=[];function iF(r,e){if(r.isUserEvent("input.complete")){let n=r.annotation(rF);if(n&&e.activateOnCompletion(n))return 12}let t=r.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:r.isUserEvent("delete.backward")?2:r.selection?8:r.docChanged?16:0}class Ss{constructor(e,t,n=!1){this.source=e,this.state=t,this.explicit=n}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let n=iF(e,t),i=this;(n&8||n&16&&this.touches(e))&&(i=new Ss(i.source,0)),n&4&&i.state==0&&(i=new Ss(this.source,1)),i=i.updateFor(e,n);for(let s of e.effects)if(s.is(zv))i=new Ss(i.source,1,s.value);else if(s.is(mm))i=new Ss(i.source,0);else if(s.is(HC))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(oc(e.state))}}class $h extends Ss{constructor(e,t,n,i,s,o){super(e,3,t),this.limit=n,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var n;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=oc(e.state);if(l>o||!i||t&2&&(oc(e.startState)==this.from||l<this.limit))return new Ss(this.source,t&4?1:0);let u=e.changes.mapPos(this.limit);return iie(i.validFor,e.state,s,o)?new $h(this.source,this.explicit,u,i,s,o):i.update&&(i=i.update(i,s,o,new tF(e.state,l,!1)))?new $h(this.source,this.explicit,u,i,i.from,(n=i.to)!==null&&n!==void 0?n:oc(e.state)):new Ss(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new $h(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ss(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function iie(r,e,t,n){if(!r)return!1;let i=e.sliceDoc(t,n);return typeof r=="function"?r(i,t,n,e):nF(r,!0).test(i)}const HC=Et.define({map(r,e){return r.map(t=>t.map(e))}}),sF=Et.define(),vi=Lr.define({create(){return jv.start()},update(r,e){return r.update(e)},provide:r=>[DC.from(r,e=>e.tooltip),Xe.contentAttributes.from(r,e=>e.attrs)]});function qC(r,e){const t=e.completion.apply||e.completion.label;let n=r.state.field(vi).active.find(i=>i.source==e.source);return n instanceof $h?(typeof t=="string"?r.dispatch(Object.assign(Object.assign({},qre(r.state,t,n.from,n.to)),{annotations:rF.of(e.completion)})):t(r,e.completion,n.from,n.to),!0):!1}const sie=Qre(vi,qC);function Wy(r,e="option"){return t=>{let n=t.state.field(vi,!1);if(!n||!n.open||n.open.disabled||Date.now()-n.open.timestamp<t.state.facet(gr).interactionDelay)return!1;let i=1,s;e=="page"&&(s=WB(t,n.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=n.open.options,l=n.open.selected>-1?n.open.selected+i*(r?1:-1):r?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:sF.of(l)}),!0}}const oie=r=>{let e=r.state.field(vi,!1);return r.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<r.state.facet(gr).interactionDelay?!1:qC(r,e.open.options[e.open.selected])},FM=r=>r.state.field(vi,!1)?(r.dispatch({effects:zv.of(!0)}),!0):!1,aie=r=>{let e=r.state.field(vi,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(r.dispatch({effects:mm.of(null)}),!0)};class lie{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const uie=50,cie=1e3,hie=Vn.fromClass(class{constructor(r){this.view=r,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of r.state.field(vi).active)e.isPending&&this.startQuery(e)}update(r){let e=r.state.field(vi),t=r.state.facet(gr);if(!r.selectionSet&&!r.docChanged&&r.startState.field(vi)==e)return;let n=r.transactions.some(s=>{let o=iF(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(n||o.context.abortOnDocChange&&r.docChanged||o.updates.length+r.transactions.length>uie&&Date.now()-o.time>cie){for(let l of o.context.abortListeners)try{l()}catch(u){_i(this.view.state,u)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...r.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),r.transactions.some(s=>s.effects.some(o=>o.is(zv)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of r.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:r}=this.view,e=r.field(vi);for(let t of e.active)t.isPending&&!this.running.some(n=>n.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(gr).updateSyncTime))}startQuery(r){let{state:e}=this.view,t=oc(e),n=new tF(e,t,r.explicit,this.view),i=new lie(r,n);this.running.push(i),Promise.resolve(r.source(n)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:mm.of(null)}),_i(this.view.state,s)})}scheduleAccept(){this.running.every(r=>r.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(gr).updateSyncTime))}accept(){var r;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(gr),n=this.view.state.field(vi);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=oc(s.updates.length?s.updates[0].startState:this.view.state),u=Math.min(l,s.done.from+(s.active.explicit?0:1)),h=new $h(s.active.source,s.active.explicit,u,s.done,s.done.from,(r=s.done.to)!==null&&r!==void 0?r:l);for(let f of s.updates)h=h.update(f,t);if(h.hasResult()){e.push(h);continue}}let o=n.active.find(l=>l.source==s.active.source);if(o&&o.isPending)if(s.done==null){let l=new Ss(s.active.source,0);for(let u of s.updates)l=l.update(u,t);l.isPending||e.push(l)}else this.startQuery(o)}(e.length||n.open&&n.open.disabled)&&this.view.dispatch({effects:HC.of(e)})}},{eventHandlers:{blur(r){let e=this.view.state.field(vi,!1);if(e&&e.tooltip&&this.view.state.facet(gr).closeOnBlur){let t=e.open&&WB(this.view,e.open.tooltip);(!t||!t.dom.contains(r.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:mm.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:zv.of(!1)}),20),this.composing=0}}}),fie=typeof navigator=="object"&&/Win/.test(navigator.platform),die=Rc.highest(Xe.domEventHandlers({keydown(r,e){let t=e.state.field(vi,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||r.key.length>1||r.ctrlKey&&!(fie&&r.altKey)||r.metaKey)return!1;let n=t.open.options[t.open.selected],i=t.active.find(o=>o.source==n.source),s=n.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(r.key)>-1&&qC(e,n),!1}})),pie=Xe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),gm={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Qu=Et.define({map(r,e){let t=e.mapPos(r,-1,li.TrackAfter);return t??void 0}}),WC=new class extends gc{};WC.startSide=1;WC.endSide=-1;const oF=Lr.define({create(){return Gt.empty},update(r,e){if(r=r.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);r=r.update({filter:n=>n>=t.from&&n<=t.to})}for(let t of e.effects)t.is(Qu)&&(r=r.update({add:[WC.range(t.value,t.value+1)]}));return r}});function mie(){return[yie,oF]}const $b="()[]{}<>";function aF(r){for(let e=0;e<$b.length;e+=2)if($b.charCodeAt(e)==r)return $b.charAt(e+1);return mC(r<128?r:r+1)}function lF(r,e){return r.languageDataAt("closeBrackets",e)[0]||gm}const gie=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),yie=Xe.inputHandler.of((r,e,t,n)=>{if((gie?r.composing:r.compositionStarted)||r.state.readOnly)return!1;let i=r.state.selection.main;if(n.length>2||n.length==2&&_o(gi(n,0))==1||e!=i.from||t!=i.to)return!1;let s=_ie(r.state,n);return s?(r.dispatch(s),!0):!1}),vie=({state:r,dispatch:e})=>{if(r.readOnly)return!1;let n=lF(r,r.selection.main.head).brackets||gm.brackets,i=null,s=r.changeByRange(o=>{if(o.empty){let l=bie(r.doc,o.head);for(let u of n)if(u==l&&Pw(r.doc,o.head)==aF(gi(u,0)))return{changes:{from:o.head-u.length,to:o.head+u.length},range:Ue.cursor(o.head-u.length)}}return{range:i=o}});return i||e(r.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},wie=[{key:"Backspace",run:vie}];function _ie(r,e){let t=lF(r,r.selection.main.head),n=t.brackets||gm.brackets;for(let i of n){let s=aF(gi(i,0));if(e==i)return s==i?xie(r,i,n.indexOf(i+i+i)>-1,t):Sie(r,i,s,t.before||gm.before);if(e==s&&uF(r,r.selection.main.from))return Eie(r,i,s)}return null}function uF(r,e){let t=!1;return r.field(oF).between(0,r.doc.length,n=>{n==e&&(t=!0)}),t}function Pw(r,e){let t=r.sliceString(e,e+2);return t.slice(0,_o(gi(t,0)))}function bie(r,e){let t=r.sliceString(e-2,e);return _o(gi(t,0))==t.length?t:t.slice(1)}function Sie(r,e,t,n){let i=null,s=r.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Qu.of(o.to+e.length),range:Ue.range(o.anchor+e.length,o.head+e.length)};let l=Pw(r.doc,o.head);return!l||/\s/.test(l)||n.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:Qu.of(o.head+e.length),range:Ue.cursor(o.head+e.length)}:{range:i=o}});return i?null:r.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Eie(r,e,t){let n=null,i=r.changeByRange(s=>s.empty&&Pw(r.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:Ue.cursor(s.head+t.length)}:n={range:s});return n?null:r.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function xie(r,e,t,n){let i=n.stringPrefixes||gm.stringPrefixes,s=null,o=r.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:Qu.of(l.to+e.length),range:Ue.range(l.anchor+e.length,l.head+e.length)};let u=l.head,h=Pw(r.doc,u),f;if(h==e){if(VM(r,u))return{changes:{insert:e+e,from:u},effects:Qu.of(u+e.length),range:Ue.cursor(u+e.length)};if(uF(r,u)){let g=t&&r.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+g.length,insert:g},range:Ue.cursor(u+g.length)}}}else{if(t&&r.sliceDoc(u-2*e.length,u)==e+e&&(f=UM(r,u-2*e.length,i))>-1&&VM(r,f))return{changes:{insert:e+e+e+e,from:u},effects:Qu.of(u+e.length),range:Ue.cursor(u+e.length)};if(r.charCategorizer(u)(h)!=En.Word&&UM(r,u,i)>-1&&!Tie(r,u,e,i))return{changes:{insert:e+e,from:u},effects:Qu.of(u+e.length),range:Ue.cursor(u+e.length)}}return{range:s=l}});return s?null:r.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function VM(r,e){let t=Xr(r).resolveInner(e+1);return t.parent&&t.from==e}function Tie(r,e,t,n){let i=Xr(r).resolveInner(e,-1),s=n.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=r.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),u=l.indexOf(t);if(!u||u>-1&&n.indexOf(l.slice(0,u))>-1){let f=i.firstChild;for(;f&&f.from==i.from&&f.to-f.from>t.length+u;){if(r.sliceDoc(f.to-t.length,f.to)==t)return!1;f=f.firstChild}return!0}let h=i.to==e&&i.parent;if(!h)break;i=h}return!1}function UM(r,e,t){let n=r.charCategorizer(e);if(n(r.sliceDoc(e-1,e))!=En.Word)return e;for(let i of t){let s=e-i.length;if(r.sliceDoc(s,e)==i&&n(r.sliceDoc(s-1,s))!=En.Word)return s}return-1}function Aie(r={}){return[die,vi,gr.of(r),hie,Cie,pie]}const cF=[{key:"Ctrl-Space",run:FM},{mac:"Alt-`",run:FM},{key:"Escape",run:aie},{key:"ArrowDown",run:Wy(!0)},{key:"ArrowUp",run:Wy(!1)},{key:"PageDown",run:Wy(!0,"page")},{key:"PageUp",run:Wy(!1,"page")},{key:"Enter",run:oie}],Cie=Rc.highest(Aw.computeN([gr],r=>r.facet(gr).defaultKeymap?[cF]:[]));class zM{constructor(e,t,n){this.from=e,this.to=t,this.diagnostic=n}}class Gu{constructor(e,t,n){this.diagnostics=e,this.panel=t,this.selected=n}static init(e,t,n){let i=n.facet(ym).markerFilter;i&&(e=i(e,n));let s=e.slice().sort((f,p)=>f.from-p.from||f.to-p.to),o=new Na,l=[],u=0;for(let f=0;;){let p=f==s.length?null:s[f];if(!p&&!l.length)break;let g,y;for(l.length?(g=u,y=l.reduce((w,E)=>Math.min(w,E.to),p&&p.from>g?p.from:1e8)):(g=p.from,y=p.to,l.push(p),f++);f<s.length;){let w=s[f];if(w.from==g&&(w.to>w.from||w.to==g))l.push(w),f++,y=Math.min(w.to,y);else{y=Math.min(w.from,y);break}}let _=Uie(l);if(l.some(w=>w.from==w.to||w.from==w.to-1&&n.doc.lineAt(w.from).to==w.from))o.add(g,g,ht.widget({widget:new Lie(_),diagnostics:l.slice()}));else{let w=l.reduce((E,b)=>b.markClass?E+" "+b.markClass:E,"");o.add(g,y,ht.mark({class:"cm-lintRange cm-lintRange-"+_+w,diagnostics:l.slice(),inclusiveEnd:l.some(E=>E.to>y)}))}u=y;for(let w=0;w<l.length;w++)l[w].to<=u&&l.splice(w--,1)}let h=o.finish();return new Gu(h,t,bf(h))}}function bf(r,e=null,t=0){let n=null;return r.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!n)n=new zM(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(n.diagnostic)<0)return!1;n=new zM(n.from,s,n.diagnostic)}}),n}function Rie(r,e){let t=e.pos,n=e.end||t,i=r.state.facet(ym).hideOn(r,t,n);if(i!=null)return i;let s=r.startState.doc.lineAt(e.pos);return!!(r.effects.some(o=>o.is(hF))||r.changes.touchesRange(s.from,Math.max(s.to,n)))}function kie(r,e){return r.field(Ki,!1)?e:e.concat(Et.appendConfig.of(zie))}const hF=Et.define(),GC=Et.define(),fF=Et.define(),Ki=Lr.define({create(){return new Gu(ht.none,null,null)},update(r,e){if(e.docChanged&&r.diagnostics.size){let t=r.diagnostics.map(e.changes),n=null,i=r.panel;if(r.selected){let s=e.changes.mapPos(r.selected.from,1);n=bf(t,r.selected.diagnostic,s)||bf(t,null,s)}!t.size&&i&&e.state.facet(ym).autoPanel&&(i=null),r=new Gu(t,i,n)}for(let t of e.effects)if(t.is(hF)){let n=e.state.facet(ym).autoPanel?t.value.length?vm.open:null:r.panel;r=Gu.init(t.value,n,e.state)}else t.is(GC)?r=new Gu(r.diagnostics,t.value?vm.open:null,r.selected):t.is(fF)&&(r=new Gu(r.diagnostics,r.panel,t.value));return r},provide:r=>[hm.from(r,e=>e.panel),Xe.decorations.from(r,e=>e.diagnostics)]}),Die=ht.mark({class:"cm-lintRange cm-lintRange-active"});function Iie(r,e,t){let{diagnostics:n}=r.state.field(Ki),i,s=-1,o=-1;n.between(e-(t<0?1:0),e+(t>0?1:0),(u,h,{spec:f})=>{if(e>=u&&e<=h&&(u==h||(e>u||t>0)&&(e<h||t<0)))return i=f.diagnostics,s=u,o=h,!1});let l=r.state.facet(ym).tooltipFilter;return i&&l&&(i=l(i,r.state)),i?{pos:s,end:o,above:r.state.doc.lineAt(s).to<o,create(){return{dom:Oie(r,i)}}}:null}function Oie(r,e){return fn("ul",{class:"cm-tooltip-lint"},e.map(t=>pF(r,t,!1)))}const Nie=r=>{let e=r.state.field(Ki,!1);(!e||!e.panel)&&r.dispatch({effects:kie(r.state,[GC.of(!0)])});let t=cm(r,vm.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},jM=r=>{let e=r.state.field(Ki,!1);return!e||!e.panel?!1:(r.dispatch({effects:GC.of(!1)}),!0)},Mie=r=>{let e=r.state.field(Ki,!1);if(!e)return!1;let t=r.state.selection.main,n=e.diagnostics.iter(t.to+1);return!n.value&&(n=e.diagnostics.iter(0),!n.value||n.from==t.from&&n.to==t.to)?!1:(r.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0}),!0)},Pie=[{key:"Mod-Shift-m",run:Nie,preventDefault:!0},{key:"F8",run:Mie}],ym=tt.define({combine(r){return Object.assign({sources:r.map(e=>e.source).filter(e=>e!=null)},Ho(r.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?n=>e(n)||t(n):e:t}))}});function dF(r){let e=[];if(r)e:for(let{name:t}of r){for(let n=0;n<t.length;n++){let i=t[n];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function pF(r,e,t){var n;let i=t?dF(e.actions):[];return fn("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},fn("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(r):e.message),(n=e.actions)===null||n===void 0?void 0:n.map((s,o)=>{let l=!1,u=g=>{if(g.preventDefault(),l)return;l=!0;let y=bf(r.state.field(Ki).diagnostics,e);y&&s.apply(r,y.from,y.to)},{name:h}=s,f=i[o]?h.indexOf(i[o]):-1,p=f<0?h:[h.slice(0,f),fn("u",h.slice(f,f+1)),h.slice(f+1)];return fn("button",{type:"button",class:"cm-diagnosticAction",onclick:u,onmousedown:u,"aria-label":` Action: ${h}${f<0?"":` (access key "${i[o]})"`}.`},p)}),e.source&&fn("div",{class:"cm-diagnosticSource"},e.source))}class Lie extends Ba{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return fn("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class HM{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=pF(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class vm{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)jM(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=dF(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==i.keyCode){let u=bf(this.view.state.field(Ki).diagnostics,s);u&&s.actions[l].apply(e,u.from,u.to)}}else return;i.preventDefault()},n=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=fn("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:n}),this.dom=fn("div",{class:"cm-panel-lint"},this.list,fn("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>jM(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Ki).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(Ki),n=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(l,u,{spec:h})=>{for(let f of h.diagnostics){if(o.has(f))continue;o.add(f);let p=-1,g;for(let y=n;y<this.items.length;y++)if(this.items[y].diagnostic==f){p=y;break}p<0?(g=new HM(this.view,f),this.items.splice(n,0,g),i=!0):(g=this.items[p],p>n&&(this.items.splice(n,p-n),i=!0)),t&&g.diagnostic==t.diagnostic?g.dom.hasAttribute("aria-selected")||(g.dom.setAttribute("aria-selected","true"),s=g):g.dom.hasAttribute("aria-selected")&&g.dom.removeAttribute("aria-selected"),n++}});n<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new HM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:u})=>{let h=u.height/this.list.offsetHeight;l.top<u.top?this.list.scrollTop-=(u.top-l.top)/h:l.bottom>u.bottom&&(this.list.scrollTop+=(l.bottom-u.bottom)/h)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let n=e;e=n.nextSibling,n.remove()}for(let n of this.items)if(n.dom.parentNode==this.list){for(;e!=n.dom;)t();e=n.dom.nextSibling}else this.list.insertBefore(n.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(Ki),n=bf(t.diagnostics,this.items[e].diagnostic);n&&this.view.dispatch({selection:{anchor:n.from,head:n.to},scrollIntoView:!0,effects:fF.of(n)})}static open(e){return new vm(e)}}function Bie(r,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(r)}</svg>')`}function Gy(r){return Bie(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${r}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Fie=Xe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Gy("#d11")},".cm-lintRange-warning":{backgroundImage:Gy("orange")},".cm-lintRange-info":{backgroundImage:Gy("#999")},".cm-lintRange-hint":{backgroundImage:Gy("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Vie(r){return r=="error"?4:r=="warning"?3:r=="info"?2:1}function Uie(r){let e="hint",t=1;for(let n of r){let i=Vie(n.severity);i>t&&(t=i,e=n.severity)}return e}const zie=[Ki,Xe.decorations.compute([Ki],r=>{let{selected:e,panel:t}=r.field(Ki);return!e||!t||e.from==e.to?ht.none:ht.set([Die.range(e.from,e.to)])}),Nee(Iie,{hideOn:Rie}),Fie];var qM=function(e){e===void 0&&(e={});var{crosshairCursor:t=!1}=e,n=[];e.closeBracketsKeymap!==!1&&(n=n.concat(wie)),e.defaultKeymap!==!1&&(n=n.concat(fre)),e.searchKeymap!==!1&&(n=n.concat(Fre)),e.historyKeymap!==!1&&(n=n.concat(bne)),e.foldKeymap!==!1&&(n=n.concat(Pte)),e.completionKeymap!==!1&&(n=n.concat(cF)),e.lintKeymap!==!1&&(n=n.concat(Pie));var i=[];return e.lineNumbers!==!1&&i.push(qee()),e.highlightActiveLineGutter!==!1&&i.push(Kee()),e.highlightSpecialChars!==!1&&i.push(lee()),e.history!==!1&&i.push(fne()),e.foldGutter!==!1&&i.push(Vte()),e.drawSelection!==!1&&i.push(QJ()),e.dropCursor!==!1&&i.push(nee()),e.allowMultipleSelections!==!1&&i.push(Ft.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(Tte()),e.syntaxHighlighting!==!1&&i.push(c9(Hte,{fallback:!0})),e.bracketMatching!==!1&&i.push(Xte()),e.closeBrackets!==!1&&i.push(mie()),e.autocompletion!==!1&&i.push(Aie()),e.rectangularSelection!==!1&&i.push(See()),t!==!1&&i.push(Tee()),e.highlightActiveLine!==!1&&i.push(pee()),e.highlightSelectionMatches!==!1&&i.push(wre()),e.tabSize&&typeof e.tabSize=="number"&&i.push(Rw.of(" ".repeat(e.tabSize))),i.concat([Aw.of(n.flat())]).filter(Boolean)};const jie="#e5c07b",WM="#e06c75",Hie="#56b6c2",qie="#ffffff",N0="#abb2bf",VT="#7d8799",Wie="#61afef",Gie="#98c379",GM="#d19a66",Kie="#c678dd",$ie="#21252b",KM="#2c313a",$M="#282c34",Yb="#353a42",Yie="#3E4451",YM="#528bff",Xie=Xe.theme({"&":{color:N0,backgroundColor:$M},".cm-content":{caretColor:YM},".cm-cursor, .cm-dropCursor":{borderLeftColor:YM},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Yie},".cm-panels":{backgroundColor:$ie,color:N0},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:$M,color:VT,border:"none"},".cm-activeLineGutter":{backgroundColor:KM},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:Yb},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Yb,borderBottomColor:Yb},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:KM,color:N0}}},{dark:!0}),Qie=zm.define([{tag:Me.keyword,color:Kie},{tag:[Me.name,Me.deleted,Me.character,Me.propertyName,Me.macroName],color:WM},{tag:[Me.function(Me.variableName),Me.labelName],color:Wie},{tag:[Me.color,Me.constant(Me.name),Me.standard(Me.name)],color:GM},{tag:[Me.definition(Me.name),Me.separator],color:N0},{tag:[Me.typeName,Me.className,Me.number,Me.changed,Me.annotation,Me.modifier,Me.self,Me.namespace],color:jie},{tag:[Me.operator,Me.operatorKeyword,Me.url,Me.escape,Me.regexp,Me.link,Me.special(Me.string)],color:Hie},{tag:[Me.meta,Me.comment],color:VT},{tag:Me.strong,fontWeight:"bold"},{tag:Me.emphasis,fontStyle:"italic"},{tag:Me.strikethrough,textDecoration:"line-through"},{tag:Me.link,color:VT,textDecoration:"underline"},{tag:Me.heading,fontWeight:"bold",color:WM},{tag:[Me.atom,Me.bool,Me.special(Me.variableName)],color:GM},{tag:[Me.processingInstruction,Me.string,Me.inserted],color:Gie},{tag:Me.invalid,color:qie}]),Zie=[Xie,c9(Qie)];var Jie=Xe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),ese=function(e){e===void 0&&(e={});var{indentWithTab:t=!0,editable:n=!0,readOnly:i=!1,theme:s="light",placeholder:o="",basicSetup:l=!0}=e,u=[];switch(t&&u.unshift(Aw.of([dre])),l&&(typeof l=="boolean"?u.unshift(qM()):u.unshift(qM(l))),o&&u.unshift(vee(o)),s){case"light":u.push(Jie);break;case"dark":u.push(Zie);break;case"none":break;default:u.push(s);break}return n===!1&&u.push(Xe.editable.of(!1)),i&&u.push(Ft.readOnly.of(!0)),[...u]},tse=r=>({line:r.state.doc.lineAt(r.state.selection.main.from),lineCount:r.state.doc.lines,lineBreak:r.state.lineBreak,length:r.state.doc.length,readOnly:r.state.readOnly,tabSize:r.state.tabSize,selection:r.state.selection,selectionAsSingle:r.state.selection.asSingle().main,ranges:r.state.selection.ranges,selectionCode:r.state.sliceDoc(r.state.selection.main.from,r.state.selection.main.to),selections:r.state.selection.ranges.map(e=>r.state.sliceDoc(e.from,e.to)),selectedText:r.state.selection.ranges.some(e=>!e.empty)});class nse{constructor(e,t){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=t,this.timeoutMS=t,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(t=>{try{t()}catch(n){console.error("TimeoutLatch callback error:",n)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class XM{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var Xb=null,rse=()=>typeof window>"u"?new XM:(Xb||(Xb=new XM),Xb),QM=jo.define(),ise=200,sse=[];function ose(r){var{value:e,selection:t,onChange:n,onStatistics:i,onCreateEditor:s,onUpdate:o,extensions:l=sse,autoFocus:u,theme:h="light",height:f=null,minHeight:p=null,maxHeight:g=null,width:y=null,minWidth:_=null,maxWidth:w=null,placeholder:E="",editable:b=!0,readOnly:A=!1,indentWithTab:T=!0,basicSetup:x=!0,root:D,initialState:P}=r,[N,O]=me.useState(),[C,q]=me.useState(),[$,M]=me.useState(),V=me.useState(()=>({current:null}))[0],B=me.useState(()=>({current:null}))[0],oe=Xe.theme({"&":{height:f,minHeight:p,maxHeight:g,width:y,minWidth:_,maxWidth:w},"& .cm-scroller":{height:"100% !important"}}),Q=Xe.updateListener.of(de=>{if(de.docChanged&&typeof n=="function"&&!de.transactions.some(K=>K.annotation(QM))){V.current?V.current.reset():(V.current=new nse(()=>{if(B.current){var K=B.current;B.current=null,K()}V.current=null},ise),rse().add(V.current));var ee=de.state.doc,J=ee.toString();n(J,de)}i&&i(tse(de))}),X=ese({theme:h,editable:b,readOnly:A,placeholder:E,indentWithTab:T,basicSetup:x}),fe=[Q,oe,...X];return o&&typeof o=="function"&&fe.push(Xe.updateListener.of(o)),fe=fe.concat(l),me.useLayoutEffect(()=>{if(N&&!$){var de={doc:e,selection:t,extensions:fe},ee=P?Ft.fromJSON(P.json,de,P.fields):Ft.create(de);if(M(ee),!C){var J=new Xe({state:ee,parent:N,root:D});q(J),s&&s(J,ee)}}return()=>{C&&(M(void 0),q(void 0))}},[N,$]),me.useEffect(()=>{r.container&&O(r.container)},[r.container]),me.useEffect(()=>()=>{C&&(C.destroy(),q(void 0)),V.current&&(V.current.cancel(),V.current=null)},[C]),me.useEffect(()=>{u&&C&&C.focus()},[u,C]),me.useEffect(()=>{C&&C.dispatch({effects:Et.reconfigure.of(fe)})},[h,l,f,p,g,y,_,w,E,b,A,T,x,n,o]),me.useEffect(()=>{if(e!==void 0){var de=C?C.state.doc.toString():"";if(C&&e!==de){var ee=V.current&&!V.current.isDone,J=()=>{C&&e!==C.state.doc.toString()&&C.dispatch({changes:{from:0,to:C.state.doc.toString().length,insert:e||""},annotations:[QM.of(!0)]})};ee?B.current=J:J()}}},[e,C]),{state:$,setState:M,view:C,setView:q,container:N,setContainer:O}}var ase=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],lse=me.forwardRef((r,e)=>{var{className:t,value:n="",selection:i,extensions:s=[],onChange:o,onStatistics:l,onCreateEditor:u,onUpdate:h,autoFocus:f,theme:p="light",height:g,minHeight:y,maxHeight:_,width:w,minWidth:E,maxWidth:b,basicSetup:A,placeholder:T,indentWithTab:x,editable:D,readOnly:P,root:N,initialState:O}=r,C=GQ(r,ase),q=me.useRef(null),{state:$,view:M,container:V,setContainer:B}=ose({root:N,value:n,autoFocus:f,theme:p,height:g,minHeight:y,maxHeight:_,width:w,minWidth:E,maxWidth:b,basicSetup:A,placeholder:T,indentWithTab:x,editable:D,readOnly:P,selection:i,onChange:o,onStatistics:l,onCreateEditor:u,onUpdate:h,extensions:s,initialState:O});me.useImperativeHandle(e,()=>({editor:q.current,state:$,view:M}),[q,V,$,M]);var oe=me.useCallback(X=>{q.current=X,B(X)},[B]);if(typeof n!="string")throw new Error("value must be typeof string but got "+typeof n);var Q=typeof p=="string"?"cm-theme-"+p:"cm-theme";return ae.jsx("div",qx({ref:oe,className:""+Q+(t?" "+t:"")},C))});lse.displayName="CodeMirror";const Ky="/Note_App-react/assets/searchicon-h3KKiPjD.png",Qb="/Note_App-react/assets/mini-BJnXvPg6.png",use="/Note_App-react/assets/great-CfzCEWiq.png",cse="/Note_App-react/assets/notess-BEf0-GyN.png";var hse=Object.defineProperty,fse=Object.defineProperties,dse=Object.getOwnPropertyDescriptors,ZM=Object.getOwnPropertySymbols,pse=Object.prototype.hasOwnProperty,mse=Object.prototype.propertyIsEnumerable,UT=(r,e,t)=>e in r?hse(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Wt=(r,e)=>{for(var t in e||(e={}))pse.call(e,t)&&UT(r,t,e[t]);if(ZM)for(var t of ZM(e))mse.call(e,t)&&UT(r,t,e[t]);return r},Sf=(r,e)=>fse(r,dse(e)),Be=(r,e,t)=>UT(r,typeof e!="symbol"?e+"":e,t),gse=(r,e,t)=>new Promise((n,i)=>{var s=u=>{try{l(t.next(u))}catch(h){i(h)}},o=u=>{try{l(t.throw(u))}catch(h){i(h)}},l=u=>u.done?n(u.value):Promise.resolve(u.value).then(s,o);l((t=t.apply(r,e)).next())});class Hv{constructor(e){Be(this,"rootKey"),this.rootKey=e}}const yse=Object.seal({});class qe extends Hv{constructor(e){super(e),Be(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const n=this.root.map(i=>i instanceof Hv?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((t=n[0])!=null&&t._attr)?n[0]:n:yse}}addChildElement(e){return this.root.push(e),this}}class Lw extends qe{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class wt extends Hv{constructor(e){super("_attr"),Be(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([n,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;t[s]=i}}),{_attr:t}}}class Bw extends Hv{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>Sf(Wt({},n),{[i]:s}),{})}}}class Un extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mF(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Zb={},$y={exports:{}},JM;function KC(){if(JM)return $y.exports;JM=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(D,P,N){return Function.prototype.apply.call(D,P,N)},t;r&&typeof r.ownKeys=="function"?t=r.ownKeys:Object.getOwnPropertySymbols?t=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:t=function(D){return Object.getOwnPropertyNames(D)};function n(x){console&&console.warn&&console.warn(x)}var i=Number.isNaN||function(D){return D!==D};function s(){s.init.call(this)}$y.exports=s,$y.exports.once=b,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function l(x){if(typeof x!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof x)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(x){if(typeof x!="number"||x<0||i(x))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+x+".");o=x}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function u(x){return x._maxListeners===void 0?s.defaultMaxListeners:x._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(D){for(var P=[],N=1;N<arguments.length;N++)P.push(arguments[N]);var O=D==="error",C=this._events;if(C!==void 0)O=O&&C.error===void 0;else if(!O)return!1;if(O){var q;if(P.length>0&&(q=P[0]),q instanceof Error)throw q;var $=new Error("Unhandled error."+(q?" ("+q.message+")":""));throw $.context=q,$}var M=C[D];if(M===void 0)return!1;if(typeof M=="function")e(M,this,P);else for(var V=M.length,B=_(M,V),N=0;N<V;++N)e(B[N],this,P);return!0};function h(x,D,P,N){var O,C,q;if(l(P),C=x._events,C===void 0?(C=x._events=Object.create(null),x._eventsCount=0):(C.newListener!==void 0&&(x.emit("newListener",D,P.listener?P.listener:P),C=x._events),q=C[D]),q===void 0)q=C[D]=P,++x._eventsCount;else if(typeof q=="function"?q=C[D]=N?[P,q]:[q,P]:N?q.unshift(P):q.push(P),O=u(x),O>0&&q.length>O&&!q.warned){q.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=x,$.type=D,$.count=q.length,n($)}return x}s.prototype.addListener=function(D,P){return h(this,D,P,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(D,P){return h(this,D,P,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(x,D,P){var N={fired:!1,wrapFn:void 0,target:x,type:D,listener:P},O=f.bind(N);return O.listener=P,N.wrapFn=O,O}s.prototype.once=function(D,P){return l(P),this.on(D,p(this,D,P)),this},s.prototype.prependOnceListener=function(D,P){return l(P),this.prependListener(D,p(this,D,P)),this},s.prototype.removeListener=function(D,P){var N,O,C,q,$;if(l(P),O=this._events,O===void 0)return this;if(N=O[D],N===void 0)return this;if(N===P||N.listener===P)--this._eventsCount===0?this._events=Object.create(null):(delete O[D],O.removeListener&&this.emit("removeListener",D,N.listener||P));else if(typeof N!="function"){for(C=-1,q=N.length-1;q>=0;q--)if(N[q]===P||N[q].listener===P){$=N[q].listener,C=q;break}if(C<0)return this;C===0?N.shift():w(N,C),N.length===1&&(O[D]=N[0]),O.removeListener!==void 0&&this.emit("removeListener",D,$||P)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(D){var P,N,O;if(N=this._events,N===void 0)return this;if(N.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):N[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete N[D]),this;if(arguments.length===0){var C=Object.keys(N),q;for(O=0;O<C.length;++O)q=C[O],q!=="removeListener"&&this.removeAllListeners(q);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(P=N[D],typeof P=="function")this.removeListener(D,P);else if(P!==void 0)for(O=P.length-1;O>=0;O--)this.removeListener(D,P[O]);return this};function g(x,D,P){var N=x._events;if(N===void 0)return[];var O=N[D];return O===void 0?[]:typeof O=="function"?P?[O.listener||O]:[O]:P?E(O):_(O,O.length)}s.prototype.listeners=function(D){return g(this,D,!0)},s.prototype.rawListeners=function(D){return g(this,D,!1)},s.listenerCount=function(x,D){return typeof x.listenerCount=="function"?x.listenerCount(D):y.call(x,D)},s.prototype.listenerCount=y;function y(x){var D=this._events;if(D!==void 0){var P=D[x];if(typeof P=="function")return 1;if(P!==void 0)return P.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function _(x,D){for(var P=new Array(D),N=0;N<D;++N)P[N]=x[N];return P}function w(x,D){for(;D+1<x.length;D++)x[D]=x[D+1];x.pop()}function E(x){for(var D=new Array(x.length),P=0;P<D.length;++P)D[P]=x[P].listener||x[P];return D}function b(x,D){return new Promise(function(P,N){function O(q){x.removeListener(D,C),N(q)}function C(){typeof x.removeListener=="function"&&x.removeListener("error",O),P([].slice.call(arguments))}T(x,D,C,{once:!0}),D!=="error"&&A(x,O,{once:!0})})}function A(x,D,P){typeof x.on=="function"&&T(x,"error",D,P)}function T(x,D,P,N){if(typeof x.on=="function")N.once?x.once(D,P):x.on(D,P);else if(typeof x.addEventListener=="function")x.addEventListener(D,function O(C){N.once&&x.removeEventListener(D,O),P(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof x)}return $y.exports}var Yy={exports:{}},eP;function ou(){return eP||(eP=1,typeof Object.create=="function"?Yy.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Yy.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Yy.exports}function vse(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gF={exports:{}},zn=gF.exports={},go,yo;function zT(){throw new Error("setTimeout has not been defined")}function jT(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?go=setTimeout:go=zT}catch{go=zT}try{typeof clearTimeout=="function"?yo=clearTimeout:yo=jT}catch{yo=jT}})();function yF(r){if(go===setTimeout)return setTimeout(r,0);if((go===zT||!go)&&setTimeout)return go=setTimeout,setTimeout(r,0);try{return go(r,0)}catch{try{return go.call(null,r,0)}catch{return go.call(this,r,0)}}}function wse(r){if(yo===clearTimeout)return clearTimeout(r);if((yo===jT||!yo)&&clearTimeout)return yo=clearTimeout,clearTimeout(r);try{return yo(r)}catch{try{return yo.call(null,r)}catch{return yo.call(this,r)}}}var ba=[],Yh=!1,Zu,M0=-1;function _se(){!Yh||!Zu||(Yh=!1,Zu.length?ba=Zu.concat(ba):M0=-1,ba.length&&vF())}function vF(){if(!Yh){var r=yF(_se);Yh=!0;for(var e=ba.length;e;){for(Zu=ba,ba=[];++M0<e;)Zu&&Zu[M0].run();M0=-1,e=ba.length}Zu=null,Yh=!1,wse(r)}}zn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];ba.push(new wF(r,e)),ba.length===1&&!Yh&&yF(vF)};function wF(r,e){this.fun=r,this.array=e}wF.prototype.run=function(){this.fun.apply(null,this.array)};zn.title="browser";zn.browser=!0;zn.env={};zn.argv=[];zn.version="";zn.versions={};function Fa(){}zn.on=Fa;zn.addListener=Fa;zn.once=Fa;zn.off=Fa;zn.removeListener=Fa;zn.removeAllListeners=Fa;zn.emit=Fa;zn.prependListener=Fa;zn.prependOnceListener=Fa;zn.listeners=function(r){return[]};zn.binding=function(r){throw new Error("process.binding is not supported")};zn.cwd=function(){return"/"};zn.chdir=function(r){throw new Error("process.chdir is not supported")};zn.umask=function(){return 0};var bse=gF.exports;const Ct=vse(bse);var Jb,tP;function _F(){return tP||(tP=1,Jb=KC().EventEmitter),Jb}var eS={},Qd={},nP;function Sse(){if(nP)return Qd;nP=1,Qd.byteLength=l,Qd.toByteArray=h,Qd.fromByteArray=g;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=_);var E=w===_?0:4-w%4;return[w,E]}function l(y){var _=o(y),w=_[0],E=_[1];return(w+E)*3/4-E}function u(y,_,w){return(_+w)*3/4-w}function h(y){var _,w=o(y),E=w[0],b=w[1],A=new t(u(y,E,b)),T=0,x=b>0?E-4:E,D;for(D=0;D<x;D+=4)_=e[y.charCodeAt(D)]<<18|e[y.charCodeAt(D+1)]<<12|e[y.charCodeAt(D+2)]<<6|e[y.charCodeAt(D+3)],A[T++]=_>>16&255,A[T++]=_>>8&255,A[T++]=_&255;return b===2&&(_=e[y.charCodeAt(D)]<<2|e[y.charCodeAt(D+1)]>>4,A[T++]=_&255),b===1&&(_=e[y.charCodeAt(D)]<<10|e[y.charCodeAt(D+1)]<<4|e[y.charCodeAt(D+2)]>>2,A[T++]=_>>8&255,A[T++]=_&255),A}function f(y){return r[y>>18&63]+r[y>>12&63]+r[y>>6&63]+r[y&63]}function p(y,_,w){for(var E,b=[],A=_;A<w;A+=3)E=(y[A]<<16&16711680)+(y[A+1]<<8&65280)+(y[A+2]&255),b.push(f(E));return b.join("")}function g(y){for(var _,w=y.length,E=w%3,b=[],A=16383,T=0,x=w-E;T<x;T+=A)b.push(p(y,T,T+A>x?x:T+A));return E===1?(_=y[w-1],b.push(r[_>>2]+r[_<<4&63]+"==")):E===2&&(_=(y[w-2]<<8)+y[w-1],b.push(r[_>>10]+r[_>>4&63]+r[_<<2&63]+"=")),b.join("")}return Qd}var Xy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var rP;function Ese(){return rP||(rP=1,Xy.read=function(r,e,t,n,i){var s,o,l=i*8-n-1,u=(1<<l)-1,h=u>>1,f=-7,p=t?i-1:0,g=t?-1:1,y=r[e+p];for(p+=g,s=y&(1<<-f)-1,y>>=-f,f+=l;f>0;s=s*256+r[e+p],p+=g,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+r[e+p],p+=g,f-=8);if(s===0)s=1-h;else{if(s===u)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(y?-1:1)*o*Math.pow(2,s-n)},Xy.write=function(r,e,t,n,i,s){var o,l,u,h=s*8-i-1,f=(1<<h)-1,p=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:s-1,_=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=f):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),o+p>=1?e+=g/u:e+=g*Math.pow(2,1-p),e*u>=2&&(o++,u/=2),o+p>=f?(l=0,o=f):o+p>=1?(l=(e*u-1)*Math.pow(2,i),o=o+p):(l=e*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;r[t+y]=l&255,y+=_,l/=256,i-=8);for(o=o<<i|l,h+=i;h>0;r[t+y]=o&255,y+=_,o/=256,h-=8);r[t+y-_]|=w*128}),Xy}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var iP;function Fw(){return iP||(iP=1,function(r){var e=Sse(),t=Ese(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=l,r.SlowBuffer=A,r.INSPECT_MAX_BYTES=50;var i=2147483647;r.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var H=new Uint8Array(1),k={foo:function(){return 42}};return Object.setPrototypeOf(k,Uint8Array.prototype),Object.setPrototypeOf(H,k),H.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');var k=new Uint8Array(H);return Object.setPrototypeOf(k,l.prototype),k}function l(H,k,I){if(typeof H=="number"){if(typeof k=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(H)}return u(H,k,I)}l.poolSize=8192;function u(H,k,I){if(typeof H=="string")return g(H,k);if(ArrayBuffer.isView(H))return _(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(_e(H,ArrayBuffer)||H&&_e(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(_e(H,SharedArrayBuffer)||H&&_e(H.buffer,SharedArrayBuffer)))return w(H,k,I);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var z=H.valueOf&&H.valueOf();if(z!=null&&z!==H)return l.from(z,k,I);var se=E(H);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return l.from(H[Symbol.toPrimitive]("string"),k,I);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}l.from=function(H,k,I){return u(H,k,I)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function h(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function f(H,k,I){return h(H),H<=0?o(H):k!==void 0?typeof I=="string"?o(H).fill(k,I):o(H).fill(k):o(H)}l.alloc=function(H,k,I){return f(H,k,I)};function p(H){return h(H),o(H<0?0:b(H)|0)}l.allocUnsafe=function(H){return p(H)},l.allocUnsafeSlow=function(H){return p(H)};function g(H,k){if((typeof k!="string"||k==="")&&(k="utf8"),!l.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var I=T(H,k)|0,z=o(I),se=z.write(H,k);return se!==I&&(z=z.slice(0,se)),z}function y(H){for(var k=H.length<0?0:b(H.length)|0,I=o(k),z=0;z<k;z+=1)I[z]=H[z]&255;return I}function _(H){if(_e(H,Uint8Array)){var k=new Uint8Array(H);return w(k.buffer,k.byteOffset,k.byteLength)}return y(H)}function w(H,k,I){if(k<0||H.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<k+(I||0))throw new RangeError('"length" is outside of buffer bounds');var z;return k===void 0&&I===void 0?z=new Uint8Array(H):I===void 0?z=new Uint8Array(H,k):z=new Uint8Array(H,k,I),Object.setPrototypeOf(z,l.prototype),z}function E(H){if(l.isBuffer(H)){var k=b(H.length)|0,I=o(k);return I.length===0||H.copy(I,0,0,k),I}if(H.length!==void 0)return typeof H.length!="number"||U(H.length)?o(0):y(H);if(H.type==="Buffer"&&Array.isArray(H.data))return y(H.data)}function b(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function A(H){return+H!=H&&(H=0),l.alloc(+H)}l.isBuffer=function(k){return k!=null&&k._isBuffer===!0&&k!==l.prototype},l.compare=function(k,I){if(_e(k,Uint8Array)&&(k=l.from(k,k.offset,k.byteLength)),_e(I,Uint8Array)&&(I=l.from(I,I.offset,I.byteLength)),!l.isBuffer(k)||!l.isBuffer(I))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(k===I)return 0;for(var z=k.length,se=I.length,ge=0,le=Math.min(z,se);ge<le;++ge)if(k[ge]!==I[ge]){z=k[ge],se=I[ge];break}return z<se?-1:se<z?1:0},l.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(k,I){if(!Array.isArray(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return l.alloc(0);var z;if(I===void 0)for(I=0,z=0;z<k.length;++z)I+=k[z].length;var se=l.allocUnsafe(I),ge=0;for(z=0;z<k.length;++z){var le=k[z];if(_e(le,Uint8Array))ge+le.length>se.length?l.from(le).copy(se,ge):Uint8Array.prototype.set.call(se,le,ge);else if(l.isBuffer(le))le.copy(se,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=le.length}return se};function T(H,k){if(l.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||_e(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var I=H.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&I===0)return 0;for(var se=!1;;)switch(k){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":return F(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return Y(H).length;default:if(se)return z?-1:F(H).length;k=(""+k).toLowerCase(),se=!0}}l.byteLength=T;function x(H,k,I){var z=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,k>>>=0,I<=k))return"";for(H||(H="utf8");;)switch(H){case"hex":return de(this,k,I);case"utf8":case"utf-8":return B(this,k,I);case"ascii":return X(this,k,I);case"latin1":case"binary":return fe(this,k,I);case"base64":return V(this,k,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,k,I);default:if(z)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),z=!0}}l.prototype._isBuffer=!0;function D(H,k,I){var z=H[k];H[k]=H[I],H[I]=z}l.prototype.swap16=function(){var k=this.length;if(k%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<k;I+=2)D(this,I,I+1);return this},l.prototype.swap32=function(){var k=this.length;if(k%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<k;I+=4)D(this,I,I+3),D(this,I+1,I+2);return this},l.prototype.swap64=function(){var k=this.length;if(k%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<k;I+=8)D(this,I,I+7),D(this,I+1,I+6),D(this,I+2,I+5),D(this,I+3,I+4);return this},l.prototype.toString=function(){var k=this.length;return k===0?"":arguments.length===0?B(this,0,k):x.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(k){if(!l.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:l.compare(this,k)===0},l.prototype.inspect=function(){var k="",I=r.INSPECT_MAX_BYTES;return k=this.toString("hex",0,I).replace(/(.{2})/g,"$1 ").trim(),this.length>I&&(k+=" ... "),"<Buffer "+k+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(k,I,z,se,ge){if(_e(k,Uint8Array)&&(k=l.from(k,k.offset,k.byteLength)),!l.isBuffer(k))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof k);if(I===void 0&&(I=0),z===void 0&&(z=k?k.length:0),se===void 0&&(se=0),ge===void 0&&(ge=this.length),I<0||z>k.length||se<0||ge>this.length)throw new RangeError("out of range index");if(se>=ge&&I>=z)return 0;if(se>=ge)return-1;if(I>=z)return 1;if(I>>>=0,z>>>=0,se>>>=0,ge>>>=0,this===k)return 0;for(var le=ge-se,De=z-I,Pe=Math.min(le,De),Oe=this.slice(se,ge),He=k.slice(I,z),Ge=0;Ge<Pe;++Ge)if(Oe[Ge]!==He[Ge]){le=Oe[Ge],De=He[Ge];break}return le<De?-1:De<le?1:0};function P(H,k,I,z,se){if(H.length===0)return-1;if(typeof I=="string"?(z=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,U(I)&&(I=se?0:H.length-1),I<0&&(I=H.length+I),I>=H.length){if(se)return-1;I=H.length-1}else if(I<0)if(se)I=0;else return-1;if(typeof k=="string"&&(k=l.from(k,z)),l.isBuffer(k))return k.length===0?-1:N(H,k,I,z,se);if(typeof k=="number")return k=k&255,typeof Uint8Array.prototype.indexOf=="function"?se?Uint8Array.prototype.indexOf.call(H,k,I):Uint8Array.prototype.lastIndexOf.call(H,k,I):N(H,[k],I,z,se);throw new TypeError("val must be string, number or Buffer")}function N(H,k,I,z,se){var ge=1,le=H.length,De=k.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(H.length<2||k.length<2)return-1;ge=2,le/=2,De/=2,I/=2}function Pe(Nt,Zr){return ge===1?Nt[Zr]:Nt.readUInt16BE(Zr*ge)}var Oe;if(se){var He=-1;for(Oe=I;Oe<le;Oe++)if(Pe(H,Oe)===Pe(k,He===-1?0:Oe-He)){if(He===-1&&(He=Oe),Oe-He+1===De)return He*ge}else He!==-1&&(Oe-=Oe-He),He=-1}else for(I+De>le&&(I=le-De),Oe=I;Oe>=0;Oe--){for(var Ge=!0,it=0;it<De;it++)if(Pe(H,Oe+it)!==Pe(k,it)){Ge=!1;break}if(Ge)return Oe}return-1}l.prototype.includes=function(k,I,z){return this.indexOf(k,I,z)!==-1},l.prototype.indexOf=function(k,I,z){return P(this,k,I,z,!0)},l.prototype.lastIndexOf=function(k,I,z){return P(this,k,I,z,!1)};function O(H,k,I,z){I=Number(I)||0;var se=H.length-I;z?(z=Number(z),z>se&&(z=se)):z=se;var ge=k.length;z>ge/2&&(z=ge/2);for(var le=0;le<z;++le){var De=parseInt(k.substr(le*2,2),16);if(U(De))return le;H[I+le]=De}return le}function C(H,k,I,z){return te(F(k,H.length-I),H,I,z)}function q(H,k,I,z){return te(ce(k),H,I,z)}function $(H,k,I,z){return te(Y(k),H,I,z)}function M(H,k,I,z){return te(ie(k,H.length-I),H,I,z)}l.prototype.write=function(k,I,z,se){if(I===void 0)se="utf8",z=this.length,I=0;else if(z===void 0&&typeof I=="string")se=I,z=this.length,I=0;else if(isFinite(I))I=I>>>0,isFinite(z)?(z=z>>>0,se===void 0&&(se="utf8")):(se=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ge=this.length-I;if((z===void 0||z>ge)&&(z=ge),k.length>0&&(z<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");for(var le=!1;;)switch(se){case"hex":return O(this,k,I,z);case"utf8":case"utf-8":return C(this,k,I,z);case"ascii":case"latin1":case"binary":return q(this,k,I,z);case"base64":return $(this,k,I,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,k,I,z);default:if(le)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),le=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(H,k,I){return k===0&&I===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(k,I))}function B(H,k,I){I=Math.min(H.length,I);for(var z=[],se=k;se<I;){var ge=H[se],le=null,De=ge>239?4:ge>223?3:ge>191?2:1;if(se+De<=I){var Pe,Oe,He,Ge;switch(De){case 1:ge<128&&(le=ge);break;case 2:Pe=H[se+1],(Pe&192)===128&&(Ge=(ge&31)<<6|Pe&63,Ge>127&&(le=Ge));break;case 3:Pe=H[se+1],Oe=H[se+2],(Pe&192)===128&&(Oe&192)===128&&(Ge=(ge&15)<<12|(Pe&63)<<6|Oe&63,Ge>2047&&(Ge<55296||Ge>57343)&&(le=Ge));break;case 4:Pe=H[se+1],Oe=H[se+2],He=H[se+3],(Pe&192)===128&&(Oe&192)===128&&(He&192)===128&&(Ge=(ge&15)<<18|(Pe&63)<<12|(Oe&63)<<6|He&63,Ge>65535&&Ge<1114112&&(le=Ge))}}le===null?(le=65533,De=1):le>65535&&(le-=65536,z.push(le>>>10&1023|55296),le=56320|le&1023),z.push(le),se+=De}return Q(z)}var oe=4096;function Q(H){var k=H.length;if(k<=oe)return String.fromCharCode.apply(String,H);for(var I="",z=0;z<k;)I+=String.fromCharCode.apply(String,H.slice(z,z+=oe));return I}function X(H,k,I){var z="";I=Math.min(H.length,I);for(var se=k;se<I;++se)z+=String.fromCharCode(H[se]&127);return z}function fe(H,k,I){var z="";I=Math.min(H.length,I);for(var se=k;se<I;++se)z+=String.fromCharCode(H[se]);return z}function de(H,k,I){var z=H.length;(!k||k<0)&&(k=0),(!I||I<0||I>z)&&(I=z);for(var se="",ge=k;ge<I;++ge)se+=Se[H[ge]];return se}function ee(H,k,I){for(var z=H.slice(k,I),se="",ge=0;ge<z.length-1;ge+=2)se+=String.fromCharCode(z[ge]+z[ge+1]*256);return se}l.prototype.slice=function(k,I){var z=this.length;k=~~k,I=I===void 0?z:~~I,k<0?(k+=z,k<0&&(k=0)):k>z&&(k=z),I<0?(I+=z,I<0&&(I=0)):I>z&&(I=z),I<k&&(I=k);var se=this.subarray(k,I);return Object.setPrototypeOf(se,l.prototype),se};function J(H,k,I){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+k>I)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(k,I,z){k=k>>>0,I=I>>>0,z||J(k,I,this.length);for(var se=this[k],ge=1,le=0;++le<I&&(ge*=256);)se+=this[k+le]*ge;return se},l.prototype.readUintBE=l.prototype.readUIntBE=function(k,I,z){k=k>>>0,I=I>>>0,z||J(k,I,this.length);for(var se=this[k+--I],ge=1;I>0&&(ge*=256);)se+=this[k+--I]*ge;return se},l.prototype.readUint8=l.prototype.readUInt8=function(k,I){return k=k>>>0,I||J(k,1,this.length),this[k]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(k,I){return k=k>>>0,I||J(k,2,this.length),this[k]|this[k+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(k,I){return k=k>>>0,I||J(k,2,this.length),this[k]<<8|this[k+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(k,I){return k=k>>>0,I||J(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(k,I){return k=k>>>0,I||J(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},l.prototype.readIntLE=function(k,I,z){k=k>>>0,I=I>>>0,z||J(k,I,this.length);for(var se=this[k],ge=1,le=0;++le<I&&(ge*=256);)se+=this[k+le]*ge;return ge*=128,se>=ge&&(se-=Math.pow(2,8*I)),se},l.prototype.readIntBE=function(k,I,z){k=k>>>0,I=I>>>0,z||J(k,I,this.length);for(var se=I,ge=1,le=this[k+--se];se>0&&(ge*=256);)le+=this[k+--se]*ge;return ge*=128,le>=ge&&(le-=Math.pow(2,8*I)),le},l.prototype.readInt8=function(k,I){return k=k>>>0,I||J(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},l.prototype.readInt16LE=function(k,I){k=k>>>0,I||J(k,2,this.length);var z=this[k]|this[k+1]<<8;return z&32768?z|4294901760:z},l.prototype.readInt16BE=function(k,I){k=k>>>0,I||J(k,2,this.length);var z=this[k+1]|this[k]<<8;return z&32768?z|4294901760:z},l.prototype.readInt32LE=function(k,I){return k=k>>>0,I||J(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},l.prototype.readInt32BE=function(k,I){return k=k>>>0,I||J(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},l.prototype.readFloatLE=function(k,I){return k=k>>>0,I||J(k,4,this.length),t.read(this,k,!0,23,4)},l.prototype.readFloatBE=function(k,I){return k=k>>>0,I||J(k,4,this.length),t.read(this,k,!1,23,4)},l.prototype.readDoubleLE=function(k,I){return k=k>>>0,I||J(k,8,this.length),t.read(this,k,!0,52,8)},l.prototype.readDoubleBE=function(k,I){return k=k>>>0,I||J(k,8,this.length),t.read(this,k,!1,52,8)};function K(H,k,I,z,se,ge){if(!l.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>se||k<ge)throw new RangeError('"value" argument is out of bounds');if(I+z>H.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(k,I,z,se){if(k=+k,I=I>>>0,z=z>>>0,!se){var ge=Math.pow(2,8*z)-1;K(this,k,I,z,ge,0)}var le=1,De=0;for(this[I]=k&255;++De<z&&(le*=256);)this[I+De]=k/le&255;return I+z},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(k,I,z,se){if(k=+k,I=I>>>0,z=z>>>0,!se){var ge=Math.pow(2,8*z)-1;K(this,k,I,z,ge,0)}var le=z-1,De=1;for(this[I+le]=k&255;--le>=0&&(De*=256);)this[I+le]=k/De&255;return I+z},l.prototype.writeUint8=l.prototype.writeUInt8=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,1,255,0),this[I]=k&255,I+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,2,65535,0),this[I]=k&255,this[I+1]=k>>>8,I+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,2,65535,0),this[I]=k>>>8,this[I+1]=k&255,I+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,4,4294967295,0),this[I+3]=k>>>24,this[I+2]=k>>>16,this[I+1]=k>>>8,this[I]=k&255,I+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,4,4294967295,0),this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255,I+4},l.prototype.writeIntLE=function(k,I,z,se){if(k=+k,I=I>>>0,!se){var ge=Math.pow(2,8*z-1);K(this,k,I,z,ge-1,-ge)}var le=0,De=1,Pe=0;for(this[I]=k&255;++le<z&&(De*=256);)k<0&&Pe===0&&this[I+le-1]!==0&&(Pe=1),this[I+le]=(k/De>>0)-Pe&255;return I+z},l.prototype.writeIntBE=function(k,I,z,se){if(k=+k,I=I>>>0,!se){var ge=Math.pow(2,8*z-1);K(this,k,I,z,ge-1,-ge)}var le=z-1,De=1,Pe=0;for(this[I+le]=k&255;--le>=0&&(De*=256);)k<0&&Pe===0&&this[I+le+1]!==0&&(Pe=1),this[I+le]=(k/De>>0)-Pe&255;return I+z},l.prototype.writeInt8=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,1,127,-128),k<0&&(k=255+k+1),this[I]=k&255,I+1},l.prototype.writeInt16LE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,2,32767,-32768),this[I]=k&255,this[I+1]=k>>>8,I+2},l.prototype.writeInt16BE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,2,32767,-32768),this[I]=k>>>8,this[I+1]=k&255,I+2},l.prototype.writeInt32LE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,4,2147483647,-2147483648),this[I]=k&255,this[I+1]=k>>>8,this[I+2]=k>>>16,this[I+3]=k>>>24,I+4},l.prototype.writeInt32BE=function(k,I,z){return k=+k,I=I>>>0,z||K(this,k,I,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255,I+4};function re(H,k,I,z,se,ge){if(I+z>H.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function he(H,k,I,z,se){return k=+k,I=I>>>0,se||re(H,k,I,4),t.write(H,k,I,z,23,4),I+4}l.prototype.writeFloatLE=function(k,I,z){return he(this,k,I,!0,z)},l.prototype.writeFloatBE=function(k,I,z){return he(this,k,I,!1,z)};function ve(H,k,I,z,se){return k=+k,I=I>>>0,se||re(H,k,I,8),t.write(H,k,I,z,52,8),I+8}l.prototype.writeDoubleLE=function(k,I,z){return ve(this,k,I,!0,z)},l.prototype.writeDoubleBE=function(k,I,z){return ve(this,k,I,!1,z)},l.prototype.copy=function(k,I,z,se){if(!l.isBuffer(k))throw new TypeError("argument should be a Buffer");if(z||(z=0),!se&&se!==0&&(se=this.length),I>=k.length&&(I=k.length),I||(I=0),se>0&&se<z&&(se=z),se===z||k.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),k.length-I<se-z&&(se=k.length-I+z);var ge=se-z;return this===k&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(I,z,se):Uint8Array.prototype.set.call(k,this.subarray(z,se),I),ge},l.prototype.fill=function(k,I,z,se){if(typeof k=="string"){if(typeof I=="string"?(se=I,I=0,z=this.length):typeof z=="string"&&(se=z,z=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!l.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(k.length===1){var ge=k.charCodeAt(0);(se==="utf8"&&ge<128||se==="latin1")&&(k=ge)}}else typeof k=="number"?k=k&255:typeof k=="boolean"&&(k=Number(k));if(I<0||this.length<I||this.length<z)throw new RangeError("Out of range index");if(z<=I)return this;I=I>>>0,z=z===void 0?this.length:z>>>0,k||(k=0);var le;if(typeof k=="number")for(le=I;le<z;++le)this[le]=k;else{var De=l.isBuffer(k)?k:l.from(k,se),Pe=De.length;if(Pe===0)throw new TypeError('The value "'+k+'" is invalid for argument "value"');for(le=0;le<z-I;++le)this[le+I]=De[le%Pe]}return this};var ue=/[^+/0-9A-Za-z-_]/g;function j(H){if(H=H.split("=")[0],H=H.trim().replace(ue,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function F(H,k){k=k||1/0;for(var I,z=H.length,se=null,ge=[],le=0;le<z;++le){if(I=H.charCodeAt(le),I>55295&&I<57344){if(!se){if(I>56319){(k-=3)>-1&&ge.push(239,191,189);continue}else if(le+1===z){(k-=3)>-1&&ge.push(239,191,189);continue}se=I;continue}if(I<56320){(k-=3)>-1&&ge.push(239,191,189),se=I;continue}I=(se-55296<<10|I-56320)+65536}else se&&(k-=3)>-1&&ge.push(239,191,189);if(se=null,I<128){if((k-=1)<0)break;ge.push(I)}else if(I<2048){if((k-=2)<0)break;ge.push(I>>6|192,I&63|128)}else if(I<65536){if((k-=3)<0)break;ge.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((k-=4)<0)break;ge.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return ge}function ce(H){for(var k=[],I=0;I<H.length;++I)k.push(H.charCodeAt(I)&255);return k}function ie(H,k){for(var I,z,se,ge=[],le=0;le<H.length&&!((k-=2)<0);++le)I=H.charCodeAt(le),z=I>>8,se=I%256,ge.push(se),ge.push(z);return ge}function Y(H){return e.toByteArray(j(H))}function te(H,k,I,z){for(var se=0;se<z&&!(se+I>=k.length||se>=H.length);++se)k[se+I]=H[se];return se}function _e(H,k){return H instanceof k||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===k.name}function U(H){return H!==H}var Se=function(){for(var H="0123456789abcdef",k=new Array(256),I=0;I<16;++I)for(var z=I*16,se=0;se<16;++se)k[z+se]=H[I]+H[se];return k}()}(eS)),eS}var tS={},nS={},rS,sP;function bF(){return sP||(sP=1,rS=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,t);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),rS}var iS,oP;function $C(){if(oP)return iS;oP=1;var r=bF();return iS=function(){return r()&&!!Symbol.toStringTag},iS}var sS,aP;function SF(){return aP||(aP=1,sS=Object),sS}var oS,lP;function xse(){return lP||(lP=1,oS=Error),oS}var aS,uP;function Tse(){return uP||(uP=1,aS=EvalError),aS}var lS,cP;function Ase(){return cP||(cP=1,lS=RangeError),lS}var uS,hP;function Cse(){return hP||(hP=1,uS=ReferenceError),uS}var cS,fP;function EF(){return fP||(fP=1,cS=SyntaxError),cS}var hS,dP;function qm(){return dP||(dP=1,hS=TypeError),hS}var fS,pP;function Rse(){return pP||(pP=1,fS=URIError),fS}var dS,mP;function kse(){return mP||(mP=1,dS=Math.abs),dS}var pS,gP;function Dse(){return gP||(gP=1,pS=Math.floor),pS}var mS,yP;function Ise(){return yP||(yP=1,mS=Math.max),mS}var gS,vP;function Ose(){return vP||(vP=1,gS=Math.min),gS}var yS,wP;function Nse(){return wP||(wP=1,yS=Math.pow),yS}var vS,_P;function Mse(){return _P||(_P=1,vS=Math.round),vS}var wS,bP;function Pse(){return bP||(bP=1,wS=Number.isNaN||function(e){return e!==e}),wS}var _S,SP;function Lse(){if(SP)return _S;SP=1;var r=Pse();return _S=function(t){return r(t)||t===0?t:t<0?-1:1},_S}var bS,EP;function Bse(){return EP||(EP=1,bS=Object.getOwnPropertyDescriptor),bS}var SS,xP;function Wm(){if(xP)return SS;xP=1;var r=Bse();if(r)try{r([],"length")}catch{r=null}return SS=r,SS}var ES,TP;function Vw(){if(TP)return ES;TP=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return ES=r,ES}var xS,AP;function Fse(){if(AP)return xS;AP=1;var r=typeof Symbol<"u"&&Symbol,e=bF();return xS=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},xS}var TS,CP;function xF(){return CP||(CP=1,TS=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),TS}var AS,RP;function TF(){if(RP)return AS;RP=1;var r=SF();return AS=r.getPrototypeOf||null,AS}var CS,kP;function Vse(){if(kP)return CS;kP=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(u,h){for(var f=[],p=0;p<u.length;p+=1)f[p]=u[p];for(var g=0;g<h.length;g+=1)f[g+u.length]=h[g];return f},s=function(u,h){for(var f=[],p=h,g=0;p<u.length;p+=1,g+=1)f[g]=u[p];return f},o=function(l,u){for(var h="",f=0;f<l.length;f+=1)h+=l[f],f+1<l.length&&(h+=u);return h};return CS=function(u){var h=this;if(typeof h!="function"||e.apply(h)!==n)throw new TypeError(r+h);for(var f=s(arguments,1),p,g=function(){if(this instanceof p){var b=h.apply(this,i(f,arguments));return Object(b)===b?b:this}return h.apply(u,i(f,arguments))},y=t(0,h.length-f.length),_=[],w=0;w<y;w++)_[w]="$"+w;if(p=Function("binder","return function ("+o(_,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var E=function(){};E.prototype=h.prototype,p.prototype=new E,E.prototype=null}return p},CS}var RS,DP;function Gm(){if(DP)return RS;DP=1;var r=Vse();return RS=Function.prototype.bind||r,RS}var kS,IP;function YC(){return IP||(IP=1,kS=Function.prototype.call),kS}var DS,OP;function AF(){return OP||(OP=1,DS=Function.prototype.apply),DS}var IS,NP;function Use(){return NP||(NP=1,IS=typeof Reflect<"u"&&Reflect&&Reflect.apply),IS}var OS,MP;function zse(){if(MP)return OS;MP=1;var r=Gm(),e=AF(),t=YC(),n=Use();return OS=n||r.call(t,e),OS}var NS,PP;function jse(){if(PP)return NS;PP=1;var r=Gm(),e=qm(),t=YC(),n=zse();return NS=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(r,t,s)},NS}var MS,LP;function Hse(){if(LP)return MS;LP=1;var r=jse(),e=Wm(),t;try{t=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return MS=n&&typeof n.get=="function"?r([n.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,MS}var PS,BP;function qse(){if(BP)return PS;BP=1;var r=xF(),e=TF(),t=Hse();return PS=r?function(i){return r(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,PS}var LS,FP;function Wse(){if(FP)return LS;FP=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Gm();return LS=t.call(r,e),LS}var BS,VP;function XC(){if(VP)return BS;VP=1;var r,e=SF(),t=xse(),n=Tse(),i=Ase(),s=Cse(),o=EF(),l=qm(),u=Rse(),h=kse(),f=Dse(),p=Ise(),g=Ose(),y=Nse(),_=Mse(),w=Lse(),E=Function,b=function(ce){try{return E('"use strict"; return ('+ce+").constructor;")()}catch{}},A=Wm(),T=Vw(),x=function(){throw new l},D=A?function(){try{return arguments.callee,x}catch{try{return A(arguments,"callee").get}catch{return x}}}():x,P=Fse()(),N=qse(),O=TF(),C=xF(),q=AF(),$=YC(),M={},V=typeof Uint8Array>"u"||!N?r:N(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":P&&N?N([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":M,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":P&&N?N(N([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!P||!N?r:N(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!P||!N?r:N(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":P&&N?N(""[Symbol.iterator]()):r,"%Symbol%":P?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":V,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":$,"%Function.prototype.apply%":q,"%Object.defineProperty%":T,"%Object.getPrototypeOf%":O,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":_,"%Math.sign%":w,"%Reflect.getPrototypeOf%":C};if(N)try{null.error}catch(ce){var oe=N(N(ce));B["%Error.prototype%"]=oe}var Q=function ce(ie){var Y;if(ie==="%AsyncFunction%")Y=b("async function () {}");else if(ie==="%GeneratorFunction%")Y=b("function* () {}");else if(ie==="%AsyncGeneratorFunction%")Y=b("async function* () {}");else if(ie==="%AsyncGenerator%"){var te=ce("%AsyncGeneratorFunction%");te&&(Y=te.prototype)}else if(ie==="%AsyncIteratorPrototype%"){var _e=ce("%AsyncGenerator%");_e&&N&&(Y=N(_e.prototype))}return B[ie]=Y,Y},X={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},fe=Gm(),de=Wse(),ee=fe.call($,Array.prototype.concat),J=fe.call(q,Array.prototype.splice),K=fe.call($,String.prototype.replace),re=fe.call($,String.prototype.slice),he=fe.call($,RegExp.prototype.exec),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ue=/\\(\\)?/g,j=function(ie){var Y=re(ie,0,1),te=re(ie,-1);if(Y==="%"&&te!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(te==="%"&&Y!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var _e=[];return K(ie,ve,function(U,Se,H,k){_e[_e.length]=H?K(k,ue,"$1"):Se||U}),_e},F=function(ie,Y){var te=ie,_e;if(de(X,te)&&(_e=X[te],te="%"+_e[0]+"%"),de(B,te)){var U=B[te];if(U===M&&(U=Q(te)),typeof U>"u"&&!Y)throw new l("intrinsic "+ie+" exists, but is not available. Please file an issue!");return{alias:_e,name:te,value:U}}throw new o("intrinsic "+ie+" does not exist!")};return BS=function(ie,Y){if(typeof ie!="string"||ie.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Y!="boolean")throw new l('"allowMissing" argument must be a boolean');if(he(/^%?[^%]*%?$/,ie)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var te=j(ie),_e=te.length>0?te[0]:"",U=F("%"+_e+"%",Y),Se=U.name,H=U.value,k=!1,I=U.alias;I&&(_e=I[0],J(te,ee([0,1],I)));for(var z=1,se=!0;z<te.length;z+=1){var ge=te[z],le=re(ge,0,1),De=re(ge,-1);if((le==='"'||le==="'"||le==="`"||De==='"'||De==="'"||De==="`")&&le!==De)throw new o("property names with quotes must have matching quotes");if((ge==="constructor"||!se)&&(k=!0),_e+="."+ge,Se="%"+_e+"%",de(B,Se))H=B[Se];else if(H!=null){if(!(ge in H)){if(!Y)throw new l("base intrinsic for "+ie+" exists, but the property is not available.");return}if(A&&z+1>=te.length){var Pe=A(H,ge);se=!!Pe,se&&"get"in Pe&&!("originalValue"in Pe.get)?H=Pe.get:H=H[ge]}else se=de(H,ge),H=H[ge];se&&!k&&(B[Se]=H)}}return H},BS}var FS={exports:{}},VS,UP;function Gse(){if(UP)return VS;UP=1;var r=Vw(),e=EF(),t=qm(),n=Wm();return VS=function(s,o,l){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,p=arguments.length>6?arguments[6]:!1,g=!!n&&n(s,o);if(r)r(s,o,{configurable:f===null&&g?g.configurable:!f,enumerable:u===null&&g?g.enumerable:!u,value:l,writable:h===null&&g?g.writable:!h});else if(p||!u&&!h&&!f)s[o]=l;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},VS}var US,zP;function Kse(){if(zP)return US;zP=1;var r=Vw(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},US=e,US}var zS,jP;function $se(){if(jP)return zS;jP=1;var r=XC(),e=Gse(),t=Kse()(),n=Wm(),i=qm(),s=r("%Math.floor%");return zS=function(l,u){if(typeof l!="function")throw new i("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||s(u)!==u)throw new i("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,p=!0;if("length"in l&&n){var g=n(l,"length");g&&!g.configurable&&(f=!1),g&&!g.writable&&(p=!1)}return(f||p||!h)&&(t?e(l,"length",u,!0,!0):e(l,"length",u)),l},zS}var HP;function CF(){return HP||(HP=1,function(r){var e=Gm(),t=XC(),n=$se(),i=qm(),s=t("%Function.prototype.apply%"),o=t("%Function.prototype.call%"),l=t("%Reflect.apply%",!0)||e.call(o,s),u=Vw(),h=t("%Math.max%");r.exports=function(g){if(typeof g!="function")throw new i("a function is required");var y=l(e,o,arguments);return n(y,1+h(0,g.length-(arguments.length-1)),!0)};var f=function(){return l(e,s,arguments)};u?u(r.exports,"apply",{value:f}):r.exports.apply=f}(FS)),FS.exports}var jS,qP;function RF(){if(qP)return jS;qP=1;var r=XC(),e=CF(),t=e(r("String.prototype.indexOf"));return jS=function(i,s){var o=r(i,!!s);return typeof o=="function"&&t(i,".prototype.")>-1?e(o):o},jS}var HS,WP;function Yse(){if(WP)return HS;WP=1;var r=$C()(),e=RF(),t=e("Object.prototype.toString"),n=function(l){return r&&l&&typeof l=="object"&&Symbol.toStringTag in l?!1:t(l)==="[object Arguments]"},i=function(l){return n(l)?!0:l!==null&&typeof l=="object"&&typeof l.length=="number"&&l.length>=0&&t(l)!=="[object Array]"&&t(l.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,HS=s?n:i,HS}var qS,GP;function Xse(){if(GP)return qS;GP=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=$C()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return qS=function(u){if(typeof u!="function")return!1;if(t.test(e.call(u)))return!0;if(!n){var h=r.call(u);return h==="[object GeneratorFunction]"}if(!i)return!1;if(typeof o>"u"){var f=s();o=f?i(f):!1}return i(u)===o},qS}var WS,KP;function Qse(){if(KP)return WS;KP=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(A){A!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(T){try{var x=r.call(T);return i.test(x)}catch{return!1}},o=function(T){try{return s(T)?!1:(r.call(T),!0)}catch{return!1}},l=Object.prototype.toString,u="[object Object]",h="[object Function]",f="[object GeneratorFunction]",p="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),E=function(){return!1};if(typeof document=="object"){var b=document.all;l.call(b)===l.call(document.all)&&(E=function(T){if((w||!T)&&(typeof T>"u"||typeof T=="object"))try{var x=l.call(T);return(x===p||x===g||x===y||x===u)&&T("")==null}catch{}return!1})}return WS=e?function(T){if(E(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;try{e(T,null,t)}catch(x){if(x!==n)return!1}return!s(T)&&o(T)}:function(T){if(E(T))return!0;if(!T||typeof T!="function"&&typeof T!="object")return!1;if(_)return o(T);if(s(T))return!1;var x=l.call(T);return x!==h&&x!==f&&!/^\[object HTML/.test(x)?!1:o(T)},WS}var GS,$P;function Zse(){if($P)return GS;$P=1;var r=Qse(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(u,h,f){for(var p=0,g=u.length;p<g;p++)t.call(u,p)&&(f==null?h(u[p],p,u):h.call(f,u[p],p,u))},i=function(u,h,f){for(var p=0,g=u.length;p<g;p++)f==null?h(u.charAt(p),p,u):h.call(f,u.charAt(p),p,u)},s=function(u,h,f){for(var p in u)t.call(u,p)&&(f==null?h(u[p],p,u):h.call(f,u[p],p,u))},o=function(u,h,f){if(!r(h))throw new TypeError("iterator must be a function");var p;arguments.length>=3&&(p=f),e.call(u)==="[object Array]"?n(u,h,p):typeof u=="string"?i(u,h,p):s(u,h,p)};return GS=o,GS}var KS,YP;function Jse(){return YP||(YP=1,KS=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),KS}var $S,XP;function eoe(){if(XP)return $S;XP=1;var r=Jse(),e=typeof globalThis>"u"?Ao:globalThis;return $S=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},$S}var YS,QP;function kF(){if(QP)return YS;QP=1;var r=Zse(),e=eoe(),t=CF(),n=RF(),i=Wm(),s=n("Object.prototype.toString"),o=$C()(),l=typeof globalThis>"u"?Ao:globalThis,u=e(),h=n("String.prototype.slice"),f=Object.getPrototypeOf,p=n("Array.prototype.indexOf",!0)||function(E,b){for(var A=0;A<E.length;A+=1)if(E[A]===b)return A;return-1},g={__proto__:null};o&&i&&f?r(u,function(w){var E=new l[w];if(Symbol.toStringTag in E){var b=f(E),A=i(b,Symbol.toStringTag);if(!A){var T=f(b);A=i(T,Symbol.toStringTag)}g["$"+w]=t(A.get)}}):r(u,function(w){var E=new l[w],b=E.slice||E.set;b&&(g["$"+w]=t(b))});var y=function(E){var b=!1;return r(g,function(A,T){if(!b)try{"$"+A(E)===T&&(b=h(T,1))}catch{}}),b},_=function(E){var b=!1;return r(g,function(A,T){if(!b)try{A(E),b=h(T,1)}catch{}}),b};return YS=function(E){if(!E||typeof E!="object")return!1;if(!o){var b=h(s(E),8,-1);return p(u,b)>-1?b:b!=="Object"?!1:_(E)}return i?y(E):null},YS}var XS,ZP;function toe(){if(ZP)return XS;ZP=1;var r=kF();return XS=function(t){return!!r(t)},XS}var JP;function noe(){return JP||(JP=1,function(r){var e=Yse(),t=Xse(),n=kF(),i=toe();function s(z){return z.call.bind(z)}var o=typeof BigInt<"u",l=typeof Symbol<"u",u=s(Object.prototype.toString),h=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(o)var g=s(BigInt.prototype.valueOf);if(l)var y=s(Symbol.prototype.valueOf);function _(z,se){if(typeof z!="object")return!1;try{return se(z),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function w(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"}r.isPromise=w;function E(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):i(z)||re(z)}r.isArrayBufferView=E;function b(z){return n(z)==="Uint8Array"}r.isUint8Array=b;function A(z){return n(z)==="Uint8ClampedArray"}r.isUint8ClampedArray=A;function T(z){return n(z)==="Uint16Array"}r.isUint16Array=T;function x(z){return n(z)==="Uint32Array"}r.isUint32Array=x;function D(z){return n(z)==="Int8Array"}r.isInt8Array=D;function P(z){return n(z)==="Int16Array"}r.isInt16Array=P;function N(z){return n(z)==="Int32Array"}r.isInt32Array=N;function O(z){return n(z)==="Float32Array"}r.isFloat32Array=O;function C(z){return n(z)==="Float64Array"}r.isFloat64Array=C;function q(z){return n(z)==="BigInt64Array"}r.isBigInt64Array=q;function $(z){return n(z)==="BigUint64Array"}r.isBigUint64Array=$;function M(z){return u(z)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function V(z){return typeof Map>"u"?!1:M.working?M(z):z instanceof Map}r.isMap=V;function B(z){return u(z)==="[object Set]"}B.working=typeof Set<"u"&&B(new Set);function oe(z){return typeof Set>"u"?!1:B.working?B(z):z instanceof Set}r.isSet=oe;function Q(z){return u(z)==="[object WeakMap]"}Q.working=typeof WeakMap<"u"&&Q(new WeakMap);function X(z){return typeof WeakMap>"u"?!1:Q.working?Q(z):z instanceof WeakMap}r.isWeakMap=X;function fe(z){return u(z)==="[object WeakSet]"}fe.working=typeof WeakSet<"u"&&fe(new WeakSet);function de(z){return fe(z)}r.isWeakSet=de;function ee(z){return u(z)==="[object ArrayBuffer]"}ee.working=typeof ArrayBuffer<"u"&&ee(new ArrayBuffer);function J(z){return typeof ArrayBuffer>"u"?!1:ee.working?ee(z):z instanceof ArrayBuffer}r.isArrayBuffer=J;function K(z){return u(z)==="[object DataView]"}K.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&K(new DataView(new ArrayBuffer(1),0,1));function re(z){return typeof DataView>"u"?!1:K.working?K(z):z instanceof DataView}r.isDataView=re;var he=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ve(z){return u(z)==="[object SharedArrayBuffer]"}function ue(z){return typeof he>"u"?!1:(typeof ve.working>"u"&&(ve.working=ve(new he)),ve.working?ve(z):z instanceof he)}r.isSharedArrayBuffer=ue;function j(z){return u(z)==="[object AsyncFunction]"}r.isAsyncFunction=j;function F(z){return u(z)==="[object Map Iterator]"}r.isMapIterator=F;function ce(z){return u(z)==="[object Set Iterator]"}r.isSetIterator=ce;function ie(z){return u(z)==="[object Generator]"}r.isGeneratorObject=ie;function Y(z){return u(z)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=Y;function te(z){return _(z,h)}r.isNumberObject=te;function _e(z){return _(z,f)}r.isStringObject=_e;function U(z){return _(z,p)}r.isBooleanObject=U;function Se(z){return o&&_(z,g)}r.isBigIntObject=Se;function H(z){return l&&_(z,y)}r.isSymbolObject=H;function k(z){return te(z)||_e(z)||U(z)||Se(z)||H(z)}r.isBoxedPrimitive=k;function I(z){return typeof Uint8Array<"u"&&(J(z)||ue(z))}r.isAnyArrayBuffer=I,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(r,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})}(nS)),nS}var QS,e4;function roe(){return e4||(e4=1,QS=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),QS}var t4;function DF(){return t4||(t4=1,function(r){var e=Object.getOwnPropertyDescriptors||function(re){for(var he=Object.keys(re),ve={},ue=0;ue<he.length;ue++)ve[he[ue]]=Object.getOwnPropertyDescriptor(re,he[ue]);return ve},t=/%[sdj%]/g;r.format=function(K){if(!D(K)){for(var re=[],he=0;he<arguments.length;he++)re.push(o(arguments[he]));return re.join(" ")}for(var he=1,ve=arguments,ue=ve.length,j=String(K).replace(t,function(ce){if(ce==="%%")return"%";if(he>=ue)return ce;switch(ce){case"%s":return String(ve[he++]);case"%d":return Number(ve[he++]);case"%j":try{return JSON.stringify(ve[he++])}catch{return"[Circular]"}default:return ce}}),F=ve[he];he<ue;F=ve[++he])A(F)||!C(F)?j+=" "+F:j+=" "+o(F);return j},r.deprecate=function(K,re){if(typeof Ct<"u"&&Ct.noDeprecation===!0)return K;if(typeof Ct>"u")return function(){return r.deprecate(K,re).apply(this,arguments)};var he=!1;function ve(){if(!he){if(Ct.throwDeprecation)throw new Error(re);Ct.traceDeprecation?console.trace(re):console.error(re),he=!0}return K.apply(this,arguments)}return ve};var n={},i=/^$/;if(Ct.env.NODE_DEBUG){var s=Ct.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}r.debuglog=function(K){if(K=K.toUpperCase(),!n[K])if(i.test(K)){var re=Ct.pid;n[K]=function(){var he=r.format.apply(r,arguments);console.error("%s %d: %s",K,re,he)}}else n[K]=function(){};return n[K]};function o(K,re){var he={seen:[],stylize:u};return arguments.length>=3&&(he.depth=arguments[2]),arguments.length>=4&&(he.colors=arguments[3]),b(re)?he.showHidden=re:re&&r._extend(he,re),N(he.showHidden)&&(he.showHidden=!1),N(he.depth)&&(he.depth=2),N(he.colors)&&(he.colors=!1),N(he.customInspect)&&(he.customInspect=!0),he.colors&&(he.stylize=l),f(he,K,he.depth)}r.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(K,re){var he=o.styles[re];return he?"\x1B["+o.colors[he][0]+"m"+K+"\x1B["+o.colors[he][1]+"m":K}function u(K,re){return K}function h(K){var re={};return K.forEach(function(he,ve){re[he]=!0}),re}function f(K,re,he){if(K.customInspect&&re&&M(re.inspect)&&re.inspect!==r.inspect&&!(re.constructor&&re.constructor.prototype===re)){var ve=re.inspect(he,K);return D(ve)||(ve=f(K,ve,he)),ve}var ue=p(K,re);if(ue)return ue;var j=Object.keys(re),F=h(j);if(K.showHidden&&(j=Object.getOwnPropertyNames(re)),$(re)&&(j.indexOf("message")>=0||j.indexOf("description")>=0))return g(re);if(j.length===0){if(M(re)){var ce=re.name?": "+re.name:"";return K.stylize("[Function"+ce+"]","special")}if(O(re))return K.stylize(RegExp.prototype.toString.call(re),"regexp");if(q(re))return K.stylize(Date.prototype.toString.call(re),"date");if($(re))return g(re)}var ie="",Y=!1,te=["{","}"];if(E(re)&&(Y=!0,te=["[","]"]),M(re)){var _e=re.name?": "+re.name:"";ie=" [Function"+_e+"]"}if(O(re)&&(ie=" "+RegExp.prototype.toString.call(re)),q(re)&&(ie=" "+Date.prototype.toUTCString.call(re)),$(re)&&(ie=" "+g(re)),j.length===0&&(!Y||re.length==0))return te[0]+ie+te[1];if(he<0)return O(re)?K.stylize(RegExp.prototype.toString.call(re),"regexp"):K.stylize("[Object]","special");K.seen.push(re);var U;return Y?U=y(K,re,he,F,j):U=j.map(function(Se){return _(K,re,he,F,Se,Y)}),K.seen.pop(),w(U,ie,te)}function p(K,re){if(N(re))return K.stylize("undefined","undefined");if(D(re)){var he="'"+JSON.stringify(re).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return K.stylize(he,"string")}if(x(re))return K.stylize(""+re,"number");if(b(re))return K.stylize(""+re,"boolean");if(A(re))return K.stylize("null","null")}function g(K){return"["+Error.prototype.toString.call(K)+"]"}function y(K,re,he,ve,ue){for(var j=[],F=0,ce=re.length;F<ce;++F)fe(re,String(F))?j.push(_(K,re,he,ve,String(F),!0)):j.push("");return ue.forEach(function(ie){ie.match(/^\d+$/)||j.push(_(K,re,he,ve,ie,!0))}),j}function _(K,re,he,ve,ue,j){var F,ce,ie;if(ie=Object.getOwnPropertyDescriptor(re,ue)||{value:re[ue]},ie.get?ie.set?ce=K.stylize("[Getter/Setter]","special"):ce=K.stylize("[Getter]","special"):ie.set&&(ce=K.stylize("[Setter]","special")),fe(ve,ue)||(F="["+ue+"]"),ce||(K.seen.indexOf(ie.value)<0?(A(he)?ce=f(K,ie.value,null):ce=f(K,ie.value,he-1),ce.indexOf(`
`)>-1&&(j?ce=ce.split(`
`).map(function(Y){return"  "+Y}).join(`
`).slice(2):ce=`
`+ce.split(`
`).map(function(Y){return"   "+Y}).join(`
`))):ce=K.stylize("[Circular]","special")),N(F)){if(j&&ue.match(/^\d+$/))return ce;F=JSON.stringify(""+ue),F.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(F=F.slice(1,-1),F=K.stylize(F,"name")):(F=F.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),F=K.stylize(F,"string"))}return F+": "+ce}function w(K,re,he){var ve=K.reduce(function(ue,j){return j.indexOf(`
`)>=0,ue+j.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?he[0]+(re===""?"":re+`
 `)+" "+K.join(`,
  `)+" "+he[1]:he[0]+re+" "+K.join(", ")+" "+he[1]}r.types=noe();function E(K){return Array.isArray(K)}r.isArray=E;function b(K){return typeof K=="boolean"}r.isBoolean=b;function A(K){return K===null}r.isNull=A;function T(K){return K==null}r.isNullOrUndefined=T;function x(K){return typeof K=="number"}r.isNumber=x;function D(K){return typeof K=="string"}r.isString=D;function P(K){return typeof K=="symbol"}r.isSymbol=P;function N(K){return K===void 0}r.isUndefined=N;function O(K){return C(K)&&B(K)==="[object RegExp]"}r.isRegExp=O,r.types.isRegExp=O;function C(K){return typeof K=="object"&&K!==null}r.isObject=C;function q(K){return C(K)&&B(K)==="[object Date]"}r.isDate=q,r.types.isDate=q;function $(K){return C(K)&&(B(K)==="[object Error]"||K instanceof Error)}r.isError=$,r.types.isNativeError=$;function M(K){return typeof K=="function"}r.isFunction=M;function V(K){return K===null||typeof K=="boolean"||typeof K=="number"||typeof K=="string"||typeof K=="symbol"||typeof K>"u"}r.isPrimitive=V,r.isBuffer=roe();function B(K){return Object.prototype.toString.call(K)}function oe(K){return K<10?"0"+K.toString(10):K.toString(10)}var Q=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function X(){var K=new Date,re=[oe(K.getHours()),oe(K.getMinutes()),oe(K.getSeconds())].join(":");return[K.getDate(),Q[K.getMonth()],re].join(" ")}r.log=function(){console.log("%s - %s",X(),r.format.apply(r,arguments))},r.inherits=ou(),r._extend=function(K,re){if(!re||!C(re))return K;for(var he=Object.keys(re),ve=he.length;ve--;)K[he[ve]]=re[he[ve]];return K};function fe(K,re){return Object.prototype.hasOwnProperty.call(K,re)}var de=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(re){if(typeof re!="function")throw new TypeError('The "original" argument must be of type Function');if(de&&re[de]){var he=re[de];if(typeof he!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(he,de,{value:he,enumerable:!1,writable:!1,configurable:!0}),he}function he(){for(var ve,ue,j=new Promise(function(ie,Y){ve=ie,ue=Y}),F=[],ce=0;ce<arguments.length;ce++)F.push(arguments[ce]);F.push(function(ie,Y){ie?ue(ie):ve(Y)});try{re.apply(this,F)}catch(ie){ue(ie)}return j}return Object.setPrototypeOf(he,Object.getPrototypeOf(re)),de&&Object.defineProperty(he,de,{value:he,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(he,e(re))},r.promisify.custom=de;function ee(K,re){if(!K){var he=new Error("Promise was rejected with a falsy value");he.reason=K,K=he}return re(K)}function J(K){if(typeof K!="function")throw new TypeError('The "original" argument must be of type Function');function re(){for(var he=[],ve=0;ve<arguments.length;ve++)he.push(arguments[ve]);var ue=he.pop();if(typeof ue!="function")throw new TypeError("The last argument must be of type Function");var j=this,F=function(){return ue.apply(j,arguments)};K.apply(this,he).then(function(ce){Ct.nextTick(F.bind(null,null,ce))},function(ce){Ct.nextTick(ee.bind(null,ce,F))})}return Object.setPrototypeOf(re,Object.getPrototypeOf(K)),Object.defineProperties(re,e(K)),re}r.callbackify=J}(tS)),tS}var ZS,n4;function ioe(){if(n4)return ZS;n4=1;function r(g,y){var _=Object.keys(g);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(g);y&&(w=w.filter(function(E){return Object.getOwnPropertyDescriptor(g,E).enumerable})),_.push.apply(_,w)}return _}function e(g){for(var y=1;y<arguments.length;y++){var _=arguments[y]!=null?arguments[y]:{};y%2?r(Object(_),!0).forEach(function(w){t(g,w,_[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(_)):r(Object(_)).forEach(function(w){Object.defineProperty(g,w,Object.getOwnPropertyDescriptor(_,w))})}return g}function t(g,y,_){return y in g?Object.defineProperty(g,y,{value:_,enumerable:!0,configurable:!0,writable:!0}):g[y]=_,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function i(g,y){for(var _=0;_<y.length;_++){var w=y[_];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}function s(g,y,_){return y&&i(g.prototype,y),g}var o=Fw(),l=o.Buffer,u=DF(),h=u.inspect,f=h&&h.custom||"inspect";function p(g,y,_){l.prototype.copy.call(g,y,_)}return ZS=function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return s(g,[{key:"push",value:function(_){var w={data:_,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(_){var w={data:_,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var w=this.head,E=""+w.data;w=w.next;)E+=_+w.data;return E}},{key:"concat",value:function(_){if(this.length===0)return l.alloc(0);for(var w=l.allocUnsafe(_>>>0),E=this.head,b=0;E;)p(E.data,w,b),b+=E.data.length,E=E.next;return w}},{key:"consume",value:function(_,w){var E;return _<this.head.data.length?(E=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?E=this.shift():E=w?this._getString(_):this._getBuffer(_),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var w=this.head,E=1,b=w.data;for(_-=b.length;w=w.next;){var A=w.data,T=_>A.length?A.length:_;if(T===A.length?b+=A:b+=A.slice(0,_),_-=T,_===0){T===A.length?(++E,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=A.slice(T));break}++E}return this.length-=E,b}},{key:"_getBuffer",value:function(_){var w=l.allocUnsafe(_),E=this.head,b=1;for(E.data.copy(w),_-=E.data.length;E=E.next;){var A=E.data,T=_>A.length?A.length:_;if(A.copy(w,w.length-_,0,T),_-=T,_===0){T===A.length?(++b,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=A.slice(T));break}++b}return this.length-=b,w}},{key:f,value:function(_,w){return h(this,e({},w,{depth:0,customInspect:!1}))}}]),g}(),ZS}var JS,r4;function IF(){if(r4)return JS;r4=1;function r(o,l){var u=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ct.nextTick(i,this,o)):Ct.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!l&&p?u._writableState?u._writableState.errorEmitted?Ct.nextTick(t,u):(u._writableState.errorEmitted=!0,Ct.nextTick(e,u,p)):Ct.nextTick(e,u,p):l?(Ct.nextTick(t,u),l(p)):Ct.nextTick(t,u)}),this)}function e(o,l){i(o,l),t(o)}function t(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var u=o._readableState,h=o._writableState;u&&u.autoDestroy||h&&h.autoDestroy?o.destroy(l):o.emit("error",l)}return JS={destroy:r,undestroy:n,errorOrDestroy:s},JS}var eE={},i4;function Uf(){if(i4)return eE;i4=1;function r(l,u){l.prototype=Object.create(u.prototype),l.prototype.constructor=l,l.__proto__=u}var e={};function t(l,u,h){h||(h=Error);function f(g,y,_){return typeof u=="string"?u:u(g,y,_)}var p=function(g){r(y,g);function y(_,w,E){return g.call(this,f(_,w,E))||this}return y}(h);p.prototype.name=h.name,p.prototype.code=l,e[l]=p}function n(l,u){if(Array.isArray(l)){var h=l.length;return l=l.map(function(f){return String(f)}),h>2?"one of ".concat(u," ").concat(l.slice(0,h-1).join(", "),", or ")+l[h-1]:h===2?"one of ".concat(u," ").concat(l[0]," or ").concat(l[1]):"of ".concat(u," ").concat(l[0])}else return"of ".concat(u," ").concat(String(l))}function i(l,u,h){return l.substr(0,u.length)===u}function s(l,u,h){return(h===void 0||h>l.length)&&(h=l.length),l.substring(h-u.length,h)===u}function o(l,u,h){return typeof h!="number"&&(h=0),h+u.length>l.length?!1:l.indexOf(u,h)!==-1}return t("ERR_INVALID_OPT_VALUE",function(l,u){return'The value "'+u+'" is invalid for option "'+l+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(l,u,h){var f;typeof u=="string"&&i(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var p;if(s(l," argument"))p="The ".concat(l," ").concat(f," ").concat(n(u,"type"));else{var g=o(l,".")?"property":"argument";p='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(n(u,"type"))}return p+=". Received type ".concat(typeof h),p},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),eE.codes=e,eE}var tE,s4;function OF(){if(s4)return tE;s4=1;var r=Uf().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function t(n,i,s,o){var l=e(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var u=o?s:"highWaterMark";throw new r(u,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return tE={getHighWaterMark:t},tE}var nE,o4;function soe(){if(o4)return nE;o4=1,nE=r;function r(t,n){if(e("noDeprecation"))return t;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!Ao.localStorage)return!1}catch{return!1}var n=Ao.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return nE}var rE,a4;function NF(){if(a4)return rE;a4=1,rE=O;function r(ue){var j=this;this.next=null,this.entry=null,this.finish=function(){ve(j,ue)}}var e;O.WritableState=P;var t={deprecate:soe()},n=_F(),i=Fw().Buffer,s=Ao.Uint8Array||function(){};function o(ue){return i.from(ue)}function l(ue){return i.isBuffer(ue)||ue instanceof s}var u=IF(),h=OF(),f=h.getHighWaterMark,p=Uf().codes,g=p.ERR_INVALID_ARG_TYPE,y=p.ERR_METHOD_NOT_IMPLEMENTED,_=p.ERR_MULTIPLE_CALLBACK,w=p.ERR_STREAM_CANNOT_PIPE,E=p.ERR_STREAM_DESTROYED,b=p.ERR_STREAM_NULL_VALUES,A=p.ERR_STREAM_WRITE_AFTER_END,T=p.ERR_UNKNOWN_ENCODING,x=u.errorOrDestroy;ou()(O,n);function D(){}function P(ue,j,F){e=e||Ef(),ue=ue||{},typeof F!="boolean"&&(F=j instanceof e),this.objectMode=!!ue.objectMode,F&&(this.objectMode=this.objectMode||!!ue.writableObjectMode),this.highWaterMark=f(this,ue,"writableHighWaterMark",F),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ce=ue.decodeStrings===!1;this.decodeStrings=!ce,this.defaultEncoding=ue.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){Q(j,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ue.emitClose!==!1,this.autoDestroy=!!ue.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}P.prototype.getBuffer=function(){for(var j=this.bufferedRequest,F=[];j;)F.push(j),j=j.next;return F},function(){try{Object.defineProperty(P.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(O,Symbol.hasInstance,{value:function(j){return N.call(this,j)?!0:this!==O?!1:j&&j._writableState instanceof P}})):N=function(j){return j instanceof this};function O(ue){e=e||Ef();var j=this instanceof e;if(!j&&!N.call(O,this))return new O(ue);this._writableState=new P(ue,this,j),this.writable=!0,ue&&(typeof ue.write=="function"&&(this._write=ue.write),typeof ue.writev=="function"&&(this._writev=ue.writev),typeof ue.destroy=="function"&&(this._destroy=ue.destroy),typeof ue.final=="function"&&(this._final=ue.final)),n.call(this)}O.prototype.pipe=function(){x(this,new w)};function C(ue,j){var F=new A;x(ue,F),Ct.nextTick(j,F)}function q(ue,j,F,ce){var ie;return F===null?ie=new b:typeof F!="string"&&!j.objectMode&&(ie=new g("chunk",["string","Buffer"],F)),ie?(x(ue,ie),Ct.nextTick(ce,ie),!1):!0}O.prototype.write=function(ue,j,F){var ce=this._writableState,ie=!1,Y=!ce.objectMode&&l(ue);return Y&&!i.isBuffer(ue)&&(ue=o(ue)),typeof j=="function"&&(F=j,j=null),Y?j="buffer":j||(j=ce.defaultEncoding),typeof F!="function"&&(F=D),ce.ending?C(this,F):(Y||q(this,ce,ue,F))&&(ce.pendingcb++,ie=M(this,ce,Y,ue,j,F)),ie},O.prototype.cork=function(){this._writableState.corked++},O.prototype.uncork=function(){var ue=this._writableState;ue.corked&&(ue.corked--,!ue.writing&&!ue.corked&&!ue.bufferProcessing&&ue.bufferedRequest&&de(this,ue))},O.prototype.setDefaultEncoding=function(j){if(typeof j=="string"&&(j=j.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((j+"").toLowerCase())>-1))throw new T(j);return this._writableState.defaultEncoding=j,this},Object.defineProperty(O.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function $(ue,j,F){return!ue.objectMode&&ue.decodeStrings!==!1&&typeof j=="string"&&(j=i.from(j,F)),j}Object.defineProperty(O.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(ue,j,F,ce,ie,Y){if(!F){var te=$(j,ce,ie);ce!==te&&(F=!0,ie="buffer",ce=te)}var _e=j.objectMode?1:ce.length;j.length+=_e;var U=j.length<j.highWaterMark;if(U||(j.needDrain=!0),j.writing||j.corked){var Se=j.lastBufferedRequest;j.lastBufferedRequest={chunk:ce,encoding:ie,isBuf:F,callback:Y,next:null},Se?Se.next=j.lastBufferedRequest:j.bufferedRequest=j.lastBufferedRequest,j.bufferedRequestCount+=1}else V(ue,j,!1,_e,ce,ie,Y);return U}function V(ue,j,F,ce,ie,Y,te){j.writelen=ce,j.writecb=te,j.writing=!0,j.sync=!0,j.destroyed?j.onwrite(new E("write")):F?ue._writev(ie,j.onwrite):ue._write(ie,Y,j.onwrite),j.sync=!1}function B(ue,j,F,ce,ie){--j.pendingcb,F?(Ct.nextTick(ie,ce),Ct.nextTick(re,ue,j),ue._writableState.errorEmitted=!0,x(ue,ce)):(ie(ce),ue._writableState.errorEmitted=!0,x(ue,ce),re(ue,j))}function oe(ue){ue.writing=!1,ue.writecb=null,ue.length-=ue.writelen,ue.writelen=0}function Q(ue,j){var F=ue._writableState,ce=F.sync,ie=F.writecb;if(typeof ie!="function")throw new _;if(oe(F),j)B(ue,F,ce,j,ie);else{var Y=ee(F)||ue.destroyed;!Y&&!F.corked&&!F.bufferProcessing&&F.bufferedRequest&&de(ue,F),ce?Ct.nextTick(X,ue,F,Y,ie):X(ue,F,Y,ie)}}function X(ue,j,F,ce){F||fe(ue,j),j.pendingcb--,ce(),re(ue,j)}function fe(ue,j){j.length===0&&j.needDrain&&(j.needDrain=!1,ue.emit("drain"))}function de(ue,j){j.bufferProcessing=!0;var F=j.bufferedRequest;if(ue._writev&&F&&F.next){var ce=j.bufferedRequestCount,ie=new Array(ce),Y=j.corkedRequestsFree;Y.entry=F;for(var te=0,_e=!0;F;)ie[te]=F,F.isBuf||(_e=!1),F=F.next,te+=1;ie.allBuffers=_e,V(ue,j,!0,j.length,ie,"",Y.finish),j.pendingcb++,j.lastBufferedRequest=null,Y.next?(j.corkedRequestsFree=Y.next,Y.next=null):j.corkedRequestsFree=new r(j),j.bufferedRequestCount=0}else{for(;F;){var U=F.chunk,Se=F.encoding,H=F.callback,k=j.objectMode?1:U.length;if(V(ue,j,!1,k,U,Se,H),F=F.next,j.bufferedRequestCount--,j.writing)break}F===null&&(j.lastBufferedRequest=null)}j.bufferedRequest=F,j.bufferProcessing=!1}O.prototype._write=function(ue,j,F){F(new y("_write()"))},O.prototype._writev=null,O.prototype.end=function(ue,j,F){var ce=this._writableState;return typeof ue=="function"?(F=ue,ue=null,j=null):typeof j=="function"&&(F=j,j=null),ue!=null&&this.write(ue,j),ce.corked&&(ce.corked=1,this.uncork()),ce.ending||he(this,ce,F),this},Object.defineProperty(O.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(ue){return ue.ending&&ue.length===0&&ue.bufferedRequest===null&&!ue.finished&&!ue.writing}function J(ue,j){ue._final(function(F){j.pendingcb--,F&&x(ue,F),j.prefinished=!0,ue.emit("prefinish"),re(ue,j)})}function K(ue,j){!j.prefinished&&!j.finalCalled&&(typeof ue._final=="function"&&!j.destroyed?(j.pendingcb++,j.finalCalled=!0,Ct.nextTick(J,ue,j)):(j.prefinished=!0,ue.emit("prefinish")))}function re(ue,j){var F=ee(j);if(F&&(K(ue,j),j.pendingcb===0&&(j.finished=!0,ue.emit("finish"),j.autoDestroy))){var ce=ue._readableState;(!ce||ce.autoDestroy&&ce.endEmitted)&&ue.destroy()}return F}function he(ue,j,F){j.ending=!0,re(ue,j),F&&(j.finished?Ct.nextTick(F):ue.once("finish",F)),j.ended=!0,ue.writable=!1}function ve(ue,j,F){var ce=ue.entry;for(ue.entry=null;ce;){var ie=ce.callback;j.pendingcb--,ie(F),ce=ce.next}j.corkedRequestsFree.next=ue}return Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(j){this._writableState&&(this._writableState.destroyed=j)}}),O.prototype.destroy=u.destroy,O.prototype._undestroy=u.undestroy,O.prototype._destroy=function(ue,j){j(ue)},rE}var iE,l4;function Ef(){if(l4)return iE;l4=1;var r=Object.keys||function(h){var f=[];for(var p in h)f.push(p);return f};iE=o;var e=MF(),t=NF();ou()(o,e);for(var n=r(t.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=t.prototype[s])}function o(h){if(!(this instanceof o))return new o(h);e.call(this,h),t.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||Ct.nextTick(u,this)}function u(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),iE}var sE={},Qy={exports:{}},u4;function ooe(){return u4||(u4=1,function(r,e){var t=Fw(),n=t.Buffer;function i(o,l){for(var u in o)l[u]=o[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=s);function s(o,l,u){return n(o,l,u)}i(n,s),s.from=function(o,l,u){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,u)},s.alloc=function(o,l,u){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return l!==void 0?typeof u=="string"?h.fill(l,u):h.fill(l):h.fill(0),h},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}}(Qy,Qy.exports)),Qy.exports}var c4;function HT(){if(c4)return sE;c4=1;var r=ooe().Buffer,e=r.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(b){if(!b)return"utf8";for(var A;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(A)return;b=(""+b).toLowerCase(),A=!0}}function n(b){var A=t(b);if(typeof A!="string"&&(r.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return A||b}sE.StringDecoder=i;function i(b){this.encoding=n(b);var A;switch(this.encoding){case"utf16le":this.text=p,this.end=g,A=4;break;case"utf8":this.fillLast=u,A=4;break;case"base64":this.text=y,this.end=_,A=3;break;default:this.write=w,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(A)}i.prototype.write=function(b){if(b.length===0)return"";var A,T;if(this.lastNeed){if(A=this.fillLast(b),A===void 0)return"";T=this.lastNeed,this.lastNeed=0}else T=0;return T<b.length?A?A+this.text(b,T):this.text(b,T):A||""},i.prototype.end=f,i.prototype.text=h,i.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function s(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,A,T){var x=A.length-1;if(x<T)return 0;var D=s(A[x]);return D>=0?(D>0&&(b.lastNeed=D-1),D):--x<T||D===-2?0:(D=s(A[x]),D>=0?(D>0&&(b.lastNeed=D-2),D):--x<T||D===-2?0:(D=s(A[x]),D>=0?(D>0&&(D===2?D=0:b.lastNeed=D-3),D):0))}function l(b,A,T){if((A[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&A.length>1){if((A[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&A.length>2&&(A[2]&192)!==128)return b.lastNeed=2,""}}function u(b){var A=this.lastTotal-this.lastNeed,T=l(this,b);if(T!==void 0)return T;if(this.lastNeed<=b.length)return b.copy(this.lastChar,A,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,A,0,b.length),this.lastNeed-=b.length}function h(b,A){var T=o(this,b,A);if(!this.lastNeed)return b.toString("utf8",A);this.lastTotal=T;var x=b.length-(T-this.lastNeed);return b.copy(this.lastChar,0,x),b.toString("utf8",A,x)}function f(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+"":A}function p(b,A){if((b.length-A)%2===0){var T=b.toString("utf16le",A);if(T){var x=T.charCodeAt(T.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],T.slice(0,-1)}return T}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",A,b.length-1)}function g(b){var A=b&&b.length?this.write(b):"";if(this.lastNeed){var T=this.lastTotal-this.lastNeed;return A+this.lastChar.toString("utf16le",0,T)}return A}function y(b,A){var T=(b.length-A)%3;return T===0?b.toString("base64",A):(this.lastNeed=3-T,this.lastTotal=3,T===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",A,b.length-T))}function _(b){var A=b&&b.length?this.write(b):"";return this.lastNeed?A+this.lastChar.toString("base64",0,3-this.lastNeed):A}function w(b){return b.toString(this.encoding)}function E(b){return b&&b.length?this.write(b):""}return sE}var oE,h4;function QC(){if(h4)return oE;h4=1;var r=Uf().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,u=new Array(l),h=0;h<l;h++)u[h]=arguments[h];s.apply(this,u)}}}function t(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=e(l||t);var u=o.readable||o.readable!==!1&&s.readable,h=o.writable||o.writable!==!1&&s.writable,f=function(){s.writable||g()},p=s._writableState&&s._writableState.finished,g=function(){h=!1,p=!0,u||l.call(s)},y=s._readableState&&s._readableState.endEmitted,_=function(){u=!1,y=!0,h||l.call(s)},w=function(T){l.call(s,T)},E=function(){var T;if(u&&!y)return(!s._readableState||!s._readableState.ended)&&(T=new r),l.call(s,T);if(h&&!p)return(!s._writableState||!s._writableState.ended)&&(T=new r),l.call(s,T)},b=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",E),s.req?b():s.on("request",b)):h&&!s._writableState&&(s.on("end",f),s.on("close",f)),s.on("end",_),s.on("finish",g),o.error!==!1&&s.on("error",w),s.on("close",E),function(){s.removeListener("complete",g),s.removeListener("abort",E),s.removeListener("request",b),s.req&&s.req.removeListener("finish",g),s.removeListener("end",f),s.removeListener("close",f),s.removeListener("finish",g),s.removeListener("end",_),s.removeListener("error",w),s.removeListener("close",E)}}return oE=i,oE}var aE,f4;function aoe(){if(f4)return aE;f4=1;var r;function e(b,A,T){return A in b?Object.defineProperty(b,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):b[A]=T,b}var t=QC(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),l=Symbol("lastPromise"),u=Symbol("handlePromise"),h=Symbol("stream");function f(b,A){return{value:b,done:A}}function p(b){var A=b[n];if(A!==null){var T=b[h].read();T!==null&&(b[l]=null,b[n]=null,b[i]=null,A(f(T,!1)))}}function g(b){Ct.nextTick(p,b)}function y(b,A){return function(T,x){b.then(function(){if(A[o]){T(f(void 0,!0));return}A[u](T,x)},x)}}var _=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((r={get stream(){return this[h]},next:function(){var A=this,T=this[s];if(T!==null)return Promise.reject(T);if(this[o])return Promise.resolve(f(void 0,!0));if(this[h].destroyed)return new Promise(function(N,O){Ct.nextTick(function(){A[s]?O(A[s]):N(f(void 0,!0))})});var x=this[l],D;if(x)D=new Promise(y(x,this));else{var P=this[h].read();if(P!==null)return Promise.resolve(f(P,!1));D=new Promise(this[u])}return this[l]=D,D}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var A=this;return new Promise(function(T,x){A[h].destroy(null,function(D){if(D){x(D);return}T(f(void 0,!0))})})}),r),_),E=function(A){var T,x=Object.create(w,(T={},e(T,h,{value:A,writable:!0}),e(T,n,{value:null,writable:!0}),e(T,i,{value:null,writable:!0}),e(T,s,{value:null,writable:!0}),e(T,o,{value:A._readableState.endEmitted,writable:!0}),e(T,u,{value:function(P,N){var O=x[h].read();O?(x[l]=null,x[n]=null,x[i]=null,P(f(O,!1))):(x[n]=P,x[i]=N)},writable:!0}),T));return x[l]=null,t(A,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var P=x[i];P!==null&&(x[l]=null,x[n]=null,x[i]=null,P(D)),x[s]=D;return}var N=x[n];N!==null&&(x[l]=null,x[n]=null,x[i]=null,N(f(void 0,!0))),x[o]=!0}),A.on("readable",g.bind(null,x)),x};return aE=E,aE}var lE,d4;function loe(){return d4||(d4=1,lE=function(){throw new Error("Readable.from is not available in the browser")}),lE}var uE,p4;function MF(){if(p4)return uE;p4=1,uE=C;var r;C.ReadableState=O,KC().EventEmitter;var e=function(te,_e){return te.listeners(_e).length},t=_F(),n=Fw().Buffer,i=Ao.Uint8Array||function(){};function s(Y){return n.from(Y)}function o(Y){return n.isBuffer(Y)||Y instanceof i}var l=DF(),u;l&&l.debuglog?u=l.debuglog("stream"):u=function(){};var h=ioe(),f=IF(),p=OF(),g=p.getHighWaterMark,y=Uf().codes,_=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,E=y.ERR_METHOD_NOT_IMPLEMENTED,b=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,A,T,x;ou()(C,t);var D=f.errorOrDestroy,P=["error","close","destroy","pause","resume"];function N(Y,te,_e){if(typeof Y.prependListener=="function")return Y.prependListener(te,_e);!Y._events||!Y._events[te]?Y.on(te,_e):Array.isArray(Y._events[te])?Y._events[te].unshift(_e):Y._events[te]=[_e,Y._events[te]]}function O(Y,te,_e){r=r||Ef(),Y=Y||{},typeof _e!="boolean"&&(_e=te instanceof r),this.objectMode=!!Y.objectMode,_e&&(this.objectMode=this.objectMode||!!Y.readableObjectMode),this.highWaterMark=g(this,Y,"readableHighWaterMark",_e),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Y.emitClose!==!1,this.autoDestroy=!!Y.autoDestroy,this.destroyed=!1,this.defaultEncoding=Y.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Y.encoding&&(A||(A=HT().StringDecoder),this.decoder=new A(Y.encoding),this.encoding=Y.encoding)}function C(Y){if(r=r||Ef(),!(this instanceof C))return new C(Y);var te=this instanceof r;this._readableState=new O(Y,this,te),this.readable=!0,Y&&(typeof Y.read=="function"&&(this._read=Y.read),typeof Y.destroy=="function"&&(this._destroy=Y.destroy)),t.call(this)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(te){this._readableState&&(this._readableState.destroyed=te)}}),C.prototype.destroy=f.destroy,C.prototype._undestroy=f.undestroy,C.prototype._destroy=function(Y,te){te(Y)},C.prototype.push=function(Y,te){var _e=this._readableState,U;return _e.objectMode?U=!0:typeof Y=="string"&&(te=te||_e.defaultEncoding,te!==_e.encoding&&(Y=n.from(Y,te),te=""),U=!0),q(this,Y,te,!1,U)},C.prototype.unshift=function(Y){return q(this,Y,null,!0,!1)};function q(Y,te,_e,U,Se){u("readableAddChunk",te);var H=Y._readableState;if(te===null)H.reading=!1,Q(Y,H);else{var k;if(Se||(k=M(H,te)),k)D(Y,k);else if(H.objectMode||te&&te.length>0)if(typeof te!="string"&&!H.objectMode&&Object.getPrototypeOf(te)!==n.prototype&&(te=s(te)),U)H.endEmitted?D(Y,new b):$(Y,H,te,!0);else if(H.ended)D(Y,new w);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!_e?(te=H.decoder.write(te),H.objectMode||te.length!==0?$(Y,H,te,!1):de(Y,H)):$(Y,H,te,!1)}else U||(H.reading=!1,de(Y,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function $(Y,te,_e,U){te.flowing&&te.length===0&&!te.sync?(te.awaitDrain=0,Y.emit("data",_e)):(te.length+=te.objectMode?1:_e.length,U?te.buffer.unshift(_e):te.buffer.push(_e),te.needReadable&&X(Y)),de(Y,te)}function M(Y,te){var _e;return!o(te)&&typeof te!="string"&&te!==void 0&&!Y.objectMode&&(_e=new _("chunk",["string","Buffer","Uint8Array"],te)),_e}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(Y){A||(A=HT().StringDecoder);var te=new A(Y);this._readableState.decoder=te,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,U="";_e!==null;)U+=te.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var V=1073741824;function B(Y){return Y>=V?Y=V:(Y--,Y|=Y>>>1,Y|=Y>>>2,Y|=Y>>>4,Y|=Y>>>8,Y|=Y>>>16,Y++),Y}function oe(Y,te){return Y<=0||te.length===0&&te.ended?0:te.objectMode?1:Y!==Y?te.flowing&&te.length?te.buffer.head.data.length:te.length:(Y>te.highWaterMark&&(te.highWaterMark=B(Y)),Y<=te.length?Y:te.ended?te.length:(te.needReadable=!0,0))}C.prototype.read=function(Y){u("read",Y),Y=parseInt(Y,10);var te=this._readableState,_e=Y;if(Y!==0&&(te.emittedReadable=!1),Y===0&&te.needReadable&&((te.highWaterMark!==0?te.length>=te.highWaterMark:te.length>0)||te.ended))return u("read: emitReadable",te.length,te.ended),te.length===0&&te.ended?F(this):X(this),null;if(Y=oe(Y,te),Y===0&&te.ended)return te.length===0&&F(this),null;var U=te.needReadable;u("need readable",U),(te.length===0||te.length-Y<te.highWaterMark)&&(U=!0,u("length less than watermark",U)),te.ended||te.reading?(U=!1,u("reading or ended",U)):U&&(u("do read"),te.reading=!0,te.sync=!0,te.length===0&&(te.needReadable=!0),this._read(te.highWaterMark),te.sync=!1,te.reading||(Y=oe(_e,te)));var Se;return Y>0?Se=j(Y,te):Se=null,Se===null?(te.needReadable=te.length<=te.highWaterMark,Y=0):(te.length-=Y,te.awaitDrain=0),te.length===0&&(te.ended||(te.needReadable=!0),_e!==Y&&te.ended&&F(this)),Se!==null&&this.emit("data",Se),Se};function Q(Y,te){if(u("onEofChunk"),!te.ended){if(te.decoder){var _e=te.decoder.end();_e&&_e.length&&(te.buffer.push(_e),te.length+=te.objectMode?1:_e.length)}te.ended=!0,te.sync?X(Y):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,fe(Y)))}}function X(Y){var te=Y._readableState;u("emitReadable",te.needReadable,te.emittedReadable),te.needReadable=!1,te.emittedReadable||(u("emitReadable",te.flowing),te.emittedReadable=!0,Ct.nextTick(fe,Y))}function fe(Y){var te=Y._readableState;u("emitReadable_",te.destroyed,te.length,te.ended),!te.destroyed&&(te.length||te.ended)&&(Y.emit("readable"),te.emittedReadable=!1),te.needReadable=!te.flowing&&!te.ended&&te.length<=te.highWaterMark,ue(Y)}function de(Y,te){te.readingMore||(te.readingMore=!0,Ct.nextTick(ee,Y,te))}function ee(Y,te){for(;!te.reading&&!te.ended&&(te.length<te.highWaterMark||te.flowing&&te.length===0);){var _e=te.length;if(u("maybeReadMore read 0"),Y.read(0),_e===te.length)break}te.readingMore=!1}C.prototype._read=function(Y){D(this,new E("_read()"))},C.prototype.pipe=function(Y,te){var _e=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=Y;break;case 1:U.pipes=[U.pipes,Y];break;default:U.pipes.push(Y);break}U.pipesCount+=1,u("pipe count=%d opts=%j",U.pipesCount,te);var Se=(!te||te.end!==!1)&&Y!==Ct.stdout&&Y!==Ct.stderr,H=Se?I:He;U.endEmitted?Ct.nextTick(H):_e.once("end",H),Y.on("unpipe",k);function k(Ge,it){u("onunpipe"),Ge===_e&&it&&it.hasUnpiped===!1&&(it.hasUnpiped=!0,ge())}function I(){u("onend"),Y.end()}var z=J(_e);Y.on("drain",z);var se=!1;function ge(){u("cleanup"),Y.removeListener("close",Pe),Y.removeListener("finish",Oe),Y.removeListener("drain",z),Y.removeListener("error",De),Y.removeListener("unpipe",k),_e.removeListener("end",I),_e.removeListener("end",He),_e.removeListener("data",le),se=!0,U.awaitDrain&&(!Y._writableState||Y._writableState.needDrain)&&z()}_e.on("data",le);function le(Ge){u("ondata");var it=Y.write(Ge);u("dest.write",it),it===!1&&((U.pipesCount===1&&U.pipes===Y||U.pipesCount>1&&ie(U.pipes,Y)!==-1)&&!se&&(u("false write response, pause",U.awaitDrain),U.awaitDrain++),_e.pause())}function De(Ge){u("onerror",Ge),He(),Y.removeListener("error",De),e(Y,"error")===0&&D(Y,Ge)}N(Y,"error",De);function Pe(){Y.removeListener("finish",Oe),He()}Y.once("close",Pe);function Oe(){u("onfinish"),Y.removeListener("close",Pe),He()}Y.once("finish",Oe);function He(){u("unpipe"),_e.unpipe(Y)}return Y.emit("pipe",_e),U.flowing||(u("pipe resume"),_e.resume()),Y};function J(Y){return function(){var _e=Y._readableState;u("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&e(Y,"data")&&(_e.flowing=!0,ue(Y))}}C.prototype.unpipe=function(Y){var te=this._readableState,_e={hasUnpiped:!1};if(te.pipesCount===0)return this;if(te.pipesCount===1)return Y&&Y!==te.pipes?this:(Y||(Y=te.pipes),te.pipes=null,te.pipesCount=0,te.flowing=!1,Y&&Y.emit("unpipe",this,_e),this);if(!Y){var U=te.pipes,Se=te.pipesCount;te.pipes=null,te.pipesCount=0,te.flowing=!1;for(var H=0;H<Se;H++)U[H].emit("unpipe",this,{hasUnpiped:!1});return this}var k=ie(te.pipes,Y);return k===-1?this:(te.pipes.splice(k,1),te.pipesCount-=1,te.pipesCount===1&&(te.pipes=te.pipes[0]),Y.emit("unpipe",this,_e),this)},C.prototype.on=function(Y,te){var _e=t.prototype.on.call(this,Y,te),U=this._readableState;return Y==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):Y==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,u("on readable",U.length,U.reading),U.length?X(this):U.reading||Ct.nextTick(re,this)),_e},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(Y,te){var _e=t.prototype.removeListener.call(this,Y,te);return Y==="readable"&&Ct.nextTick(K,this),_e},C.prototype.removeAllListeners=function(Y){var te=t.prototype.removeAllListeners.apply(this,arguments);return(Y==="readable"||Y===void 0)&&Ct.nextTick(K,this),te};function K(Y){var te=Y._readableState;te.readableListening=Y.listenerCount("readable")>0,te.resumeScheduled&&!te.paused?te.flowing=!0:Y.listenerCount("data")>0&&Y.resume()}function re(Y){u("readable nexttick read 0"),Y.read(0)}C.prototype.resume=function(){var Y=this._readableState;return Y.flowing||(u("resume"),Y.flowing=!Y.readableListening,he(this,Y)),Y.paused=!1,this};function he(Y,te){te.resumeScheduled||(te.resumeScheduled=!0,Ct.nextTick(ve,Y,te))}function ve(Y,te){u("resume",te.reading),te.reading||Y.read(0),te.resumeScheduled=!1,Y.emit("resume"),ue(Y),te.flowing&&!te.reading&&Y.read(0)}C.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ue(Y){var te=Y._readableState;for(u("flow",te.flowing);te.flowing&&Y.read()!==null;);}C.prototype.wrap=function(Y){var te=this,_e=this._readableState,U=!1;Y.on("end",function(){if(u("wrapped end"),_e.decoder&&!_e.ended){var k=_e.decoder.end();k&&k.length&&te.push(k)}te.push(null)}),Y.on("data",function(k){if(u("wrapped data"),_e.decoder&&(k=_e.decoder.write(k)),!(_e.objectMode&&k==null)&&!(!_e.objectMode&&(!k||!k.length))){var I=te.push(k);I||(U=!0,Y.pause())}});for(var Se in Y)this[Se]===void 0&&typeof Y[Se]=="function"&&(this[Se]=function(I){return function(){return Y[I].apply(Y,arguments)}}(Se));for(var H=0;H<P.length;H++)Y.on(P[H],this.emit.bind(this,P[H]));return this._read=function(k){u("wrapped _read",k),U&&(U=!1,Y.resume())},this},typeof Symbol=="function"&&(C.prototype[Symbol.asyncIterator]=function(){return T===void 0&&(T=aoe()),T(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(te){this._readableState&&(this._readableState.flowing=te)}}),C._fromList=j,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function j(Y,te){if(te.length===0)return null;var _e;return te.objectMode?_e=te.buffer.shift():!Y||Y>=te.length?(te.decoder?_e=te.buffer.join(""):te.buffer.length===1?_e=te.buffer.first():_e=te.buffer.concat(te.length),te.buffer.clear()):_e=te.buffer.consume(Y,te.decoder),_e}function F(Y){var te=Y._readableState;u("endReadable",te.endEmitted),te.endEmitted||(te.ended=!0,Ct.nextTick(ce,te,Y))}function ce(Y,te){if(u("endReadableNT",Y.endEmitted,Y.length),!Y.endEmitted&&Y.length===0&&(Y.endEmitted=!0,te.readable=!1,te.emit("end"),Y.autoDestroy)){var _e=te._writableState;(!_e||_e.autoDestroy&&_e.finished)&&te.destroy()}}typeof Symbol=="function"&&(C.from=function(Y,te){return x===void 0&&(x=loe()),x(C,Y,te)});function ie(Y,te){for(var _e=0,U=Y.length;_e<U;_e++)if(Y[_e]===te)return _e;return-1}return uE}var cE,m4;function PF(){if(m4)return cE;m4=1,cE=l;var r=Uf().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=r.ERR_TRANSFORM_WITH_LENGTH_0,s=Ef();ou()(l,s);function o(f,p){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new t);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),y(f);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){h(f,p,g)}):h(this,null,null)}l.prototype.push=function(f,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,p)},l.prototype._transform=function(f,p,g){g(new e("_transform()"))},l.prototype._write=function(f,p,g){var y=this._transformState;if(y.writecb=g,y.writechunk=f,y.writeencoding=p,!y.transforming){var _=this._readableState;(y.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},l.prototype._read=function(f){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},l.prototype._destroy=function(f,p){s.prototype._destroy.call(this,f,function(g){p(g)})};function h(f,p,g){if(p)return f.emit("error",p);if(g!=null&&f.push(g),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return cE}var hE,g4;function uoe(){if(g4)return hE;g4=1,hE=e;var r=PF();ou()(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,i){i(null,t)},hE}var fE,y4;function coe(){if(y4)return fE;y4=1;var r;function e(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var t=Uf().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,y,_,w){w=e(w);var E=!1;g.on("close",function(){E=!0}),r===void 0&&(r=QC()),r(g,{readable:y,writable:_},function(A){if(A)return w(A);E=!0,w()});var b=!1;return function(A){if(!E&&!b){if(b=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();w(A||new i("pipe"))}}}function u(g){g()}function h(g,y){return g.pipe(y)}function f(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function p(){for(var g=arguments.length,y=new Array(g),_=0;_<g;_++)y[_]=arguments[_];var w=f(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var E,b=y.map(function(A,T){var x=T<y.length-1,D=T>0;return l(A,x,D,function(P){E||(E=P),P&&b.forEach(u),!x&&(b.forEach(u),w(E))})});return y.reduce(h)}return fE=p,fE}var dE,v4;function ZC(){if(v4)return dE;v4=1,dE=t;var r=KC().EventEmitter,e=ou();e(t,r),t.Readable=MF(),t.Writable=NF(),t.Duplex=Ef(),t.Transform=PF(),t.PassThrough=uoe(),t.finished=QC(),t.pipeline=coe(),t.Stream=t;function t(){r.call(this)}return t.prototype.pipe=function(n,i){var s=this;function o(y){n.writable&&n.write(y)===!1&&s.pause&&s.pause()}s.on("data",o);function l(){s.readable&&s.resume&&s.resume()}n.on("drain",l),!n._isStdio&&(!i||i.end!==!1)&&(s.on("end",h),s.on("close",f));var u=!1;function h(){u||(u=!0,n.end())}function f(){u||(u=!0,typeof n.destroy=="function"&&n.destroy())}function p(y){if(g(),r.listenerCount(this,"error")===0)throw y}s.on("error",p),n.on("error",p);function g(){s.removeListener("data",o),n.removeListener("drain",l),s.removeListener("end",h),s.removeListener("close",f),s.removeListener("error",p),n.removeListener("error",p),s.removeListener("end",g),s.removeListener("close",g),n.removeListener("close",g)}return s.on("end",g),s.on("close",g),n.on("close",g),n.emit("pipe",s),n},dE}var w4;function hoe(){return w4||(w4=1,function(r){(function(e){e.parser=function(j,F){return new n(j,F)},e.SAXParser=n,e.SAXStream=f,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(j,F){if(!(this instanceof n))return new n(j,F);var ce=this;s(ce),ce.q=ce.c="",ce.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ce.opt=F||{},ce.opt.lowercase=ce.opt.lowercase||ce.opt.lowercasetags,ce.looseCase=ce.opt.lowercase?"toLowerCase":"toUpperCase",ce.tags=[],ce.closed=ce.closedRoot=ce.sawRoot=!1,ce.tag=ce.error=null,ce.strict=!!j,ce.noscript=!!(j||ce.opt.noscript),ce.state=C.BEGIN,ce.strictEntities=ce.opt.strictEntities,ce.ENTITIES=ce.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ce.attribList=[],ce.opt.xmlns&&(ce.ns=Object.create(w)),ce.trackPosition=ce.opt.position!==!1,ce.trackPosition&&(ce.position=ce.line=ce.column=0),$(ce,"onready")}Object.create||(Object.create=function(j){function F(){}F.prototype=j;var ce=new F;return ce}),Object.keys||(Object.keys=function(j){var F=[];for(var ce in j)j.hasOwnProperty(ce)&&F.push(ce);return F});function i(j){for(var F=Math.max(e.MAX_BUFFER_LENGTH,10),ce=0,ie=0,Y=t.length;ie<Y;ie++){var te=j[t[ie]].length;if(te>F)switch(t[ie]){case"textNode":V(j);break;case"cdata":M(j,"oncdata",j.cdata),j.cdata="";break;case"script":M(j,"onscript",j.script),j.script="";break;default:oe(j,"Max buffer length exceeded: "+t[ie])}ce=Math.max(ce,te)}var _e=e.MAX_BUFFER_LENGTH-ce;j.bufferCheckPosition=_e+j.position}function s(j){for(var F=0,ce=t.length;F<ce;F++)j[t[F]]=""}function o(j){V(j),j.cdata!==""&&(M(j,"oncdata",j.cdata),j.cdata=""),j.script!==""&&(M(j,"onscript",j.script),j.script="")}n.prototype={end:function(){Q(this)},write:ue,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var l;try{l=ZC().Stream}catch{l=function(){}}var u=e.EVENTS.filter(function(j){return j!=="error"&&j!=="end"});function h(j,F){return new f(j,F)}function f(j,F){if(!(this instanceof f))return new f(j,F);l.apply(this),this._parser=new n(j,F),this.writable=!0,this.readable=!0;var ce=this;this._parser.onend=function(){ce.emit("end")},this._parser.onerror=function(ie){ce.emit("error",ie),ce._parser.error=null},this._decoder=null,u.forEach(function(ie){Object.defineProperty(ce,"on"+ie,{get:function(){return ce._parser["on"+ie]},set:function(Y){if(!Y)return ce.removeAllListeners(ie),ce._parser["on"+ie]=Y,Y;ce.on(ie,Y)},enumerable:!0,configurable:!1})})}f.prototype=Object.create(l.prototype,{constructor:{value:f}}),f.prototype.write=function(j){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(j)){if(!this._decoder){var F=HT().StringDecoder;this._decoder=new F("utf8")}j=this._decoder.write(j)}return this._parser.write(j.toString()),this.emit("data",j),!0},f.prototype.end=function(j){return j&&j.length&&this.write(j),this._parser.end(),!0},f.prototype.on=function(j,F){var ce=this;return!ce._parser["on"+j]&&u.indexOf(j)!==-1&&(ce._parser["on"+j]=function(){var ie=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ie.splice(0,0,j),ce.emit.apply(ce,ie)}),l.prototype.on.call(ce,j,F)};var p="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",_="http://www.w3.org/2000/xmlns/",w={xml:y,xmlns:_},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,T=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function x(j){return j===" "||j===`
`||j==="\r"||j==="	"}function D(j){return j==='"'||j==="'"}function P(j){return j===">"||x(j)}function N(j,F){return j.test(F)}function O(j,F){return!N(j,F)}var C=0;e.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(j){var F=e.ENTITIES[j],ce=typeof F=="number"?String.fromCharCode(F):F;e.ENTITIES[j]=ce});for(var q in e.STATE)e.STATE[e.STATE[q]]=q;C=e.STATE;function $(j,F,ce){j[F]&&j[F](ce)}function M(j,F,ce){j.textNode&&V(j),$(j,F,ce)}function V(j){j.textNode=B(j.opt,j.textNode),j.textNode&&$(j,"ontext",j.textNode),j.textNode=""}function B(j,F){return j.trim&&(F=F.trim()),j.normalize&&(F=F.replace(/\s+/g," ")),F}function oe(j,F){return V(j),j.trackPosition&&(F+=`
Line: `+j.line+`
Column: `+j.column+`
Char: `+j.c),F=new Error(F),j.error=F,$(j,"onerror",F),j}function Q(j){return j.sawRoot&&!j.closedRoot&&X(j,"Unclosed root tag"),j.state!==C.BEGIN&&j.state!==C.BEGIN_WHITESPACE&&j.state!==C.TEXT&&oe(j,"Unexpected end"),V(j),j.c="",j.closed=!0,$(j,"onend"),n.call(j,j.strict,j.opt),j}function X(j,F){if(typeof j!="object"||!(j instanceof n))throw new Error("bad call to strictFail");j.strict&&oe(j,F)}function fe(j){j.strict||(j.tagName=j.tagName[j.looseCase]());var F=j.tags[j.tags.length-1]||j,ce=j.tag={name:j.tagName,attributes:{}};j.opt.xmlns&&(ce.ns=F.ns),j.attribList.length=0,M(j,"onopentagstart",ce)}function de(j,F){var ce=j.indexOf(":"),ie=ce<0?["",j]:j.split(":"),Y=ie[0],te=ie[1];return F&&j==="xmlns"&&(Y="xmlns",te=""),{prefix:Y,local:te}}function ee(j){if(j.strict||(j.attribName=j.attribName[j.looseCase]()),j.attribList.indexOf(j.attribName)!==-1||j.tag.attributes.hasOwnProperty(j.attribName)){j.attribName=j.attribValue="";return}if(j.opt.xmlns){var F=de(j.attribName,!0),ce=F.prefix,ie=F.local;if(ce==="xmlns")if(ie==="xml"&&j.attribValue!==y)X(j,"xml: prefix must be bound to "+y+`
Actual: `+j.attribValue);else if(ie==="xmlns"&&j.attribValue!==_)X(j,"xmlns: prefix must be bound to "+_+`
Actual: `+j.attribValue);else{var Y=j.tag,te=j.tags[j.tags.length-1]||j;Y.ns===te.ns&&(Y.ns=Object.create(te.ns)),Y.ns[ie]=j.attribValue}j.attribList.push([j.attribName,j.attribValue])}else j.tag.attributes[j.attribName]=j.attribValue,M(j,"onattribute",{name:j.attribName,value:j.attribValue});j.attribName=j.attribValue=""}function J(j,F){if(j.opt.xmlns){var ce=j.tag,ie=de(j.tagName);ce.prefix=ie.prefix,ce.local=ie.local,ce.uri=ce.ns[ie.prefix]||"",ce.prefix&&!ce.uri&&(X(j,"Unbound namespace prefix: "+JSON.stringify(j.tagName)),ce.uri=ie.prefix);var Y=j.tags[j.tags.length-1]||j;ce.ns&&Y.ns!==ce.ns&&Object.keys(ce.ns).forEach(function(le){M(j,"onopennamespace",{prefix:le,uri:ce.ns[le]})});for(var te=0,_e=j.attribList.length;te<_e;te++){var U=j.attribList[te],Se=U[0],H=U[1],k=de(Se,!0),I=k.prefix,z=k.local,se=I===""?"":ce.ns[I]||"",ge={name:Se,value:H,prefix:I,local:z,uri:se};I&&I!=="xmlns"&&!se&&(X(j,"Unbound namespace prefix: "+JSON.stringify(I)),ge.uri=I),j.tag.attributes[Se]=ge,M(j,"onattribute",ge)}j.attribList.length=0}j.tag.isSelfClosing=!!F,j.sawRoot=!0,j.tags.push(j.tag),M(j,"onopentag",j.tag),F||(!j.noscript&&j.tagName.toLowerCase()==="script"?j.state=C.SCRIPT:j.state=C.TEXT,j.tag=null,j.tagName=""),j.attribName=j.attribValue="",j.attribList.length=0}function K(j){if(!j.tagName){X(j,"Weird empty close tag."),j.textNode+="</>",j.state=C.TEXT;return}if(j.script){if(j.tagName!=="script"){j.script+="</"+j.tagName+">",j.tagName="",j.state=C.SCRIPT;return}M(j,"onscript",j.script),j.script=""}var F=j.tags.length,ce=j.tagName;j.strict||(ce=ce[j.looseCase]());for(var ie=ce;F--;){var Y=j.tags[F];if(Y.name!==ie)X(j,"Unexpected close tag");else break}if(F<0){X(j,"Unmatched closing tag: "+j.tagName),j.textNode+="</"+j.tagName+">",j.state=C.TEXT;return}j.tagName=ce;for(var te=j.tags.length;te-- >F;){var _e=j.tag=j.tags.pop();j.tagName=j.tag.name,M(j,"onclosetag",j.tagName);var U={};for(var Se in _e.ns)U[Se]=_e.ns[Se];var H=j.tags[j.tags.length-1]||j;j.opt.xmlns&&_e.ns!==H.ns&&Object.keys(_e.ns).forEach(function(k){var I=_e.ns[k];M(j,"onclosenamespace",{prefix:k,uri:I})})}F===0&&(j.closedRoot=!0),j.tagName=j.attribValue=j.attribName="",j.attribList.length=0,j.state=C.TEXT}function re(j){var F=j.entity,ce=F.toLowerCase(),ie,Y="";return j.ENTITIES[F]?j.ENTITIES[F]:j.ENTITIES[ce]?j.ENTITIES[ce]:(F=ce,F.charAt(0)==="#"&&(F.charAt(1)==="x"?(F=F.slice(2),ie=parseInt(F,16),Y=ie.toString(16)):(F=F.slice(1),ie=parseInt(F,10),Y=ie.toString(10))),F=F.replace(/^0+/,""),isNaN(ie)||Y.toLowerCase()!==F?(X(j,"Invalid character entity"),"&"+j.entity+";"):String.fromCodePoint(ie))}function he(j,F){F==="<"?(j.state=C.OPEN_WAKA,j.startTagPosition=j.position):x(F)||(X(j,"Non-whitespace before first tag."),j.textNode=F,j.state=C.TEXT)}function ve(j,F){var ce="";return F<j.length&&(ce=j.charAt(F)),ce}function ue(j){var F=this;if(this.error)throw this.error;if(F.closed)return oe(F,"Cannot write after close. Assign an onready handler.");if(j===null)return Q(F);typeof j=="object"&&(j=j.toString());for(var ce=0,ie="";ie=ve(j,ce++),F.c=ie,!!ie;)switch(F.trackPosition&&(F.position++,ie===`
`?(F.line++,F.column=0):F.column++),F.state){case C.BEGIN:if(F.state=C.BEGIN_WHITESPACE,ie==="\uFEFF")continue;he(F,ie);continue;case C.BEGIN_WHITESPACE:he(F,ie);continue;case C.TEXT:if(F.sawRoot&&!F.closedRoot){for(var Y=ce-1;ie&&ie!=="<"&&ie!=="&";)ie=ve(j,ce++),ie&&F.trackPosition&&(F.position++,ie===`
`?(F.line++,F.column=0):F.column++);F.textNode+=j.substring(Y,ce-1)}ie==="<"&&!(F.sawRoot&&F.closedRoot&&!F.strict)?(F.state=C.OPEN_WAKA,F.startTagPosition=F.position):(!x(ie)&&(!F.sawRoot||F.closedRoot)&&X(F,"Text data outside of root node."),ie==="&"?F.state=C.TEXT_ENTITY:F.textNode+=ie);continue;case C.SCRIPT:ie==="<"?F.state=C.SCRIPT_ENDING:F.script+=ie;continue;case C.SCRIPT_ENDING:ie==="/"?F.state=C.CLOSE_TAG:(F.script+="<"+ie,F.state=C.SCRIPT);continue;case C.OPEN_WAKA:if(ie==="!")F.state=C.SGML_DECL,F.sgmlDecl="";else if(!x(ie))if(N(E,ie))F.state=C.OPEN_TAG,F.tagName=ie;else if(ie==="/")F.state=C.CLOSE_TAG,F.tagName="";else if(ie==="?")F.state=C.PROC_INST,F.procInstName=F.procInstBody="";else{if(X(F,"Unencoded <"),F.startTagPosition+1<F.position){var te=F.position-F.startTagPosition;ie=new Array(te).join(" ")+ie}F.textNode+="<"+ie,F.state=C.TEXT}continue;case C.SGML_DECL:(F.sgmlDecl+ie).toUpperCase()===p?(M(F,"onopencdata"),F.state=C.CDATA,F.sgmlDecl="",F.cdata=""):F.sgmlDecl+ie==="--"?(F.state=C.COMMENT,F.comment="",F.sgmlDecl=""):(F.sgmlDecl+ie).toUpperCase()===g?(F.state=C.DOCTYPE,(F.doctype||F.sawRoot)&&X(F,"Inappropriately located doctype declaration"),F.doctype="",F.sgmlDecl=""):ie===">"?(M(F,"onsgmldeclaration",F.sgmlDecl),F.sgmlDecl="",F.state=C.TEXT):(D(ie)&&(F.state=C.SGML_DECL_QUOTED),F.sgmlDecl+=ie);continue;case C.SGML_DECL_QUOTED:ie===F.q&&(F.state=C.SGML_DECL,F.q=""),F.sgmlDecl+=ie;continue;case C.DOCTYPE:ie===">"?(F.state=C.TEXT,M(F,"ondoctype",F.doctype),F.doctype=!0):(F.doctype+=ie,ie==="["?F.state=C.DOCTYPE_DTD:D(ie)&&(F.state=C.DOCTYPE_QUOTED,F.q=ie));continue;case C.DOCTYPE_QUOTED:F.doctype+=ie,ie===F.q&&(F.q="",F.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:F.doctype+=ie,ie==="]"?F.state=C.DOCTYPE:D(ie)&&(F.state=C.DOCTYPE_DTD_QUOTED,F.q=ie);continue;case C.DOCTYPE_DTD_QUOTED:F.doctype+=ie,ie===F.q&&(F.state=C.DOCTYPE_DTD,F.q="");continue;case C.COMMENT:ie==="-"?F.state=C.COMMENT_ENDING:F.comment+=ie;continue;case C.COMMENT_ENDING:ie==="-"?(F.state=C.COMMENT_ENDED,F.comment=B(F.opt,F.comment),F.comment&&M(F,"oncomment",F.comment),F.comment=""):(F.comment+="-"+ie,F.state=C.COMMENT);continue;case C.COMMENT_ENDED:ie!==">"?(X(F,"Malformed comment"),F.comment+="--"+ie,F.state=C.COMMENT):F.state=C.TEXT;continue;case C.CDATA:ie==="]"?F.state=C.CDATA_ENDING:F.cdata+=ie;continue;case C.CDATA_ENDING:ie==="]"?F.state=C.CDATA_ENDING_2:(F.cdata+="]"+ie,F.state=C.CDATA);continue;case C.CDATA_ENDING_2:ie===">"?(F.cdata&&M(F,"oncdata",F.cdata),M(F,"onclosecdata"),F.cdata="",F.state=C.TEXT):ie==="]"?F.cdata+="]":(F.cdata+="]]"+ie,F.state=C.CDATA);continue;case C.PROC_INST:ie==="?"?F.state=C.PROC_INST_ENDING:x(ie)?F.state=C.PROC_INST_BODY:F.procInstName+=ie;continue;case C.PROC_INST_BODY:if(!F.procInstBody&&x(ie))continue;ie==="?"?F.state=C.PROC_INST_ENDING:F.procInstBody+=ie;continue;case C.PROC_INST_ENDING:ie===">"?(M(F,"onprocessinginstruction",{name:F.procInstName,body:F.procInstBody}),F.procInstName=F.procInstBody="",F.state=C.TEXT):(F.procInstBody+="?"+ie,F.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:N(b,ie)?F.tagName+=ie:(fe(F),ie===">"?J(F):ie==="/"?F.state=C.OPEN_TAG_SLASH:(x(ie)||X(F,"Invalid character in tag name"),F.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:ie===">"?(J(F,!0),K(F)):(X(F,"Forward-slash in opening tag not followed by >"),F.state=C.ATTRIB);continue;case C.ATTRIB:if(x(ie))continue;ie===">"?J(F):ie==="/"?F.state=C.OPEN_TAG_SLASH:N(E,ie)?(F.attribName=ie,F.attribValue="",F.state=C.ATTRIB_NAME):X(F,"Invalid attribute name");continue;case C.ATTRIB_NAME:ie==="="?F.state=C.ATTRIB_VALUE:ie===">"?(X(F,"Attribute without value"),F.attribValue=F.attribName,ee(F),J(F)):x(ie)?F.state=C.ATTRIB_NAME_SAW_WHITE:N(b,ie)?F.attribName+=ie:X(F,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if(ie==="=")F.state=C.ATTRIB_VALUE;else{if(x(ie))continue;X(F,"Attribute without value"),F.tag.attributes[F.attribName]="",F.attribValue="",M(F,"onattribute",{name:F.attribName,value:""}),F.attribName="",ie===">"?J(F):N(E,ie)?(F.attribName=ie,F.state=C.ATTRIB_NAME):(X(F,"Invalid attribute name"),F.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(x(ie))continue;D(ie)?(F.q=ie,F.state=C.ATTRIB_VALUE_QUOTED):(X(F,"Unquoted attribute value"),F.state=C.ATTRIB_VALUE_UNQUOTED,F.attribValue=ie);continue;case C.ATTRIB_VALUE_QUOTED:if(ie!==F.q){ie==="&"?F.state=C.ATTRIB_VALUE_ENTITY_Q:F.attribValue+=ie;continue}ee(F),F.q="",F.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:x(ie)?F.state=C.ATTRIB:ie===">"?J(F):ie==="/"?F.state=C.OPEN_TAG_SLASH:N(E,ie)?(X(F,"No whitespace between attributes"),F.attribName=ie,F.attribValue="",F.state=C.ATTRIB_NAME):X(F,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!P(ie)){ie==="&"?F.state=C.ATTRIB_VALUE_ENTITY_U:F.attribValue+=ie;continue}ee(F),ie===">"?J(F):F.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(F.tagName)ie===">"?K(F):N(b,ie)?F.tagName+=ie:F.script?(F.script+="</"+F.tagName,F.tagName="",F.state=C.SCRIPT):(x(ie)||X(F,"Invalid tagname in closing tag"),F.state=C.CLOSE_TAG_SAW_WHITE);else{if(x(ie))continue;O(E,ie)?F.script?(F.script+="</"+ie,F.state=C.SCRIPT):X(F,"Invalid tagname in closing tag."):F.tagName=ie}continue;case C.CLOSE_TAG_SAW_WHITE:if(x(ie))continue;ie===">"?K(F):X(F,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:var _e,U;switch(F.state){case C.TEXT_ENTITY:_e=C.TEXT,U="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:_e=C.ATTRIB_VALUE_QUOTED,U="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:_e=C.ATTRIB_VALUE_UNQUOTED,U="attribValue";break}ie===";"?(F[U]+=re(F),F.entity="",F.state=_e):N(F.entity.length?T:A,ie)?F.entity+=ie:(X(F,"Invalid character in entity name"),F[U]+="&"+F.entity+ie,F.entity="",F.state=_e);continue;default:throw new Error(F,"Unknown state: "+F.state)}return F.position>=F.bufferCheckPosition&&i(F),F}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var j=String.fromCharCode,F=Math.floor,ce=function(){var ie=16384,Y=[],te,_e,U=-1,Se=arguments.length;if(!Se)return"";for(var H="";++U<Se;){var k=Number(arguments[U]);if(!isFinite(k)||k<0||k>1114111||F(k)!==k)throw RangeError("Invalid code point: "+k);k<=65535?Y.push(k):(k-=65536,te=(k>>10)+55296,_e=k%1024+56320,Y.push(te,_e)),(U+1===Se||Y.length>ie)&&(H+=j.apply(null,Y),Y.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ce,configurable:!0,writable:!0}):String.fromCodePoint=ce}()})(r)}(Zb)),Zb}var pE,_4;function JC(){return _4||(_4=1,pE={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}}),pE}var mE,b4;function eR(){if(b4)return mE;b4=1;var r=JC().isArray;return mE={copyOptions:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!r(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},mE}var gE,S4;function LF(){if(S4)return gE;S4=1;var r=hoe(),e=eR(),t=JC().isArray,n,i;function s(b){return n=e.copyOptions(b),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(b){var A=Number(b);if(!isNaN(A))return A;var T=b.toLowerCase();return T==="true"?!0:T==="false"?!1:b}function l(b,A){var T;if(n.compact){if(!i[n[b+"Key"]]&&(t(n.alwaysArray)?n.alwaysArray.indexOf(n[b+"Key"])!==-1:n.alwaysArray)&&(i[n[b+"Key"]]=[]),i[n[b+"Key"]]&&!t(i[n[b+"Key"]])&&(i[n[b+"Key"]]=[i[n[b+"Key"]]]),b+"Fn"in n&&typeof A=="string"&&(A=n[b+"Fn"](A,i)),b==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(T in A)if(A.hasOwnProperty(T))if("instructionFn"in n)A[T]=n.instructionFn(A[T],T,i);else{var x=A[T];delete A[T],A[n.instructionNameFn(T,x,i)]=x}}t(i[n[b+"Key"]])?i[n[b+"Key"]].push(A):i[n[b+"Key"]]=A}else{i[n.elementsKey]||(i[n.elementsKey]=[]);var D={};if(D[n.typeKey]=b,b==="instruction"){for(T in A)if(A.hasOwnProperty(T))break;D[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(T,A,i):T,n.instructionHasAttributes?(D[n.attributesKey]=A[T][n.attributesKey],"instructionFn"in n&&(D[n.attributesKey]=n.instructionFn(D[n.attributesKey],T,i))):("instructionFn"in n&&(A[T]=n.instructionFn(A[T],T,i)),D[n.instructionKey]=A[T])}else b+"Fn"in n&&(A=n[b+"Fn"](A,i)),D[n[b+"Key"]]=A;n.addParent&&(D[n.parentKey]=i),i[n.elementsKey].push(D)}}function u(b){if("attributesFn"in n&&b&&(b=n.attributesFn(b,i)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&b){var A;for(A in b)if(b.hasOwnProperty(A)&&(n.trim&&(b[A]=b[A].trim()),n.nativeTypeAttributes&&(b[A]=o(b[A])),"attributeValueFn"in n&&(b[A]=n.attributeValueFn(b[A],A,i)),"attributeNameFn"in n)){var T=b[A];delete b[A],b[n.attributeNameFn(A,b[A],i)]=T}}return b}function h(b){var A={};if(b.body&&(b.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var T=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,x;(x=T.exec(b.body))!==null;)A[x[1]]=x[2]||x[3]||x[4];A=u(A)}if(b.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;i[n.declarationKey]={},Object.keys(A).length&&(i[n.declarationKey][n.attributesKey]=A),n.addParent&&(i[n.declarationKey][n.parentKey]=i)}else{if(n.ignoreInstruction)return;n.trim&&(b.body=b.body.trim());var D={};n.instructionHasAttributes&&Object.keys(A).length?(D[b.name]={},D[b.name][n.attributesKey]=A):D[b.name]=b.body,l("instruction",D)}}function f(b,A){var T;if(typeof b=="object"&&(A=b.attributes,b=b.name),A=u(A),"elementNameFn"in n&&(b=n.elementNameFn(b,i)),n.compact){if(T={},!n.ignoreAttributes&&A&&Object.keys(A).length){T[n.attributesKey]={};var x;for(x in A)A.hasOwnProperty(x)&&(T[n.attributesKey][x]=A[x])}!(b in i)&&(t(n.alwaysArray)?n.alwaysArray.indexOf(b)!==-1:n.alwaysArray)&&(i[b]=[]),i[b]&&!t(i[b])&&(i[b]=[i[b]]),t(i[b])?i[b].push(T):i[b]=T}else i[n.elementsKey]||(i[n.elementsKey]=[]),T={},T[n.typeKey]="element",T[n.nameKey]=b,!n.ignoreAttributes&&A&&Object.keys(A).length&&(T[n.attributesKey]=A),n.alwaysChildren&&(T[n.elementsKey]=[]),i[n.elementsKey].push(T);T[n.parentKey]=i,i=T}function p(b){n.ignoreText||!b.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(b=b.trim()),n.nativeType&&(b=o(b)),n.sanitize&&(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),l("text",b))}function g(b){n.ignoreComment||(n.trim&&(b=b.trim()),l("comment",b))}function y(b){var A=i[n.parentKey];n.addParent||delete i[n.parentKey],i=A}function _(b){n.ignoreCdata||(n.trim&&(b=b.trim()),l("cdata",b))}function w(b){n.ignoreDoctype||(b=b.replace(/^ /,""),n.trim&&(b=b.trim()),l("doctype",b))}function E(b){b.note=b}return gE=function(b,A){var T=r.parser(!0,{}),x={};if(i=x,n=s(A),T.opt={strictEntities:!0},T.onopentag=f,T.ontext=p,T.oncomment=g,T.onclosetag=y,T.onerror=E,T.oncdata=_,T.ondoctype=w,T.onprocessinginstruction=h,T.write(b).close(),x[n.elementsKey]){var D=x[n.elementsKey];delete x[n.elementsKey],x[n.elementsKey]=D,delete x.text}return x},gE}var yE,E4;function foe(){if(E4)return yE;E4=1;var r=eR(),e=LF();function t(n){var i=r.copyOptions(n);return r.ensureSpacesExists(i),i}return yE=function(n,i){var s,o,l,u;return s=t(i),o=e(n,s),u="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?l=JSON.stringify(o,function(h,f){return h===u?"_":f},s.spaces):l=JSON.stringify(o,null,s.spaces),l.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},yE}var vE,x4;function BF(){if(x4)return vE;x4=1;var r=eR(),e=JC().isArray,t,n;function i(T){var x=r.copyOptions(T);return r.ensureFlagExists("ignoreDeclaration",x),r.ensureFlagExists("ignoreInstruction",x),r.ensureFlagExists("ignoreAttributes",x),r.ensureFlagExists("ignoreText",x),r.ensureFlagExists("ignoreComment",x),r.ensureFlagExists("ignoreCdata",x),r.ensureFlagExists("ignoreDoctype",x),r.ensureFlagExists("compact",x),r.ensureFlagExists("indentText",x),r.ensureFlagExists("indentCdata",x),r.ensureFlagExists("indentAttributes",x),r.ensureFlagExists("indentInstruction",x),r.ensureFlagExists("fullTagEmptyElement",x),r.ensureFlagExists("noQuotesForNativeAttributes",x),r.ensureSpacesExists(x),typeof x.spaces=="number"&&(x.spaces=Array(x.spaces+1).join(" ")),r.ensureKeyExists("declaration",x),r.ensureKeyExists("instruction",x),r.ensureKeyExists("attributes",x),r.ensureKeyExists("text",x),r.ensureKeyExists("comment",x),r.ensureKeyExists("cdata",x),r.ensureKeyExists("doctype",x),r.ensureKeyExists("type",x),r.ensureKeyExists("name",x),r.ensureKeyExists("elements",x),r.checkFnExists("doctype",x),r.checkFnExists("instruction",x),r.checkFnExists("cdata",x),r.checkFnExists("comment",x),r.checkFnExists("text",x),r.checkFnExists("instructionName",x),r.checkFnExists("elementName",x),r.checkFnExists("attributeName",x),r.checkFnExists("attributeValue",x),r.checkFnExists("attributes",x),r.checkFnExists("fullTagEmptyElement",x),x}function s(T,x,D){return(!D&&T.spaces?`
`:"")+Array(x+1).join(T.spaces)}function o(T,x,D){if(x.ignoreAttributes)return"";"attributesFn"in x&&(T=x.attributesFn(T,n,t));var P,N,O,C,q=[];for(P in T)T.hasOwnProperty(P)&&T[P]!==null&&T[P]!==void 0&&(C=x.noQuotesForNativeAttributes&&typeof T[P]!="string"?"":'"',N=""+T[P],N=N.replace(/"/g,"&quot;"),O="attributeNameFn"in x?x.attributeNameFn(P,N,n,t):P,q.push(x.spaces&&x.indentAttributes?s(x,D+1,!1):" "),q.push(O+"="+C+("attributeValueFn"in x?x.attributeValueFn(N,P,n,t):N)+C));return T&&Object.keys(T).length&&x.spaces&&x.indentAttributes&&q.push(s(x,D,!1)),q.join("")}function l(T,x,D){return t=T,n="xml",x.ignoreDeclaration?"":"<?xml"+o(T[x.attributesKey],x,D)+"?>"}function u(T,x,D){if(x.ignoreInstruction)return"";var P;for(P in T)if(T.hasOwnProperty(P))break;var N="instructionNameFn"in x?x.instructionNameFn(P,T[P],n,t):P;if(typeof T[P]=="object")return t=T,n=N,"<?"+N+o(T[P][x.attributesKey],x,D)+"?>";var O=T[P]?T[P]:"";return"instructionFn"in x&&(O=x.instructionFn(O,P,n,t)),"<?"+N+(O?" "+O:"")+"?>"}function h(T,x){return x.ignoreComment?"":"<!--"+("commentFn"in x?x.commentFn(T,n,t):T)+"-->"}function f(T,x){return x.ignoreCdata?"":"<![CDATA["+("cdataFn"in x?x.cdataFn(T,n,t):T.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function p(T,x){return x.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in x?x.doctypeFn(T,n,t):T)+">"}function g(T,x){return x.ignoreText?"":(T=""+T,T=T.replace(/&amp;/g,"&"),T=T.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in x?x.textFn(T,n,t):T)}function y(T,x){var D;if(T.elements&&T.elements.length)for(D=0;D<T.elements.length;++D)switch(T.elements[D][x.typeKey]){case"text":if(x.indentText)return!0;break;case"cdata":if(x.indentCdata)return!0;break;case"instruction":if(x.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function _(T,x,D){t=T,n=T.name;var P=[],N="elementNameFn"in x?x.elementNameFn(T.name,T):T.name;P.push("<"+N),T[x.attributesKey]&&P.push(o(T[x.attributesKey],x,D));var O=T[x.elementsKey]&&T[x.elementsKey].length||T[x.attributesKey]&&T[x.attributesKey]["xml:space"]==="preserve";return O||("fullTagEmptyElementFn"in x?O=x.fullTagEmptyElementFn(T.name,T):O=x.fullTagEmptyElement),O?(P.push(">"),T[x.elementsKey]&&T[x.elementsKey].length&&(P.push(w(T[x.elementsKey],x,D+1)),t=T,n=T.name),P.push(x.spaces&&y(T,x)?`
`+Array(D+1).join(x.spaces):""),P.push("</"+N+">")):P.push("/>"),P.join("")}function w(T,x,D,P){return T.reduce(function(N,O){var C=s(x,D,P&&!N);switch(O.type){case"element":return N+C+_(O,x,D);case"comment":return N+C+h(O[x.commentKey],x);case"doctype":return N+C+p(O[x.doctypeKey],x);case"cdata":return N+(x.indentCdata?C:"")+f(O[x.cdataKey],x);case"text":return N+(x.indentText?C:"")+g(O[x.textKey],x);case"instruction":var q={};return q[O[x.nameKey]]=O[x.attributesKey]?O:O[x.instructionKey],N+(x.indentInstruction?C:"")+u(q,x,D)}},"")}function E(T,x,D){var P;for(P in T)if(T.hasOwnProperty(P))switch(P){case x.parentKey:case x.attributesKey:break;case x.textKey:if(x.indentText||D)return!0;break;case x.cdataKey:if(x.indentCdata||D)return!0;break;case x.instructionKey:if(x.indentInstruction||D)return!0;break;case x.doctypeKey:case x.commentKey:return!0;default:return!0}return!1}function b(T,x,D,P,N){t=T,n=x;var O="elementNameFn"in D?D.elementNameFn(x,T):x;if(typeof T>"u"||T===null||T==="")return"fullTagEmptyElementFn"in D&&D.fullTagEmptyElementFn(x,T)||D.fullTagEmptyElement?"<"+O+"></"+O+">":"<"+O+"/>";var C=[];if(x){if(C.push("<"+O),typeof T!="object")return C.push(">"+g(T,D)+"</"+O+">"),C.join("");T[D.attributesKey]&&C.push(o(T[D.attributesKey],D,P));var q=E(T,D,!0)||T[D.attributesKey]&&T[D.attributesKey]["xml:space"]==="preserve";if(q||("fullTagEmptyElementFn"in D?q=D.fullTagEmptyElementFn(x,T):q=D.fullTagEmptyElement),q)C.push(">");else return C.push("/>"),C.join("")}return C.push(A(T,D,P+1,!1)),t=T,n=x,x&&C.push((N?s(D,P,!1):"")+"</"+O+">"),C.join("")}function A(T,x,D,P){var N,O,C,q=[];for(O in T)if(T.hasOwnProperty(O))for(C=e(T[O])?T[O]:[T[O]],N=0;N<C.length;++N){switch(O){case x.declarationKey:q.push(l(C[N],x,D));break;case x.instructionKey:q.push((x.indentInstruction?s(x,D,P):"")+u(C[N],x,D));break;case x.attributesKey:case x.parentKey:break;case x.textKey:q.push((x.indentText?s(x,D,P):"")+g(C[N],x));break;case x.cdataKey:q.push((x.indentCdata?s(x,D,P):"")+f(C[N],x));break;case x.doctypeKey:q.push(s(x,D,P)+p(C[N],x));break;case x.commentKey:q.push(s(x,D,P)+h(C[N],x));break;default:q.push(s(x,D,P)+b(C[N],O,x,D,E(C[N],x)))}P=P&&!q.length}return q.join("")}return vE=function(T,x){x=i(x);var D=[];return t=T,n="_root_",x.compact?D.push(A(T,x,0,!0)):(T[x.declarationKey]&&D.push(l(T[x.declarationKey],x,0)),T[x.elementsKey]&&T[x.elementsKey].length&&D.push(w(T[x.elementsKey],x,0,!D.length))),D.join("")},vE}var wE,T4;function doe(){if(T4)return wE;T4=1;var r=BF();return wE=function(e,t){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return r(n,t)},wE}var _E,A4;function poe(){if(A4)return _E;A4=1;var r=LF(),e=foe(),t=BF(),n=doe();return _E={xml2js:r,xml2json:e,js2xml:t,json2xml:n},_E}var FF=poe();const tR=r=>{switch(r.type){case void 0:case"element":const e=new goe(r.name,r.attributes),t=r.elements||[];for(const n of t){const i=tR(n);i!==void 0&&e.push(i)}return e;case"text":return r.text;default:return}};class moe extends wt{}class goe extends qe{static fromXmlString(e){const t=FF.xml2js(e,{compact:!1});return tR(t)}constructor(e,t){super(e),t&&this.root.push(new moe(t))}push(e){this.root.push(e)}}class yoe extends qe{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class VF extends qe{constructor(e,t){super(e),t&&(this.root=t.root)}}const Ci=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},Uw=r=>{const e=Ci(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},UF=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},C4=r=>UF(r,1),zF=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},jF=r=>{const e=zF(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},xf=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return UF(e,3)},Ju=r=>typeof r=="string"?zF(r):Ci(r),voe=r=>typeof r=="string"?jF(r):Uw(r),Bs=r=>typeof r=="string"?jF(r):Uw(r),woe=Uw,_oe=Uw,boe=r=>r.toISOString();class We extends qe{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new Un({val:t}))}}class bE extends qe{constructor(e,t){super(e),this.root.push(new Un({val:voe(t)}))}}class Xh extends qe{constructor(e,t){super(e),this.root.push(new Un({val:t}))}}const Zd=(r,e)=>new Vo({name:r,attributes:{value:{key:"w:val",value:e}}});class Mp extends qe{constructor(e,t){super(e),this.root.push(new Un({val:t}))}}class Fu extends qe{constructor(e,t){super(e),this.root.push(t)}}class Vo extends qe{constructor({name:e,attributes:t,children:n}){super(e),t&&this.root.push(new Bw(t)),n&&this.root.push(...n)}}const fo={START:"start",LEFT:"left"};class Soe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Eoe extends qe{constructor(e){super("w:jc"),this.root.push(new Soe({val:e}))}}class On extends qe{constructor(e,{color:t,size:n,space:i,style:s}){super(e),this.root.push(new xoe({style:s,color:t===void 0?void 0:xf(t),size:n===void 0?void 0:woe(n),space:i===void 0?void 0:_oe(i)}))}}class xoe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const nR={SINGLE:"single",NONE:"none"};class Toe extends Lw{constructor(e){super("w:pBdr"),e.top&&this.root.push(new On("w:top",e.top)),e.bottom&&this.root.push(new On("w:bottom",e.bottom)),e.left&&this.root.push(new On("w:left",e.left)),e.right&&this.root.push(new On("w:right",e.right))}}class Aoe extends qe{constructor(){super("w:pBdr");const e=new On("w:bottom",{color:"auto",space:1,style:nR.SINGLE,size:6});this.root.push(e)}}class Coe extends qe{constructor({start:e,end:t,left:n,right:i,hanging:s,firstLine:o}){super("w:ind"),this.root.push(new Bw({start:{key:"w:start",value:e===void 0?void 0:Ju(e)},end:{key:"w:end",value:t===void 0?void 0:Ju(t)},left:{key:"w:left",value:n===void 0?void 0:Ju(n)},right:{key:"w:right",value:i===void 0?void 0:Ju(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Bs(s)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:Bs(o)}}))}}let Roe=class extends qe{constructor(){super("w:br")}};const rR={BEGIN:"begin",END:"end",SEPARATE:"separate"};class iR extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Zy extends qe{constructor(e){super("w:fldChar"),this.root.push(new iR({type:rR.BEGIN,dirty:e}))}}class Jy extends qe{constructor(e){super("w:fldChar"),this.root.push(new iR({type:rR.SEPARATE,dirty:e}))}}class e0 extends qe{constructor(e){super("w:fldChar"),this.root.push(new iR({type:rR.END,dirty:e}))}}const Tf={DEFAULT:"default",PRESERVE:"preserve"};class Af extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{space:"xml:space"})}}class koe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("PAGE")}}class Doe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("NUMPAGES")}}class Ioe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("SECTIONPAGES")}}class Ooe extends qe{constructor(){super("w:instrText"),this.root.push(new Af({space:Tf.PRESERVE})),this.root.push("SECTION")}}class Noe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class HF extends qe{constructor({fill:e,color:t,type:n}){super("w:shd"),this.root.push(new Noe({fill:e===void 0?void 0:xf(e),color:t===void 0?void 0:xf(t),type:n}))}}class Moe extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const Poe={DOT:"dot"};class Loe extends qe{constructor(e){super("w:em"),this.root.push(new Un({val:e}))}}class Boe extends Loe{constructor(e=Poe.DOT){super(e)}}class Foe extends qe{constructor(e){super("w:spacing"),this.root.push(new Un({val:Ju(e)}))}}class Voe extends qe{constructor(e){super("w:color"),this.root.push(new Un({val:xf(e)}))}}class Uoe extends qe{constructor(e){super("w:highlight"),this.root.push(new Un({val:e}))}}class zoe extends qe{constructor(e){super("w:highlightCs"),this.root.push(new Un({val:e}))}}const joe=r=>new Vo({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class R4 extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class SE extends qe{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new R4({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const n=e;this.root.push(new R4(n))}}}let qF=class extends qe{constructor(e){super("w:vertAlign"),this.root.push(new Un({val:e}))}};class Hoe extends qF{constructor(){super("superscript")}}class qoe extends qF{constructor(){super("subscript")}}const WF={SINGLE:"single"};class Woe extends qe{constructor(e=WF.SINGLE,t){super("w:u"),this.root.push(new Un({val:e,color:t===void 0?void 0:xf(t)}))}}class kc extends Lw{constructor(e){var t,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Xh("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new SE(e.font)):"name"in e.font?this.push(new SE(e.font.name,e.font.hint)):this.push(new SE(e.font))),e.bold!==void 0&&this.push(new We("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new We("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new We("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new We("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new We("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new We("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new We("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new We("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new We("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new We("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new We("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new We("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new We("w:vanish",e.vanish)),e.color&&this.push(new Voe(e.color)),e.characterSpacing&&this.push(new Foe(e.characterSpacing)),e.scale!==void 0&&this.push(new Mp("w:w",e.scale)),e.kern&&this.push(new bE("w:kern",e.kern)),e.position&&this.push(new Xh("w:position",e.position)),e.size!==void 0&&this.push(new bE("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new bE("w:szCs",i)),e.highlight&&this.push(new Uoe(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new zoe(s)),e.underline&&this.push(new Woe(e.underline.type,e.underline.color)),e.effect&&this.push(new Xh("w:effect",e.effect)),e.border&&this.push(new On("w:bdr",e.border)),e.shading&&this.push(new HF(e.shading)),e.subScript&&this.push(new qoe),e.superScript&&this.push(new Hoe),e.rightToLeft!==void 0&&this.push(new We("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new Boe(e.emphasisMark.type)),e.language&&this.push(joe(e.language)),e.specVanish&&this.push(new We("w:specVanish",e.vanish)),e.math&&this.push(new We("w:oMath",e.math)),e.revision&&this.push(new Goe(e.revision))}push(e){this.root.push(e)}}class Goe extends qe{constructor(e){super("w:rPrChange"),this.root.push(new Moe({id:e.id,author:e.author,date:e.date})),this.addChildElement(new kc(e))}}class k4 extends qe{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new Af({space:Tf.PRESERVE})),this.root.push(e)):(this.root.push(new Af({space:(t=e.space)!=null?t:Tf.DEFAULT})),this.root.push(e.text))}}const t0={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class zw extends qe{constructor(e){if(super("w:r"),Be(this,"properties"),this.properties=new kc(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new Roe);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case t0.CURRENT:this.root.push(new Zy),this.root.push(new koe),this.root.push(new Jy),this.root.push(new e0);break;case t0.TOTAL_PAGES:this.root.push(new Zy),this.root.push(new Doe),this.root.push(new Jy),this.root.push(new e0);break;case t0.TOTAL_PAGES_IN_SECTION:this.root.push(new Zy),this.root.push(new Ioe),this.root.push(new Jy),this.root.push(new e0);break;case t0.CURRENT_SECTION:this.root.push(new Zy),this.root.push(new Ooe),this.root.push(new Jy),this.root.push(new e0);break;default:this.root.push(new k4(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new k4(e.text))}}class Pp extends zw{constructor(e){super(typeof e=="string"?{text:e}:e)}}var EE={},ln={},xE,D4;function Km(){if(D4)return xE;D4=1,xE=r;function r(e,t){if(!e)throw new Error(t||"Assertion failed")}return r.equal=function(t,n,i){if(t!=n)throw new Error(i||"Assertion failed: "+t+" != "+n)},xE}var I4;function Wo(){if(I4)return ln;I4=1;var r=Km(),e=ou();ln.inherits=e;function t(M,V){return(M.charCodeAt(V)&64512)!==55296||V<0||V+1>=M.length?!1:(M.charCodeAt(V+1)&64512)===56320}function n(M,V){if(Array.isArray(M))return M.slice();if(!M)return[];var B=[];if(typeof M=="string")if(V){if(V==="hex")for(M=M.replace(/[^a-z0-9]+/ig,""),M.length%2!==0&&(M="0"+M),Q=0;Q<M.length;Q+=2)B.push(parseInt(M[Q]+M[Q+1],16))}else for(var oe=0,Q=0;Q<M.length;Q++){var X=M.charCodeAt(Q);X<128?B[oe++]=X:X<2048?(B[oe++]=X>>6|192,B[oe++]=X&63|128):t(M,Q)?(X=65536+((X&1023)<<10)+(M.charCodeAt(++Q)&1023),B[oe++]=X>>18|240,B[oe++]=X>>12&63|128,B[oe++]=X>>6&63|128,B[oe++]=X&63|128):(B[oe++]=X>>12|224,B[oe++]=X>>6&63|128,B[oe++]=X&63|128)}else for(Q=0;Q<M.length;Q++)B[Q]=M[Q]|0;return B}ln.toArray=n;function i(M){for(var V="",B=0;B<M.length;B++)V+=l(M[B].toString(16));return V}ln.toHex=i;function s(M){var V=M>>>24|M>>>8&65280|M<<8&16711680|(M&255)<<24;return V>>>0}ln.htonl=s;function o(M,V){for(var B="",oe=0;oe<M.length;oe++){var Q=M[oe];V==="little"&&(Q=s(Q)),B+=u(Q.toString(16))}return B}ln.toHex32=o;function l(M){return M.length===1?"0"+M:M}ln.zero2=l;function u(M){return M.length===7?"0"+M:M.length===6?"00"+M:M.length===5?"000"+M:M.length===4?"0000"+M:M.length===3?"00000"+M:M.length===2?"000000"+M:M.length===1?"0000000"+M:M}ln.zero8=u;function h(M,V,B,oe){var Q=B-V;r(Q%4===0);for(var X=new Array(Q/4),fe=0,de=V;fe<X.length;fe++,de+=4){var ee;oe==="big"?ee=M[de]<<24|M[de+1]<<16|M[de+2]<<8|M[de+3]:ee=M[de+3]<<24|M[de+2]<<16|M[de+1]<<8|M[de],X[fe]=ee>>>0}return X}ln.join32=h;function f(M,V){for(var B=new Array(M.length*4),oe=0,Q=0;oe<M.length;oe++,Q+=4){var X=M[oe];V==="big"?(B[Q]=X>>>24,B[Q+1]=X>>>16&255,B[Q+2]=X>>>8&255,B[Q+3]=X&255):(B[Q+3]=X>>>24,B[Q+2]=X>>>16&255,B[Q+1]=X>>>8&255,B[Q]=X&255)}return B}ln.split32=f;function p(M,V){return M>>>V|M<<32-V}ln.rotr32=p;function g(M,V){return M<<V|M>>>32-V}ln.rotl32=g;function y(M,V){return M+V>>>0}ln.sum32=y;function _(M,V,B){return M+V+B>>>0}ln.sum32_3=_;function w(M,V,B,oe){return M+V+B+oe>>>0}ln.sum32_4=w;function E(M,V,B,oe,Q){return M+V+B+oe+Q>>>0}ln.sum32_5=E;function b(M,V,B,oe){var Q=M[V],X=M[V+1],fe=oe+X>>>0,de=(fe<oe?1:0)+B+Q;M[V]=de>>>0,M[V+1]=fe}ln.sum64=b;function A(M,V,B,oe){var Q=V+oe>>>0,X=(Q<V?1:0)+M+B;return X>>>0}ln.sum64_hi=A;function T(M,V,B,oe){var Q=V+oe;return Q>>>0}ln.sum64_lo=T;function x(M,V,B,oe,Q,X,fe,de){var ee=0,J=V;J=J+oe>>>0,ee+=J<V?1:0,J=J+X>>>0,ee+=J<X?1:0,J=J+de>>>0,ee+=J<de?1:0;var K=M+B+Q+fe+ee;return K>>>0}ln.sum64_4_hi=x;function D(M,V,B,oe,Q,X,fe,de){var ee=V+oe+X+de;return ee>>>0}ln.sum64_4_lo=D;function P(M,V,B,oe,Q,X,fe,de,ee,J){var K=0,re=V;re=re+oe>>>0,K+=re<V?1:0,re=re+X>>>0,K+=re<X?1:0,re=re+de>>>0,K+=re<de?1:0,re=re+J>>>0,K+=re<J?1:0;var he=M+B+Q+fe+ee+K;return he>>>0}ln.sum64_5_hi=P;function N(M,V,B,oe,Q,X,fe,de,ee,J){var K=V+oe+X+de+J;return K>>>0}ln.sum64_5_lo=N;function O(M,V,B){var oe=V<<32-B|M>>>B;return oe>>>0}ln.rotr64_hi=O;function C(M,V,B){var oe=M<<32-B|V>>>B;return oe>>>0}ln.rotr64_lo=C;function q(M,V,B){return M>>>B}ln.shr64_hi=q;function $(M,V,B){var oe=M<<32-B|V>>>B;return oe>>>0}return ln.shr64_lo=$,ln}var TE={},O4;function $m(){if(O4)return TE;O4=1;var r=Wo(),e=Km();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return TE.BlockHash=t,t.prototype.update=function(i,s){if(i=r.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=r.join32(i,0,i.length-o,this.endian);for(var l=0;l<i.length;l+=this._delta32)this._update(i,l,l+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,l=new Array(o+this.padLength);l[0]=128;for(var u=1;u<o;u++)l[u]=0;if(i<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)l[u++]=0;l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=i>>>24&255,l[u++]=i>>>16&255,l[u++]=i>>>8&255,l[u++]=i&255}else for(l[u++]=i&255,l[u++]=i>>>8&255,l[u++]=i>>>16&255,l[u++]=i>>>24&255,l[u++]=0,l[u++]=0,l[u++]=0,l[u++]=0,h=8;h<this.padLength;h++)l[u++]=0;return l},TE}var Vu={},co={},N4;function GF(){if(N4)return co;N4=1;var r=Wo(),e=r.rotr32;function t(f,p,g,y){if(f===0)return n(p,g,y);if(f===1||f===3)return s(p,g,y);if(f===2)return i(p,g,y)}co.ft_1=t;function n(f,p,g){return f&p^~f&g}co.ch32=n;function i(f,p,g){return f&p^f&g^p&g}co.maj32=i;function s(f,p,g){return f^p^g}co.p32=s;function o(f){return e(f,2)^e(f,13)^e(f,22)}co.s0_256=o;function l(f){return e(f,6)^e(f,11)^e(f,25)}co.s1_256=l;function u(f){return e(f,7)^e(f,18)^f>>>3}co.g0_256=u;function h(f){return e(f,17)^e(f,19)^f>>>10}return co.g1_256=h,co}var AE,M4;function Koe(){if(M4)return AE;M4=1;var r=Wo(),e=$m(),t=GF(),n=r.rotl32,i=r.sum32,s=r.sum32_5,o=t.ft_1,l=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return r.inherits(h,l),AE=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(p,g){for(var y=this.W,_=0;_<16;_++)y[_]=p[g+_];for(;_<y.length;_++)y[_]=n(y[_-3]^y[_-8]^y[_-14]^y[_-16],1);var w=this.h[0],E=this.h[1],b=this.h[2],A=this.h[3],T=this.h[4];for(_=0;_<y.length;_++){var x=~~(_/20),D=s(n(w,5),o(x,E,b,A),T,y[_],u[x]);T=A,A=b,b=n(E,30),E=w,w=D}this.h[0]=i(this.h[0],w),this.h[1]=i(this.h[1],E),this.h[2]=i(this.h[2],b),this.h[3]=i(this.h[3],A),this.h[4]=i(this.h[4],T)},h.prototype._digest=function(p){return p==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},AE}var CE,P4;function KF(){if(P4)return CE;P4=1;var r=Wo(),e=$m(),t=GF(),n=Km(),i=r.sum32,s=r.sum32_4,o=r.sum32_5,l=t.ch32,u=t.maj32,h=t.s0_256,f=t.s1_256,p=t.g0_256,g=t.g1_256,y=e.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}return r.inherits(w,y),CE=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(b,A){for(var T=this.W,x=0;x<16;x++)T[x]=b[A+x];for(;x<T.length;x++)T[x]=s(g(T[x-2]),T[x-7],p(T[x-15]),T[x-16]);var D=this.h[0],P=this.h[1],N=this.h[2],O=this.h[3],C=this.h[4],q=this.h[5],$=this.h[6],M=this.h[7];for(n(this.k.length===T.length),x=0;x<T.length;x++){var V=o(M,f(C),l(C,q,$),this.k[x],T[x]),B=i(h(D),u(D,P,N));M=$,$=q,q=C,C=i(O,V),O=N,N=P,P=D,D=i(V,B)}this.h[0]=i(this.h[0],D),this.h[1]=i(this.h[1],P),this.h[2]=i(this.h[2],N),this.h[3]=i(this.h[3],O),this.h[4]=i(this.h[4],C),this.h[5]=i(this.h[5],q),this.h[6]=i(this.h[6],$),this.h[7]=i(this.h[7],M)},w.prototype._digest=function(b){return b==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")},CE}var RE,L4;function $oe(){if(L4)return RE;L4=1;var r=Wo(),e=KF();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return r.inherits(t,e),RE=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")},RE}var kE,B4;function $F(){if(B4)return kE;B4=1;var r=Wo(),e=$m(),t=Km(),n=r.rotr64_hi,i=r.rotr64_lo,s=r.shr64_hi,o=r.shr64_lo,l=r.sum64,u=r.sum64_hi,h=r.sum64_lo,f=r.sum64_4_hi,p=r.sum64_4_lo,g=r.sum64_5_hi,y=r.sum64_5_lo,_=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function E(){if(!(this instanceof E))return new E;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}r.inherits(E,_),kE=E,E.blockSize=1024,E.outSize=512,E.hmacStrength=192,E.padLength=128,E.prototype._prepareBlock=function(B,oe){for(var Q=this.W,X=0;X<32;X++)Q[X]=B[oe+X];for(;X<Q.length;X+=2){var fe=$(Q[X-4],Q[X-3]),de=M(Q[X-4],Q[X-3]),ee=Q[X-14],J=Q[X-13],K=C(Q[X-30],Q[X-29]),re=q(Q[X-30],Q[X-29]),he=Q[X-32],ve=Q[X-31];Q[X]=f(fe,de,ee,J,K,re,he,ve),Q[X+1]=p(fe,de,ee,J,K,re,he,ve)}},E.prototype._update=function(B,oe){this._prepareBlock(B,oe);var Q=this.W,X=this.h[0],fe=this.h[1],de=this.h[2],ee=this.h[3],J=this.h[4],K=this.h[5],re=this.h[6],he=this.h[7],ve=this.h[8],ue=this.h[9],j=this.h[10],F=this.h[11],ce=this.h[12],ie=this.h[13],Y=this.h[14],te=this.h[15];t(this.k.length===Q.length);for(var _e=0;_e<Q.length;_e+=2){var U=Y,Se=te,H=N(ve,ue),k=O(ve,ue),I=b(ve,ue,j,F,ce),z=A(ve,ue,j,F,ce,ie),se=this.k[_e],ge=this.k[_e+1],le=Q[_e],De=Q[_e+1],Pe=g(U,Se,H,k,I,z,se,ge,le,De),Oe=y(U,Se,H,k,I,z,se,ge,le,De);U=D(X,fe),Se=P(X,fe),H=T(X,fe,de,ee,J),k=x(X,fe,de,ee,J,K);var He=u(U,Se,H,k),Ge=h(U,Se,H,k);Y=ce,te=ie,ce=j,ie=F,j=ve,F=ue,ve=u(re,he,Pe,Oe),ue=h(he,he,Pe,Oe),re=J,he=K,J=de,K=ee,de=X,ee=fe,X=u(Pe,Oe,He,Ge),fe=h(Pe,Oe,He,Ge)}l(this.h,0,X,fe),l(this.h,2,de,ee),l(this.h,4,J,K),l(this.h,6,re,he),l(this.h,8,ve,ue),l(this.h,10,j,F),l(this.h,12,ce,ie),l(this.h,14,Y,te)},E.prototype._digest=function(B){return B==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")};function b(V,B,oe,Q,X){var fe=V&oe^~V&X;return fe<0&&(fe+=4294967296),fe}function A(V,B,oe,Q,X,fe){var de=B&Q^~B&fe;return de<0&&(de+=4294967296),de}function T(V,B,oe,Q,X){var fe=V&oe^V&X^oe&X;return fe<0&&(fe+=4294967296),fe}function x(V,B,oe,Q,X,fe){var de=B&Q^B&fe^Q&fe;return de<0&&(de+=4294967296),de}function D(V,B){var oe=n(V,B,28),Q=n(B,V,2),X=n(B,V,7),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}function P(V,B){var oe=i(V,B,28),Q=i(B,V,2),X=i(B,V,7),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}function N(V,B){var oe=n(V,B,14),Q=n(V,B,18),X=n(B,V,9),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}function O(V,B){var oe=i(V,B,14),Q=i(V,B,18),X=i(B,V,9),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}function C(V,B){var oe=n(V,B,1),Q=n(V,B,8),X=s(V,B,7),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}function q(V,B){var oe=i(V,B,1),Q=i(V,B,8),X=o(V,B,7),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}function $(V,B){var oe=n(V,B,19),Q=n(B,V,29),X=s(V,B,6),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}function M(V,B){var oe=i(V,B,19),Q=i(B,V,29),X=o(V,B,6),fe=oe^Q^X;return fe<0&&(fe+=4294967296),fe}return kE}var DE,F4;function Yoe(){if(F4)return DE;F4=1;var r=Wo(),e=$F();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return r.inherits(t,e),DE=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")},DE}var V4;function Xoe(){return V4||(V4=1,Vu.sha1=Koe(),Vu.sha224=$oe(),Vu.sha256=KF(),Vu.sha384=Yoe(),Vu.sha512=$F()),Vu}var IE={},U4;function Qoe(){if(U4)return IE;U4=1;var r=Wo(),e=$m(),t=r.rotl32,n=r.sum32,i=r.sum32_3,s=r.sum32_4,o=e.BlockHash;function l(){if(!(this instanceof l))return new l;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}r.inherits(l,o),IE.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(E,b){for(var A=this.h[0],T=this.h[1],x=this.h[2],D=this.h[3],P=this.h[4],N=A,O=T,C=x,q=D,$=P,M=0;M<80;M++){var V=n(t(s(A,u(M,T,x,D),E[p[M]+b],h(M)),y[M]),P);A=P,P=D,D=t(x,10),x=T,T=V,V=n(t(s(N,u(79-M,O,C,q),E[g[M]+b],f(M)),_[M]),$),N=$,$=q,q=t(C,10),C=O,O=V}V=i(this.h[1],x,q),this.h[1]=i(this.h[2],D,$),this.h[2]=i(this.h[3],P,N),this.h[3]=i(this.h[4],A,O),this.h[4]=i(this.h[0],T,C),this.h[0]=V},l.prototype._digest=function(E){return E==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};function u(w,E,b,A){return w<=15?E^b^A:w<=31?E&b|~E&A:w<=47?(E|~b)^A:w<=63?E&A|b&~A:E^(b|~A)}function h(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function f(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return IE}var OE,z4;function Zoe(){if(z4)return OE;z4=1;var r=Wo(),e=Km();function t(n,i,s){if(!(this instanceof t))return new t(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(i,s))}return OE=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},OE}var j4;function Joe(){return j4||(j4=1,function(r){var e=r;e.utils=Wo(),e.common=$m(),e.sha=Xoe(),e.ripemd=Qoe(),e.hmac=Zoe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(EE)),EE}Joe();let eae="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",tae=(r,e=21)=>(t=e)=>{let n="",i=t|0;for(;i--;)n+=r[Math.random()*r.length|0];return n},nae=(r=21)=>{let e="",t=r|0;for(;t--;)e+=eae[Math.random()*64|0];return e};const Ms=r=>Math.floor(r*72*20),sR=(r=0)=>{let e=r;return()=>++e},rae=()=>sR(),iae=()=>sR(1),sae=()=>sR(),oae=()=>nae().toLowerCase(),Jd=r=>tae("1234567890abcdef",r)(),aae=()=>`${Jd(8)}-${Jd(4)}-${Jd(4)}-${Jd(4)}-${Jd(12)}`;class lae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class uae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const cae={EXTERNAL:"External"};class hae extends qe{constructor(e,t,n,i){super("Relationship"),this.root.push(new uae({id:e,type:t,target:n,targetMode:i}))}}class Dc extends qe{constructor(){super("Relationships"),this.root.push(new lae({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,n,i){const s=new hae(`rId${e}`,t,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class fae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class dae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class pae extends qe{constructor({id:e,initials:t,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new fae({id:e,initials:t,author:n,date:i.toISOString()}));for(const o of s)this.root.push(o)}}class mae extends qe{constructor({children:e}){super("w:comments"),Be(this,"relationships"),this.root.push(new dae({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new pae(t));this.relationships=new Dc}get Relationships(){return this.relationships}}class gae extends qe{constructor(){super("w:pageBreakBefore")}}const qT={AUTO:"auto"};class yae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class vae extends qe{constructor(e){super("w:spacing"),this.root.push(new yae(e))}}let n0=class extends qe{constructor(e){super("w:pStyle"),this.root.push(new Un({val:e}))}};class wae extends qe{constructor(e){super("w:tabs");for(const t of e)this.root.push(new bae(t))}}const H4={LEFT:"left",RIGHT:"right"};class _ae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class bae extends qe{constructor({type:e,position:t,leader:n}){super("w:tab"),this.root.push(new _ae({val:e,pos:t,leader:n}))}}class NE extends qe{constructor(e,t){super("w:numPr"),this.root.push(new Sae(t)),this.root.push(new Eae(e))}}class Sae extends qe{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Un({val:e}))}}class Eae extends qe{constructor(e){super("w:numId"),this.root.push(new Un({val:typeof e=="string"?`{${e}}`:e}))}}class xae extends qe{constructor(){super(...arguments),Be(this,"fileChild",Symbol())}}class Tae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class Aae extends qe{constructor(e,t,n){super("w:hyperlink"),Be(this,"linkId"),this.linkId=t;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new Tae(i);this.root.push(s),e.forEach(o=>{this.root.push(o)})}}class Cae extends qe{constructor(e){super("w:externalHyperlink"),this.options=e}}class Rae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class kae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id"})}}class Dae{constructor(e){Be(this,"bookmarkUniqueNumericId",sae()),Be(this,"start"),Be(this,"children"),Be(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new Iae(e.id,t),this.children=e.children,this.end=new Oae(t)}}class Iae extends qe{constructor(e,t){super("w:bookmarkStart");const n=new Rae({name:e,id:t});this.root.push(n)}}class Oae extends qe{constructor(e){super("w:bookmarkEnd");const t=new kae({id:e});this.root.push(t)}}class Nae extends qe{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Un({val:e}))}}const Mae={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Sf(Wt({},Mae),{BOTH:"both"});class Pae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{verticalAlign:"w:val"})}}class Lae extends qe{constructor(e){super("w:vAlign"),this.root.push(new Pae({verticalAlign:e}))}}class Bae extends qe{constructor({space:e,count:t,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new Bw({space:{key:"w:space",value:e===void 0?void 0:Bs(e)},count:{key:"w:num",value:t===void 0?void 0:Ci(t)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(o=>this.addChildElement(o))}}const Fae=({type:r,linePitch:e,charSpace:t})=>new Vo({name:"w:docGrid",attributes:{type:{key:"w:type",value:r},linePitch:{key:"w:linePitch",value:Ci(e)},charSpace:{key:"w:charSpace",value:t?Ci(t):void 0}}}),Qh={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Vae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const q4={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class ME extends qe{constructor(e,t){super(e),this.root.push(new Vae({type:t.type||Qh.DEFAULT,id:`rId${t.id}`}))}}const Uae=({countBy:r,start:e,restart:t,distance:n})=>new Vo({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:Ci(r)},start:{key:"w:start",value:e===void 0?void 0:Ci(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:n===void 0?void 0:Bs(n)}}});class W4 extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class zae extends Lw{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new W4({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new W4({})),e.pageBorderTop&&this.root.push(new On("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new On("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new On("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new On("w:right",e.pageBorderRight))}}class jae extends qe{constructor(e,t,n,i,s,o,l){super("w:pgMar"),this.root.push(new Bw({top:{key:"w:top",value:Ju(e)},right:{key:"w:right",value:Bs(t)},bottom:{key:"w:bottom",value:Ju(n)},left:{key:"w:left",value:Bs(i)},header:{key:"w:header",value:Bs(s)},footer:{key:"w:footer",value:Bs(o)},gutter:{key:"w:gutter",value:Bs(l)}}))}}class Hae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class qae extends qe{constructor({start:e,formatType:t,separator:n}){super("w:pgNumType"),this.root.push(new Hae({start:e===void 0?void 0:Ci(e),formatType:t,separator:n}))}}const WT={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Wae=({width:r,height:e,orientation:t,code:n})=>{const i=Bs(r),s=Bs(e);return new Vo({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===WT.LANDSCAPE?s:i},height:{key:"w:h",value:t===WT.LANDSCAPE?i:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:n}}})};class Gae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Kae extends qe{constructor(e){super("w:textDirection"),this.root.push(new Gae({val:e}))}}class $ae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Yae extends qe{constructor(e){super("w:type"),this.root.push(new $ae({val:e}))}}const Uu={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},PE={WIDTH:11906,HEIGHT:16838,ORIENTATION:WT.PORTRAIT};class Xae extends qe{constructor({page:{size:{width:e=PE.WIDTH,height:t=PE.HEIGHT,orientation:n=PE.ORIENTATION}={},margin:{top:i=Uu.TOP,right:s=Uu.RIGHT,bottom:o=Uu.BOTTOM,left:l=Uu.LEFT,header:u=Uu.HEADER,footer:h=Uu.FOOTER,gutter:f=Uu.GUTTER}={},pageNumbers:p={},borders:g,textDirection:y}={},grid:{linePitch:_=360,charSpace:w,type:E}={},headerWrapperGroup:b={},footerWrapperGroup:A={},lineNumbers:T,titlePage:x,verticalAlign:D,column:P,type:N}={}){super("w:sectPr"),this.addHeaderFooterGroup(q4.HEADER,b),this.addHeaderFooterGroup(q4.FOOTER,A),N&&this.root.push(new Yae(N)),this.root.push(Wae({width:e,height:t,orientation:n})),this.root.push(new jae(i,s,o,l,u,h,f)),g&&this.root.push(new zae(g)),T&&this.root.push(Uae(T)),this.root.push(new qae(p)),P&&this.root.push(new Bae(P)),D&&this.root.push(new Lae(D)),x!==void 0&&this.root.push(new We("w:titlePg",x)),y&&this.root.push(new Kae(y)),this.root.push(Fae({linePitch:_,charSpace:w,type:E}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new ME(e,{type:Qh.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new ME(e,{type:Qh.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new ME(e,{type:Qh.EVEN,id:t.even.View.ReferenceId}))}}class Qae extends qe{constructor(){super("w:body"),Be(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new Xae(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new ec({}),n=new Cf({});return n.push(e),t.addChildElement(n),t}}const G4={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class jw extends wt{constructor(e,t){super(Wt({Ignorable:t},Object.fromEntries(e.map(n=>[n,G4[n]])))),Be(this,"xmlKeys",Wt({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(G4).map(n=>[n,`xmlns:${n}`]))))}}class Zae extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Jae extends qe{constructor(e){super("w:background"),this.root.push(new Zae({color:e.color===void 0?void 0:xf(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:C4(e.themeShade),themeTint:e.themeTint===void 0?void 0:C4(e.themeTint)}))}}class ele extends qe{constructor(e){super("w:document"),Be(this,"body"),this.root.push(new jw(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Qae,e.background&&this.root.push(new Jae(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class YF{constructor(e){Be(this,"document"),Be(this,"relationships"),this.document=new ele(e),this.relationships=new Dc}get View(){return this.document}get Relationships(){return this.relationships}}class tle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class nle extends qe{constructor(){super("w:wordWrap"),this.root.push(new tle({val:0}))}}const rle=r=>{var e,t;return new Vo({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class Cf extends Lw{constructor(e){var t,n;if(super("w:pPr"),Be(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new n0(e.heading)),e.bullet&&this.push(new n0("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new n0("ListParagraph"))),e.style&&this.push(new n0(e.style)),e.keepNext!==void 0&&this.push(new We("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new We("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new gae),e.frame&&this.push(rle(e.frame)),e.widowControl!==void 0&&this.push(new We("w:widowControl",e.widowControl)),e.bullet&&this.push(new NE(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new NE(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new NE(0,0)),e.border&&this.push(new Toe(e.border)),e.thematicBreak&&this.push(new Aoe),e.shading&&this.push(new HF(e.shading)),e.wordWrap&&this.push(new nle),e.overflowPunctuation&&this.push(new We("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:H4.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:H4.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new wae(i)),e.bidirectional!==void 0&&this.push(new We("w:bidi",e.bidirectional)),e.spacing&&this.push(new vae(e.spacing)),e.indent&&this.push(new Coe(e.indent)),e.contextualSpacing!==void 0&&this.push(new We("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new Eoe(e.alignment)),e.outlineLevel!==void 0&&this.push(new Nae(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new We("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new We("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new kc(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof YF)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class ec extends xae{constructor(e){if(super("w:p"),Be(this,"properties"),typeof e=="string")return this.properties=new Cf({}),this.root.push(this.properties),this.root.push(new Pp(e)),this;if(this.properties=new Cf(e),this.root.push(this.properties),e.text&&this.root.push(new Pp(e.text)),e.children)for(const t of e.children){if(t instanceof Dae){this.root.push(t.start);for(const n of t.children)this.root.push(n);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof Cae){const n=this.root.indexOf(t),i=new Aae(t.options.children,oae());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,cae.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const yh={style:nR.NONE,size:0,color:"auto"},vh={style:nR.SINGLE,size:4,color:"auto"};class ile extends qe{constructor(e){super("w:tblBorders"),e.top?this.root.push(new On("w:top",e.top)):this.root.push(new On("w:top",vh)),e.left?this.root.push(new On("w:left",e.left)):this.root.push(new On("w:left",vh)),e.bottom?this.root.push(new On("w:bottom",e.bottom)):this.root.push(new On("w:bottom",vh)),e.right?this.root.push(new On("w:right",e.right)):this.root.push(new On("w:right",vh)),e.insideHorizontal?this.root.push(new On("w:insideH",e.insideHorizontal)):this.root.push(new On("w:insideH",vh)),e.insideVertical?this.root.push(new On("w:insideV",e.insideVertical)):this.root.push(new On("w:insideV",vh))}}Be(ile,"NONE",{top:yh,bottom:yh,left:yh,right:yh,insideHorizontal:yh,insideVertical:yh});class sle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ole extends qe{constructor(){super("Properties"),this.root.push(new sle({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class ale extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class lle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class pa extends qe{constructor(e,t){super("Default"),this.root.push(new lle({contentType:e,extension:t}))}}class ule extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class fs extends qe{constructor(e,t){super("Override"),this.root.push(new ule({contentType:e,partName:t}))}}class cle extends qe{constructor(){super("Types"),this.root.push(new ale({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new pa("image/png","png")),this.root.push(new pa("image/jpeg","jpeg")),this.root.push(new pa("image/jpeg","jpg")),this.root.push(new pa("image/bmp","bmp")),this.root.push(new pa("image/gif","gif")),this.root.push(new pa("image/svg+xml","svg")),this.root.push(new pa("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new pa("application/xml","xml")),this.root.push(new pa("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new fs("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new fs("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class hle extends qe{constructor(e){super("cp:coreProperties"),this.root.push(new jw(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Fu("dc:title",e.title)),e.subject&&this.root.push(new Fu("dc:subject",e.subject)),e.creator&&this.root.push(new Fu("dc:creator",e.creator)),e.keywords&&this.root.push(new Fu("cp:keywords",e.keywords)),e.description&&this.root.push(new Fu("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Fu("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Fu("cp:revision",String(e.revision))),this.root.push(new K4("dcterms:created")),this.root.push(new K4("dcterms:modified"))}}class fle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"xsi:type"})}}class K4 extends qe{constructor(e){super(e),this.root.push(new fle({type:"dcterms:W3CDTF"})),this.root.push(boe(new Date))}}class dle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class ple extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class mle extends qe{constructor(e,t){super("property"),this.root.push(new ple({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new gle(t.value))}}class gle extends qe{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class yle extends qe{constructor(e){super("Properties"),Be(this,"nextId"),Be(this,"properties",[]),this.root.push(new dle({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new mle(this.nextId++,e))}}const r0=({id:r,fontKey:e,subsetted:t},n)=>new Vo({name:n,attributes:Wt({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new We("w:subsetted",t)]:[]]}),vle=({name:r,altName:e,panose1:t,charset:n,family:i,notTrueType:s,pitch:o,sig:l,embedRegular:u,embedBold:h,embedItalic:f,embedBoldItalic:p})=>new Vo({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[Zd("w:altName",e)]:[],...t?[Zd("w:panose1",t)]:[],...n?[Zd("w:charset",n)]:[],Zd("w:family",i),...s?[new We("w:notTrueType",s)]:[],Zd("w:pitch",o),...l?[new Vo({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:l.usb0},usb1:{key:"w:usb1",value:l.usb1},usb2:{key:"w:usb2",value:l.usb2},usb3:{key:"w:usb3",value:l.usb3},csb0:{key:"w:csb0",value:l.csb0},csb1:{key:"w:csb1",value:l.csb1}}})]:[],...u?[r0(u,"w:embedRegular")]:[],...h?[r0(h,"w:embedBold")]:[],...f?[r0(f,"w:embedItalic")]:[],...p?[r0(p,"w:embedBoldItalic")]:[]]}),wle=({name:r,index:e,fontKey:t,characterSet:n})=>vle({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),_le=r=>new Vo({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>wle({name:e.name,index:t+1,fontKey:e.fontKey}))});class ble{constructor(e){Be(this,"fontTable"),Be(this,"relationships"),Be(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Sf(Wt({},t),{fontKey:aae()})),this.fontTable=_le(this.fontOptionsWithKey),this.relationships=new Dc;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class Sle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let Ele=class extends VF{constructor(e,t){super("w:ftr",t),Be(this,"refId"),this.refId=e,t||this.root.push(new Sle({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class xle{constructor(e,t,n){Be(this,"footer"),Be(this,"relationships"),this.media=e,this.footer=new Ele(t,n),this.relationships=new Dc}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class Tle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class Ale extends qe{constructor(){super("w:footnoteRef")}}class Cle extends zw{constructor(){super({style:"FootnoteReference"}),this.root.push(new Ale)}}const $4={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class LE extends qe{constructor(e){super("w:footnote"),this.root.push(new Tle({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];t===0&&n.addRunToFront(new Cle),this.root.push(n)}}}class Rle extends qe{constructor(){super("w:continuationSeparator")}}class kle extends zw{constructor(){super({}),this.root.push(new Rle)}}class Dle extends qe{constructor(){super("w:separator")}}class Ile extends zw{constructor(){super({}),this.root.push(new Dle)}}class Ole extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Nle extends qe{constructor(){super("w:footnotes"),this.root.push(new Ole({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new LE({id:-1,type:$4.SEPERATOR,children:[new ec({spacing:{after:0,line:240,lineRule:qT.AUTO},children:[new Ile]})]});this.root.push(e);const t=new LE({id:0,type:$4.CONTINUATION_SEPERATOR,children:[new ec({spacing:{after:0,line:240,lineRule:qT.AUTO},children:[new kle]})]});this.root.push(t)}createFootNote(e,t){const n=new LE({id:e,children:t});this.root.push(n)}}class Mle{constructor(){Be(this,"footnotess"),Be(this,"relationships"),this.footnotess=new Nle,this.relationships=new Dc}get View(){return this.footnotess}get Relationships(){return this.relationships}}class Ple extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let Lle=class extends VF{constructor(e,t){super("w:hdr",t),Be(this,"refId"),this.refId=e,t||this.root.push(new Ple({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class Ble{constructor(e,t,n){Be(this,"header"),Be(this,"relationships"),this.media=e,this.header=new Lle(t,n),this.relationships=new Dc}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class Fle{constructor(){Be(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const ma={BULLET:"bullet"};class Vle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class Ule extends qe{constructor(e){super("w:numFmt"),this.root.push(new Un({val:e}))}}class zle extends qe{constructor(e){super("w:lvlText"),this.root.push(new Un({val:e}))}}class jle extends qe{constructor(e){super("w:lvlJc"),this.root.push(new Un({val:e}))}}class Hle extends qe{constructor(e){super("w:suff"),this.root.push(new Un({val:e}))}}class qle extends qe{constructor(){super("w:isLgl")}}class Wle extends qe{constructor({level:e,format:t,text:n,alignment:i=fo.START,start:s=1,style:o,suffix:l,isLegalNumberingStyle:u}){if(super("w:lvl"),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.root.push(new Mp("w:start",Ci(s))),t&&this.root.push(new Ule(t)),l&&this.root.push(new Hle(l)),u&&this.root.push(new qle),n&&this.root.push(new zle(n)),this.root.push(new jle(i)),this.paragraphProperties=new Cf(o&&o.paragraph),this.runProperties=new kc(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Vle({ilvl:Ci(e),tentative:1}))}}class Gle extends Wle{}class Kle extends qe{constructor(e){super("w:multiLevelType"),this.root.push(new Un({val:e}))}}class $le extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class Y4 extends qe{constructor(e,t){super("w:abstractNum"),Be(this,"id"),this.root.push(new $le({abstractNumId:Ci(e),restartNumberingAfterBreak:0})),this.root.push(new Kle("hybridMultilevel")),this.id=e;for(const n of t)this.root.push(new Gle(n))}}class Yle extends qe{constructor(e){super("w:abstractNumId"),this.root.push(new Un({val:e}))}}class Xle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{numId:"w:numId"})}}class X4 extends qe{constructor(e){if(super("w:num"),Be(this,"numId"),Be(this,"reference"),Be(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Xle({numId:Ci(e.numId)})),this.root.push(new Yle(Ci(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new Zle(t.num,t.start))}}class Qle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Zle extends qe{constructor(e,t){super("w:lvlOverride"),this.root.push(new Qle({ilvl:e})),t!==void 0&&this.root.push(new eue(t))}}class Jle extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class eue extends qe{constructor(e){super("w:startOverride"),this.root.push(new Jle({val:e}))}}class tue extends qe{constructor(e){super("w:numbering"),Be(this,"abstractNumberingMap",new Map),Be(this,"concreteNumberingMap",new Map),Be(this,"referenceConfigMap",new Map),Be(this,"abstractNumUniqueNumericId",rae()),Be(this,"concreteNumUniqueNumericId",iae()),this.root.push(new jw(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new Y4(this.abstractNumUniqueNumericId(),[{level:0,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:Ms(.5),hanging:Ms(.25)}}}},{level:1,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:Ms(1),hanging:Ms(.25)}}}},{level:2,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:2160,hanging:Ms(.25)}}}},{level:3,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:2880,hanging:Ms(.25)}}}},{level:4,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:3600,hanging:Ms(.25)}}}},{level:5,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:4320,hanging:Ms(.25)}}}},{level:6,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:5040,hanging:Ms(.25)}}}},{level:7,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:5760,hanging:Ms(.25)}}}},{level:8,format:ma.BULLET,text:"",alignment:fo.LEFT,style:{paragraph:{indent:{left:6480,hanging:Ms(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new X4({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new Y4(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),o=s&&s[0].start,l={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:t,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new X4(l))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class nue extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class rue extends qe{constructor(e){super("w:compatSetting"),this.root.push(new nue({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class iue extends qe{constructor(e){super("w:compat"),e.version&&this.root.push(new rue(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new We("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new We("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new We("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new We("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new We("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new We("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new We("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new We("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new We("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new We("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new We("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new We("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new We("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new We("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new We("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new We("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new We("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new We("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new We("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new We("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new We("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new We("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new We("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new We("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new We("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new We("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new We("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new We("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new We("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new We("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new We("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new We("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new We("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new We("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new We("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new We("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new We("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new We("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new We("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new We("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new We("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new We("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new We("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new We("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new We("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new We("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new We("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new We("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new We("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new We("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new We("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new We("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new We("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new We("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new We("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new We("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new We("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new We("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new We("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new We("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new We("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new We("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new We("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new We("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new We("w:cachedColBalance",e.cachedColumnBalance))}}class sue extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class oue extends qe{constructor(e){var t,n,i,s,o,l,u,h;super("w:settings"),this.root.push(new sue({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new We("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new We("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new We("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new We("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Mp("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new We("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Mp("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new Mp("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new We("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new iue(Sf(Wt({},(o=e.compatibility)!=null?o:{}),{version:(h=(u=(l=e.compatibility)==null?void 0:l.version)!=null?u:e.compatibilityModeVersion)!=null?h:15})))}}class XF extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class aue extends qe{constructor(e){super("w:name"),this.root.push(new XF({val:e}))}}class lue extends qe{constructor(e){super("w:uiPriority"),this.root.push(new XF({val:Ci(e)}))}}class uue extends wt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class QF extends qe{constructor(e,t){super("w:style"),this.root.push(new uue(e)),t.name&&this.root.push(new aue(t.name)),t.basedOn&&this.root.push(new Xh("w:basedOn",t.basedOn)),t.next&&this.root.push(new Xh("w:next",t.next)),t.link&&this.root.push(new Xh("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new lue(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new We("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new We("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new We("w:qFormat",t.quickFormat))}}class Hw extends QF{constructor(e){super({type:"paragraph",styleId:e.id},e),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.paragraphProperties=new Cf(e.paragraph),this.runProperties=new kc(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class qw extends QF{constructor(e){super({type:"character",styleId:e.id},Wt({uiPriority:99,unhideWhenUsed:!0},e)),Be(this,"runProperties"),this.runProperties=new kc(e.run),this.root.push(this.runProperties)}}class au extends Hw{constructor(e){super(Wt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class cue extends au{constructor(e){super(Wt({id:"Title",name:"Title"},e))}}class hue extends au{constructor(e){super(Wt({id:"Heading1",name:"Heading 1"},e))}}class fue extends au{constructor(e){super(Wt({id:"Heading2",name:"Heading 2"},e))}}class due extends au{constructor(e){super(Wt({id:"Heading3",name:"Heading 3"},e))}}class pue extends au{constructor(e){super(Wt({id:"Heading4",name:"Heading 4"},e))}}class mue extends au{constructor(e){super(Wt({id:"Heading5",name:"Heading 5"},e))}}class gue extends au{constructor(e){super(Wt({id:"Heading6",name:"Heading 6"},e))}}class yue extends au{constructor(e){super(Wt({id:"Strong",name:"Strong"},e))}}class vue extends Hw{constructor(e){super(Wt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class wue extends Hw{constructor(e){super(Wt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:qT.AUTO}},run:{size:20}},e))}}class _ue extends qw{constructor(e){super(Wt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class bue extends qw{constructor(e){super(Wt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class Sue extends qw{constructor(e){super(Wt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:WF.SINGLE}}},e))}}class GT extends qe{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new Hw(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new qw(t))}}class Eue extends qe{constructor(e){super("w:pPrDefault"),this.root.push(new Cf(e))}}class xue extends qe{constructor(e){super("w:rPrDefault"),this.root.push(new kc(e))}}class Tue extends qe{constructor(e){super("w:docDefaults"),Be(this,"runPropertiesDefaults"),Be(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new xue(e.run),this.paragraphPropertiesDefaults=new Eue(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class Aue{newInstance(e){const t=FF.xml2js(e,{compact:!1});let n;for(const o of t.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new GT({initialStyles:new yoe(n.attributes),importedStyles:i.map(o=>tR(o))})}}class Q4{newInstance(e={}){var t;return{initialStyles:new jw(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new Tue((t=e.document)!=null?t:{}),new cue(Wt({run:{size:56}},e.title)),new hue(Wt({run:{color:"2E74B5",size:32}},e.heading1)),new fue(Wt({run:{color:"2E74B5",size:26}},e.heading2)),new due(Wt({run:{color:"1F4D78",size:24}},e.heading3)),new pue(Wt({run:{color:"2E74B5",italics:!0}},e.heading4)),new mue(Wt({run:{color:"2E74B5"}},e.heading5)),new gue(Wt({run:{color:"1F4D78"}},e.heading6)),new yue(Wt({run:{bold:!0}},e.strong)),new vue(e.listParagraph||{}),new Sue(e.hyperlink||{}),new _ue(e.footnoteReference||{}),new wue(e.footnoteText||{}),new bue(e.footnoteTextChar||{})]}}}class Cue{constructor(e){Be(this,"currentRelationshipId",1),Be(this,"documentWrapper"),Be(this,"headers",[]),Be(this,"footers",[]),Be(this,"coreProperties"),Be(this,"numbering"),Be(this,"media"),Be(this,"fileRelationships"),Be(this,"footnotesWrapper"),Be(this,"settings"),Be(this,"contentTypes"),Be(this,"customProperties"),Be(this,"appProperties"),Be(this,"styles"),Be(this,"comments"),Be(this,"fontWrapper");var t,n,i,s,o,l,u,h,f,p,g,y;if(this.coreProperties=new hle(Sf(Wt({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new tue(e.numbering?e.numbering:{config:[]}),this.comments=new mae((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Dc,this.customProperties=new yle((o=e.customProperties)!=null?o:[]),this.appProperties=new ole,this.footnotesWrapper=new Mle,this.contentTypes=new cle,this.documentWrapper=new YF({background:e.background}),this.settings=new oue({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(l=e.features)==null?void 0:l.trackRevisions,updateFields:(u=e.features)==null?void 0:u.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(h=e.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(f=e.hyphenation)==null?void 0:f.hyphenationZone,consecutiveHyphenLimit:(p=e.hyphenation)==null?void 0:p.consecutiveHyphenLimit,doNotHyphenateCaps:(g=e.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new Fle,e.externalStyles!==void 0){const _=new Aue;this.styles=_.newInstance(e.externalStyles)}else if(e.styles){const w=new Q4().newInstance(e.styles.default);this.styles=new GT(Wt(Wt({},w),e.styles))}else{const _=new Q4;this.styles=new GT(_.newInstance())}this.addDefaultRelationships();for(const _ of e.sections)this.addSection(_);if(e.footnotes)for(const _ in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(_),e.footnotes[_].children);this.fontWrapper=new ble((y=e.fonts)!=null?y:[])}addSection({headers:e={},footers:t={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(Sf(Wt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const t=new Ble(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new xle(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Qh.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Qh.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var Rue=ZC();function i0(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var BE={exports:{}},Z4;function kue(){return Z4||(Z4=1,function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function o(h,f){if(!i[h]){if(!n[h]){var p=typeof i0=="function"&&i0;if(!f&&p)return p(h,!0);if(l)return l(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var y=i[h]={exports:{}};n[h][0].call(y.exports,function(_){var w=n[h][1][_];return o(w||_)},y,y.exports,t,n,i,s)}return i[h].exports}for(var l=typeof i0=="function"&&i0,u=0;u<s.length;u++)o(s[u]);return o}({1:[function(t,n,i){var s=t("./utils"),o=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var h,f,p,g,y,_,w,E=[],b=0,A=u.length,T=A,x=s.getTypeOf(u)!=="string";b<u.length;)T=A-b,p=x?(h=u[b++],f=b<A?u[b++]:0,b<A?u[b++]:0):(h=u.charCodeAt(b++),f=b<A?u.charCodeAt(b++):0,b<A?u.charCodeAt(b++):0),g=h>>2,y=(3&h)<<4|f>>4,_=1<T?(15&f)<<2|p>>6:64,w=2<T?63&p:64,E.push(l.charAt(g)+l.charAt(y)+l.charAt(_)+l.charAt(w));return E.join("")},i.decode=function(u){var h,f,p,g,y,_,w=0,E=0,b="data:";if(u.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var A,T=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===l.charAt(64)&&T--,u.charAt(u.length-2)===l.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=o.uint8array?new Uint8Array(0|T):new Array(0|T);w<u.length;)h=l.indexOf(u.charAt(w++))<<2|(g=l.indexOf(u.charAt(w++)))>>4,f=(15&g)<<4|(y=l.indexOf(u.charAt(w++)))>>2,p=(3&y)<<6|(_=l.indexOf(u.charAt(w++))),A[E++]=h,y!==64&&(A[E++]=f),_!==64&&(A[E++]=p);return A}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),o=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),u=t("./stream/DataLengthProbe");function h(f,p,g,y,_){this.compressedSize=f,this.uncompressedSize=p,this.crc32=g,this.compression=y,this.compressedContent=_}h.prototype={getContentWorker:function(){var f=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),p=this;return f.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(f,p,g){return f.pipe(new l).pipe(new u("uncompressedSize")).pipe(p.compressWorker(g)).pipe(new u("compressedSize")).withStreamInfo("compression",p)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),o=function(){for(var l,u=[],h=0;h<256;h++){l=h;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[h]=l}return u}();n.exports=function(l,u){return l!==void 0&&l.length?s.getTypeOf(l)!=="string"?function(h,f,p,g){var y=o,_=g+p;h^=-1;for(var w=g;w<_;w++)h=h>>>8^y[255&(h^f[w])];return-1^h}(0|u,l,l.length,0):function(h,f,p,g){var y=o,_=g+p;h^=-1;for(var w=g;w<_;w++)h=h>>>8^y[255&(h^f.charCodeAt(w))];return-1^h}(0|u,l,l.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=t("pako"),l=t("./utils"),u=t("./stream/GenericWorker"),h=s?"uint8array":"array";function f(p,g){u.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=g,this.meta={}}i.magic="\b\0",l.inherits(f,u),f.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(h,p.data),!1)},f.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(g){p.push({data:g,meta:p.meta})}},i.compressWorker=function(p){return new f("Deflate",p)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(y,_){var w,E="";for(w=0;w<_;w++)E+=String.fromCharCode(255&y),y>>>=8;return E}function o(y,_,w,E,b,A){var T,x,D=y.file,P=y.compression,N=A!==h.utf8encode,O=l.transformTo("string",A(D.name)),C=l.transformTo("string",h.utf8encode(D.name)),q=D.comment,$=l.transformTo("string",A(q)),M=l.transformTo("string",h.utf8encode(q)),V=C.length!==D.name.length,B=M.length!==q.length,oe="",Q="",X="",fe=D.dir,de=D.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};_&&!w||(ee.crc32=y.crc32,ee.compressedSize=y.compressedSize,ee.uncompressedSize=y.uncompressedSize);var J=0;_&&(J|=8),N||!V&&!B||(J|=2048);var K=0,re=0;fe&&(K|=16),b==="UNIX"?(re=798,K|=function(ve,ue){var j=ve;return ve||(j=ue?16893:33204),(65535&j)<<16}(D.unixPermissions,fe)):(re=20,K|=function(ve){return 63&(ve||0)}(D.dosPermissions)),T=de.getUTCHours(),T<<=6,T|=de.getUTCMinutes(),T<<=5,T|=de.getUTCSeconds()/2,x=de.getUTCFullYear()-1980,x<<=4,x|=de.getUTCMonth()+1,x<<=5,x|=de.getUTCDate(),V&&(Q=s(1,1)+s(f(O),4)+C,oe+="up"+s(Q.length,2)+Q),B&&(X=s(1,1)+s(f($),4)+M,oe+="uc"+s(X.length,2)+X);var he="";return he+=`
\0`,he+=s(J,2),he+=P.magic,he+=s(T,2),he+=s(x,2),he+=s(ee.crc32,4),he+=s(ee.compressedSize,4),he+=s(ee.uncompressedSize,4),he+=s(O.length,2),he+=s(oe.length,2),{fileRecord:p.LOCAL_FILE_HEADER+he+O+oe,dirRecord:p.CENTRAL_FILE_HEADER+s(re,2)+he+s($.length,2)+"\0\0\0\0"+s(K,4)+s(E,4)+O+oe+$}}var l=t("../utils"),u=t("../stream/GenericWorker"),h=t("../utf8"),f=t("../crc32"),p=t("../signature");function g(y,_,w,E){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=w,this.encodeFileName=E,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(g,u),g.prototype.push=function(y){var _=y.meta.percent||0,w=this.entriesCount,E=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,u.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:w?(_+100*(w-E-1))/w:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var w=o(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,w=o(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),_)this.push({data:function(E){return p.DATA_DESCRIPTOR+s(E.crc32,4)+s(E.compressedSize,4)+s(E.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var w=this.bytesWritten-y,E=function(b,A,T,x,D){var P=l.transformTo("string",D(x));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(b,2)+s(b,2)+s(A,4)+s(T,4)+s(P.length,2)+P}(this.dirRecords.length,w,y,this.zipComment,this.encodeFileName);this.push({data:E,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(w){_.processChunk(w)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(w){_.error(w)}),this},g.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var _=this._sources;if(!u.prototype.error.call(this,y))return!1;for(var w=0;w<_.length;w++)try{_[w].error(y)}catch{}return!0},g.prototype.lock=function(){u.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),o=t("./ZipFileWorker");i.generateWorker=function(l,u,h){var f=new o(u.streamFiles,h,u.platform,u.encodeFileName),p=0;try{l.forEach(function(g,y){p++;var _=function(A,T){var x=A||T,D=s[x];if(!D)throw new Error(x+" is not a valid compression method !");return D}(y.options.compression,u.compression),w=y.options.compressionOptions||u.compressionOptions||{},E=y.dir,b=y.date;y._compressWorker(_,w).withStreamInfo("file",{name:g,dir:E,date:b,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(f)}),f.entriesCount=p}catch(g){f.error(g)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var l in this)typeof this[l]!="function"&&(o[l]=this[l]);return o}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(o,l){return new s().loadAsync(o,l)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),o=t("./external"),l=t("./utf8"),u=t("./zipEntries"),h=t("./stream/Crc32Probe"),f=t("./nodejsUtils");function p(g){return new o.Promise(function(y,_){var w=g.decompressed.getContentWorker().pipe(new h);w.on("error",function(E){_(E)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var _=this;return y=s.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),f.isNode&&f.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(w){var E=new u(y);return E.load(w),E}).then(function(w){var E=[o.Promise.resolve(w)],b=w.files;if(y.checkCRC32)for(var A=0;A<b.length;A++)E.push(p(b[A]));return o.Promise.all(E)}).then(function(w){for(var E=w.shift(),b=E.files,A=0;A<b.length;A++){var T=b[A],x=T.fileNameStr,D=s.resolve(T.fileNameStr);_.file(D,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:y.createFolders}),T.dir||(_.file(D).unsafeOriginalName=x)}return E.zipComment.length&&(_.comment=E.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),o=t("../stream/GenericWorker");function l(u,h){o.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(h)}s.inherits(l,o),l.prototype._bindStream=function(u){var h=this;(this._stream=u).pause(),u.on("data",function(f){h.push({data:f,meta:{percent:0}})}).on("error",function(f){h.isPaused?this.generatedError=f:h.error(f)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},l.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function o(l,u,h){s.call(this,u),this._helper=l;var f=this;l.on("data",function(p,g){f.push(p)||f._helper.pause(),h&&h(g)}).on("error",function(p){f.emit("error",p)}).on("end",function(){f.push(null)})}t("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(D,P,N){var O,C=l.getTypeOf(P),q=l.extend(N||{},f);q.date=q.date||new Date,q.compression!==null&&(q.compression=q.compression.toUpperCase()),typeof q.unixPermissions=="string"&&(q.unixPermissions=parseInt(q.unixPermissions,8)),q.unixPermissions&&16384&q.unixPermissions&&(q.dir=!0),q.dosPermissions&&16&q.dosPermissions&&(q.dir=!0),q.dir&&(D=b(D)),q.createFolders&&(O=E(D))&&A.call(this,O,!0);var $=C==="string"&&q.binary===!1&&q.base64===!1;N&&N.binary!==void 0||(q.binary=!$),(P instanceof p&&P.uncompressedSize===0||q.dir||!P||P.length===0)&&(q.base64=!1,q.binary=!0,P="",q.compression="STORE",C="string");var M=null;M=P instanceof p||P instanceof u?P:_.isNode&&_.isStream(P)?new w(D,P):l.prepareContent(D,P,q.binary,q.optimizedBinaryString,q.base64);var V=new g(D,M,q);this.files[D]=V}var o=t("./utf8"),l=t("./utils"),u=t("./stream/GenericWorker"),h=t("./stream/StreamHelper"),f=t("./defaults"),p=t("./compressedObject"),g=t("./zipObject"),y=t("./generate"),_=t("./nodejsUtils"),w=t("./nodejs/NodejsStreamInputAdapter"),E=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var P=D.lastIndexOf("/");return 0<P?D.substring(0,P):""},b=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},A=function(D,P){return P=P!==void 0?P:f.createFolders,D=b(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:P}),this.files[D]};function T(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var P,N,O;for(P in this.files)O=this.files[P],(N=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&D(N,O)},filter:function(D){var P=[];return this.forEach(function(N,O){D(N,O)&&P.push(O)}),P},file:function(D,P,N){if(arguments.length!==1)return D=this.root+D,s.call(this,D,P,N),this;if(T(D)){var O=D;return this.filter(function(q,$){return!$.dir&&O.test(q)})}var C=this.files[this.root+D];return C&&!C.dir?C:null},folder:function(D){if(!D)return this;if(T(D))return this.filter(function(C,q){return q.dir&&D.test(C)});var P=this.root+D,N=A.call(this,P),O=this.clone();return O.root=N.name,O},remove:function(D){D=this.root+D;var P=this.files[D];if(P||(D.slice(-1)!=="/"&&(D+="/"),P=this.files[D]),P&&!P.dir)delete this.files[D];else for(var N=this.filter(function(C,q){return q.name.slice(0,D.length)===D}),O=0;O<N.length;O++)delete this.files[N[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var P,N={};try{if((N=l.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");l.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var O=N.comment||this.comment||"";P=y.generateWorker(this,N,O)}catch(C){(P=new u("error")).error(C)}return new h(P,N.type||"string",N.mimeType)},generateAsync:function(D,P){return this.generateInternalStream(D).accumulate(P)},generateNodeStream:function(D,P){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(P)}};n.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function o(l){s.call(this,l);for(var u=0;u<this.data.length;u++)l[u]=255&l[u]}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data[this.zero+l]},o.prototype.lastIndexOfSignature=function(l){for(var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===u&&this.data[g+1]===h&&this.data[g+2]===f&&this.data[g+3]===p)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(l){var u=l.charCodeAt(0),h=l.charCodeAt(1),f=l.charCodeAt(2),p=l.charCodeAt(3),g=this.readData(4);return u===g[0]&&h===g[1]&&f===g[2]&&p===g[3]},o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function o(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var u,h=0;for(this.checkOffset(l),u=this.index+l-1;u>=this.index;u--)h=(h<<8)+this.byteAt(u);return this.index+=l,h},readString:function(l){return s.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},n.exports=o},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},o.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},o.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},o.prototype.readData=function(l){this.checkOffset(l);var u=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function o(l){s.call(this,l)}t("../utils").inherits(o,s),o.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,u},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),o=t("../support"),l=t("./ArrayReader"),u=t("./StringReader"),h=t("./NodeBufferReader"),f=t("./Uint8ArrayReader");n.exports=function(p){var g=s.getTypeOf(p);return s.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new h(p):o.uint8array?new f(s.transformTo("uint8array",p)):new l(s.transformTo("array",p)):new u(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),o=t("../utils");function l(u){s.call(this,"ConvertWorker to "+u),this.destType=u}o.inherits(l,s),l.prototype.processChunk=function(u){this.push({data:o.transformTo(this.destType,u.data),meta:u.meta})},n.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),o=t("../crc32");function l(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,s),l.prototype.processChunk=function(u){this.streamInfo.crc32=o(u.data,this.streamInfo.crc32||0),this.push(u)},n.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}s.inherits(l,o),l.prototype.processChunk=function(u){if(u){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+u.data.length}o.prototype.processChunk.call(this,u)},n.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),o=t("./GenericWorker");function l(u){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(f){h.dataIsReady=!0,h.data=f,h.max=f&&f.length||0,h.type=s.getTypeOf(f),h.isPaused||h._tickAndRepeat()},function(f){h.error(f)})}s.inherits(l,o),l.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,h);break;case"uint8array":u=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":u=this.data.slice(this.index,h)}return this.index=h,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,l){return this._listeners[o].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,l){if(this._listeners[o])for(var u=0;u<this._listeners[o].length;u++)this._listeners[o][u].call(this,l)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var l=this;return o.on("data",function(u){l.processChunk(u)}),o.on("end",function(){l.end()}),o.on("error",function(u){l.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,l){return this.extraStreamInfo[o]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),o=t("./ConvertWorker"),l=t("./GenericWorker"),u=t("../base64"),h=t("../support"),f=t("../external"),p=null;if(h.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(_,w){return new f.Promise(function(E,b){var A=[],T=_._internalType,x=_._outputType,D=_._mimeType;_.on("data",function(P,N){A.push(P),w&&w(N)}).on("error",function(P){A=[],b(P)}).on("end",function(){try{var P=function(N,O,C){switch(N){case"blob":return s.newBlob(s.transformTo("arraybuffer",O),C);case"base64":return u.encode(O);default:return s.transformTo(N,O)}}(x,function(N,O){var C,q=0,$=null,M=0;for(C=0;C<O.length;C++)M+=O[C].length;switch(N){case"string":return O.join("");case"array":return Array.prototype.concat.apply([],O);case"uint8array":for($=new Uint8Array(M),C=0;C<O.length;C++)$.set(O[C],q),q+=O[C].length;return $;case"nodebuffer":return Buffer.concat(O);default:throw new Error("concat : unsupported type '"+N+"'")}}(T,A),D);E(P)}catch(N){b(N)}A=[]}).resume()})}function y(_,w,E){var b=w;switch(w){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=w,this._mimeType=E,s.checkSupport(b),this._worker=_.pipe(new o(b)),_.lock()}catch(A){this._worker=new l("error"),this._worker.error(A)}}y.prototype={accumulate:function(_){return g(this,_)},on:function(_,w){var E=this;return _==="data"?this._worker.on(_,function(b){w.call(E,b.data,b.meta)}):this._worker.on(_,function(){s.delay(w,arguments,E)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},_)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),o=t("./support"),l=t("./nodejsUtils"),u=t("./stream/GenericWorker"),h=new Array(256),f=0;f<256;f++)h[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;h[254]=h[254]=1;function p(){u.call(this,"utf-8 decode"),this.leftOver=null}function g(){u.call(this,"utf-8 encode")}i.utf8encode=function(y){return o.nodebuffer?l.newBufferFrom(y,"utf-8"):function(_){var w,E,b,A,T,x=_.length,D=0;for(A=0;A<x;A++)(64512&(E=_.charCodeAt(A)))==55296&&A+1<x&&(64512&(b=_.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(b-56320),A++),D+=E<128?1:E<2048?2:E<65536?3:4;for(w=o.uint8array?new Uint8Array(D):new Array(D),A=T=0;T<D;A++)(64512&(E=_.charCodeAt(A)))==55296&&A+1<x&&(64512&(b=_.charCodeAt(A+1)))==56320&&(E=65536+(E-55296<<10)+(b-56320),A++),E<128?w[T++]=E:(E<2048?w[T++]=192|E>>>6:(E<65536?w[T++]=224|E>>>12:(w[T++]=240|E>>>18,w[T++]=128|E>>>12&63),w[T++]=128|E>>>6&63),w[T++]=128|63&E);return w}(y)},i.utf8decode=function(y){return o.nodebuffer?s.transformTo("nodebuffer",y).toString("utf-8"):function(_){var w,E,b,A,T=_.length,x=new Array(2*T);for(w=E=0;w<T;)if((b=_[w++])<128)x[E++]=b;else if(4<(A=h[b]))x[E++]=65533,w+=A-1;else{for(b&=A===2?31:A===3?15:7;1<A&&w<T;)b=b<<6|63&_[w++],A--;1<A?x[E++]=65533:b<65536?x[E++]=b:(b-=65536,x[E++]=55296|b>>10&1023,x[E++]=56320|1023&b)}return x.length!==E&&(x.subarray?x=x.subarray(0,E):x.length=E),s.applyFromCharCode(x)}(y=s.transformTo(o.uint8array?"uint8array":"array",y))},s.inherits(p,u),p.prototype.processChunk=function(y){var _=s.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var w=_;(_=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),_.set(w,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var E=function(A,T){var x;for((T=T||A.length)>A.length&&(T=A.length),x=T-1;0<=x&&(192&A[x])==128;)x--;return x<0||x===0?T:x+h[A[x]]>T?x:T}(_),b=_;E!==_.length&&(o.uint8array?(b=_.subarray(0,E),this.leftOver=_.subarray(E,_.length)):(b=_.slice(0,E),this.leftOver=_.slice(E,_.length))),this.push({data:i.utf8decode(b),meta:y.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=p,s.inherits(g,u),g.prototype.processChunk=function(y){this.push({data:i.utf8encode(y.data),meta:y.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),o=t("./base64"),l=t("./nodejsUtils"),u=t("./external");function h(w){return w}function f(w,E){for(var b=0;b<w.length;++b)E[b]=255&w.charCodeAt(b);return E}t("setimmediate"),i.newBlob=function(w,E){i.checkSupport("blob");try{return new Blob([w],{type:E})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(w),b.getBlob(E)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(w,E,b){var A=[],T=0,x=w.length;if(x<=b)return String.fromCharCode.apply(null,w);for(;T<x;)E==="array"||E==="nodebuffer"?A.push(String.fromCharCode.apply(null,w.slice(T,Math.min(T+b,x)))):A.push(String.fromCharCode.apply(null,w.subarray(T,Math.min(T+b,x)))),T+=b;return A.join("")},stringifyByChar:function(w){for(var E="",b=0;b<w.length;b++)E+=String.fromCharCode(w[b]);return E},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function g(w){var E=65536,b=i.getTypeOf(w),A=!0;if(b==="uint8array"?A=p.applyCanBeUsed.uint8array:b==="nodebuffer"&&(A=p.applyCanBeUsed.nodebuffer),A)for(;1<E;)try{return p.stringifyByChunk(w,b,E)}catch{E=Math.floor(E/2)}return p.stringifyByChar(w)}function y(w,E){for(var b=0;b<w.length;b++)E[b]=w[b];return E}i.applyFromCharCode=g;var _={};_.string={string:h,array:function(w){return f(w,new Array(w.length))},arraybuffer:function(w){return _.string.uint8array(w).buffer},uint8array:function(w){return f(w,new Uint8Array(w.length))},nodebuffer:function(w){return f(w,l.allocBuffer(w.length))}},_.array={string:g,array:h,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return l.newBufferFrom(w)}},_.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return y(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:h,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return l.newBufferFrom(new Uint8Array(w))}},_.uint8array={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:h,nodebuffer:function(w){return l.newBufferFrom(w)}},_.nodebuffer={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return _.nodebuffer.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:h},i.transformTo=function(w,E){if(E=E||"",!w)return E;i.checkSupport(w);var b=i.getTypeOf(E);return _[b][w](E)},i.resolve=function(w){for(var E=w.split("/"),b=[],A=0;A<E.length;A++){var T=E[A];T==="."||T===""&&A!==0&&A!==E.length-1||(T===".."?b.pop():b.push(T))}return b.join("/")},i.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":s.nodebuffer&&l.isBuffer(w)?"nodebuffer":s.uint8array&&w instanceof Uint8Array?"uint8array":s.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(w){if(!s[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(w){var E,b,A="";for(b=0;b<(w||"").length;b++)A+="\\x"+((E=w.charCodeAt(b))<16?"0":"")+E.toString(16).toUpperCase();return A},i.delay=function(w,E,b){setImmediate(function(){w.apply(b||null,E||[])})},i.inherits=function(w,E){function b(){}b.prototype=E.prototype,w.prototype=new b},i.extend=function(){var w,E,b={};for(w=0;w<arguments.length;w++)for(E in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],E)&&b[E]===void 0&&(b[E]=arguments[w][E]);return b},i.prepareContent=function(w,E,b,A,T){return u.Promise.resolve(E).then(function(x){return s.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new u.Promise(function(D,P){var N=new FileReader;N.onload=function(O){D(O.target.result)},N.onerror=function(O){P(O.target.error)},N.readAsArrayBuffer(x)}):x}).then(function(x){var D=i.getTypeOf(x);return D?(D==="arraybuffer"?x=i.transformTo("uint8array",x):D==="string"&&(T?x=o.decode(x):b&&A!==!0&&(x=function(P){return f(P,s.uint8array?new Uint8Array(P.length):new Array(P.length))}(x))),x):u.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./signature"),u=t("./zipEntry"),h=t("./support");function f(p){this.files=[],this.loadOptions=p}f.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(p)+")")}},isSignature:function(p,g){var y=this.reader.index;this.reader.setIndex(p);var _=this.reader.readString(4)===g;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",y=o.transformTo(g,p);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,g,y,_=this.zip64EndOfCentralSize-44;0<_;)p=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[p]={id:p,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,g;for(p=0;p<this.files.length;p++)g=this.files[p],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var g=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=g-y;if(0<_)this.isSignature(g,l.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),o=t("./utils"),l=t("./compressedObject"),u=t("./crc32"),h=t("./utf8"),f=t("./compressions"),p=t("./support");function g(y,_){this.options=y,this.loadOptions=_}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,w;if(y.skip(22),this.fileNameLength=y.readInt(2),w=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(E){for(var b in f)if(Object.prototype.hasOwnProperty.call(f,b)&&f[b].magic===E)return f[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var _,w,E,b=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<b;)_=y.readInt(2),w=y.readInt(2),E=y.readData(w),this.extraFields[_]={id:_,length:w,value:E};y.setIndex(b)},handleUTF8:function(){var y=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var w=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var E=this.findExtraFieldUnicodeComment();if(E!==null)this.fileCommentStr=E;else{var b=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=s(y.value);return _.readInt(1)!==1||u(this.fileName)!==_.readInt(4)?null:h.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=s(y.value);return _.readInt(1)!==1||u(this.fileComment)!==_.readInt(4)?null:h.utf8decode(_.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(_,w,E){this.name=_,this.dir=E.dir,this.date=E.date,this.comment=E.comment,this.unixPermissions=E.unixPermissions,this.dosPermissions=E.dosPermissions,this._data=w,this._dataBinary=E.binary,this.options={compression:E.compression,compressionOptions:E.compressionOptions}}var o=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),u=t("./utf8"),h=t("./compressedObject"),f=t("./stream/GenericWorker");s.prototype={internalStream:function(_){var w=null,E="string";try{if(!_)throw new Error("No output type specified.");var b=(E=_.toLowerCase())==="string"||E==="text";E!=="binarystring"&&E!=="text"||(E="string"),w=this._decompressWorker();var A=!this._dataBinary;A&&!b&&(w=w.pipe(new u.Utf8EncodeWorker)),!A&&b&&(w=w.pipe(new u.Utf8DecodeWorker))}catch(T){(w=new f("error")).error(T)}return new o(w,E,"")},async:function(_,w){return this.internalStream(_).accumulate(w)},nodeStream:function(_,w){return this.internalStream(_||"nodebuffer").toNodejsStream(w)},_compressWorker:function(_,w){if(this._data instanceof h&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var E=this._decompressWorker();return this._dataBinary||(E=E.pipe(new u.Utf8EncodeWorker)),h.createWorkerFrom(E,_,w)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof f?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<p.length;y++)s.prototype[p[y]]=g;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var o,l,u=s.MutationObserver||s.WebKitMutationObserver;if(u){var h=0,f=new u(_),p=s.document.createTextNode("");f.observe(p,{characterData:!0}),o=function(){p.data=h=++h%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var w=s.document.createElement("script");w.onreadystatechange=function(){_(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},s.document.documentElement.appendChild(w)}:function(){setTimeout(_,0)};else{var g=new s.MessageChannel;g.port1.onmessage=_,o=function(){g.port2.postMessage(0)}}var y=[];function _(){var w,E;l=!0;for(var b=y.length;b;){for(E=y,y=[],w=-1;++w<b;)E[w]();b=y.length}l=!1}n.exports=function(w){y.push(w)!==1||l||o()}}).call(this,typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function o(){}var l={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];function p(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,b!==o&&w(this,b)}function g(b,A,T){this.promise=b,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function y(b,A,T){s(function(){var x;try{x=A(T)}catch(D){return l.reject(b,D)}x===b?l.reject(b,new TypeError("Cannot resolve promise with itself")):l.resolve(b,x)})}function _(b){var A=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof A=="function")return function(){A.apply(b,arguments)}}function w(b,A){var T=!1;function x(N){T||(T=!0,l.reject(b,N))}function D(N){T||(T=!0,l.resolve(b,N))}var P=E(function(){A(D,x)});P.status==="error"&&x(P.value)}function E(b,A){var T={};try{T.value=b(A),T.status="success"}catch(x){T.status="error",T.value=x}return T}(n.exports=p).prototype.finally=function(b){if(typeof b!="function")return this;var A=this.constructor;return this.then(function(T){return A.resolve(b()).then(function(){return T})},function(T){return A.resolve(b()).then(function(){throw T})})},p.prototype.catch=function(b){return this.then(null,b)},p.prototype.then=function(b,A){if(typeof b!="function"&&this.state===h||typeof A!="function"&&this.state===u)return this;var T=new this.constructor(o);return this.state!==f?y(T,this.state===h?b:A,this.outcome):this.queue.push(new g(T,b,A)),T},g.prototype.callFulfilled=function(b){l.resolve(this.promise,b)},g.prototype.otherCallFulfilled=function(b){y(this.promise,this.onFulfilled,b)},g.prototype.callRejected=function(b){l.reject(this.promise,b)},g.prototype.otherCallRejected=function(b){y(this.promise,this.onRejected,b)},l.resolve=function(b,A){var T=E(_,A);if(T.status==="error")return l.reject(b,T.value);var x=T.value;if(x)w(b,x);else{b.state=h,b.outcome=A;for(var D=-1,P=b.queue.length;++D<P;)b.queue[D].callFulfilled(A)}return b},l.reject=function(b,A){b.state=u,b.outcome=A;for(var T=-1,x=b.queue.length;++T<x;)b.queue[T].callRejected(A);return b},p.resolve=function(b){return b instanceof this?b:l.resolve(new this(o),b)},p.reject=function(b){var A=new this(o);return l.reject(A,b)},p.all=function(b){var A=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=b.length,x=!1;if(!T)return this.resolve([]);for(var D=new Array(T),P=0,N=-1,O=new this(o);++N<T;)C(b[N],N);return O;function C(q,$){A.resolve(q).then(function(M){D[$]=M,++P!==T||x||(x=!0,l.resolve(O,D))},function(M){x||(x=!0,l.reject(O,M))})}},p.race=function(b){var A=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=b.length,x=!1;if(!T)return this.resolve([]);for(var D=-1,P=new this(o);++D<T;)N=b[D],A.resolve(N).then(function(O){x||(x=!0,l.resolve(P,O))},function(O){x||(x=!0,l.reject(P,O))});var N;return P}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/messages"),h=t("./zlib/zstream"),f=Object.prototype.toString,p=0,g=-1,y=0,_=8;function w(b){if(!(this instanceof w))return new w(b);this.options=o.assign({level:g,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},b||{});var A=this.options;A.raw&&0<A.windowBits?A.windowBits=-A.windowBits:A.gzip&&0<A.windowBits&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(T!==p)throw new Error(u[T]);if(A.header&&s.deflateSetHeader(this.strm,A.header),A.dictionary){var x;if(x=typeof A.dictionary=="string"?l.string2buf(A.dictionary):f.call(A.dictionary)==="[object ArrayBuffer]"?new Uint8Array(A.dictionary):A.dictionary,(T=s.deflateSetDictionary(this.strm,x))!==p)throw new Error(u[T]);this._dict_set=!0}}function E(b,A){var T=new w(A);if(T.push(b,!0),T.err)throw T.msg||u[T.err];return T.result}w.prototype.push=function(b,A){var T,x,D=this.strm,P=this.options.chunkSize;if(this.ended)return!1;x=A===~~A?A:A===!0?4:0,typeof b=="string"?D.input=l.string2buf(b):f.call(b)==="[object ArrayBuffer]"?D.input=new Uint8Array(b):D.input=b,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new o.Buf8(P),D.next_out=0,D.avail_out=P),(T=s.deflate(D,x))!==1&&T!==p)return this.onEnd(T),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(o.shrinkBuf(D.output,D.next_out))):this.onData(o.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&T!==1);return x===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===p):x!==2||(this.onEnd(p),!(D.avail_out=0))},w.prototype.onData=function(b){this.chunks.push(b)},w.prototype.onEnd=function(b){b===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=w,i.deflate=E,i.deflateRaw=function(b,A){return(A=A||{}).raw=!0,E(b,A)},i.gzip=function(b,A){return(A=A||{}).gzip=!0,E(b,A)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),o=t("./utils/common"),l=t("./utils/strings"),u=t("./zlib/constants"),h=t("./zlib/messages"),f=t("./zlib/zstream"),p=t("./zlib/gzheader"),g=Object.prototype.toString;function y(w){if(!(this instanceof y))return new y(w);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},w||{});var E=this.options;E.raw&&0<=E.windowBits&&E.windowBits<16&&(E.windowBits=-E.windowBits,E.windowBits===0&&(E.windowBits=-15)),!(0<=E.windowBits&&E.windowBits<16)||w&&w.windowBits||(E.windowBits+=32),15<E.windowBits&&E.windowBits<48&&(15&E.windowBits)==0&&(E.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var b=s.inflateInit2(this.strm,E.windowBits);if(b!==u.Z_OK)throw new Error(h[b]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function _(w,E){var b=new y(E);if(b.push(w,!0),b.err)throw b.msg||h[b.err];return b.result}y.prototype.push=function(w,E){var b,A,T,x,D,P,N=this.strm,O=this.options.chunkSize,C=this.options.dictionary,q=!1;if(this.ended)return!1;A=E===~~E?E:E===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof w=="string"?N.input=l.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?N.input=new Uint8Array(w):N.input=w,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new o.Buf8(O),N.next_out=0,N.avail_out=O),(b=s.inflate(N,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&C&&(P=typeof C=="string"?l.string2buf(C):g.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,b=s.inflateSetDictionary(this.strm,P)),b===u.Z_BUF_ERROR&&q===!0&&(b=u.Z_OK,q=!1),b!==u.Z_STREAM_END&&b!==u.Z_OK)return this.onEnd(b),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&b!==u.Z_STREAM_END&&(N.avail_in!==0||A!==u.Z_FINISH&&A!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=l.utf8border(N.output,N.next_out),x=N.next_out-T,D=l.buf2string(N.output,T),N.next_out=x,N.avail_out=O-x,x&&o.arraySet(N.output,N.output,T,x,0),this.onData(D)):this.onData(o.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(q=!0)}while((0<N.avail_in||N.avail_out===0)&&b!==u.Z_STREAM_END);return b===u.Z_STREAM_END&&(A=u.Z_FINISH),A===u.Z_FINISH?(b=s.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u.Z_OK):A!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(N.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},i.Inflate=y,i.inflate=_,i.inflateRaw=function(w,E){return(E=E||{}).raw=!0,_(w,E)},i.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var f=h.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var p in f)f.hasOwnProperty(p)&&(u[p]=f[p])}}return u},i.shrinkBuf=function(u,h){return u.length===h?u:u.subarray?u.subarray(0,h):(u.length=h,u)};var o={arraySet:function(u,h,f,p,g){if(h.subarray&&u.subarray)u.set(h.subarray(f,f+p),g);else for(var y=0;y<p;y++)u[g+y]=h[f+y]},flattenChunks:function(u){var h,f,p,g,y,_;for(h=p=0,f=u.length;h<f;h++)p+=u[h].length;for(_=new Uint8Array(p),h=g=0,f=u.length;h<f;h++)y=u[h],_.set(y,g),g+=y.length;return _}},l={arraySet:function(u,h,f,p,g){for(var y=0;y<p;y++)u[g+y]=h[f+y]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,l))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),o=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var u=new s.Buf8(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function f(p,g){if(g<65537&&(p.subarray&&l||!p.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(p,g));for(var y="",_=0;_<g;_++)y+=String.fromCharCode(p[_]);return y}u[254]=u[254]=1,i.string2buf=function(p){var g,y,_,w,E,b=p.length,A=0;for(w=0;w<b;w++)(64512&(y=p.charCodeAt(w)))==55296&&w+1<b&&(64512&(_=p.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),w++),A+=y<128?1:y<2048?2:y<65536?3:4;for(g=new s.Buf8(A),w=E=0;E<A;w++)(64512&(y=p.charCodeAt(w)))==55296&&w+1<b&&(64512&(_=p.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),w++),y<128?g[E++]=y:(y<2048?g[E++]=192|y>>>6:(y<65536?g[E++]=224|y>>>12:(g[E++]=240|y>>>18,g[E++]=128|y>>>12&63),g[E++]=128|y>>>6&63),g[E++]=128|63&y);return g},i.buf2binstring=function(p){return f(p,p.length)},i.binstring2buf=function(p){for(var g=new s.Buf8(p.length),y=0,_=g.length;y<_;y++)g[y]=p.charCodeAt(y);return g},i.buf2string=function(p,g){var y,_,w,E,b=g||p.length,A=new Array(2*b);for(y=_=0;y<b;)if((w=p[y++])<128)A[_++]=w;else if(4<(E=u[w]))A[_++]=65533,y+=E-1;else{for(w&=E===2?31:E===3?15:7;1<E&&y<b;)w=w<<6|63&p[y++],E--;1<E?A[_++]=65533:w<65536?A[_++]=w:(w-=65536,A[_++]=55296|w>>10&1023,A[_++]=56320|1023&w)}return f(A,_)},i.utf8border=function(p,g){var y;for((g=g||p.length)>p.length&&(g=p.length),y=g-1;0<=y&&(192&p[y])==128;)y--;return y<0||y===0?g:y+u[p[y]]>g?y:g}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,o,l,u){for(var h=65535&s|0,f=s>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;f=f+(h=h+o[u++]|0)|0,--p;);h%=65521,f%=65521}return h|f<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l,u,h){var f=s,p=h+u;o^=-1;for(var g=h;g<p;g++)o=o>>>8^f[255&(o^l[g])];return-1^o}},{}],46:[function(t,n,i){var s,o=t("../utils/common"),l=t("./trees"),u=t("./adler32"),h=t("./crc32"),f=t("./messages"),p=0,g=4,y=0,_=-2,w=-1,E=4,b=2,A=8,T=9,x=286,D=30,P=19,N=2*x+1,O=15,C=3,q=258,$=q+C+1,M=42,V=113,B=1,oe=2,Q=3,X=4;function fe(U,Se){return U.msg=f[Se],Se}function de(U){return(U<<1)-(4<U?9:0)}function ee(U){for(var Se=U.length;0<=--Se;)U[Se]=0}function J(U){var Se=U.state,H=Se.pending;H>U.avail_out&&(H=U.avail_out),H!==0&&(o.arraySet(U.output,Se.pending_buf,Se.pending_out,H,U.next_out),U.next_out+=H,Se.pending_out+=H,U.total_out+=H,U.avail_out-=H,Se.pending-=H,Se.pending===0&&(Se.pending_out=0))}function K(U,Se){l._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,Se),U.block_start=U.strstart,J(U.strm)}function re(U,Se){U.pending_buf[U.pending++]=Se}function he(U,Se){U.pending_buf[U.pending++]=Se>>>8&255,U.pending_buf[U.pending++]=255&Se}function ve(U,Se){var H,k,I=U.max_chain_length,z=U.strstart,se=U.prev_length,ge=U.nice_match,le=U.strstart>U.w_size-$?U.strstart-(U.w_size-$):0,De=U.window,Pe=U.w_mask,Oe=U.prev,He=U.strstart+q,Ge=De[z+se-1],it=De[z+se];U.prev_length>=U.good_match&&(I>>=2),ge>U.lookahead&&(ge=U.lookahead);do if(De[(H=Se)+se]===it&&De[H+se-1]===Ge&&De[H]===De[z]&&De[++H]===De[z+1]){z+=2,H++;do;while(De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&z<He);if(k=q-(He-z),z=He-q,se<k){if(U.match_start=Se,ge<=(se=k))break;Ge=De[z+se-1],it=De[z+se]}}while((Se=Oe[Se&Pe])>le&&--I!=0);return se<=U.lookahead?se:U.lookahead}function ue(U){var Se,H,k,I,z,se,ge,le,De,Pe,Oe=U.w_size;do{if(I=U.window_size-U.lookahead-U.strstart,U.strstart>=Oe+(Oe-$)){for(o.arraySet(U.window,U.window,Oe,Oe,0),U.match_start-=Oe,U.strstart-=Oe,U.block_start-=Oe,Se=H=U.hash_size;k=U.head[--Se],U.head[Se]=Oe<=k?k-Oe:0,--H;);for(Se=H=Oe;k=U.prev[--Se],U.prev[Se]=Oe<=k?k-Oe:0,--H;);I+=Oe}if(U.strm.avail_in===0)break;if(se=U.strm,ge=U.window,le=U.strstart+U.lookahead,De=I,Pe=void 0,Pe=se.avail_in,De<Pe&&(Pe=De),H=Pe===0?0:(se.avail_in-=Pe,o.arraySet(ge,se.input,se.next_in,Pe,le),se.state.wrap===1?se.adler=u(se.adler,ge,Pe,le):se.state.wrap===2&&(se.adler=h(se.adler,ge,Pe,le)),se.next_in+=Pe,se.total_in+=Pe,Pe),U.lookahead+=H,U.lookahead+U.insert>=C)for(z=U.strstart-U.insert,U.ins_h=U.window[z],U.ins_h=(U.ins_h<<U.hash_shift^U.window[z+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[z+C-1])&U.hash_mask,U.prev[z&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=z,z++,U.insert--,!(U.lookahead+U.insert<C)););}while(U.lookahead<$&&U.strm.avail_in!==0)}function j(U,Se){for(var H,k;;){if(U.lookahead<$){if(ue(U),U.lookahead<$&&Se===p)return B;if(U.lookahead===0)break}if(H=0,U.lookahead>=C&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),H!==0&&U.strstart-H<=U.w_size-$&&(U.match_length=ve(U,H)),U.match_length>=C)if(k=l._tr_tally(U,U.strstart-U.match_start,U.match_length-C),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=C){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else k=l._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(k&&(K(U,!1),U.strm.avail_out===0))return B}return U.insert=U.strstart<C-1?U.strstart:C-1,Se===g?(K(U,!0),U.strm.avail_out===0?Q:X):U.last_lit&&(K(U,!1),U.strm.avail_out===0)?B:oe}function F(U,Se){for(var H,k,I;;){if(U.lookahead<$){if(ue(U),U.lookahead<$&&Se===p)return B;if(U.lookahead===0)break}if(H=0,U.lookahead>=C&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=C-1,H!==0&&U.prev_length<U.max_lazy_match&&U.strstart-H<=U.w_size-$&&(U.match_length=ve(U,H),U.match_length<=5&&(U.strategy===1||U.match_length===C&&4096<U.strstart-U.match_start)&&(U.match_length=C-1)),U.prev_length>=C&&U.match_length<=U.prev_length){for(I=U.strstart+U.lookahead-C,k=l._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-C),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=I&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+C-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=C-1,U.strstart++,k&&(K(U,!1),U.strm.avail_out===0))return B}else if(U.match_available){if((k=l._tr_tally(U,0,U.window[U.strstart-1]))&&K(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return B}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(k=l._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<C-1?U.strstart:C-1,Se===g?(K(U,!0),U.strm.avail_out===0?Q:X):U.last_lit&&(K(U,!1),U.strm.avail_out===0)?B:oe}function ce(U,Se,H,k,I){this.good_length=U,this.max_lazy=Se,this.nice_length=H,this.max_chain=k,this.func=I}function ie(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=A,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*N),this.dyn_dtree=new o.Buf16(2*(2*D+1)),this.bl_tree=new o.Buf16(2*(2*P+1)),ee(this.dyn_ltree),ee(this.dyn_dtree),ee(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(O+1),this.heap=new o.Buf16(2*x+1),ee(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),ee(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Y(U){var Se;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=b,(Se=U.state).pending=0,Se.pending_out=0,Se.wrap<0&&(Se.wrap=-Se.wrap),Se.status=Se.wrap?M:V,U.adler=Se.wrap===2?0:1,Se.last_flush=p,l._tr_init(Se),y):fe(U,_)}function te(U){var Se=Y(U);return Se===y&&function(H){H.window_size=2*H.w_size,ee(H.head),H.max_lazy_match=s[H.level].max_lazy,H.good_match=s[H.level].good_length,H.nice_match=s[H.level].nice_length,H.max_chain_length=s[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=C-1,H.match_available=0,H.ins_h=0}(U.state),Se}function _e(U,Se,H,k,I,z){if(!U)return _;var se=1;if(Se===w&&(Se=6),k<0?(se=0,k=-k):15<k&&(se=2,k-=16),I<1||T<I||H!==A||k<8||15<k||Se<0||9<Se||z<0||E<z)return fe(U,_);k===8&&(k=9);var ge=new ie;return(U.state=ge).strm=U,ge.wrap=se,ge.gzhead=null,ge.w_bits=k,ge.w_size=1<<ge.w_bits,ge.w_mask=ge.w_size-1,ge.hash_bits=I+7,ge.hash_size=1<<ge.hash_bits,ge.hash_mask=ge.hash_size-1,ge.hash_shift=~~((ge.hash_bits+C-1)/C),ge.window=new o.Buf8(2*ge.w_size),ge.head=new o.Buf16(ge.hash_size),ge.prev=new o.Buf16(ge.w_size),ge.lit_bufsize=1<<I+6,ge.pending_buf_size=4*ge.lit_bufsize,ge.pending_buf=new o.Buf8(ge.pending_buf_size),ge.d_buf=1*ge.lit_bufsize,ge.l_buf=3*ge.lit_bufsize,ge.level=Se,ge.strategy=z,ge.method=H,te(U)}s=[new ce(0,0,0,0,function(U,Se){var H=65535;for(H>U.pending_buf_size-5&&(H=U.pending_buf_size-5);;){if(U.lookahead<=1){if(ue(U),U.lookahead===0&&Se===p)return B;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var k=U.block_start+H;if((U.strstart===0||U.strstart>=k)&&(U.lookahead=U.strstart-k,U.strstart=k,K(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-$&&(K(U,!1),U.strm.avail_out===0))return B}return U.insert=0,Se===g?(K(U,!0),U.strm.avail_out===0?Q:X):(U.strstart>U.block_start&&(K(U,!1),U.strm.avail_out),B)}),new ce(4,4,8,4,j),new ce(4,5,16,8,j),new ce(4,6,32,32,j),new ce(4,4,16,16,F),new ce(8,16,32,32,F),new ce(8,16,128,128,F),new ce(8,32,128,256,F),new ce(32,128,258,1024,F),new ce(32,258,258,4096,F)],i.deflateInit=function(U,Se){return _e(U,Se,A,15,8,0)},i.deflateInit2=_e,i.deflateReset=te,i.deflateResetKeep=Y,i.deflateSetHeader=function(U,Se){return U&&U.state?U.state.wrap!==2?_:(U.state.gzhead=Se,y):_},i.deflate=function(U,Se){var H,k,I,z;if(!U||!U.state||5<Se||Se<0)return U?fe(U,_):_;if(k=U.state,!U.output||!U.input&&U.avail_in!==0||k.status===666&&Se!==g)return fe(U,U.avail_out===0?-5:_);if(k.strm=U,H=k.last_flush,k.last_flush=Se,k.status===M)if(k.wrap===2)U.adler=0,re(k,31),re(k,139),re(k,8),k.gzhead?(re(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),re(k,255&k.gzhead.time),re(k,k.gzhead.time>>8&255),re(k,k.gzhead.time>>16&255),re(k,k.gzhead.time>>24&255),re(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),re(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(re(k,255&k.gzhead.extra.length),re(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(U.adler=h(U.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(re(k,0),re(k,0),re(k,0),re(k,0),re(k,0),re(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),re(k,3),k.status=V);else{var se=A+(k.w_bits-8<<4)<<8;se|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(se|=32),se+=31-se%31,k.status=V,he(k,se),k.strstart!==0&&(he(k,U.adler>>>16),he(k,65535&U.adler)),U.adler=1}if(k.status===69)if(k.gzhead.extra){for(I=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>I&&(U.adler=h(U.adler,k.pending_buf,k.pending-I,I)),J(U),I=k.pending,k.pending!==k.pending_buf_size));)re(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>I&&(U.adler=h(U.adler,k.pending_buf,k.pending-I,I)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(U.adler=h(U.adler,k.pending_buf,k.pending-I,I)),J(U),I=k.pending,k.pending===k.pending_buf_size)){z=1;break}z=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,re(k,z)}while(z!==0);k.gzhead.hcrc&&k.pending>I&&(U.adler=h(U.adler,k.pending_buf,k.pending-I,I)),z===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(U.adler=h(U.adler,k.pending_buf,k.pending-I,I)),J(U),I=k.pending,k.pending===k.pending_buf_size)){z=1;break}z=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,re(k,z)}while(z!==0);k.gzhead.hcrc&&k.pending>I&&(U.adler=h(U.adler,k.pending_buf,k.pending-I,I)),z===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&J(U),k.pending+2<=k.pending_buf_size&&(re(k,255&U.adler),re(k,U.adler>>8&255),U.adler=0,k.status=V)):k.status=V),k.pending!==0){if(J(U),U.avail_out===0)return k.last_flush=-1,y}else if(U.avail_in===0&&de(Se)<=de(H)&&Se!==g)return fe(U,-5);if(k.status===666&&U.avail_in!==0)return fe(U,-5);if(U.avail_in!==0||k.lookahead!==0||Se!==p&&k.status!==666){var ge=k.strategy===2?function(le,De){for(var Pe;;){if(le.lookahead===0&&(ue(le),le.lookahead===0)){if(De===p)return B;break}if(le.match_length=0,Pe=l._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++,Pe&&(K(le,!1),le.strm.avail_out===0))return B}return le.insert=0,De===g?(K(le,!0),le.strm.avail_out===0?Q:X):le.last_lit&&(K(le,!1),le.strm.avail_out===0)?B:oe}(k,Se):k.strategy===3?function(le,De){for(var Pe,Oe,He,Ge,it=le.window;;){if(le.lookahead<=q){if(ue(le),le.lookahead<=q&&De===p)return B;if(le.lookahead===0)break}if(le.match_length=0,le.lookahead>=C&&0<le.strstart&&(Oe=it[He=le.strstart-1])===it[++He]&&Oe===it[++He]&&Oe===it[++He]){Ge=le.strstart+q;do;while(Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&Oe===it[++He]&&He<Ge);le.match_length=q-(Ge-He),le.match_length>le.lookahead&&(le.match_length=le.lookahead)}if(le.match_length>=C?(Pe=l._tr_tally(le,1,le.match_length-C),le.lookahead-=le.match_length,le.strstart+=le.match_length,le.match_length=0):(Pe=l._tr_tally(le,0,le.window[le.strstart]),le.lookahead--,le.strstart++),Pe&&(K(le,!1),le.strm.avail_out===0))return B}return le.insert=0,De===g?(K(le,!0),le.strm.avail_out===0?Q:X):le.last_lit&&(K(le,!1),le.strm.avail_out===0)?B:oe}(k,Se):s[k.level].func(k,Se);if(ge!==Q&&ge!==X||(k.status=666),ge===B||ge===Q)return U.avail_out===0&&(k.last_flush=-1),y;if(ge===oe&&(Se===1?l._tr_align(k):Se!==5&&(l._tr_stored_block(k,0,0,!1),Se===3&&(ee(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),J(U),U.avail_out===0))return k.last_flush=-1,y}return Se!==g?y:k.wrap<=0?1:(k.wrap===2?(re(k,255&U.adler),re(k,U.adler>>8&255),re(k,U.adler>>16&255),re(k,U.adler>>24&255),re(k,255&U.total_in),re(k,U.total_in>>8&255),re(k,U.total_in>>16&255),re(k,U.total_in>>24&255)):(he(k,U.adler>>>16),he(k,65535&U.adler)),J(U),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?y:1)},i.deflateEnd=function(U){var Se;return U&&U.state?(Se=U.state.status)!==M&&Se!==69&&Se!==73&&Se!==91&&Se!==103&&Se!==V&&Se!==666?fe(U,_):(U.state=null,Se===V?fe(U,-3):y):_},i.deflateSetDictionary=function(U,Se){var H,k,I,z,se,ge,le,De,Pe=Se.length;if(!U||!U.state||(z=(H=U.state).wrap)===2||z===1&&H.status!==M||H.lookahead)return _;for(z===1&&(U.adler=u(U.adler,Se,Pe,0)),H.wrap=0,Pe>=H.w_size&&(z===0&&(ee(H.head),H.strstart=0,H.block_start=0,H.insert=0),De=new o.Buf8(H.w_size),o.arraySet(De,Se,Pe-H.w_size,H.w_size,0),Se=De,Pe=H.w_size),se=U.avail_in,ge=U.next_in,le=U.input,U.avail_in=Pe,U.next_in=0,U.input=Se,ue(H);H.lookahead>=C;){for(k=H.strstart,I=H.lookahead-(C-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[k+C-1])&H.hash_mask,H.prev[k&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=k,k++,--I;);H.strstart=k,H.lookahead=C-1,ue(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=C-1,H.match_available=0,U.next_in=ge,U.input=le,U.avail_in=se,H.wrap=z,y},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,o){var l,u,h,f,p,g,y,_,w,E,b,A,T,x,D,P,N,O,C,q,$,M,V,B,oe;l=s.state,u=s.next_in,B=s.input,h=u+(s.avail_in-5),f=s.next_out,oe=s.output,p=f-(o-s.avail_out),g=f+(s.avail_out-257),y=l.dmax,_=l.wsize,w=l.whave,E=l.wnext,b=l.window,A=l.hold,T=l.bits,x=l.lencode,D=l.distcode,P=(1<<l.lenbits)-1,N=(1<<l.distbits)-1;e:do{T<15&&(A+=B[u++]<<T,T+=8,A+=B[u++]<<T,T+=8),O=x[A&P];t:for(;;){if(A>>>=C=O>>>24,T-=C,(C=O>>>16&255)===0)oe[f++]=65535&O;else{if(!(16&C)){if((64&C)==0){O=x[(65535&O)+(A&(1<<C)-1)];continue t}if(32&C){l.mode=12;break e}s.msg="invalid literal/length code",l.mode=30;break e}q=65535&O,(C&=15)&&(T<C&&(A+=B[u++]<<T,T+=8),q+=A&(1<<C)-1,A>>>=C,T-=C),T<15&&(A+=B[u++]<<T,T+=8,A+=B[u++]<<T,T+=8),O=D[A&N];n:for(;;){if(A>>>=C=O>>>24,T-=C,!(16&(C=O>>>16&255))){if((64&C)==0){O=D[(65535&O)+(A&(1<<C)-1)];continue n}s.msg="invalid distance code",l.mode=30;break e}if($=65535&O,T<(C&=15)&&(A+=B[u++]<<T,(T+=8)<C&&(A+=B[u++]<<T,T+=8)),y<($+=A&(1<<C)-1)){s.msg="invalid distance too far back",l.mode=30;break e}if(A>>>=C,T-=C,(C=f-p)<$){if(w<(C=$-C)&&l.sane){s.msg="invalid distance too far back",l.mode=30;break e}if(V=b,(M=0)===E){if(M+=_-C,C<q){for(q-=C;oe[f++]=b[M++],--C;);M=f-$,V=oe}}else if(E<C){if(M+=_+E-C,(C-=E)<q){for(q-=C;oe[f++]=b[M++],--C;);if(M=0,E<q){for(q-=C=E;oe[f++]=b[M++],--C;);M=f-$,V=oe}}}else if(M+=E-C,C<q){for(q-=C;oe[f++]=b[M++],--C;);M=f-$,V=oe}for(;2<q;)oe[f++]=V[M++],oe[f++]=V[M++],oe[f++]=V[M++],q-=3;q&&(oe[f++]=V[M++],1<q&&(oe[f++]=V[M++]))}else{for(M=f-$;oe[f++]=oe[M++],oe[f++]=oe[M++],oe[f++]=oe[M++],2<(q-=3););q&&(oe[f++]=oe[M++],1<q&&(oe[f++]=oe[M++]))}break}}break}}while(u<h&&f<g);u-=q=T>>3,A&=(1<<(T-=q<<3))-1,s.next_in=u,s.next_out=f,s.avail_in=u<h?h-u+5:5-(u-h),s.avail_out=f<g?g-f+257:257-(f-g),l.hold=A,l.bits=T}},{}],49:[function(t,n,i){var s=t("../utils/common"),o=t("./adler32"),l=t("./crc32"),u=t("./inffast"),h=t("./inftrees"),f=1,p=2,g=0,y=-2,_=1,w=852,E=592;function b(M){return(M>>>24&255)+(M>>>8&65280)+((65280&M)<<8)+((255&M)<<24)}function A(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(M){var V;return M&&M.state?(V=M.state,M.total_in=M.total_out=V.total=0,M.msg="",V.wrap&&(M.adler=1&V.wrap),V.mode=_,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new s.Buf32(w),V.distcode=V.distdyn=new s.Buf32(E),V.sane=1,V.back=-1,g):y}function x(M){var V;return M&&M.state?((V=M.state).wsize=0,V.whave=0,V.wnext=0,T(M)):y}function D(M,V){var B,oe;return M&&M.state?(oe=M.state,V<0?(B=0,V=-V):(B=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?y:(oe.window!==null&&oe.wbits!==V&&(oe.window=null),oe.wrap=B,oe.wbits=V,x(M))):y}function P(M,V){var B,oe;return M?(oe=new A,(M.state=oe).window=null,(B=D(M,V))!==g&&(M.state=null),B):y}var N,O,C=!0;function q(M){if(C){var V;for(N=new s.Buf32(512),O=new s.Buf32(32),V=0;V<144;)M.lens[V++]=8;for(;V<256;)M.lens[V++]=9;for(;V<280;)M.lens[V++]=7;for(;V<288;)M.lens[V++]=8;for(h(f,M.lens,0,288,N,0,M.work,{bits:9}),V=0;V<32;)M.lens[V++]=5;h(p,M.lens,0,32,O,0,M.work,{bits:5}),C=!1}M.lencode=N,M.lenbits=9,M.distcode=O,M.distbits=5}function $(M,V,B,oe){var Q,X=M.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),oe>=X.wsize?(s.arraySet(X.window,V,B-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(oe<(Q=X.wsize-X.wnext)&&(Q=oe),s.arraySet(X.window,V,B-oe,Q,X.wnext),(oe-=Q)?(s.arraySet(X.window,V,B-oe,oe,0),X.wnext=oe,X.whave=X.wsize):(X.wnext+=Q,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=Q))),0}i.inflateReset=x,i.inflateReset2=D,i.inflateResetKeep=T,i.inflateInit=function(M){return P(M,15)},i.inflateInit2=P,i.inflate=function(M,V){var B,oe,Q,X,fe,de,ee,J,K,re,he,ve,ue,j,F,ce,ie,Y,te,_e,U,Se,H,k,I=0,z=new s.Buf8(4),se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!M||!M.state||!M.output||!M.input&&M.avail_in!==0)return y;(B=M.state).mode===12&&(B.mode=13),fe=M.next_out,Q=M.output,ee=M.avail_out,X=M.next_in,oe=M.input,de=M.avail_in,J=B.hold,K=B.bits,re=de,he=ee,Se=g;e:for(;;)switch(B.mode){case _:if(B.wrap===0){B.mode=13;break}for(;K<16;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(2&B.wrap&&J===35615){z[B.check=0]=255&J,z[1]=J>>>8&255,B.check=l(B.check,z,2,0),K=J=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&J)<<8)+(J>>8))%31){M.msg="incorrect header check",B.mode=30;break}if((15&J)!=8){M.msg="unknown compression method",B.mode=30;break}if(K-=4,U=8+(15&(J>>>=4)),B.wbits===0)B.wbits=U;else if(U>B.wbits){M.msg="invalid window size",B.mode=30;break}B.dmax=1<<U,M.adler=B.check=1,B.mode=512&J?10:12,K=J=0;break;case 2:for(;K<16;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(B.flags=J,(255&B.flags)!=8){M.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){M.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=J>>8&1),512&B.flags&&(z[0]=255&J,z[1]=J>>>8&255,B.check=l(B.check,z,2,0)),K=J=0,B.mode=3;case 3:for(;K<32;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}B.head&&(B.head.time=J),512&B.flags&&(z[0]=255&J,z[1]=J>>>8&255,z[2]=J>>>16&255,z[3]=J>>>24&255,B.check=l(B.check,z,4,0)),K=J=0,B.mode=4;case 4:for(;K<16;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}B.head&&(B.head.xflags=255&J,B.head.os=J>>8),512&B.flags&&(z[0]=255&J,z[1]=J>>>8&255,B.check=l(B.check,z,2,0)),K=J=0,B.mode=5;case 5:if(1024&B.flags){for(;K<16;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}B.length=J,B.head&&(B.head.extra_len=J),512&B.flags&&(z[0]=255&J,z[1]=J>>>8&255,B.check=l(B.check,z,2,0)),K=J=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(de<(ve=B.length)&&(ve=de),ve&&(B.head&&(U=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),s.arraySet(B.head.extra,oe,X,ve,U)),512&B.flags&&(B.check=l(B.check,oe,ve,X)),de-=ve,X+=ve,B.length-=ve),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(de===0)break e;for(ve=0;U=oe[X+ve++],B.head&&U&&B.length<65536&&(B.head.name+=String.fromCharCode(U)),U&&ve<de;);if(512&B.flags&&(B.check=l(B.check,oe,ve,X)),de-=ve,X+=ve,U)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(de===0)break e;for(ve=0;U=oe[X+ve++],B.head&&U&&B.length<65536&&(B.head.comment+=String.fromCharCode(U)),U&&ve<de;);if(512&B.flags&&(B.check=l(B.check,oe,ve,X)),de-=ve,X+=ve,U)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;K<16;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(J!==(65535&B.check)){M.msg="header crc mismatch",B.mode=30;break}K=J=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),M.adler=B.check=0,B.mode=12;break;case 10:for(;K<32;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}M.adler=B.check=b(J),K=J=0,B.mode=11;case 11:if(B.havedict===0)return M.next_out=fe,M.avail_out=ee,M.next_in=X,M.avail_in=de,B.hold=J,B.bits=K,2;M.adler=B.check=1,B.mode=12;case 12:if(V===5||V===6)break e;case 13:if(B.last){J>>>=7&K,K-=7&K,B.mode=27;break}for(;K<3;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}switch(B.last=1&J,K-=1,3&(J>>>=1)){case 0:B.mode=14;break;case 1:if(q(B),B.mode=20,V!==6)break;J>>>=2,K-=2;break e;case 2:B.mode=17;break;case 3:M.msg="invalid block type",B.mode=30}J>>>=2,K-=2;break;case 14:for(J>>>=7&K,K-=7&K;K<32;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if((65535&J)!=(J>>>16^65535)){M.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&J,K=J=0,B.mode=15,V===6)break e;case 15:B.mode=16;case 16:if(ve=B.length){if(de<ve&&(ve=de),ee<ve&&(ve=ee),ve===0)break e;s.arraySet(Q,oe,X,ve,fe),de-=ve,X+=ve,ee-=ve,fe+=ve,B.length-=ve;break}B.mode=12;break;case 17:for(;K<14;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(B.nlen=257+(31&J),J>>>=5,K-=5,B.ndist=1+(31&J),J>>>=5,K-=5,B.ncode=4+(15&J),J>>>=4,K-=4,286<B.nlen||30<B.ndist){M.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;K<3;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}B.lens[se[B.have++]]=7&J,J>>>=3,K-=3}for(;B.have<19;)B.lens[se[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,H={bits:B.lenbits},Se=h(0,B.lens,0,19,B.lencode,0,B.work,H),B.lenbits=H.bits,Se){M.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;ce=(I=B.lencode[J&(1<<B.lenbits)-1])>>>16&255,ie=65535&I,!((F=I>>>24)<=K);){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(ie<16)J>>>=F,K-=F,B.lens[B.have++]=ie;else{if(ie===16){for(k=F+2;K<k;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(J>>>=F,K-=F,B.have===0){M.msg="invalid bit length repeat",B.mode=30;break}U=B.lens[B.have-1],ve=3+(3&J),J>>>=2,K-=2}else if(ie===17){for(k=F+3;K<k;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}K-=F,U=0,ve=3+(7&(J>>>=F)),J>>>=3,K-=3}else{for(k=F+7;K<k;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}K-=F,U=0,ve=11+(127&(J>>>=F)),J>>>=7,K-=7}if(B.have+ve>B.nlen+B.ndist){M.msg="invalid bit length repeat",B.mode=30;break}for(;ve--;)B.lens[B.have++]=U}}if(B.mode===30)break;if(B.lens[256]===0){M.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,H={bits:B.lenbits},Se=h(f,B.lens,0,B.nlen,B.lencode,0,B.work,H),B.lenbits=H.bits,Se){M.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,H={bits:B.distbits},Se=h(p,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,H),B.distbits=H.bits,Se){M.msg="invalid distances set",B.mode=30;break}if(B.mode=20,V===6)break e;case 20:B.mode=21;case 21:if(6<=de&&258<=ee){M.next_out=fe,M.avail_out=ee,M.next_in=X,M.avail_in=de,B.hold=J,B.bits=K,u(M,he),fe=M.next_out,Q=M.output,ee=M.avail_out,X=M.next_in,oe=M.input,de=M.avail_in,J=B.hold,K=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;ce=(I=B.lencode[J&(1<<B.lenbits)-1])>>>16&255,ie=65535&I,!((F=I>>>24)<=K);){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(ce&&(240&ce)==0){for(Y=F,te=ce,_e=ie;ce=(I=B.lencode[_e+((J&(1<<Y+te)-1)>>Y)])>>>16&255,ie=65535&I,!(Y+(F=I>>>24)<=K);){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}J>>>=Y,K-=Y,B.back+=Y}if(J>>>=F,K-=F,B.back+=F,B.length=ie,ce===0){B.mode=26;break}if(32&ce){B.back=-1,B.mode=12;break}if(64&ce){M.msg="invalid literal/length code",B.mode=30;break}B.extra=15&ce,B.mode=22;case 22:if(B.extra){for(k=B.extra;K<k;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}B.length+=J&(1<<B.extra)-1,J>>>=B.extra,K-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;ce=(I=B.distcode[J&(1<<B.distbits)-1])>>>16&255,ie=65535&I,!((F=I>>>24)<=K);){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if((240&ce)==0){for(Y=F,te=ce,_e=ie;ce=(I=B.distcode[_e+((J&(1<<Y+te)-1)>>Y)])>>>16&255,ie=65535&I,!(Y+(F=I>>>24)<=K);){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}J>>>=Y,K-=Y,B.back+=Y}if(J>>>=F,K-=F,B.back+=F,64&ce){M.msg="invalid distance code",B.mode=30;break}B.offset=ie,B.extra=15&ce,B.mode=24;case 24:if(B.extra){for(k=B.extra;K<k;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}B.offset+=J&(1<<B.extra)-1,J>>>=B.extra,K-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){M.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(ee===0)break e;if(ve=he-ee,B.offset>ve){if((ve=B.offset-ve)>B.whave&&B.sane){M.msg="invalid distance too far back",B.mode=30;break}ue=ve>B.wnext?(ve-=B.wnext,B.wsize-ve):B.wnext-ve,ve>B.length&&(ve=B.length),j=B.window}else j=Q,ue=fe-B.offset,ve=B.length;for(ee<ve&&(ve=ee),ee-=ve,B.length-=ve;Q[fe++]=j[ue++],--ve;);B.length===0&&(B.mode=21);break;case 26:if(ee===0)break e;Q[fe++]=B.length,ee--,B.mode=21;break;case 27:if(B.wrap){for(;K<32;){if(de===0)break e;de--,J|=oe[X++]<<K,K+=8}if(he-=ee,M.total_out+=he,B.total+=he,he&&(M.adler=B.check=B.flags?l(B.check,Q,he,fe-he):o(B.check,Q,he,fe-he)),he=ee,(B.flags?J:b(J))!==B.check){M.msg="incorrect data check",B.mode=30;break}K=J=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;K<32;){if(de===0)break e;de--,J+=oe[X++]<<K,K+=8}if(J!==(4294967295&B.total)){M.msg="incorrect length check",B.mode=30;break}K=J=0}B.mode=29;case 29:Se=1;break e;case 30:Se=-3;break e;case 31:return-4;case 32:default:return y}return M.next_out=fe,M.avail_out=ee,M.next_in=X,M.avail_in=de,B.hold=J,B.bits=K,(B.wsize||he!==M.avail_out&&B.mode<30&&(B.mode<27||V!==4))&&$(M,M.output,M.next_out,he-M.avail_out)?(B.mode=31,-4):(re-=M.avail_in,he-=M.avail_out,M.total_in+=re,M.total_out+=he,B.total+=he,B.wrap&&he&&(M.adler=B.check=B.flags?l(B.check,Q,he,M.next_out-he):o(B.check,Q,he,M.next_out-he)),M.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(re==0&&he===0||V===4)&&Se===g&&(Se=-5),Se)},i.inflateEnd=function(M){if(!M||!M.state)return y;var V=M.state;return V.window&&(V.window=null),M.state=null,g},i.inflateGetHeader=function(M,V){var B;return M&&M.state?(2&(B=M.state).wrap)==0?y:((B.head=V).done=!1,g):y},i.inflateSetDictionary=function(M,V){var B,oe=V.length;return M&&M.state?(B=M.state).wrap!==0&&B.mode!==11?y:B.mode===11&&o(1,V,oe,0)!==B.check?-3:$(M,V,oe,oe)?(B.mode=31,-4):(B.havedict=1,g):y},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(f,p,g,y,_,w,E,b){var A,T,x,D,P,N,O,C,q,$=b.bits,M=0,V=0,B=0,oe=0,Q=0,X=0,fe=0,de=0,ee=0,J=0,K=null,re=0,he=new s.Buf16(16),ve=new s.Buf16(16),ue=null,j=0;for(M=0;M<=15;M++)he[M]=0;for(V=0;V<y;V++)he[p[g+V]]++;for(Q=$,oe=15;1<=oe&&he[oe]===0;oe--);if(oe<Q&&(Q=oe),oe===0)return _[w++]=20971520,_[w++]=20971520,b.bits=1,0;for(B=1;B<oe&&he[B]===0;B++);for(Q<B&&(Q=B),M=de=1;M<=15;M++)if(de<<=1,(de-=he[M])<0)return-1;if(0<de&&(f===0||oe!==1))return-1;for(ve[1]=0,M=1;M<15;M++)ve[M+1]=ve[M]+he[M];for(V=0;V<y;V++)p[g+V]!==0&&(E[ve[p[g+V]]++]=V);if(N=f===0?(K=ue=E,19):f===1?(K=o,re-=257,ue=l,j-=257,256):(K=u,ue=h,-1),M=B,P=w,fe=V=J=0,x=-1,D=(ee=1<<(X=Q))-1,f===1&&852<ee||f===2&&592<ee)return 1;for(;;){for(O=M-fe,q=E[V]<N?(C=0,E[V]):E[V]>N?(C=ue[j+E[V]],K[re+E[V]]):(C=96,0),A=1<<M-fe,B=T=1<<X;_[P+(J>>fe)+(T-=A)]=O<<24|C<<16|q|0,T!==0;);for(A=1<<M-1;J&A;)A>>=1;if(A!==0?(J&=A-1,J+=A):J=0,V++,--he[M]==0){if(M===oe)break;M=p[g+E[V]]}if(Q<M&&(J&D)!==x){for(fe===0&&(fe=Q),P+=B,de=1<<(X=M-fe);X+fe<oe&&!((de-=he[X+fe])<=0);)X++,de<<=1;if(ee+=1<<X,f===1&&852<ee||f===2&&592<ee)return 1;_[x=J&D]=Q<<24|X<<16|P-w|0}}return J!==0&&(_[P+J]=M-fe<<24|64<<16|0),b.bits=Q,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),o=0,l=1;function u(I){for(var z=I.length;0<=--z;)I[z]=0}var h=0,f=29,p=256,g=p+1+f,y=30,_=19,w=2*g+1,E=15,b=16,A=7,T=256,x=16,D=17,P=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],O=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],$=new Array(2*(g+2));u($);var M=new Array(2*y);u(M);var V=new Array(512);u(V);var B=new Array(256);u(B);var oe=new Array(f);u(oe);var Q,X,fe,de=new Array(y);function ee(I,z,se,ge,le){this.static_tree=I,this.extra_bits=z,this.extra_base=se,this.elems=ge,this.max_length=le,this.has_stree=I&&I.length}function J(I,z){this.dyn_tree=I,this.max_code=0,this.stat_desc=z}function K(I){return I<256?V[I]:V[256+(I>>>7)]}function re(I,z){I.pending_buf[I.pending++]=255&z,I.pending_buf[I.pending++]=z>>>8&255}function he(I,z,se){I.bi_valid>b-se?(I.bi_buf|=z<<I.bi_valid&65535,re(I,I.bi_buf),I.bi_buf=z>>b-I.bi_valid,I.bi_valid+=se-b):(I.bi_buf|=z<<I.bi_valid&65535,I.bi_valid+=se)}function ve(I,z,se){he(I,se[2*z],se[2*z+1])}function ue(I,z){for(var se=0;se|=1&I,I>>>=1,se<<=1,0<--z;);return se>>>1}function j(I,z,se){var ge,le,De=new Array(E+1),Pe=0;for(ge=1;ge<=E;ge++)De[ge]=Pe=Pe+se[ge-1]<<1;for(le=0;le<=z;le++){var Oe=I[2*le+1];Oe!==0&&(I[2*le]=ue(De[Oe]++,Oe))}}function F(I){var z;for(z=0;z<g;z++)I.dyn_ltree[2*z]=0;for(z=0;z<y;z++)I.dyn_dtree[2*z]=0;for(z=0;z<_;z++)I.bl_tree[2*z]=0;I.dyn_ltree[2*T]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function ce(I){8<I.bi_valid?re(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function ie(I,z,se,ge){var le=2*z,De=2*se;return I[le]<I[De]||I[le]===I[De]&&ge[z]<=ge[se]}function Y(I,z,se){for(var ge=I.heap[se],le=se<<1;le<=I.heap_len&&(le<I.heap_len&&ie(z,I.heap[le+1],I.heap[le],I.depth)&&le++,!ie(z,ge,I.heap[le],I.depth));)I.heap[se]=I.heap[le],se=le,le<<=1;I.heap[se]=ge}function te(I,z,se){var ge,le,De,Pe,Oe=0;if(I.last_lit!==0)for(;ge=I.pending_buf[I.d_buf+2*Oe]<<8|I.pending_buf[I.d_buf+2*Oe+1],le=I.pending_buf[I.l_buf+Oe],Oe++,ge===0?ve(I,le,z):(ve(I,(De=B[le])+p+1,z),(Pe=N[De])!==0&&he(I,le-=oe[De],Pe),ve(I,De=K(--ge),se),(Pe=O[De])!==0&&he(I,ge-=de[De],Pe)),Oe<I.last_lit;);ve(I,T,z)}function _e(I,z){var se,ge,le,De=z.dyn_tree,Pe=z.stat_desc.static_tree,Oe=z.stat_desc.has_stree,He=z.stat_desc.elems,Ge=-1;for(I.heap_len=0,I.heap_max=w,se=0;se<He;se++)De[2*se]!==0?(I.heap[++I.heap_len]=Ge=se,I.depth[se]=0):De[2*se+1]=0;for(;I.heap_len<2;)De[2*(le=I.heap[++I.heap_len]=Ge<2?++Ge:0)]=1,I.depth[le]=0,I.opt_len--,Oe&&(I.static_len-=Pe[2*le+1]);for(z.max_code=Ge,se=I.heap_len>>1;1<=se;se--)Y(I,De,se);for(le=He;se=I.heap[1],I.heap[1]=I.heap[I.heap_len--],Y(I,De,1),ge=I.heap[1],I.heap[--I.heap_max]=se,I.heap[--I.heap_max]=ge,De[2*le]=De[2*se]+De[2*ge],I.depth[le]=(I.depth[se]>=I.depth[ge]?I.depth[se]:I.depth[ge])+1,De[2*se+1]=De[2*ge+1]=le,I.heap[1]=le++,Y(I,De,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(it,Nt){var Zr,xn,Br,Kt,Jr,wr,Jn=Nt.dyn_tree,ei=Nt.max_code,qs=Nt.stat_desc.static_tree,ks=Nt.stat_desc.has_stree,Go=Nt.stat_desc.extra_bits,ti=Nt.stat_desc.extra_base,_r=Nt.stat_desc.max_length,Ri=0;for(Kt=0;Kt<=E;Kt++)it.bl_count[Kt]=0;for(Jn[2*it.heap[it.heap_max]+1]=0,Zr=it.heap_max+1;Zr<w;Zr++)_r<(Kt=Jn[2*Jn[2*(xn=it.heap[Zr])+1]+1]+1)&&(Kt=_r,Ri++),Jn[2*xn+1]=Kt,ei<xn||(it.bl_count[Kt]++,Jr=0,ti<=xn&&(Jr=Go[xn-ti]),wr=Jn[2*xn],it.opt_len+=wr*(Kt+Jr),ks&&(it.static_len+=wr*(qs[2*xn+1]+Jr)));if(Ri!==0){do{for(Kt=_r-1;it.bl_count[Kt]===0;)Kt--;it.bl_count[Kt]--,it.bl_count[Kt+1]+=2,it.bl_count[_r]--,Ri-=2}while(0<Ri);for(Kt=_r;Kt!==0;Kt--)for(xn=it.bl_count[Kt];xn!==0;)ei<(Br=it.heap[--Zr])||(Jn[2*Br+1]!==Kt&&(it.opt_len+=(Kt-Jn[2*Br+1])*Jn[2*Br],Jn[2*Br+1]=Kt),xn--)}}(I,z),j(De,Ge,I.bl_count)}function U(I,z,se){var ge,le,De=-1,Pe=z[1],Oe=0,He=7,Ge=4;for(Pe===0&&(He=138,Ge=3),z[2*(se+1)+1]=65535,ge=0;ge<=se;ge++)le=Pe,Pe=z[2*(ge+1)+1],++Oe<He&&le===Pe||(Oe<Ge?I.bl_tree[2*le]+=Oe:le!==0?(le!==De&&I.bl_tree[2*le]++,I.bl_tree[2*x]++):Oe<=10?I.bl_tree[2*D]++:I.bl_tree[2*P]++,De=le,Ge=(Oe=0)===Pe?(He=138,3):le===Pe?(He=6,3):(He=7,4))}function Se(I,z,se){var ge,le,De=-1,Pe=z[1],Oe=0,He=7,Ge=4;for(Pe===0&&(He=138,Ge=3),ge=0;ge<=se;ge++)if(le=Pe,Pe=z[2*(ge+1)+1],!(++Oe<He&&le===Pe)){if(Oe<Ge)for(;ve(I,le,I.bl_tree),--Oe!=0;);else le!==0?(le!==De&&(ve(I,le,I.bl_tree),Oe--),ve(I,x,I.bl_tree),he(I,Oe-3,2)):Oe<=10?(ve(I,D,I.bl_tree),he(I,Oe-3,3)):(ve(I,P,I.bl_tree),he(I,Oe-11,7));De=le,Ge=(Oe=0)===Pe?(He=138,3):le===Pe?(He=6,3):(He=7,4)}}u(de);var H=!1;function k(I,z,se,ge){he(I,(h<<1)+(ge?1:0),3),function(le,De,Pe,Oe){ce(le),re(le,Pe),re(le,~Pe),s.arraySet(le.pending_buf,le.window,De,Pe,le.pending),le.pending+=Pe}(I,z,se)}i._tr_init=function(I){H||(function(){var z,se,ge,le,De,Pe=new Array(E+1);for(le=ge=0;le<f-1;le++)for(oe[le]=ge,z=0;z<1<<N[le];z++)B[ge++]=le;for(B[ge-1]=le,le=De=0;le<16;le++)for(de[le]=De,z=0;z<1<<O[le];z++)V[De++]=le;for(De>>=7;le<y;le++)for(de[le]=De<<7,z=0;z<1<<O[le]-7;z++)V[256+De++]=le;for(se=0;se<=E;se++)Pe[se]=0;for(z=0;z<=143;)$[2*z+1]=8,z++,Pe[8]++;for(;z<=255;)$[2*z+1]=9,z++,Pe[9]++;for(;z<=279;)$[2*z+1]=7,z++,Pe[7]++;for(;z<=287;)$[2*z+1]=8,z++,Pe[8]++;for(j($,g+1,Pe),z=0;z<y;z++)M[2*z+1]=5,M[2*z]=ue(z,5);Q=new ee($,N,p+1,g,E),X=new ee(M,O,0,y,E),fe=new ee(new Array(0),C,0,_,A)}(),H=!0),I.l_desc=new J(I.dyn_ltree,Q),I.d_desc=new J(I.dyn_dtree,X),I.bl_desc=new J(I.bl_tree,fe),I.bi_buf=0,I.bi_valid=0,F(I)},i._tr_stored_block=k,i._tr_flush_block=function(I,z,se,ge){var le,De,Pe=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(Oe){var He,Ge=4093624447;for(He=0;He<=31;He++,Ge>>>=1)if(1&Ge&&Oe.dyn_ltree[2*He]!==0)return o;if(Oe.dyn_ltree[18]!==0||Oe.dyn_ltree[20]!==0||Oe.dyn_ltree[26]!==0)return l;for(He=32;He<p;He++)if(Oe.dyn_ltree[2*He]!==0)return l;return o}(I)),_e(I,I.l_desc),_e(I,I.d_desc),Pe=function(Oe){var He;for(U(Oe,Oe.dyn_ltree,Oe.l_desc.max_code),U(Oe,Oe.dyn_dtree,Oe.d_desc.max_code),_e(Oe,Oe.bl_desc),He=_-1;3<=He&&Oe.bl_tree[2*q[He]+1]===0;He--);return Oe.opt_len+=3*(He+1)+5+5+4,He}(I),le=I.opt_len+3+7>>>3,(De=I.static_len+3+7>>>3)<=le&&(le=De)):le=De=se+5,se+4<=le&&z!==-1?k(I,z,se,ge):I.strategy===4||De===le?(he(I,2+(ge?1:0),3),te(I,$,M)):(he(I,4+(ge?1:0),3),function(Oe,He,Ge,it){var Nt;for(he(Oe,He-257,5),he(Oe,Ge-1,5),he(Oe,it-4,4),Nt=0;Nt<it;Nt++)he(Oe,Oe.bl_tree[2*q[Nt]+1],3);Se(Oe,Oe.dyn_ltree,He-1),Se(Oe,Oe.dyn_dtree,Ge-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,Pe+1),te(I,I.dyn_ltree,I.dyn_dtree)),F(I),ge&&ce(I)},i._tr_tally=function(I,z,se){return I.pending_buf[I.d_buf+2*I.last_lit]=z>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&z,I.pending_buf[I.l_buf+I.last_lit]=255&se,I.last_lit++,z===0?I.dyn_ltree[2*se]++:(I.matches++,z--,I.dyn_ltree[2*(B[se]+p+1)]++,I.dyn_dtree[2*K(z)]++),I.last_lit===I.lit_bufsize-1},i._tr_align=function(I){he(I,2,3),ve(I,T,$),function(z){z.bi_valid===16?(re(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(o,l){if(!o.setImmediate){var u,h,f,p,g=1,y={},_=!1,w=o.document,E=Object.getPrototypeOf&&Object.getPrototypeOf(o);E=E&&E.setTimeout?E:o,u={}.toString.call(o.process)==="[object process]"?function(x){Ct.nextTick(function(){A(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,D=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=D,x}}()?(p="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",T,!1):o.attachEvent("onmessage",T),function(x){o.postMessage(p+x,"*")}):o.MessageChannel?((f=new MessageChannel).port1.onmessage=function(x){A(x.data)},function(x){f.port2.postMessage(x)}):w&&"onreadystatechange"in w.createElement("script")?(h=w.documentElement,function(x){var D=w.createElement("script");D.onreadystatechange=function(){A(x),D.onreadystatechange=null,h.removeChild(D),D=null},h.appendChild(D)}):function(x){setTimeout(A,0,x)},E.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var D=new Array(arguments.length-1),P=0;P<D.length;P++)D[P]=arguments[P+1];var N={callback:x,args:D};return y[g]=N,u(g),g++},E.clearImmediate=b}function b(x){delete y[x]}function A(x){if(_)setTimeout(A,0,x);else{var D=y[x];if(D){_=!0;try{(function(P){var N=P.callback,O=P.args;switch(O.length){case 0:N();break;case 1:N(O[0]);break;case 2:N(O[0],O[1]);break;case 3:N(O[0],O[1],O[2]);break;default:N.apply(l,O)}})(D)}finally{b(x),_=!1}}}}function T(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(p)===0&&A(+x.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(BE)),BE.exports}var Due=kue();const Iue=mF(Due);var ep={exports:{}},FE,J4;function Oue(){if(J4)return FE;J4=1;var r={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(n,i){return r[i]}):t}return FE=e,FE}var e6;function Nue(){if(e6)return ep.exports;e6=1;var r=Oue(),e=ZC().Stream,t="    ";function n(h,f){typeof f!="object"&&(f={indent:f});var p=f.stream?new e:null,g="",y=!1,_=f.indent?f.indent===!0?t:f.indent:"",w=!0;function E(D){w?Ct.nextTick(D):D()}function b(D,P){if(P!==void 0&&(g+=P),D&&!y&&(p=p||new e,y=!0),D&&y){var N=g;E(function(){p.emit("data",N)}),g=""}}function A(D,P){l(b,o(D,_,_?1:0),P)}function T(){if(p){var D=g;E(function(){p.emit("data",D),p.emit("end"),p.readable=!1,p.emit("close")})}}function x(D){var P=D.encoding||"UTF-8",N={version:"1.0",encoding:P};D.standalone&&(N.standalone=D.standalone),A({"?xml":{_attr:N}}),g=g.replace("/>","?>")}return E(function(){w=!1}),f.declaration&&x(f.declaration),h&&h.forEach?h.forEach(function(D,P){var N;P+1===h.length&&(N=T),A(D,N)}):A(h,T),p?(p.readable=!0,p):g}function i(){var h=Array.prototype.slice.call(arguments),f={_elem:o(h)};return f.push=function(p){if(!this.append)throw new Error("not assigned to a parent!");var g=this,y=this._elem.indent;l(this.append,o(p,y,this._elem.icount+(y?1:0)),function(){g.append(!0)})},f.close=function(p){p!==void 0&&this.push(p),this.end&&this.end()},f}function s(h,f){return new Array(f||0).join(h||"")}function o(h,f,p){p=p||0;var g=s(f,p),y,_=h,w=!1;if(typeof h=="object"){var E=Object.keys(h);if(y=E[0],_=h[y],_&&_._elem)return _._elem.name=y,_._elem.icount=p,_._elem.indent=f,_._elem.indents=g,_._elem.interrupt=_,_._elem}var b=[],A=[],T;function x(D){var P=Object.keys(D);P.forEach(function(N){b.push(u(N,D[N]))})}switch(typeof _){case"object":if(_===null)break;_._attr&&x(_._attr),_._cdata&&A.push(("<![CDATA["+_._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),_.forEach&&(T=!1,A.push(""),_.forEach(function(D){if(typeof D=="object"){var P=Object.keys(D)[0];P=="_attr"?x(D._attr):A.push(o(D,f,p+1))}else A.pop(),T=!0,A.push(r(D))}),T||A.push(""));break;default:A.push(r(_))}return{name:y,interrupt:w,attributes:b,content:A,icount:p,indents:g,indent:f}}function l(h,f,p){if(typeof f!="object")return h(!1,f);var g=f.interrupt?1:f.content.length;function y(){for(;f.content.length;){var w=f.content.shift();if(w!==void 0){if(_(w))return;l(h,w)}}h(!1,(g>1?f.indents:"")+(f.name?"</"+f.name+">":"")+(f.indent&&!p?`
`:"")),p&&p()}function _(w){return w.interrupt?(w.interrupt.append=h,w.interrupt.end=y,w.interrupt=!1,h(!0),!0):!1}if(h(!1,f.indents+(f.name?"<"+f.name:"")+(f.attributes.length?" "+f.attributes.join(" "):"")+(g?f.name?">":"":f.name?"/>":"")+(f.indent&&g>1?`
`:"")),!g)return h(!1,f.indent?`
`:"");_(f)||y()}function u(h,f){return h+'="'+r(f)+'"'}return ep.exports=n,ep.exports.element=ep.exports.Element=i,ep.exports}var Mue=Nue();const In=mF(Mue),tp=0,VE=32,Pue=32,Lue=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==Pue)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(u=>parseInt(u,16));i.reverse();const o=r.slice(tp,VE).map((u,h)=>u^i[h%i.length]),l=new Uint8Array(tp+o.length+Math.max(0,r.length-VE));return l.set(r.slice(0,tp)),l.set(o,tp),l.set(r.slice(VE),tp+o.length),l};class Bue{format(e,t={stack:[]}){const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class Fue{replace(e,t,n){let i=e;return t.forEach((s,o)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+o).toString())}),i}getMediaData(e,t){return t.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class Vue{replace(e,t){let n=e;for(const i of t)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class Uue{constructor(){Be(this,"formatter"),Be(this,"imageReplacer"),Be(this,"numberingReplacer"),this.formatter=new Bue,this.imageReplacer=new Fue,this.numberingReplacer=new Vue}compile(e,t,n=[]){const i=new Iue,s=this.xmlifyFile(e,t),o=new Map(Object.entries(s));for(const[,l]of o)if(Array.isArray(l))for(const u of l)i.file(u.path,u.data);else i.file(l.path,l.data);for(const l of n)i.file(l.path,l.data);for(const l of e.Media.Array)l.type!=="svg"?i.file(`word/media/${l.fileName}`,l.data):(i.file(`word/media/${l.fileName}`,l.data),i.file(`word/media/${l.fallback.fileName}`,l.fallback.data));for(const{data:l,name:u,fontKey:h}of e.FontTable.fontOptionsWithKey){const[f]=u.split(".");i.file(`word/fonts/${f}.odttf`,Lue(l,h))}return i}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,i=In(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,o=In(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),l=this.imageReplacer.getMediaData(i,e.Media),u=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(l.forEach((h,f)=>{e.Document.Relationships.createRelationship(n+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),In(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(i,l,n);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=In(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:In(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:In(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:In(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,_)=>{h.Relationships.createRelationship(_,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:In(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${f+1}.xml.rels`}}),FooterRelationships:e.Footers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(p,e.Media).forEach((y,_)=>{h.Relationships.createRelationship(_,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:In(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${f+1}.xml.rels`}}),Headers:e.Headers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${f+1}.xml`}}),Footers:e.Footers.map((h,f)=>{const p=In(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(p,e.Media),y=this.imageReplacer.replace(p,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${f+1}.xml`}}),ContentTypes:{data:In(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:In(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:In(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:In(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:In(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:In(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(o,u,s);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(u.forEach((h,f)=>{e.Comments.Relationships.createRelationship(s+f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),In(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:In(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:In(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const zue={WITH_2_BLANKS:"  "},t6=r=>r===!0?zue.WITH_2_BLANKS:r===!1?void 0:r,ZF=class Ch{static pack(e,t,n){return gse(this,arguments,function*(i,s,o,l=[]){return this.compiler.compile(i,t6(o),l).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,n=[]){return Ch.pack(e,"string",t,n)}static toBuffer(e,t,n=[]){return Ch.pack(e,"nodebuffer",t,n)}static toBase64String(e,t,n=[]){return Ch.pack(e,"base64",t,n)}static toBlob(e,t,n=[]){return Ch.pack(e,"blob",t,n)}static toArrayBuffer(e,t,n=[]){return Ch.pack(e,"arraybuffer",t,n)}static toStream(e,t,n=[]){const i=new Rue.Stream;return this.compiler.compile(e,t6(t),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{i.emit("data",o),i.emit("end")}),i}};Be(ZF,"compiler",new Uue);let jue=ZF;var P0={exports:{}},Hue=P0.exports,n6;function que(){return n6||(n6=1,function(r,e){(function(t,n){n()})(Hue,function(){function t(h,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(h.type)?new Blob(["\uFEFF",h],{type:h.type}):h}function n(h,f,p){var g=new XMLHttpRequest;g.open("GET",h),g.responseType="blob",g.onload=function(){u(g.response,f,p)},g.onerror=function(){console.error("could not download file")},g.send()}function i(h){var f=new XMLHttpRequest;f.open("HEAD",h,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(h){try{h.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),h.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof cy=="object"&&cy.global===cy?cy:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(h,f,p){var g=o.URL||o.webkitURL,y=document.createElement("a");f=f||h.name||"download",y.download=f,y.rel="noopener",typeof h=="string"?(y.href=h,y.origin===location.origin?s(y):i(y.href)?n(h,f,p):s(y,y.target="_blank")):(y.href=g.createObjectURL(h),setTimeout(function(){g.revokeObjectURL(y.href)},4e4),setTimeout(function(){s(y)},0))}:"msSaveOrOpenBlob"in navigator?function(h,f,p){if(f=f||h.name||"download",typeof h!="string")navigator.msSaveOrOpenBlob(t(h,p),f);else if(i(h))n(h,f,p);else{var g=document.createElement("a");g.href=h,g.target="_blank",setTimeout(function(){s(g)})}}:function(h,f,p,g){if(g=g||open("","_blank"),g&&(g.document.title=g.document.body.innerText="downloading..."),typeof h=="string")return n(h,f,p);var y=h.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,w=/CriOS\/[\d]+/.test(navigator.userAgent);if((w||y&&_||l)&&typeof FileReader<"u"){var E=new FileReader;E.onloadend=function(){var T=E.result;T=w?T:T.replace(/^data:[^;]*;/,"data:attachment/file;"),g?g.location.href=T:location=T,g=null},E.readAsDataURL(h)}else{var b=o.URL||o.webkitURL,A=b.createObjectURL(h);g?g.location=A:location.href=A,g=null,setTimeout(function(){b.revokeObjectURL(A)},4e4)}});o.saveAs=u.saveAs=u,r.exports=u})}(P0)),P0.exports}var Wue=que();function Gue(){const r=me.useRef(null),e=me.useRef(null),t=Lf();let n=mr(F=>F.noted.Folders);const[i,s]=me.useState(!1),[o,l]=me.useState(!1),[u,h]=me.useState(""),[f,p]=me.useState(!1),[g,y]=me.useState(""),[_,w]=me.useState(!1),[E,b]=me.useState(""),[A,T]=me.useState(null),x=me.useRef(null),D=me.useRef(null),P=me.useRef(null),[N,O]=me.useState(null),C=mr(F=>F.noted.editbar),q=mr(F=>F.noted.selectednote),$=mr(F=>F.noted.selectedfolderid),M=mr(F=>F.noted.logined),V=n?.find(F=>F.id==$),[B,oe]=me.useState(),[Q,X]=me.useState(""),fe=xc(),[de,ee]=me.useState(q?.notecontent),[J,K]=me.useState(q?.notename||""),[re,he]=me.useState(q?.notecontent.length||0);me.useEffect(()=>{n?.length&&fe(r$(n))},[o]),me.useEffect(()=>{C==!1&&l(!1)},[C]),rm(()=>{let F=xa.timeline();F.to(".slider",{x:0,duration:2,delay:.8,ease:"elastic.out"}),F.to(".slider",{x:0,y:3,duration:2,delay:.1,ease:"bounce.out",fontSize:"10vmin"}),F.to(".slider1",{fontSize:"8vmin"}),F.from(".blink",{delay:.5,yPercent:100,opacity:0,ease:"circ",duration:2}),F.play()}),rm(()=>{C==!0?xa.to(x.current,{duration:1,x:0,ease:"power4.out"}):xa.to(x.current,{duration:1,x:"-100%",ease:"power4.in"})},[C]),me.useEffect(()=>{s(!1),r.current.value="TXT",X(q?.notetitle||""),he(q?.notecontent.length||0),K(q?.note_name||""),ee(q?.notecontent||"")},[q]);const ve=F=>{const ce=F.target.value;X(ce),fe(Sx({id:q?.id,folid:V?.id,prop:{notetitle:ce}}))},ue=F=>{he(F.length),fe(Sx({id:q?.id,folid:V?.id,prop:{notecontent:F}}))},j=async(F,ce,ie)=>{if(q){if(A=="TXT"){const Y=`Title:-${ce||"Untitled"}

Note Content:-
${ie||"No content wriiten in note!!"}`,te=new Blob([Y],{type:"text/plain"}),_e=URL.createObjectURL(te),U=document.createElement("a");U.href=_e,U.download=`${F}.txt`,document.body.appendChild(U),U.click(),document.body.removeChild(U),URL.revokeObjectURL(_e)}else if(A=="DOCX"){const Y=de.split(`
`).map(_e=>new ec({text:String(_e),size:32,bold:!0})),te=new Cue({sections:[{properties:{},children:[new ec({children:[new Pp({text:"Note Title:-",bold:!0,size:32,underline:!0})]}),new ec({children:[new Pp({text:String(ce||"Untitled"),bold:!0,size:30})]}),new ec({children:[new Pp({text:"Note Content:-",size:30,underline:!0,bold:!0})]}),...Y]}]});jue.toBlob(te).then(_e=>{Wue.saveAs(_e,`${F}.docx`)})}}};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{ref:x,className:`edit  fixed w-[50vw]  h-[90vh] b-0 z-50 bg-black top-[9.5%] bottom-0 border-4
     border-orange-500 rounded-b-sm border-l-0 flex translate-x-[-100%]
    flex-row ${M?"":"hidden"} `,children:[ae.jsxs("div",{className:"w-[50%] h-[100%] flex justify-center flex-col items-center bg-black border-r-2  border-orange-500 ",children:[ae.jsxs("span",{className:"fold w-[100%] h-[8%] flex items-center  justify-start pl-1  ",children:[ae.jsx("img",{src:Hx,className:"w-[7vmin] h-[7vmin]  mb-1",alt:""}),ae.jsx("h1",{className:"flex text-center text-[5vmin] text-orange-500  w-[50%] font-semibold font-mono justify-left items-center ",children:"Folders"}),ae.jsxs("span",{className:" flex b w-[50%] justify-center items-center gap-[9%] h-[100%]",children:[ae.jsx("img",{src:xl,className:`w-[4vmin] h-[4vmin]  rotate-45 duration-200 ${o?"rotate-90":"rotate-45"}`,alt:"",onClick:()=>{p(!1),l(F=>!F),o==!0&&h("")}}),ae.jsx("img",{src:`${f?xl:Ky}`,className:"w-[4vmin] h-[4vmin]  duration-200 ",alt:"",onClick:()=>{l(!1),p(F=>!F),f==!0&&y("")}})]})]}),ae.jsxs("span",{className:`flex w-[100%] h-[4%] pt-2 justify-center  items-center duration-400 mb-2 pl-2 ${o?"":"hidden"}  `,children:[ae.jsx("img",{src:Qb,value:u,className:"w-[5vmin] h-[5vmin]",alt:""}),ae.jsx("input",{type:"text",value:u,className:`w-[50%] text-orange-500 outline-none border-0 border-b-4 bg-transparent ${o?"":"hidden"} text-[3vmin] `,placeholder:"Give a name..",onChange:F=>h(F.target.value),onKeyDown:F=>{F.key==="Enter"&&(fe(lO({name:u})),l(!1),h(""))}}),ae.jsx("button",{className:"text-[3vmin] p-0.5 px-1 bg-orange-600 ml-1 border-2 rounded-lg",onClick:()=>{u!=""?(fe(lO({name:u})),l(!1),h("")):alert("Folder name is empty...")},children:"Add"})]}),ae.jsxs("span",{className:`flex w-[100%] justify-start ml-2  items-center duration-400 ${f?"":"hidden"}  pl-2`,children:[ae.jsx("img",{src:Ky,className:"w-[5vmin] h-[5vmin] mr-1"}),ae.jsx("input",{type:"text",value:g,className:"w-[70%] text-orange-500 outline-none border-0 border-b-4 bg-transparent text-[3vmin] ",placeholder:"Enter folder name... ",onChange:F=>y(F.target.value),onKeyDown:F=>{F.key=="Enter"&&(p(!1),y(""))}})]}),ae.jsx("div",{className:`folders h-[100%] w-[100%] pl-[0.5vmin]  flex-col gap-[1.5%] overflow-y-auto overflow-x-hidden scrollbar-hide flex
     justify-start items-center`,ref:P,children:n?.map((F,ce)=>ae.jsx(WQ,{fold:F,ind:ce,fol_ser:`fol${ce}`,set1:l,searchmsg:g},F.id))})]}),ae.jsxs("div",{className:`relative w-[50%] duration-400 h-[100%] flex flex-col items-center bg-black ${V??"hidden"}}`,children:[ae.jsxs("span",{className:"nold w-[100%] h-[5%] flex items-center pt-2  justify-start  pl-0.5 mb-2 mt-0.5",children:[ae.jsx("img",{src:S0,className:"w-[6vmin] h-[6vmin] ",alt:""}),ae.jsx("h1",{className:"flex text-center text-[5vmin] text-orange-500   font-semibold font-mono justify-left items-center ",children:"Notes"}),ae.jsx("img",{src:`${_?xl:Ky}`,className:`w-[4vmin]   duration-400 ml-10 ${V??"hidden"}`,alt:"",onClick:()=>{w(F=>!F),f==!0&&b("")}})]}),ae.jsxs("span",{className:`flex w-[100%] bg-red justify-start ml-5 pb-2 items-center duration-400 ${_?"":"hidden"}  `,children:[ae.jsx("img",{src:Ky,className:"w-[4vmin] h-[4vmin] "}),ae.jsx("input",{type:"text",value:E,className:"w-[60%] text-orange-500 outline-none border-0 border-b-4 bg-transparent text-[3vmin] ",placeholder:"Enter note name...",onChange:F=>b(F.target.value),onKeyDown:F=>{F.key=="Enter"&&w(!1)}})]}),ae.jsxs("span",{className:"infobox ml-4 w-[100%] flex  items-center h-[4%] justify-center gap-[2%] ",ref:D,children:[ae.jsx("img",{src:Qb,className:`w-[4vmin] h-[4vmin] grid place-items-center  ${V??"hidden"}`,alt:""}),ae.jsx("h2",{className:`text-white text-[2vmin] h-[100%] w-[30%]  text-left grid place-items-center $ ${V??"hidden"}`,children:V?.folname}),ae.jsxs("h2",{className:`text-orange font-semibold  text-[2vmin]  w-[100%] h-[100%] grid place-items-center   ${V??"hidden"}`,children:["Total Notes-",V?.notes?.length]})]}),ae.jsxs("div",{className:`h-[100%]  w-[100%]   flex flex-col gap-[1%]  overflow-x-hidden text-center justify-start items-center 
         ${V??""}`,ref:D,children:[ae.jsx("h1",{className:`text-[5vmin] text-orange-500 font-semibold  w-[100%] text-center  duration-200 ${V?.folname?"hidden":""}`,children:"Choose a folder..."}),ae.jsx("h1",{className:`text-[5vmin] text-orange-500 font-semibold   duration-200 ${V?.notes?.length==0?"":"hidden"}`,children:"Create a Note..."}),ae.jsx("div",{className:`notes  h-[100%]    w-[100%]   flex flex-col  items-start gap-[1.5%] overflow-y-auto scrollbar-hide overflow-x-hidden
         text-center`,children:V?.notes?.map((F,ce)=>ae.jsx(qQ,{not:F,items:{folders:n},noten:K,index1:ce,set:O,searchmsg_note:E,onClick:()=>fe(Ls(F))},F.id))})]}),ae.jsx("button",{ref:x,className:`absolute top-[5%] left-[100%] w-[7vmin] z-[1] y-[7vmin] bg-black outline-none rouned-none rounded-r-[20%]
      border-4 border-orange-500 border-l-0`,onClick:()=>{fe(j3()),fe(m0(!1))},children:ae.jsx("img",{src:use,alt:"",className:` duration-200 ${C?"rotate-0":"rotate-180"}`})})]})]}),ae.jsxs("div",{className:`h absolute top-[7%] z-[1]   h-[110vh] gap-1 w-[100vw] flex   justify-start items-center  flex-col ${M?"hidden":""}`,children:[ae.jsxs("div",{className:" w-[100%] h-[50%] flex flex-col items-center justify-start gap-2  py-1",children:[ae.jsxs("h1",{className:`slider text-white text-[15vmin] pt-1 w-[100%] text-center mt-2 font-semibold translate-x-[-100%]
       translate-y-[90%]`,children:["Welcome to",ae.jsx("span",{className:" text-white font-serif ",children:" My"}),ae.jsx("span",{className:"slider1 text-orange-500 text-[15vmin]  font-mono",children:"Note"})]}),ae.jsx("p",{className:"blink  info1 text-white text-[5vmin] w-[50%] text-center font-serif  ",children:"Your personal space to save ,edit and organize your thoughts securely and safely..."}),ae.jsx("button",{className:"blink  text-[5vmin] border-[1.2vmin]      border-white p-2 text-white bg-orange-500 rounded-xl hover:bg-orange-700",onClick:()=>{t("/login")},children:"Get Started"})]}),ae.jsxs("div",{className:"infobar blink  z-[-1]  w-[100%] h-[50%]  gap-4 flex items-start justify-center   pt-5",children:[ae.jsxs("div",{className:"blink a w-[100%] gap-[1rem] text-center  h-[20%] flex items-center justify-start flex-col ",children:[ae.jsx("span",{className:"w-[100%] h-[10%]  text-[6.5vmin] text-white  flex items-center justify-center flex-row",children:ae.jsxs("span",{className:"flex justify-center items-center h-[20%] font-bold",children:[ae.jsx("img",{src:S0,alt:"",className:"w-[7vmin]"}),"New Notes"]})}),ae.jsx("p",{className:"  p text-white text-[3.5vmin]  w-[90%] text-center font-mono",children:"Write down anything instantly,with diffrent styling.By organizing notes efficiently..."})]}),ae.jsxs("div",{className:"blink a w-[100%] text-center gap-[1rem]  h-[20%] flex items-center justify-start flex-col",children:[ae.jsxs("span",{className:"a w-[100%] h-[10%] gap-1 text-[6.5vmin] text-white font-bold  flex items-center justify-center flex-row",children:[ae.jsx("img",{src:Hx,alt:"",className:"w-[7.2vmin] "}),ae.jsx("span",{className:"",children:"Sort Easily"})]}),ae.jsx("p",{className:"blink p text-white text-[3.5vmin]  w-[90%] text-center font-mono",children:"Sort your Notes with tags and folders,search instantly and keep everything neat and accessible..."})]}),ae.jsxs("div",{className:"blink a  w-[100%] text-center gap-[1rem] h-[20%] flex items-center justify-start flex-col",children:[ae.jsxs("span",{className:"w-[100%] h-[10%]  text-[6.5vmin] text-white font-bold flex items-center justify-center flex-row",children:[ae.jsx("img",{src:cse,alt:"",className:"w-[7vmin]"}),ae.jsx("span",{children:"Edit Notes"})]}),ae.jsx("p",{className:"p text-white text-[3.5vmin]  w-[85%] text-center font-mono",children:"Keep your notes fresh by editing them whenever inspiration strikes..."})]})]})]}),ae.jsxs("div",{className:`absolute  top-[7%] z-[1] h-[100%]   w-[100vw] flex  flex-col justify-start items-center 
      ${M?"":"hidden"}`,children:[ae.jsxs("span",{className:` h-[80vh] w-[100%] px-4 flex justify-center items-center ${q?"hidden":""}`,children:[ae.jsx("img",{src:S0,alt:"",width:"60vmin",height:"80vmin"}),ae.jsx("h1",{className:"text-[7vmin] font-semibold duration-200 text-center pr-1",children:"No note selected. Start by picking or creating one!"})]}),ae.jsx("div",{className:`absolute  z-[30] bg-gray-500 bg-opacity-70 grid place-items-center   w-[100vw] h-[100vh] ${i?"":"hidden"}`,children:ae.jsxs("div",{className:"relative w-[15rem] rounded-lg h-64 bg-black border-4 flex  flex-col items-center justify-center gap-2",children:[ae.jsx("img",{src:xl,alt:"",className:"absolute w-7  top-3 right-3 ",onClick:()=>{s(!1),r.current.value="TXT"}}),ae.jsx("label",{htmlFor:"select",className:"  text-white font-bold text-lg w-[90%] text-center",children:"Select a format"}),ae.jsxs("select",{onChange:F=>T(F.target.value),ref:r,name:"",id:"s",className:"w-[80%] h-[20%] text-md font-semibold rounded-md border-[0.1rem] border-gray-500 bg-gray-900",children:[ae.jsx("option",{value:"DOCX",children:"DOCX"}),ae.jsx("option",{value:"TXT",selected:!0,children:"TXT"})]}),ae.jsx("button",{className:"w-[80%] font-semibold bg-orange-600 py-2 text-white rounded-md brightness-150 text-md",onClick:()=>{j(J,Q,de)},children:"Download"}),ae.jsxs("h1",{className:"text-white text-md font-semibold",children:["Selcted format : ",A]}),ae.jsxs("h1",{className:"text-white text-md font-semibold",children:["File : ",J,".",A?.toLocaleLowerCase()]})]})}),ae.jsxs("div",{className:`infopanel h-[20%] w-[100%] z-[20] flex flex-col justify-center  items-center pl-[6.5%] ${q?"":"hidden"}
       ${V?.notes.length==0?"hidden":""} `,children:[ae.jsxs("span",{className:"flex w-full h-[20%] mt-2   items-center justify-start  font-bold text-[3.5vmin]",children:[ae.jsx("img",{src:Qb,alt:"",className:"w-[3.7vmin]"}),ae.jsx("h5",{className:"mx-1 ",children:V?.folname}),ae.jsx("h5",{className:"text-orange-600 mx-1",children:"\\"}),ae.jsx("img",{src:pC,alt:"",className:"w-[3.7vmin]"}),ae.jsxs("h5",{className:"",children:[" ",q?.note_name]})]}),ae.jsxs("span",{className:"h-[40%] w-[100%]  flex justify-start items-center ",children:[ae.jsx("input",{type:"text",value:Q,className:`outline-none border-0 text-[6.2vmin] mt-1 
         bg-transparent h-[100%] text-left  text-orange-500 w-[70%] `,onChange:ve,placeholder:"Give a title.."}),ae.jsx("button",{onClick:()=>{s(!0),T("TXT")},className:"text-[4vmin] text-center border-orange-500 px-2 py-2  border-2 rounded-lg text-orange-500 font-semibold ",children:"Dowload"})]}),ae.jsxs("span",{className:"flex w-[100%] h-[10%] mt-1 justify-start items-center gap-5 flex-row   text-[3vmin] ",children:[ae.jsxs("h5",{className:" w-50 font-bold",children:["Created - ",q?.time]}),ae.jsxs("h5",{className:" w-50 text-center font-bold",children:["Total characters:",re]})]})]}),ae.jsx("div",{className:`w-[100%] h-[80%]  border-t-4 border-t-orange-600 border-b-4 border-b-orange-600 ${q?"":"hidden"}`,children:ae.jsx("textarea",{ref:e,placeholder:"Write note content hear.....",value:de||"",onChange:F=>{ee(F.target.value),ue(F.target.value)},className:`shadow-lg text-[3vmin] w-[100vw] h-[100%]  bg-gray-900 overflow-y-auto p-5  outline-none  
         ${q?"":"hidden"} scrollbar-hide bottom-0`})})]})]})}function Kue(){return ae.jsx("div",{className:"absolute    h-[100vh] w-[100vw]  flex justify-center items-center  flex-col sm:pt-0 ",children:ae.jsx("div",{className:"max-w-6xl mx-auto sm:px-6 h-[80%] lg:px-8  rounded-lg",children:ae.jsx("div",{className:"mt-5 overflow-hidden",children:ae.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 ",children:[ae.jsxs("div",{className:"p1 p-6  bg-orange-500 sm:rounded-l-lg border-4 w-[100%]  ",children:[ae.jsx("h1",{className:"text-3xl sm:text-4xl text-gray-800 font-extrabold tracking-tight",children:"Get in touch:"}),ae.jsx("p",{className:"text-normal text-lg sm:text-xl font-medium text-gray-900 mt-2",children:"Fill in the form to start a conversation"}),ae.jsxs("div",{className:"flex items-center mt-8 text-black ",children:[ae.jsxs("svg",{fill:"none",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",className:"w-8 h-8 text-gray-700",children:[ae.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),ae.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),ae.jsx("div",{className:"ml-4 text-md tracking-wide font-semibold w-40 text-white",children:"Bhubaneswar,odisha,india"})]}),ae.jsxs("div",{className:"flex items-center mt-4 text-gray-700",children:[ae.jsx("svg",{fill:"none",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",className:"w-8 h-8 text-gray-500",children:ae.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),ae.jsx("div",{className:"ml-4 text-md tracking-wide font-semibold w-40 text-white",children:"+919337732649"})]}),ae.jsxs("div",{className:"flex items-center mt-2 text-gray-700",children:[ae.jsx("svg",{fill:"none",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",viewBox:"0 0 24 24",className:"w-8 h-8 text-gray-700",children:ae.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),ae.jsx("div",{className:"ml-4 text-md tracking-wide font-semibold w-40 text-white",children:"ankitmuna123@gmail.com"})]})]}),ae.jsxs("form",{className:"p2 p-6 sm:rounded-r-lg flex flex-col justify-center items-center bg-orange-500  border-4 ",children:[ae.jsxs("div",{className:"flex flex-col w-[100%] ",children:[ae.jsx("label",{for:"name",className:"hidden",children:"Full Name"}),ae.jsx("input",{type:"name",name:"name",id:"name",placeholder:"Full Name",className:"w-100 mt-2 py-3 px-3 rounded-lg bg-white border-4 border-transparent  text-gray-800 font-semibold focus:border-yellow-500 focus:outline-none"})]}),ae.jsxs("div",{className:"flex flex-col mt-2 w-[100%]",children:[ae.jsx("label",{for:"email",className:"hidden",children:"Email"}),ae.jsx("input",{type:"email",name:"email",id:"email",placeholder:"Email",className:"w-100 mt-2 py-3 px-3 rounded-lg bg-white border-4 border-transparent text-gray-800 font-semibold focus:border-yellow-500 focus:outline-none"})]}),ae.jsxs("div",{className:"flex flex-col mt-2 w-[100%]",children:[ae.jsx("label",{for:"tel",className:"hidden",children:"Number"}),ae.jsx("input",{type:"tel",name:"tel",id:"tel",placeholder:"Telephone Number",className:"w-100 mt-2 py-3 px-3 rounded-lg bg-white border-4 border-transparent text-gray-800 font-semibold focus:border-yellow-500 focus:outline-none"})]}),ae.jsx("button",{type:"submit",className:"md:w-32 border-4  bg-orange-600 hover:bg-blue-dark text-white font-bold py-3 px-6 rounded-lg mt-3 hover:bg-orange-700 transition ease-in-out duration-300",children:"Submit"})]})]})})})})}const $ue=tX(IY(ae.jsxs(xh,{path:"/",element:ae.jsx(PQ,{}),children:[ae.jsx(xh,{path:"/",element:ae.jsx(Gue,{})}),ae.jsx(xh,{path:"/login",element:ae.jsx(jQ,{})}),ae.jsx(xh,{path:"/signup",element:ae.jsx(HQ,{})}),ae.jsx(xh,{path:"/contact",element:ae.jsx(Kue,{})})]})),{basename:"/Note_App-react/"});UQ.createRoot(document.getElementById("root")).render(ae.jsx(GK,{store:zQ,children:ae.jsx(pX,{router:$ue})}));
